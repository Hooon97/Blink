(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(292)},function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";(function(e,r,o,i){n.d(t,"a",function(){return xe}),n.d(t,"b",function(){return je}),n.d(t,"c",function(){return uu}),n.d(t,"d",function(){return mc}),n.d(t,"e",function(){return Qs}),n.d(t,"f",function(){return id}),n.d(t,"g",function(){return ms}),n.d(t,"h",function(){return Rn}),n.d(t,"i",function(){return Xu}),n.d(t,"j",function(){return Zu}),n.d(t,"k",function(){return du}),n.d(t,"l",function(){return ws}),n.d(t,"m",function(){return Qn}),n.d(t,"n",function(){return En}),n.d(t,"o",function(){return Ml}),n.d(t,"p",function(){return nd}),n.d(t,"q",function(){return ic}),n.d(t,"r",function(){return _c}),n.d(t,"s",function(){return vc}),n.d(t,"t",function(){return Ou}),n.d(t,"u",function(){return ks}),n.d(t,"v",function(){return nr}),n.d(t,"w",function(){return Vc}),n.d(t,"x",function(){return fr}),n.d(t,"y",function(){return mn}),n.d(t,"z",function(){return nc}),n.d(t,"A",function(){return Ts}),n.d(t,"B",function(){return wc}),n.d(t,"C",function(){return Ec}),n.d(t,"D",function(){return Lr}),n.d(t,"E",function(){return hr}),n.d(t,"F",function(){return Ru}),n.d(t,"G",function(){return hn}),n.d(t,"H",function(){return gn}),n.d(t,"I",function(){return yn}),n.d(t,"J",function(){return bn}),n.d(t,"K",function(){return wn}),n.d(t,"L",function(){return Gt}),n.d(t,"M",function(){return vr}),n.d(t,"N",function(){return zc}),n.d(t,"O",function(){return gr}),n.d(t,"P",function(){return On});var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function u(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})}function c(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var l=function(){function e(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return e.prototype.setPlatform=function(e,t){null!=this.platform&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+t+"."),this.platformName=e,this.platform=t},e.prototype.registerFlag=function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];console.warn("Setting feature override from URL "+e+": "+r+"."),this.set(e,r)}},e.prototype.get=function(e){return e in this.flags?this.flags[e]:(this.flags[e]=this.evaluateFlag(e),this.flags[e])},e.prototype.getNumber=function(e){return this.get(e)},e.prototype.getBool=function(e){return this.get(e)},e.prototype.getFlags=function(){return this.flags},Object.defineProperty(e.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag "+e+" as it has not been registered.");this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)},e.prototype.evaluateFlag=function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '"+e+"': no evaluation function found.");return this.flagRegistry[e].evaluationFn()},e.prototype.setFlags=function(e){this.flags=Object.assign({},e)},e.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},e.prototype.populateURLFlags=function(){var e=this;if(void 0!==this.global&&void 0!==this.global.location&&void 0!==this.global.location.search){var t,n,r=(t=this.global.location.search,n={},t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(n,t[0],t[1]),t.join("=")}),n);"tfjsflags"in r&&r.tfjsflags.split(",").forEach(function(t){var n=t.split(":"),r=n[0],o=n[1];e.urlFlags[r]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error("Could not parse value flag value "+t+" for flag "+e+".")}(r,o)})}},e}();function f(){return d}var d=null,p=new Map,h=new Map;function v(e,t){var n=b(e,t);return p.get(n)}function m(e){for(var t=p.entries(),n=[];;){var r=t.next(),o=r.done,i=r.value;if(o)break;var a=i[0],s=i[1];a.split("_")[0]===e&&n.push(s)}return n}function g(e){var t=e.kernelName,n=e.backendName,r=b(t,n);if(p.has(r))throw new Error("The kernel '"+t+"' for backend '"+n+"' is already registered");p.set(r,e)}function y(e){var t=e.kernelName;h.has(t)&&console.warn("Overriding the gradient for '"+t+"'"),h.set(t,e)}function b(e,t){return t+"_"+e}function w(e){for(var t=e.length,n=0,r=0;t>0;)r=Math.random()*t|0,n=e[--t],e[t]=e[r],e[r]=n}function x(e,t,n){return Math.max(e,Math.min(t,n))}function O(e){return e%2==0?e:e+1}function E(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function S(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function C(e,t,n){void 0===n&&(n=""),S(P(e,t),function(){return n+" Shapes "+e+" and "+t+" must match"})}function k(e){S(null!=e,function(){return"The input to the tensor constructor must be a non-null value."})}function R(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=!1),null==t&&(t=[]),Array.isArray(e)||z(e)&&!n)for(var r=0;r<e.length;++r)R(e[r],t,n);else t.push(e);return t}function j(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function P(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function T(e){return e%1==0}function _(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function I(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function A(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function N(e,t,n){return void 0===t&&(t=function(e){return 0}),new Promise(function(r,o){var i=0;!function a(){if(e())r();else{var s=t(++i);null!=n&&i>=n?o():setTimeout(a,s)}}()})}function M(e,t){for(var n=1,r=-1,o=0;o<e.length;++o)if(e[o]>=0)n*=e[o];else if(-1===e[o]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+o);r=o}else if(e[o]<0)throw Error("Shapes can not be < 0. Found "+e[o]+" at dim "+o);if(-1===r){if(t>0&&t!==n)throw Error("Size("+t+") must match the product of shape "+e);return e}if(0===n)throw Error("Cannot infer the missing size in ["+e+"] when there are 0 elements");if(t%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+t+" / "+n);var i=e.slice();return i[r]=t/n,i}function D(e,t){var n=t.length;return S((e=null==e?t.map(function(e,t){return t}):[].concat(e)).every(function(e){return e>=-n&&e<n}),function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+e}),S(e.every(function(e){return T(e)}),function(){return"All values in axis param must be integers but got axis "+e}),e.map(function(e){return e<0?n+e:e})}function L(e,t){for(var n=[],r=[],o=null!=t&&Array.isArray(t)&&0===t.length,i=null==t||o?null:D(t,e).sort(),a=0,s=0;s<e.length;++s){if(null!=i){if(i[a]===s&&1!==e[s])throw new Error("Can't squeeze axis "+s+" since its dim '"+e[s]+"' is not 1");(null==i[a]||i[a]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),i[a]<=s&&a++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function F(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type "+e);n=new Uint8Array(t)}return n}function B(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type "+e);n=new Array(t)}return n}function V(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+t+" being uploaded contains "+r+".")}}function U(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function W(e,t){return"complex64"!==t&&("float32"!==t||"complex64"===e)&&("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)}function z(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function H(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype "+e)}function q(e){if(null==e)return 0;var t=0;return e.forEach(function(e){return t+=e.length}),t}function G(e){return"string"==typeof e||e instanceof String}function K(e){return"boolean"==typeof e}function $(e){return"number"==typeof e}function X(e){return Array.isArray(e)?X(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":$(e)?"float32":G(e)?"string":K(e)?"bool":"float32"}function Y(e){return!!(e&&e.constructor&&e.call&&e.apply)}function J(e,t){for(var n=t;n<e;++n)if(e%n==0)return n;return e}function Q(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function Z(e,t,n){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=R(e)),n&&V(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var r=new Uint8Array(e.length),o=0;o<r.length;++o)0!==Math.round(e[o])&&(r[o]=1);return r}throw new Error("Unknown data type "+t)}function ee(e,t){if(0===e.length)return t[0];var n=e.reduce(function(e,t){return e*t});if(0===n)return[];if(n!==t.length)throw new Error("["+e+"] does not match the input size.");return function e(t,n,r){var o=new Array;if(1===n.length)for(var i=n[0],a=0;a<i;a++)o[a]=r[t+a];else{i=n[0];var s=n.slice(1),u=s.reduce(function(e,t){return e*t});for(a=0;a<i;a++)o[a]=e(t+a*u,s,r)}return o}(0,e,t)}function te(e,t){for(var n=ne(e,t),r=0;r<n.length;r++)n[r]=1;return n}function ne(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type "+t)}function re(){return f().platform.now()}function oe(e){e.forEach(function(t){S(Number.isInteger(t)&&t>=0,function(){return"Tensor must have a shape comprised of positive integers but got shape ["+e+"]."})})}function ie(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",f().platform.encode(e,t)}function ae(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",f().platform.decode(e,t)}function se(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],o=0;o<e.length-1;++o)r+=n[o]*e[o];return r}function ue(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),o=0;o<r.length-1;++o)r[o]=Math.floor(e/n[o]),e-=r[o]*n[o];return r[r.length-1]=e,r}Object.freeze({shuffle:w,clamp:x,nearestLargerEven:O,sum:E,randUniform:function(e,t){var n=Math.random();return t*n+(1-n)*e},distSquared:function(e,t){for(var n=0,r=0;r<e.length;r++){var o=Number(e[r])-Number(t[r]);n+=o*o}return n},assert:S,assertShapesMatch:C,assertNonNull:k,flatten:R,sizeFromShape:j,isScalarShape:function(e){return 0===e.length},arraysEqual:P,isInt:T,tanh:_,sizeToSquarishShape:I,createShuffledIndices:function(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return w(t),t},rightPad:A,repeatedTry:N,inferFromImplicitShape:M,parseAxisParam:D,squeezeShape:L,getTypedArrayFromDType:F,getArrayFromDType:B,checkConversionForErrors:V,isValidDtype:U,hasEncodingLoss:W,isTypedArray:z,bytesPerElement:H,bytesFromStringArray:q,isString:G,isBoolean:K,isNumber:$,inferDtype:X,isFunction:Y,nearestDivisor:J,computeStrides:Q,toTypedArray:Z,toNestedArray:ee,makeOnesTypedArray:te,makeZerosTypedArray:ne,now:re,assertNonNegativeIntegerDimensions:oe,fetch:function(e,t){return f().platform.fetch(e,t)},encodeString:ie,decodeString:ae,locToIndex:se,indexToLoc:ue});var ce=function(){function e(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new le)}return e.prototype.profileKernel=function(e,t,n){var r,o=this,i=this.backendTimer.time(function(){r=n()});return r.forEach(function(n){n.data().then(function(r){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var o=e[r];if(isNaN(o)||!isFinite(o))return console.warn("Found "+o+" in the result of '"+n+"'"),!0}}(r,n.dtype,e),i.then(function(i){var a="";null!=i.getExtraProfileInfo&&(a=i.getExtraProfileInfo()),o.logger.logKernelProfile(e,n,r,i.kernelMs,t,a)})})}),r},e}(),le=function(){function e(){}return e.prototype.logKernelProfile=function(e,t,n,r,o,i){var a="number"==typeof r?A(r+"ms",9):r.error,s=A(e,25),u=t.rank,c=t.size,l=A(t.shape.toString(),14),f="";for(var d in o){var p=o[d].shape||t.shape,h=p.length;f+=d+": "+h+"D "+(h>0?p:"")+" "}console.log("%c"+s+"\t%c"+a+"\t%c"+u+"D "+l+"\t%c"+c+"\t%c"+f+"\t%c"+i,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},e}(),fe=20,de=3,pe=7;function he(e,t,n){return A(Array.isArray(e)?parseFloat(e[0].toFixed(pe))+" + "+parseFloat(e[1].toFixed(pe))+"j":G(e)?"'"+e+"'":"bool"===n?ve(e):parseFloat(e.toFixed(pe)).toString(),t)}function ve(e){return 0===e?"false":"true"}function me(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var ge=function(){function e(e,t,n){var r=this;if(this.dtype=t,this.shape=e.slice(),this.size=j(e),null!=n){var o=n.length;S(o===this.size,function(){return"Length of values '"+o+"' does not match the size inferred by the shape '"+r.size+"'."})}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||B(t,this.size),this.strides=Q(e)}return e.prototype.set=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),S(n.length===this.rank,function(){return"The number of provided coordinates ("+n.length+") must match the rank ("+t.rank+")"});var o=this.locToIndex(n);this.values[o]=e},e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];0===e.length&&(e=[0]);for(var n=0,r=0,o=e;r<o.length;r++){var i=o[r];if(i<0||i>=this.shape[n]){var a="Requested out of range element at "+e+".   Buffer shape="+this.shape;throw new Error(a)}n++}for(var s=e[e.length-1],u=0;u<e.length-1;++u)s+=this.strides[u]*e[u];return this.values[s]},e.prototype.locToIndex=function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t},e.prototype.indexToLoc=function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return ye().makeTensor(this.values,this.shape,this.dtype)},e}(),ye=null,be=null,we=null,xe=function(){function e(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=j(e),this.strides=Q(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}return e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),S(1===this.size,function(){return"The array must have only 1 element."}),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(e,t){return this.throwIfDisposed(),this.reshape([e,t])},e.prototype.as3D=function(e,t,n){return this.throwIfDisposed(),this.reshape([e,t,n])},e.prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),this.reshape([e,t,n,r])},e.prototype.as5D=function(e,t,n,r,o){return this.throwIfDisposed(),this.reshape([e,t,n,r,o])},e.prototype.asType=function(e){return this.throwIfDisposed(),be.cast(this,e)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.buffer=function(){return u(this,void 0,void 0,function(){var e;return c(this,function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,be.buffer(this.shape,this.dtype,e)]}})})},e.prototype.bufferSync=function(){return be.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.array=function(){return u(this,void 0,void 0,function(){var e;return c(this,function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,ee(this.shape,e)]}})})},e.prototype.arraySync=function(){return ee(this.shape,this.dataSync())},e.prototype.data=function(){return u(this,void 0,void 0,function(){var e,t;return c(this,function(n){switch(n.label){case 0:return this.throwIfDisposed(),e=ye().read(this.dataId),"string"!==this.dtype?[3,2]:[4,e];case 1:t=n.sent();try{return[2,t.map(function(e){return ae(e)})]}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}n.label=2;case 2:return[2,e]}})})},e.prototype.dataSync=function(){this.throwIfDisposed();var e=ye().readSync(this.dataId);if("string"===this.dtype)try{return e.map(function(e){return ae(e)})}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e},e.prototype.bytes=function(){return u(this,void 0,void 0,function(){var e;return c(this,function(t){switch(t.label){case 0:return this.throwIfDisposed(),[4,ye().read(this.dataId)];case 1:return e=t.sent(),"string"===this.dtype?[2,e]:[2,new Uint8Array(e.buffer)]}})})},e.prototype.dispose=function(){this.isDisposed||(ye().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(e){return void 0===e&&(e=!1),be.print(this,e)},e.prototype.reshape=function(e){return this.throwIfDisposed(),be.reshape(this,e)},e.prototype.reshapeAs=function(e){return this.throwIfDisposed(),this.reshape(e.shape)},e.prototype.expandDims=function(e){return void 0===e&&(e=0),be.expandDims(this,e)},e.prototype.cumsum=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=!1),void 0===n&&(n=!1),be.cumsum(this,e,t,n)},e.prototype.squeeze=function(e){return this.throwIfDisposed(),be.squeeze(this,e)},e.prototype.clone=function(){return this.throwIfDisposed(),be.clone(this)},e.prototype.oneHot=function(e,t,n){return this.throwIfDisposed(),be.oneHot(this,e,t,n)},e.prototype.toString=function(e){return void 0===e&&(e=!1),function(e,t,n,r){var o=Q(t),i=function(e,t,n,r){var o=j(t),i=r[r.length-1],a=new Array(i).fill(0),s=t.length,u="complex64"===n?me(e):e;if(s>1)for(var c=0;c<o/i;c++)for(var l=c*i,f=0;f<i;f++)a[f]=Math.max(a[f],he(u[l+f],0,n).length);return a}(e,t,n,o),a=t.length,s=function e(t,n,r,o,i,a){void 0===a&&(a=!0);var s="complex64"===r?2:1,u=n[0],c=n.length;if(0===c)return"complex64"===r?[he(me(t)[0],0,r)]:"bool"===r?[ve(t[0])]:[t[0].toString()];if(1===c){if(u>fe){var l=de*s,f=Array.from(t.slice(0,l)),d=Array.from(t.slice((u-de)*s,u*s));return"complex64"===r&&(f=me(f),d=me(d)),["["+f.map(function(e,t){return he(e,i[t],r)}).join(", ")+", ..., "+d.map(function(e,t){return he(e,i[u-de+t],r)}).join(", ")+"]"]}return["["+("complex64"===r?me(t):Array.from(t)).map(function(e,t){return he(e,i[t],r)}).join(", ")+"]"]}var p=n.slice(1),h=o.slice(1),v=o[0]*s,m=[];if(u>fe){for(var g=0;g<de;g++){var y=(b=g*v)+v;m.push.apply(m,e(t.slice(b,y),p,r,h,i,!1))}for(m.push("..."),g=u-de;g<u;g++)y=(b=g*v)+v,m.push.apply(m,e(t.slice(b,y),p,r,h,i,g===u-1))}else for(g=0;g<u;g++){var b;y=(b=g*v)+v,m.push.apply(m,e(t.slice(b,y),p,r,h,i,g===u-1))}var w=2===c?",":"";for(m[0]="["+m[0]+w,g=1;g<m.length-1;g++)m[g]=" "+m[g]+w;var x=",\n";for(g=2;g<c;g++)x+="\n";return m[m.length-1]=" "+m[m.length-1]+"]"+(a?"":x),m}(e,t,n,o,i),u=["Tensor"];return r&&(u.push("  dtype: "+n),u.push("  rank: "+a),u.push("  shape: ["+t+"]"),u.push("  values:")),u.push(s.map(function(e){return"    "+e}).join("\n")),u.join("\n")}(this.dataSync(),this.shape,this.dtype,e)},e.prototype.tile=function(e){return this.throwIfDisposed(),be.tile(this,e)},e.prototype.gather=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),be.gather(this,e,t)},e.prototype.matMul=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),this.throwIfDisposed(),be.matMul(this,e,t,n)},e.prototype.dot=function(e){return this.throwIfDisposed(),be.dot(this,e)},e.prototype.norm=function(e,t,n){return void 0===e&&(e="euclidean"),void 0===t&&(t=null),void 0===n&&(n=!1),this.throwIfDisposed(),be.norm(this,e,t,n)},e.prototype.slice=function(e,t){return this.throwIfDisposed(),be.slice(this,e,t)},e.prototype.reverse=function(e){return this.throwIfDisposed(),be.reverse(this,e)},e.prototype.concat=function(t,n){return void 0===n&&(n=0),this.throwIfDisposed(),t instanceof e&&(t=[t]),be.concat([this].concat(t),n)},e.prototype.split=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),be.split(this,e,t)},e.prototype.stack=function(e,t){return void 0===t&&(t=0),be.stack([this,e],t)},e.prototype.unstack=function(e){return void 0===e&&(e=0),be.unstack(this,e)},e.prototype.pad=function(e,t){return void 0===t&&(t=0),be.pad(this,e,t)},e.prototype.batchNormalization=function(e,t,n,r,o){return void 0===n&&(n=.001),we("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(e,t,o,r,n)},e.prototype.batchNorm=function(e,t,n,r,o){return void 0===o&&(o=.001),this.throwIfDisposed(),be.batchNorm(this,e,t,n,r,o)},e.prototype.all=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),be.all(this,e,t)},e.prototype.any=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),be.any(this,e,t)},e.prototype.logSumExp=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),be.logSumExp(this,e,t)},e.prototype.sum=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),be.sum(this,e,t)},e.prototype.prod=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),be.prod(this,e,t)},e.prototype.mean=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),be.mean(this,e,t)},e.prototype.min=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),be.min(this,e,t)},e.prototype.max=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),be.max(this,e,t)},e.prototype.argMin=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),be.argMin(this,e)},e.prototype.argMax=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),be.argMax(this,e)},e.prototype.cast=function(e){return this.throwIfDisposed(),be.cast(this,e)},e.prototype.add=function(e){return this.throwIfDisposed(),be.add(this,e)},e.prototype.addStrict=function(e){return this.throwIfDisposed(),be.addStrict(this,e)},e.prototype.atan2=function(e){return this.throwIfDisposed(),be.atan2(this,e)},e.prototype.sub=function(e){return this.throwIfDisposed(),be.sub(this,e)},e.prototype.subStrict=function(e){return this.throwIfDisposed(),be.subStrict(this,e)},e.prototype.pow=function(e){return this.throwIfDisposed(),be.pow(this,e)},e.prototype.powStrict=function(e){return this.throwIfDisposed(),be.powStrict(this,e)},e.prototype.mul=function(e){return this.throwIfDisposed(),be.mul(this,e)},e.prototype.mulStrict=function(e){return this.throwIfDisposed(),be.mulStrict(this,e)},e.prototype.div=function(e){return this.throwIfDisposed(),be.div(this,e)},e.prototype.divNoNan=function(e){return this.throwIfDisposed(),be.divNoNan(this,e)},e.prototype.floorDiv=function(e){return this.throwIfDisposed(),be.floorDiv(this,e)},e.prototype.divStrict=function(e){return this.throwIfDisposed(),be.divStrict(this,e)},e.prototype.minimum=function(e){return this.throwIfDisposed(),be.minimum(this,e)},e.prototype.minimumStrict=function(e){return this.throwIfDisposed(),be.minimumStrict(this,e)},e.prototype.maximum=function(e){return this.throwIfDisposed(),be.maximum(this,e)},e.prototype.maximumStrict=function(e){return this.throwIfDisposed(),be.maximumStrict(this,e)},e.prototype.mod=function(e){return this.throwIfDisposed(),be.mod(this,e)},e.prototype.modStrict=function(e){return this.throwIfDisposed(),be.modStrict(this,e)},e.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),be.squaredDifferenceStrict(this,e)},e.prototype.transpose=function(e){return this.throwIfDisposed(),be.transpose(this,e)},e.prototype.notEqual=function(e){return this.throwIfDisposed(),be.notEqual(this,e)},e.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),be.notEqualStrict(this,e)},e.prototype.less=function(e){return this.throwIfDisposed(),be.less(this,e)},e.prototype.lessStrict=function(e){return this.throwIfDisposed(),be.lessStrict(this,e)},e.prototype.equal=function(e){return this.throwIfDisposed(),be.equal(this,e)},e.prototype.equalStrict=function(e){return this.throwIfDisposed(),be.equalStrict(this,e)},e.prototype.lessEqual=function(e){return this.throwIfDisposed(),be.lessEqual(this,e)},e.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),be.lessEqualStrict(this,e)},e.prototype.greater=function(e){return this.throwIfDisposed(),be.greater(this,e)},e.prototype.greaterStrict=function(e){return this.throwIfDisposed(),be.greaterStrict(this,e)},e.prototype.greaterEqual=function(e){return this.throwIfDisposed(),be.greaterEqual(this,e)},e.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),be.greaterEqualStrict(this,e)},e.prototype.logicalAnd=function(e){return this.throwIfDisposed(),be.logicalAnd(this,e)},e.prototype.logicalOr=function(e){return this.throwIfDisposed(),be.logicalOr(this,e)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),be.logicalNot(this)},e.prototype.logicalXor=function(e){return this.throwIfDisposed(),be.logicalXor(this,e)},e.prototype.where=function(e,t){return this.throwIfDisposed(),be.where(e,this,t)},e.prototype.neg=function(){return this.throwIfDisposed(),be.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),be.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),be.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),be.sign(this)},e.prototype.isNaN=function(){return this.throwIfDisposed(),be.isNaN(this)},e.prototype.isInf=function(){return this.throwIfDisposed(),be.isInf(this)},e.prototype.isFinite=function(){return this.throwIfDisposed(),be.isFinite(this)},e.prototype.exp=function(){return this.throwIfDisposed(),be.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),be.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),be.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),be.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),be.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),be.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),be.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),be.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),be.abs(this)},e.prototype.clipByValue=function(e,t){return this.throwIfDisposed(),be.clipByValue(this,e,t)},e.prototype.relu=function(){return this.throwIfDisposed(),be.relu(this)},e.prototype.relu6=function(){return this.throwIfDisposed(),be.relu6(this)},e.prototype.elu=function(){return this.throwIfDisposed(),be.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),be.selu(this)},e.prototype.leakyRelu=function(e){return void 0===e&&(e=.2),this.throwIfDisposed(),be.leakyRelu(this,e)},e.prototype.prelu=function(e){return this.throwIfDisposed(),be.prelu(this,e)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),be.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),be.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),be.softplus(this)},e.prototype.zerosLike=function(){return this.throwIfDisposed(),be.zerosLike(this)},e.prototype.onesLike=function(){return this.throwIfDisposed(),be.onesLike(this)},e.prototype.sin=function(){return this.throwIfDisposed(),be.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),be.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),be.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),be.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),be.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),be.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),be.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),be.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),be.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),be.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),be.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),be.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),be.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),be.round(this)},e.prototype.step=function(e){return void 0===e&&(e=0),this.throwIfDisposed(),be.step(this,e)},e.prototype.softmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),be.softmax(this,e)},e.prototype.logSoftmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),be.logSoftmax(this,e)},e.prototype.resizeBilinear=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),be.image.resizeBilinear(this,e,t)},e.prototype.resizeNearestNeighbor=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),be.image.resizeNearestNeighbor(this,e,t)},e.prototype.conv1d=function(e,t,n,r,o,i){return void 0===r&&(r="NWC"),void 0===o&&(o=1),this.throwIfDisposed(),be.conv1d(this,e,t,n,r,o,i)},e.prototype.conv2d=function(e,t,n,r,o,i){return void 0===r&&(r="NHWC"),void 0===o&&(o=[1,1]),this.throwIfDisposed(),be.conv2d(this,e,t,n,r,o,i)},e.prototype.conv2dTranspose=function(e,t,n,r,o){return this.throwIfDisposed(),be.conv2dTranspose(this,e,t,n,r,o)},e.prototype.depthwiseConv2D=function(e,t,n,r,o,i){return void 0===r&&(r="NHWC"),void 0===o&&(o=[1,1]),this.throwIfDisposed(),be.depthwiseConv2d(this,e,t,n,r,o,i)},e.prototype.separableConv2d=function(e,t,n,r,o,i){return void 0===o&&(o=[1,1]),void 0===i&&(i="NHWC"),this.throwIfDisposed(),be.separableConv2d(this,e,t,n,r,o,i)},e.prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),be.avgPool(this,e,t,n,r)},e.prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),be.maxPool(this,e,t,n,r)},e.prototype.localResponseNormalization=function(e,t,n,r){return void 0===e&&(e=5),void 0===t&&(t=1),void 0===n&&(n=1),void 0===r&&(r=.5),be.localResponseNormalization(this,e,t,n,r)},e.prototype.pool=function(e,t,n,r,o){return this.throwIfDisposed(),be.pool(this,e,t,n,r,o)},e.prototype.variable=function(e,t,n){return void 0===e&&(e=!0),this.throwIfDisposed(),ye().makeVariable(this,e,t,n)},e.prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),be.unsortedSegmentSum(this,e,t)},e.prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),be.batchToSpaceND(this,e,t)},e.prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),be.spaceToBatchND(this,e,t)},e.prototype.topk=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=!0),this.throwIfDisposed(),be.topk(this,e,t)},e.prototype.stridedSlice=function(e,t,n,r,o,i,a,s){return void 0===r&&(r=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===s&&(s=0),this.throwIfDisposed(),be.stridedSlice(this,e,t,n,r,o,i,a,s)},e.prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),be.depthToSpace(this,e,t)},e.prototype.fft=function(){return this.throwIfDisposed(),be.spectral.fft(this)},e.prototype.ifft=function(){return this.throwIfDisposed(),be.spectral.ifft(this)},e.prototype.rfft=function(){return this.throwIfDisposed(),be.spectral.rfft(this)},e.prototype.irfft=function(){return this.throwIfDisposed(),be.spectral.irfft(this)},e}();Object.defineProperty(xe,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.dataId&&null!=e.shape&&null!=e.dtype}});var Oe,Ee,Se,Ce,ke,Re,je=function(e){function t(t,n,r,o){var i=e.call(this,t.shape,t.dtype,t.dataId,o)||this;return i.trainable=n,i.name=r,i}return s(t,e),t.prototype.assign=function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value ("+e.dtype+") and previous value ("+this.dtype+") must match");if(!P(e.shape,this.shape))throw new Error("shape of the new value ("+e.shape+") and previous value ("+this.shape+") must match");ye().disposeTensor(this),this.dataId=e.dataId,ye().incRef(this,null)},t.prototype.dispose=function(){ye().disposeVariable(this),this.isDisposedInternal=!0},t}(xe);Object.defineProperty(je,Symbol.hasInstance,{value:function(e){return e instanceof xe&&null!=e.assign&&e.assign instanceof Function}}),(Re=Oe||(Oe={})).R0="R0",Re.R1="R1",Re.R2="R2",Re.R3="R3",Re.R4="R4",Re.R5="R5",Re.R6="R6",function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(Ee||(Ee={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(Se||(Se={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(Ce||(Ce={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(ke||(ke={}));var Pe={float32:Ce,int32:Ee,bool:Se,complex64:ke};function Te(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast "+e+" with "+t)}return Pe[e][t]}function _e(e){return Te(e,"int32")}function Ie(e,t){if(e.dtype===t.dtype)return[e,t];var n=Te(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function Ae(e,t){S(e.dtype===t.dtype,function(){return"The dtypes of the first("+e.dtype+") and second("+t.dtype+") input must match"})}function Ne(e){var t=[];return function e(t,n,r){if(null!=t)if(t instanceof xe)n.push(t);else if(o=t,Array.isArray(o)||"object"==typeof o){var o,i=t;for(var a in i){var s=i[a];r.has(s)||(r.add(s),e(s,n,r))}}}(e,t,new Set),t}Object.freeze({makeTypesMatch:Ie,assertTypesMatch:Ae,isTensorInList:function(e,t){return t.some(function(t){return t.id===e.id})},getTensorsInContainer:Ne});var Me,De=function(){function e(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return e.prototype.dispose=function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()},e}(),Le=function(){function e(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new De}return e.prototype.ready=function(){return u(this,void 0,void 0,function(){var e,t,n;return c(this,function(r){switch(r.label){case 0:if(null!=this.pendingBackendInit)return[2,this.pendingBackendInit.then(function(){})];if(null!=this.backendInstance)return[2];e=this.getSortedBackends(),t=0,r.label=1;case 1:return t<e.length?(n=e[t],[4,this.initializeBackend(n).success]):[3,5];case 2:return r.sent()?[4,this.setBackend(n)]:[3,4];case 3:return r.sent(),[2];case 4:return t++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}})})},Object.defineProperty(e.prototype,"backend",{get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '"+t+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance},enumerable:!0,configurable:!0}),e.prototype.backendNames=function(){return Object.keys(this.registryFactory)},e.prototype.findBackend=function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]},e.prototype.findBackendFactory=function(e){return e in this.registryFactory?this.registryFactory[e].factory:null},e.prototype.registerBackend=function(e,t,n){return void 0===n&&(n=1),e in this.registryFactory?(console.warn(e+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)},e.prototype.setBackend=function(e){return u(this,void 0,void 0,function(){var t,n,r;return c(this,function(o){switch(o.label){case 0:if(null==this.registryFactory[e])throw new Error("Backend name '"+e+"' not found in registry");return this.backendName=e,null!=this.registry[e]?[3,4]:(this.backendInstance=null,t=this.initializeBackend(e),n=t.success,t.asyncInit?[4,n]:[3,2]);case 1:return r=o.sent(),[3,3];case 2:r=n,o.label=3;case 3:if(!r)return[2,!1];o.label=4;case 4:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new ce(this.backendInstance),[2,!0]}})})},e.prototype.setupRegisteredKernels=function(){var e=this;m(this.backendName).forEach(function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)})},e.prototype.disposeRegisteredKernels=function(e){var t=this;m(e).forEach(function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])})},e.prototype.initializeBackend=function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend "+e+", no registration found.");try{var r=n.factory();if(Promise.resolve(r)===r){var o=++this.pendingBackendInitId,i=r.then(function(n){return!(o<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)}).catch(function(n){return!(o<t.pendingBackendInitId)&&(t.pendingBackendInit=null,console.warn("Initialization of backend "+e+" failed"),console.warn(n.stack||n.message),!1)});return this.pendingBackendInit=i,{success:i,asyncInit:!0}}return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(t){return console.warn("Initialization of backend "+e+" failed"),console.warn(t.stack||t.message),{success:!1,asyncInit:!1}}},e.prototype.removeBackend=function(e){if(!(e in this.registryFactory))throw new Error(e+" backend not found in registry");this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},e.prototype.getSortedBackends=function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority})},e.prototype.initializeBackendsAndReturnBest=function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),o=r.success,i=r.asyncInit;if(i||o)return{name:n,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")},e.prototype.moveData=function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,o=this.readSync(t);r.disposeData(t),n.backend=e,e.move(t,o,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},e.prototype.tidy=function(e,t){var n,r=this,o=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");o=e}return this.scopedRun(function(){return r.startScope(o)},function(){return r.endScope(n)},function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n})},e.prototype.scopedRun=function(e,t,n){e();try{var r=n();return t(),r}catch(e){throw t(),e}},e.prototype.nextTensorId=function(){return e.nextTensorId++},e.prototype.nextVariableId=function(){return e.nextVariableId++},e.prototype.clone=function(e){var t=this.makeTensorFromDataId(e.dataId,e.shape,e.dtype),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],function(e){return{x:function(){return e.toFloat()}}},[]),t},e.prototype.runKernel=function(e,t,n,r,o){return this.runKernelFunc(null,t,null,e,n,r,o)},e.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},e.prototype.checkKernelForMemLeak=function(e,t,n){var r=this.backend.numDataIds(),o=0;n.forEach(function(e){o+="complex64"===e.dtype?3:1});var i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=r-t-o-i;if(a>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+a+" data ids) after running '"+e+"'")},e.prototype.runKernelFunc=function(e,t,n,r,o,i,a){var s,u=this;void 0===i&&(i=[]),void 0===a&&(a=[]);var c=[],l=this.isTapeOn();null==r&&(r=null!=this.state.activeScope?this.state.activeScope.name:"");var f,d=function(e){l&&(c=e.map(function(e){return u.keep(u.clone(e))}))},p=this.state.numBytes,h=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var m,g=v(r,this.backendName);return f=null!=g?function(){var e=u.backend.numDataIds();m=g.kernelFunc({inputs:t,attrs:o,backend:u.backend});var n=Array.isArray(m)?m:[m];u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,e,n);var s=n.map(function(e){var t=e.dataId,n=e.shape,r=e.dtype;return u.makeTensorFromDataId(t,n,r)}),c=s.filter(function(e,t){return a[t]});return d((i||[]).slice().concat(c)),s}:function(){var t=u.backend.numDataIds();m=u.tidy(function(){return e(u.backend,d)});var n=Array.isArray(m)?m:[m];return u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,t,n),n},this.scopedRun(function(){return u.state.kernelDepth++},function(){return u.state.kernelDepth--},function(){s=u.ENV.getBool("DEBUG")?u.profiler.profileKernel(r,t,function(){return f()}):f()}),l&&this.addTapeNode(r,t,s,n,c),this.state.profiling&&this.state.activeProfile.kernels.push({name:r,bytesAdded:this.state.numBytes-p,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-h,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(t).map(function(e){return t[e].shape}),outputShapes:s.map(function(e){return e.shape})}),Array.isArray(m)?s:s[0]},e.prototype.makeTensor=function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var o=e;"string"===n&&G(e[0])&&(o=e.map(function(e){return ie(e)}));var i=r.write(o,t,n),a=new xe(t,n,i,this.nextTensorId());if(this.incRef(a,r),"string"===n){var s=this.state.tensorInfo.get(i),u=q(o);this.state.numBytes+=u-s.bytes,s.bytes=u}return a},e.prototype.makeTensorFromDataId=function(e,t,n,r){var o=new xe(t,n=n||"float32",e,this.nextTensorId());return this.incRef(o,r),o},e.prototype.makeVariable=function(e,t,n,r){void 0===t&&(t=!0),n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.asType(r));var o=new je(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[o.name])throw new Error("Variable with name "+o.name+" was already registered");return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o},e.prototype.incRef=function(e,t){var n=this.state.tensorInfo.has(e.dataId)?this.state.tensorInfo.get(e.dataId).refCount:0;if(this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++,0===n){this.state.numDataBuffers++;var r=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(r=e.size*H(e.dtype)),this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:r,refCount:0}),this.state.numBytes+=r}this.state.tensorInfo.get(e.dataId).refCount++,e instanceof je||this.track(e)},e.prototype.disposeTensor=function(e){if(this.state.tensorInfo.has(e.dataId)){this.state.numTensors--,"string"===e.dtype&&this.state.numStringTensors--;var t=this.state.tensorInfo.get(e.dataId);t.refCount<=1?("complex64"!==e.dtype&&(this.state.numBytes-=t.bytes),this.state.numDataBuffers--,t.backend.disposeData(e.dataId),this.state.tensorInfo.delete(e.dataId)):this.state.tensorInfo.get(e.dataId).refCount--}},e.prototype.disposeVariables=function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}},e.prototype.disposeVariable=function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]},e.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e},e.prototype.profile=function(e){return u(this,void 0,void 0,function(){var t,n;return c(this,function(r){return this.state.profiling=!0,t=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map(function(e){return e.totalBytesSnapshot})),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n,[2,this.state.activeProfile]})})},e.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth},e.prototype.addTapeNode=function(e,t,n,r,o){var i=this,a={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:o},s=function(e){return h.get(e)}(e);null!=s&&(r=s.gradFunc),null!=r&&(a.gradient=function(e){return e=e.map(function(e,t){if(null==e){var r=n[t],o=ne(r.size,r.dtype);return i.makeTensor(o,r.shape,r.dtype)}return e}),r(e.length>1?e:e[0],o)}),this.state.activeTape.push(a)},e.prototype.keep=function(e){return e.kept=!0,e},e.prototype.startTape=function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++},e.prototype.endTape=function(){this.state.gradientDepth--},e.prototype.startScope=function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t},e.prototype.endScope=function(e){for(var t=this,n=Ne(e),r=new Set(n.map(function(e){return e.id})),o=0;o<this.state.activeScope.track.length;o++){var i=this.state.activeScope.track[o];i.kept||r.has(i.id)||i.dispose()}var a=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(function(e){e.kept||e.scopeId!==a.id||t.track(e)})},e.prototype.gradients=function(e,t,n,r){var o=this;if(void 0===r&&(r=!1),S(t.length>0,function(){return"gradients() received an empty list of xs."}),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");var i=this.scopedRun(function(){return o.startTape()},function(){return o.endTape()},function(){return o.tidy("forward",e)});S(i instanceof xe,function(){return"The result y returned by f() must be a tensor."});var a=function(e,t,n){for(var r={},o={},i=0;i<t.length;i++)r[t[i].id]=!0;for(i=0;i<e.length;i++){var a=(h=e[i]).inputs;for(var s in a){for(var u=a[s],c=!1,l=0;l<t.length;l++)if(r[u.id]){h.outputs.forEach(function(e){return r[e.id]=!0}),c=!0,o[h.id]=!0;break}if(c)break}}var f={};f[n.id]=!0;var d={};for(i=e.length-1;i>=0;i--)for(a=(h=e[i]).inputs,l=0;l<h.outputs.length;l++)if(f[h.outputs[l].id]){for(var s in a)f[a[s].id]=!0,d[h.id]=!0;break}var p=[];for(i=0;i<e.length;i++){var h;if(o[(h=e[i]).id]&&d[h.id]){var v={};for(var s in h.inputs){var m=h.inputs[s];r[m.id]&&(v[s]=m)}var g=Object.assign({},h);g.inputs=v,g.outputs=h.outputs,p.push(g)}}return p}(this.state.activeTape,t,i);if(!r&&0===a.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var e,r,s={};s[i.id]=null==n?(r=te(j(e=i.shape),"float32"),Fe.makeTensor(r,e,"float32")):n,function(e,t,n){for(var r=function(r){var o=t[r],i=[];if(o.outputs.forEach(function(t){var n=e[t.id];null!=n?i.push(n):i.push(null)}),null==o.gradient)throw new Error("Cannot compute gradient: gradient function not found for "+o.kernelName+".");var a=o.gradient(i),s=function(t){if(!(t in a))throw new Error("Cannot backprop through input "+t+". Available gradients found: "+Object.keys(a)+".");var r=n(function(){return a[t]()});if("float32"!==r.dtype)throw new Error("Error in gradient for op "+o.kernelName+". The gradient of input "+t+" must have 'float32' dtype, but has '"+r.dtype+"'");var i=o.inputs[t];if(!P(r.shape,i.shape))throw new Error("Error in gradient for op "+o.kernelName+". The gradient of input '"+t+"' has shape '"+r.shape+"', which does not match the shape of the input '"+i.shape+"'");if(null==e[i.id])e[i.id]=r;else{var s=e[i.id];e[i.id]=s.add(r),s.dispose()}};for(var u in o.inputs)s(u)},o=t.length-1;o>=0;o--)r(o)}(s,a,function(e){return o.tidy(e)});var u=t.map(function(e){return s[e.id]});return 0===o.state.gradientDepth&&(o.state.activeTape.forEach(function(e){for(var t=0,n=e.saved;t<n.length;t++)n[t].dispose()}),o.state.activeTape=null),{value:i,grads:u}})},e.prototype.customGrad=function(e){var t=this;return S(Y(e),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];S(r.every(function(e){return e instanceof xe}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var i={};return r.forEach(function(e,t){i[t]=e}),t.runKernelFunc(function(t,o){return S((n=e.apply(void 0,r.concat([o]))).value instanceof xe,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),S(Y(n.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),n.value},i,function(e,t){var o=n.gradFunc(e,t),i=Array.isArray(o)?o:[o];S(i.length===r.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),S(i.every(function(e){return e instanceof xe}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var a={};return i.forEach(function(e,t){a[t]=function(){return e}}),a})}},e.prototype.readSync=function(e){return this.state.tensorInfo.get(e).backend.readSync(e)},e.prototype.read=function(e){return this.state.tensorInfo.get(e).backend.read(e)},e.prototype.time=function(e){return u(this,void 0,void 0,function(){var t,n;return c(this,function(r){switch(r.label){case 0:return t=re(),[4,this.backend.time(e)];case 1:return(n=r.sent()).wallMs=re()-t,[2,n]}})})},e.prototype.track=function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e},Object.defineProperty(e.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),e.prototype.reset=function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new De,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},e.nextTensorId=0,e.nextVariableId=0,e}(),Fe=function(){var t=function(){if(null==Me){var t=void 0;if("undefined"!=typeof window)t=window;else if("undefined"!=typeof e)t=e;else if("undefined"!=typeof r)t=r;else{if("undefined"==typeof self)throw new Error("Could not find a global object");t=self}Me=t}return Me}();if(null==t._tfengine){var n=new l(t);t._tfengine=new Le(n)}return function(e){d=e}(t._tfengine.ENV),ye=function(){return t._tfengine},t._tfengine}();function Be(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}var Ve=f();Ve.registerFlag("DEBUG",function(){return!1},function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),Ve.registerFlag("IS_BROWSER",function(){return Be()}),Ve.registerFlag("IS_NODE",function(){return"undefined"!=typeof r&&void 0!==r.versions&&void 0!==r.versions.node}),Ve.registerFlag("IS_CHROME",function(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}),Ve.registerFlag("PROD",function(){return!1}),Ve.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return Ve.getBool("DEBUG")}),Ve.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0}),Ve.registerFlag("IS_TEST",function(){return!1});var Ue,We,ze,He={},qe={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Ge(e,t){He[e]=t}function Ke(e){e in He||(He[e]=function(e){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var t=function(e){if("undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e);return t.addEventListener("webglcontextlost",function(t){t.preventDefault(),delete He[e]},!1),1===e?t.getContext("webgl",qe)||t.getContext("experimental-webgl",qe):t.getContext("webgl2",qe)}(e));var t=He[e];return t.isContextLost()?(delete He[e],Ke(e)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),He[e])}function $e(e,t){return[t,e]}function Xe(e){var t=j(e);return I(Math.ceil(t/4))}function Ye(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function Je(e,t){var n,r,o,i,a,s,u,c,l,d=e;return 2===f().getNumber("WEBGL_VERSION")?(n=d.R32F,r=d.R16F,o=d.RGBA16F,i=d.RGBA32F,a=d.RED,s=4,u=1,c=d.HALF_FLOAT,l=d.FLOAT):(n=e.RGBA,r=e.RGBA,o=e.RGBA,i=d.RGBA,a=e.RGBA,s=4,u=4,c=null!=t?t.HALF_FLOAT_OES:null,l=e.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:o,internalFormatPackedFloat:i,textureFormatFloat:a,downloadTextureFormat:e.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:u,textureTypeHalfFloat:c,textureTypeFloat:l}}function Qe(e,t,n){var r=n();return t&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+nt(e,t))}(e),r}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(Ue||(Ue={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(We||(We={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(ze||(ze={}));var Ze=5.96e-8,et=65504;function tt(e){return!!(f().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||Ze<Math.abs(e)&&Math.abs(e)<et)}function nt(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t}}function rt(e,t,n){return kt(e,t,function(){return e.getExtension(n)},'Extension "'+n+'" not supported on this browser.')}function ot(e,t,n){var r=kt(e,t,function(){return e.createShader(e.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(Qe(e,t,function(){return e.shaderSource(r,n)}),Qe(e,t,function(){return e.compileShader(r)}),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function it(e,t,n){var r=kt(e,t,function(){return e.createShader(e.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(Qe(e,t,function(){return e.shaderSource(r,n)}),Qe(e,t,function(){return e.compileShader(r)}),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw function(e,t){var n=ut.exec(t);if(null==n)return console.log("Couldn't parse line number in error: "+t),void console.log(e);for(var r=+n[1],o=e.split("\n"),i=o.length.toString().length+2,a=o.map(function(e,t){return A((t+1).toString(),i)+e}),s=0,u=0;u<a.length;u++)s=Math.max(a[u].length,s);var c=a.slice(0,r-1),l=a.slice(r-1,r),f=a.slice(r);console.log(c.join("\n")),console.log(t.split("\n")[0]),console.log("%c "+A(l[0],s),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(f.join("\n"))}(n,e.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var at,st,ut=/ERROR: [0-9]+:([0-9]+):/g;function ct(e,t){return kt(e,t,function(){return e.createProgram()},"Unable to create WebGLProgram.")}function lt(e,t,n){if(Qe(e,t,function(){return e.linkProgram(n)}),!1===e.getProgramParameter(n,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function ft(e,t,n){if(Qe(e,t,function(){return e.validateProgram(n)}),!1===e.getProgramParameter(n,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function dt(e,t,n){var r=kt(e,t,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return Qe(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),Qe(e,t,function(){return e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)}),r}function pt(e,t,n){var r=kt(e,t,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return Qe(e,t,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)}),Qe(e,t,function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW)}),r}function ht(e,t){return kt(e,t,function(){return e.createTexture()},"Unable to create WebGLTexture.")}function vt(e,t){var n=f().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="["+e+"x"+t+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n)throw r="["+e+"x"+t+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU ["+n+"x"+n+"].")}function mt(e,t){return kt(e,t,function(){return e.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function gt(e,t,n,r,o,i,a,s){var u=e.getAttribLocation(n,r);return-1!==u&&(Qe(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,o)}),Qe(e,t,function(){return e.vertexAttribPointer(u,i,e.FLOAT,!1,a,s)}),Qe(e,t,function(){return e.enableVertexAttribArray(u)}),!0)}function yt(e,t,n,r){Rt(e,r),Qe(e,t,function(){return e.activeTexture(e.TEXTURE0+r)}),Qe(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)})}function bt(e,t,n,r){return kt(e,t,function(){return e.getUniformLocation(n,r)},'uniform "'+r+'" not present in program.')}function wt(e,t,n){return e.getUniformLocation(t,n)}function xt(e,t,n,r,o,i){Qe(e,t,function(){return yt(e,t,r,i)}),Qe(e,t,function(){return e.uniform1i(o,i)})}function Ot(e,t,n,r){Qe(e,t,function(){return e.bindFramebuffer(e.FRAMEBUFFER,r)}),Qe(e,t,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)})}function Et(e,t,n){Qe(e,t,function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)}),Qe(e,t,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)})}function St(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+Ct(e,t))}function Ct(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t}}function kt(e,t,n,r){var o=Qe(e,t,function(){return n()});if(null==o)throw new Error(r);return o}function Rt(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n)throw new Error("textureUnit must be in [gl.TEXTURE0, gl.TEXTURE"+n+"].")}function jt(e,t){return void 0===t&&(t=2),j(e.slice(0,e.length-t))}function Pt(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function Tt(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[jt(e)].concat(Pt(e))),t}function _t(e,t){var n;void 0===t&&(t=!1);var r=f().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(r*=2,1===(e=e.map(function(t,n){return n>=e.length-2?O(e[n]):e[n]})).length&&(e=[2,e[0]])),2!==e.length){var o=L(e);e=o.newShape}var i=j(e);if(e.length<=1&&i<=r)return[1,i];if(2===e.length&&e[0]<=r&&e[1]<=r)return e;if(3===e.length&&e[0]*e[1]<=r&&e[2]<=r)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=r&&e[1]*e[2]<=r)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=r&&e[3]<=r)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=r&&e[1]*e[2]*e[3]<=r)return[e[0],e[1]*e[2]*e[3]];if(t){var a=jt(e),s=2,u=2;return e.length&&(s=(n=Pt(e))[0],u=n[1]),I(i=a*(s/2)*(u/2)).map(function(e){return 2*e})}return I(i)}function It(e){return e%2==0}function At(e,t){if(P(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(It(n)&&It(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&It(e[0])&&It(t[0])}function Nt(e){if(null==at){var t=Ke(e);at=t.getParameter(t.MAX_TEXTURE_SIZE)}return at}function Mt(e){if(null==st){var t=Ke(e);st=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,st)}function Dt(e){if(0===e)return 0;var t=Ke(e);return Lt(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:Lt(t,"EXT_disjoint_timer_query")?1:0}function Lt(e,t){return null!=e.getExtension(t)}function Ft(e){try{if(null!=Ke(e))return!0}catch(e){return!1}return!1}function Bt(e){if(0===e)return!1;var t=Ke(e);if(1===e){if(!Lt(t,"OES_texture_float"))return!1}else if(!Lt(t,"EXT_color_buffer_float"))return!1;return Ut(t)}function Vt(e){if(0===e)return!1;var t=Ke(e);if(1!==e){if(Lt(t,"EXT_color_buffer_float"))return Ut(t);if(Lt(t,"EXT_color_buffer_half_float")){var n=t.getExtension("EXT_color_buffer_half_float");return function(e,t){var n=Je(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(o),i}(t,n)}return!1}return!!Lt(t,"OES_texture_float")&&!!Lt(t,"WEBGL_color_buffer_float")&&Ut(t)}function Ut(e){var t=Je(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),o}function Wt(e){return 2===e&&null!=Ke(e).fenceSync}var zt=Object.freeze({callAndCheck:Qe,canBeRepresented:tt,getWebGLErrorMessage:nt,getExtensionOrThrow:rt,createVertexShader:ot,createFragmentShader:it,createProgram:ct,linkProgram:lt,validateProgram:ft,createStaticVertexBuffer:dt,createStaticIndexBuffer:pt,getNumChannels:function(){return 2===f().getNumber("WEBGL_VERSION")?1:4},createTexture:ht,validateTextureSize:vt,createFramebuffer:mt,bindVertexBufferToProgramAttribute:gt,bindTextureUnit:yt,unbindTextureUnit:function(e,t,n){Rt(e,n),Qe(e,t,function(){return e.activeTexture(e.TEXTURE0+n)}),Qe(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)})},getProgramUniformLocationOrThrow:bt,getProgramUniformLocation:wt,bindTextureToProgramUniformSampler:xt,bindCanvasToFramebuffer:function(e,t){Qe(e,t,function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)}),Qe(e,t,function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)}),Qe(e,t,function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)})},bindColorTextureToFramebuffer:Ot,unbindColorTextureFromFramebuffer:Et,validateFramebuffer:St,getFramebufferErrorMessage:Ct,getBatchDim:jt,getRowsCols:Pt,getShapeAs3D:Tt,getTextureShapeFromLogicalShape:_t,isReshapeFree:At,getWebGLMaxTextureSize:Nt,resetMaxTextureSize:function(){at=null},resetMaxTexturesInShader:function(){st=null},getMaxTexturesInShader:Mt,getWebGLDisjointQueryTimerVersion:Dt,hasExtension:Lt,isWebGLVersionEnabled:Ft,isCapableOfRenderingToFloatTexture:Bt,isDownloadFloatTextureEnabled:Vt,isWebGLFenceEnabled:Wt}),Ht=f();function qt(e){f().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function Gt(e,t){return Fe.tidy(e,t)}function Kt(e){Ne(e).forEach(function(e){return e.dispose()})}function $t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];f().getBool("IS_TEST")||console.warn.apply(console,e)}function Xt(e,t){var n=e;if(z(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||z(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&f().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function e(t,n,r){if(r=r||[],Array.isArray(t)||z(t)){S(n.length>0,function(){return"Element arr["+r.join("][")+"] should be a primitive, but is an array of "+t.length+" elements"}),S(t.length===n[0],function(){return"Element arr["+r.join("][")+"] should have "+n[0]+" elements, but has "+t.length+" elements"});for(var o=n.slice(1),i=0;i<t.length;++i)e(t[i],o,r.concat(i))}else S(0===n.length,function(){return"Element arr["+r.join("][")+"] is a primitive, but should be an array/TypedArray of "+n[0]+" elements"})}(e,r,[]),r}function Yt(e,t,n,r){if(null!=e&&("numeric"!==e&&e!==t||"numeric"===e&&"string"===t))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+e+" tensor, but got "+t+" tensor")}function Jt(e,t,n,r){if(void 0===r&&(r="numeric"),e instanceof xe)return Yt(r,e.dtype,t,n),e;var o=X(e);if("string"!==o&&["bool","int32","float32"].indexOf(r)>=0&&(o=r),Yt(r,o,t,n),null==e||!z(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){var i=null==e?"null":e.constructor.name;throw new Error("Argument '"+t+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+i+"'")}var a=Xt(e,o);z(e)||Array.isArray(e)||(e=[e]);var s="string"!==o?Z(e,o,f().getBool("DEBUG")):R(e,[],!0);return Fe.makeTensor(s,a,o)}function Qt(e,t,n,r){if(void 0===r&&(r="numeric"),!Array.isArray(e))throw new Error("Argument "+t+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return e.map(function(e,r){return Jt(e,t+"["+r+"]",n)},r)}function Zt(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function en(e,t,n){for(var r=e.length+t.length,o=[],i=0,a=0,s=0;s<r;s++)-1===n.indexOf(s)?o.push(e[i++]):o.push(t[a++]);return o}function tn(e,t){for(var n=[],r=e.length,o=0;o<r;o++)-1===t.indexOf(o)&&n.push(e[o]);return[n,t.map(function(t){return e[t]})]}function nn(e,t){return en(e,t.map(function(e){return 1}),t)}function rn(e,t,n){S(Zt(t,n),function(){return e+" supports only inner-most axes for now. Got axes "+t+" and rank-"+n+" input."})}function on(e,t){if(Zt(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach(function(e){return n.push(e)}),n}function an(e){return e.map(function(e,t){return[t,e]}).sort(function(e,t){return e[1]-t[1]}).map(function(e){return e[0]})}function sn(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}function un(e,t){var n=e[0].length;e.forEach(function(e,t){S(e.length===n,function(){return"Error in concat"+n+"D: rank of tensors["+t+"] must be the same as the rank of the rest ("+n+")"})}),S(t>=0&&t<n,function(){return"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+"."});var r=e[0];e.forEach(function(e,o){for(var i=0;i<n;i++)S(i===t||e[i]===r[i],function(){return"Error in concat"+n+"D: Shape of tensors["+o+"] ("+e+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+o+"."})})}function cn(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}function ln(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+t.length+" keys.");var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Fe.startScope(n);try{var o=r.apply(void 0,e);return o instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),Fe.endScope(o),o}catch(e){throw Fe.endScope(null),e}};return Object.defineProperty(o,"name",{value:n,configurable:!0}),o}Ht.registerFlag("HAS_WEBGL",function(){return Ht.getNumber("WEBGL_VERSION")>0}),Ht.registerFlag("WEBGL_VERSION",function(){return Ft(2)?2:Ft(1)?1:0}),Ht.registerFlag("WEBGL_BUFFER_SUPPORTED",function(){return 2===Ht.get("WEBGL_VERSION")}),Ht.registerFlag("WEBGL_CPU_FORWARD",function(){return!0}),Ht.registerFlag("WEBGL_FORCE_F16_TEXTURES",function(){return!1}),Ht.registerFlag("WEBGL_PACK",function(){return Ht.getBool("HAS_WEBGL")}),Ht.registerFlag("WEBGL_PACK_NORMALIZATION",function(){return Ht.getBool("WEBGL_PACK")}),Ht.registerFlag("WEBGL_PACK_CLIP",function(){return Ht.getBool("WEBGL_PACK")}),Ht.registerFlag("WEBGL_PACK_DEPTHWISECONV",function(){return!1}),Ht.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",function(){return Ht.getBool("WEBGL_PACK")}),Ht.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",function(){return Ht.getBool("WEBGL_PACK")}),Ht.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",function(){return Ht.getBool("WEBGL_PACK")}),Ht.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",function(){return Ht.getBool("WEBGL_PACK")}),Ht.registerFlag("WEBGL_PACK_REDUCE",function(){return Ht.getBool("WEBGL_PACK")}),Ht.registerFlag("WEBGL_LAZILY_UNPACK",function(){return Ht.getBool("WEBGL_PACK")}),Ht.registerFlag("WEBGL_CONV_IM2COL",function(){return Ht.getBool("WEBGL_PACK")}),Ht.registerFlag("WEBGL_MAX_TEXTURE_SIZE",function(){return Nt(Ht.getNumber("WEBGL_VERSION"))}),Ht.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",function(){return Mt(Ht.getNumber("WEBGL_VERSION"))}),Ht.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",function(){var e=Ht.getNumber("WEBGL_VERSION");return 0===e?0:Dt(e)}),Ht.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",function(){return Ht.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(e=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))));var e}),Ht.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",function(){return Bt(Ht.getNumber("WEBGL_VERSION"))}),Ht.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",function(){return!Ht.getBool("WEBGL_FORCE_F16_TEXTURES")&&Ht.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")}),Ht.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",function(){return Vt(Ht.getNumber("WEBGL_VERSION"))}),Ht.registerFlag("WEBGL_FENCE_API_ENABLED",function(){return Wt(Ht.getNumber("WEBGL_VERSION"))}),Ht.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",function(){return Ht.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0}),we=qt;var fn=ln({complex_:function(e,t){var n=Jt(e,"real","complex"),r=Jt(t,"imag","complex");return C(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),Fe.runKernelFunc(function(e){return e.complex(n,r)},{$real:n,$imag:r})}}),dn=ln({real_:function(e){var t=Jt(e,"input","real");return Fe.runKernelFunc(function(e){return e.real(t)},{$input:t})}}),pn=ln({imag_:function(e){var t=Jt(e,"input","imag");return Fe.runKernelFunc(function(e){return e.imag(t)},{$input:t})}});function hn(e,t,n){return vn(e,t,Xt(e,n),n)}function vn(e,t,n,r){if(null==r&&(r=X(e)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!z(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){oe(t);var o=j(t),i=j(n);S(o===i,function(){return"Based on the provided shape, ["+t+"], the tensor should have "+o+" values but has "+i});for(var a=0;a<n.length;++a){var s=n[a],u=a!==n.length-1||s!==j(t.slice(a));S(n[a]===t[a]||!u,function(){return"Error creating a new Tensor. Inferred shape ("+n+") does not match the provided shape ("+t+"). "})}}return z(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?Z(e,r,f().getBool("DEBUG")):R(e,[],!0),Fe.makeTensor(e,t,r)}function mn(e,t){if((z(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&z(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return vn(e,[],[],t)}function gn(e,t){k(e);var n=Xt(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return vn(e,null,n,t)}function yn(e,t,n){if(k(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=Xt(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return vn(e,t,r,n)}function bn(e,t,n){if(k(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var r=Xt(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return vn(e,t,r,n)}function wn(e,t,n){if(k(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=Xt(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return vn(e,t,r,n)}function xn(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=xn(e,"float32"),r=On(e,"float32");return fn(n,r)}var o=te(j(e),t);return Fe.makeTensor(o,e,t)}function On(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=On(e,"float32"),r=On(e,"float32");return fn(n,r)}var o=ne(j(e),t);return Fe.makeTensor(o,e,t)}function En(e,t,n){return Fe.runKernelFunc(function(r){return r.fill(e,t,n)},{})}function Sn(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r="float32"),0===n)throw new Error("Cannot have a step of zero");if(e===t||e<t&&n<0||t<e&&n>1)return On([0],r);var o=ne(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),o[0]=e;for(var i=1;i<o.length;i++)o[i]=o[i-1]+n;return gn(o,r)}var Cn=ln({onesLike_:function(e){var t=Jt(e,"x","onesLike");if("complex64"===t.dtype){var n=Cn(dn(t)),r=kn(pn(t));return fn(n,r)}return Fe.runKernelFunc(function(e){return e.onesLike(t)},{$x:t},function(e,t){return{$x:function(){return kn(e)}}})}}),kn=ln({zerosLike_:function(e){var t=Jt(e,"x","zerosLike");return Fe.runKernelFunc(function(e){return e.zerosLike(t)},{$x:t},function(e,t){return{$x:function(){return kn(e)}}})}}),Rn=ln({concat_:function(e,t){void 0===t&&(t=0),S(e.length>=1,function(){return"Pass at least one tensor to concat"});var n=Qt(e,"tensors","concat");"complex64"===n[0].dtype&&n.forEach(function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype "+e.dtype+". ")}),t=D(t,n[0].shape)[0];var r=cn(n.map(function(e){return e.shape}),t);if(0===j(r))return hn([],r);if(1===(n=n.filter(function(e){return e.size>0})).length)return n[0];var o=n.map(function(e){return e.shape});un(o,t);var i=n,a={axis:t};return Fe.runKernelFunc(function(e){return e.concat(n,t)},i,function(e){var n=o.map(function(e){return e[t]});return In(e,n,t).map(function(e){return function(){return e}})},"Concat",a)}}),jn=ln({concat1d_:function(e){return Rn(e,0)}}),Pn=ln({concat2d_:function(e,t){return Rn(e,t)}}),Tn=ln({concat3d_:function(e,t){return Rn(e,t)}}),_n=ln({concat4d_:function(e,t){return Rn(e,t)}}),In=ln({split_:function(e,t,n){void 0===n&&(n=0);var r,o=Jt(e,"x","split");return n=D(n,o.shape)[0],"number"==typeof t?(S(o.shape[n]%t==0,function(){return"Number of splits must evenly divide the axis."}),r=new Array(t).fill(o.shape[n]/t)):(S(o.shape[n]===t.reduce(function(e,t){return e+t}),function(){return"The sum of sizes must match the size of the axis dimension."}),r=t),Fe.runKernelFunc(function(e){return e.split(o,r,n)},{$x:o},function(e){return{$x:function(){return Rn(e,n)}}})}});function An(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e||"undefined"!=typeof self&&self;var Nn=An(function(e){!function(e,t,n){function r(e){var t,n=this,r=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function o(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function i(e,t){var n=new r(e),i=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+1.1102230246251565e-16*(2097152*a()|0)},a.quick=a,i&&("object"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:this.alea=i}(0,e)}),Mn=An(function(e){!function(e,t,n){function r(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function i(e,t){var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:this.xor128=i}(0,e)}),Dn=An(function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function i(e,t){var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:this.xorwow=i}(0,e)}),Ln=An(function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.x,o=t.i;return e=r[o],n=(e^=e>>>7)^e<<24,n^=(e=r[o+1&7])^e>>>10,n^=(e=r[o+3&7])^e>>>3,n^=(e=r[o+4&7])^e<<7,e=r[o+7&7],n^=(e^=e<<13)^e<<9,r[o]=n,t.i=o+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function o(e,t){return t.x=e.x.slice(),t.i=e.i,t}function i(e,t){null==e&&(e=+new Date);var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&(i.x&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:this.xorshift7=i}(0,e)}),Fn=An(function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.w,o=t.X,i=t.i;return t.w=r=r+1640531527|0,n=o[i+34&127],e=o[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=o[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,o,i,a,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),o=0,i=-32;i<u;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(a=a+1640531527|0,o=0==(n=s[127&i]^=r+a)?o+1:0);for(o>=128&&(s[127&(t&&t.length||0)]=-1),o=127,i=512;i>0;--i)r=s[o+34&127],n=s[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[o]=r^n;e.w=a,e.X=s,e.i=o}(t,e)}function o(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function i(e,t){null==e&&(e=+new Date);var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&(i.X&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:this.xor4096=i}(0,e)}),Bn=An(function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,o=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^o,t.a=o-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function i(e,t){var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:this.tychei=i}(0,e)}),Vn=An(function(e){!function(t,r){var o,i=this,a=256,s=6,u="random",c=r.pow(a,s),l=r.pow(2,52),f=2*l,d=a-1;function p(e,n,d){var p=[],y=m(function e(t,n){var r,o=[],i=typeof t;if(n&&"object"==i)for(r in t)try{o.push(e(t[r],n-1))}catch(e){}return o.length?o:"string"==i?t:t+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[e,g(t)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(a):(e=new Uint8Array(a),(i.crypto||i.msCrypto).getRandomValues(e)),g(e)}catch(e){var n=i.navigator,r=n&&n.plugins;return[+new Date,i,r,i.screen,g(t)]}}():e,3),p),b=new h(p),w=function(){for(var e=b.g(s),t=c,n=0;e<l;)e=(e+n)*a,t*=a,n=b.g(1);for(;e>=f;)e/=2,t/=2,n>>>=1;return(e+n)/t};return w.int32=function(){return 0|b.g(4)},w.quick=function(){return b.g(4)/4294967296},w.double=w,m(g(b.S),t),(n.pass||d||function(e,t,n,o){return o&&(o.S&&v(o,b),e.state=function(){return v(b,{})}),n?(r[u]=e,t):e})(w,y,"global"in n?n.global:this==r,n.state)}function h(e){var t,n=e.length,r=this,o=0,i=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);o<a;)s[o]=o++;for(o=0;o<a;o++)s[o]=s[i=d&i+e[o%n]+(t=s[o])],s[i]=t;(r.g=function(e){for(var t,n=0,o=r.i,i=r.j,s=r.S;e--;)t=s[o=d&o+1],n=n*a+s[d&(s[o]=s[i=d&i+t])+(s[i]=t)];return r.i=o,r.j=i,n})(a)}function v(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function m(e,t){for(var n,r=e+"",o=0;o<r.length;)t[d&o]=d&(n^=19*t[d&o])+r.charCodeAt(o++);return g(t)}function g(e){return String.fromCharCode.apply(0,e)}if(r["seed"+u]=p,m(r.random(),t),e.exports){e.exports=p;try{o=n(363)}catch(e){}}}([],Math)});Vn.alea=Nn,Vn.xor128=Mn,Vn.xorwow=Dn,Vn.xorshift7=Ln,Vn.xor4096=Fn,Vn.tychei=Bn;var Un=Vn.alea,Wn=function(){function e(e,t,n,r,o){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var i=o||Math.random();this.random=Un(i.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var o=void 0,i=void 0,a=void 0;do{a=(o=2*this.random()-1)*o+(i=2*this.random()-1)*i}while(a>=1||0===a);var s=Math.sqrt(-2*Math.log(a)/a);t=this.mean+this.stdDev*o*s,n=this.mean+this.stdDev*i*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)},e.prototype.convertValue=function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)},e.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},e}(),zn=function(){function e(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;var o=r||Math.random();this.randu=Un(o.toString()),this.randn=new Wn(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}return e.prototype.nextValue=function(){for(var e,t,n,r,o,i;;){do{r=this.randn.nextValue(),i=1+this.c*r}while(i<=0);if(i*=i*i,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-i+Math.log(i)),(o=this.randu())<t||Math.log(o)<n)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)},e.prototype.convertValue=function(e){return"float32"===this.dtype?e:Math.round(e)},e}(),Hn=function(){function e(e,t,n,r){var o=this;if(void 0===e&&(e=0),void 0===t&&(t=1),this.canReturnFloat=function(){return null==o.dtype||"float32"===o.dtype},this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+e+" - "+t+" <= 1 and dtype is not float");this.random=Un(r)}return e.prototype.convertValue=function(e){return this.canReturnFloat()?e:Math.round(e)},e.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},e}();function qn(e,t,n){return void 0===t&&(t="float32"),t=t||"float32",oe(e),new ge(e,t,n)}var Gn=ln({batchToSpaceND_:function(e,t,n){var r=Jt(e,"x","batchToSpaceND"),o=t.reduce(function(e,t){return e*t});return S(r.rank>=1+t.length,function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+t.length}),S(n.length===t.length,function(){return"crops.length is "+n.length+" but should be equal to blockShape.length  "+t.length}),S(r.shape[0]%o==0,function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+t.join(" * ")+" === "+o}),Fe.runKernelFunc(function(e){return e.batchToSpaceND(r,t,n)},{$x:r},function(e){return{$x:function(){return e.spaceToBatchND(t,n)}}})}}),Kn=ln({broadcastTo_:function(e,t){var n=Jt(e,"broadcastTo","x"),r=n.shape;if(t.some(function(e){return!(e>0)||e%1!=0}))throw new Error("broadcastTo(): Invalid broadcast shape ["+t+"].");if(t.length<n.rank)throw new Error("broadcastTo(): shape.length="+t.length+" < input.rank="+n.rank+".");if(t.length>n.rank){for(var o=n.shape.slice();o.length<t.length;)o.unshift(1);n=n.reshape(o)}for(var i=Array.from(t),a=t.length-1;a>=0;a--)if(n.shape[a]===t[a])i[a]=1;else if(1!==n.shape[a])throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+t+"].");var s=i.map(function(e,t){return e>1?t:-1}).filter(function(e){return e>=0});return 0===s.length?n.clone():Fe.runKernelFunc(function(e){return e.tile(n,i)},{input:n},function(e){return{input:function(){return e.sum(s,!0)}}})}}),$n=ln({cast_:function(e,t){var n=Jt(e,"x","cast");if(!U(t))throw new Error("Failed to cast to unknown dtype "+t);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var r={dtype:t};return Fe.runKernelFunc(function(e){return e.cast(n,t)},{x:n},function(e){return{x:function(){return e.clone()}}},"Cast",r)}}),Xn=ln({clone_:function(e){var t=Jt(e,"x","clone",null);return Fe.runKernelFunc(function(){return Fe.makeTensorFromDataId(t.dataId,t.shape,t.dtype)},{$x:t},function(e){return{$x:function(){return e.toFloat()}}})}}),Yn=ln({cumsum_:function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===r&&(r=!1);var o=Jt(e,"x","cumsum"),i=on([t|=0],o.rank),a=o;null!=i&&(a=o.transpose(i));var s=sn(1,o.rank)[0],u=Fe.runKernelFunc(function(e){return e.cumsum(a,s,n,r)},{permutedX:a},function(e){return{permutedX:function(){return e.cumsum(t,n,!r)}}});return null!=i&&(u=u.transpose(i)),u}}),Jn=ln({depthToSpace_:function(e,t,n){void 0===n&&(n="NHWC");var r=Jt(e,"x","depthToSpace"),o="NHWC"===n?r.shape[1]:r.shape[2],i="NHWC"===n?r.shape[2]:r.shape[3],a="NHWC"===n?r.shape[3]:r.shape[1];return S(o*t>=0,function(){return"Negative dimension size caused by overflow when multiplying\n      "+o+" and "+t+"  for depthToSpace with input shape\n      "+r.shape}),S(i*t>=0,function(){return"Negative dimension size caused by overflow when multiplying\n      "+i+" and "+t+" for depthToSpace with input shape\n          "+r.shape}),S(a%(t*t)==0,function(){return"Dimension size must be evenly divisible by "+t*t+" but is "+a+" for depthToSpace with input shape "+r.shape}),Fe.runKernelFunc(function(e){return e.depthToSpace(r,t,n)},{$x:r})}}),Qn=ln({expandDims_:function(e,t){void 0===t&&(t=0);var n=Jt(e,"x","expandDims",null);S(t<=n.rank,function(){return"Axis must be <= rank of the tensor"});var r=n.shape.slice();return t<0&&(S(-(n.rank+1)<=t,function(){return"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"}),t=n.rank+t+1),r.splice(t,0,1),fr(n,r)}}),Zn=ln({eye_:function(e,t,n,r){void 0===r&&(r="float32"),null==t&&(t=e);for(var o=qn([e,t],r),i=e<=t?e:t,a=0;a<i;++a)o.set(1,a,a);var s=o.toTensor().as2D(e,t);if(null==n)return s;if(1===n.length)return vr(Qn(s,0),[n[0],1,1]);if(2===n.length)return vr(Qn(Qn(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return vr(Qn(Qn(Qn(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),er=ln({multinomial_:function(e,t,n,r){void 0===r&&(r=!1);var o=Jt(e,"logits","multinomial"),i=o.size,a=o.rank;if(i<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+i+".");if(a>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+a);n=n||Math.random();var s=1===a?o.as2D(1,-1):o,u=Fe.runKernelFunc(function(e){return e.multinomial(s,r,t,n)},{logits2D:s});return 1===a?u.as1D():u}}),tr=ln({oneHot_:function(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r=0),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);var o=Jt(e,"indices","oneHot","int32"),i=o.shape.concat([t]);return o=o.flatten(),Fe.runKernelFunc(function(e){return e.oneHot(o,t,n,r)},{$indices:o},function(e){return{$indices:function(){return On(o.shape,"float32")}}}).reshape(i)}}),nr=ln({pad_:function(e,t,n){void 0===n&&(n=0);var r=Jt(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var o={paddings:t,constantValue:n};return Fe.runKernelFunc(function(e){return e.pad(r,t,n)},{x:r},function(e){var n=t.map(function(e){return e[0]});return{x:function(){return e.slice(n,r.shape)}}},"PadV2",o)}}),rr=ln({pad1d_:function(e,t,n){return void 0===n&&(n=0),S(2===t.length,function(){return"Invalid number of paddings. Must be length of 2."}),nr(e,[t],n)}}),or=ln({pad2d_:function(e,t,n){return void 0===n&&(n=0),S(2===t.length&&2===t[0].length&&2===t[1].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),nr(e,t,n)}}),ir=ln({pad3d_:function(e,t,n){return void 0===n&&(n=0),S(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),nr(e,t,n)}}),ar=ln({pad4d_:function(e,t,n){return void 0===n&&(n=0),S(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),nr(e,t,n)}}),sr=ln({rand_:function(e,t,n){var r=j(e),o=null;if(null==n||"float32"===n)o=new Float32Array(r);else if("int32"===n)o=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type "+n);o=new Uint8Array(r)}for(var i=0;i<r;i++)o[i]=t();return Fe.makeTensor(o,e,n)}}),ur=ln({randomNormal_:function(e,t,n,r,o){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var i=new Wn(t,n,r,!1,o),a=qn(e,r),s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}}),cr=ln({randomGamma_:function(e,t,n,r,o){if(void 0===n&&(n=1),void 0===r&&(r="float32"),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type "+r);for(var i=new zn(t,n,r,o),a=qn(e,r),s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}}),lr=ln({randomUniform_:function(e,t,n,r,o){void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r="float32");for(var i=qn(e,r),a=new Hn(t,n,null,o),s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}}),fr=ln({reshape_:function(e,t){var n=Jt(e,"x","reshape",null);t=M(t,n.size),S(n.size===j(t),function(){return"new shape and old shape must have the same number of elements."});var r={shape:t};return Fe.runKernelFunc(function(e){return e.reshape(n,t)},{x:n},function(e){return{x:function(){return e.reshape(n.shape)}}},"Reshape",r)}}),dr=ln({spaceToBatchND_:function(e,t,n){var r=Jt(e,"x","spaceToBatchND");return S(r.rank>=1+t.length,function(){return"input rank "+r.rank+" should be > than [blockShape] "+t.length}),S(n.length===t.length,function(){return"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+t.length}),S(r.shape.reduce(function(e,r,o){return o>0&&o<=t.length?e&&(r+n[o-1][0]+n[o-1][1])%t[o-1]==0:e},!0),function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+t.toString()}),Fe.runKernelFunc(function(e){return e.spaceToBatchND(r,t,n)},{$x:r},function(e){return{$x:function(){return e.batchToSpaceND(t,n)}}})}}),pr=ln({squeeze_:function(e,t){var n=Jt(e,"x","squeeze");return fr(n,L(n.shape,t).newShape)}}),hr=ln({stack_:function(e,t){void 0===t&&(t=0);var n=Qt(e,"tensors","stack");if(S(n.length>=1,function(){return"Pass at least one tensor to tf.stack"}),1===n.length)return n[0].expandDims(t);var r=n[0].rank,o=n[0].shape,i=n[0].dtype;S(t<=r,function(){return"Axis must be <= rank of the tensor"}),n.forEach(function(e){C(o,e.shape,"All tensors passed to stack must have matching shapes")}),n.forEach(function(e){S(i===e.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var a=n.map(function(e){return e.expandDims(t)});return Rn(a,t)}}),vr=ln({tile_:function(e,t){var n=Jt(e,"x","tile",null);S(n.rank===t.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of reps "+t+"."});var r=[n],o={reps:t};return Fe.runKernelFunc(function(e,r){var o=e.tile(n,t);return r([n]),o},{x:n},function(e,n){var r=n[0];return{x:function(){var n=kn(r);if(1===r.rank)for(var o=0;o<t[0];++o)n=n.add(e.slice([o*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(o=0;o<t[0];++o)for(var i=0;i<t[1];++i)n=n.add(e.slice([o*r.shape[0],i*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(o=0;o<t[0];++o)for(i=0;i<t[1];++i)for(var a=0;a<t[2];++a)n=n.add(e.slice([o*r.shape[0],i*r.shape[1],a*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+r.rank+" tensors yet.");for(o=0;o<t[0];++o)for(i=0;i<t[1];++i)for(a=0;a<t[2];++a)for(var s=0;s<t[3];++s)n=n.add(e.slice([o*r.shape[0],i*r.shape[1],a*r.shape[2],s*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return n}}},"Tile",o,r)}}),mr=ln({truncatedNormal_:function(e,t,n,r,o){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var i=new Wn(t,n,r,!0,o),a=qn(e,r),s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}}),gr=ln({unstack_:function(e,t){void 0===t&&(t=0),t=t||0;var n=Jt(e,"x","unstack");S(t>=-n.shape.length&&t<n.shape.length,function(){return"Axis = "+t+" is not in [-"+n.shape.length+", "+n.shape.length+")"}),t<0&&(t+=n.shape.length);var r={axis:t};return Fe.runKernelFunc(function(e){return e.unstack(n,t)},{x:n},function(e){return{x:function(){return hr(e,t)}}},"Unpack",r)}});function yr(e,t,n,r){void 0===r&&(r=!0);var o=[];if(r)(o=o.concat(t.slice(0))).push(e[0]/n),o=o.concat(e.slice(1));else{o=o.concat(e[0]);for(var i=t.length,a=0;a<i;++a)o=o.concat([e[a+1]/t[a],t[a]]);o=o.concat(e.slice(i+1))}return o}function br(e,t,n){void 0===n&&(n=!0);var r=[];if(n){r.push(t);for(var o=t+1;o<e;++o)o<=2*t?(r.push(o),r.push(o-(t+1))):r.push(o)}else{var i=[],a=[];for(o=1;o<e;++o)o>=2*t+1||o%2==1?a.push(o):i.push(o);r.push.apply(r,i),r.push(0),r.push.apply(r,a)}return r}function wr(e,t,n,r){void 0===r&&(r=!0);var o=[];r?o.push(e[0]/n):o.push(e[0]*n);for(var i=1;i<e.length;++i)i<=t.length?r?o.push(t[i-1]*e[i]):o.push(e[i]/t[i-1]):o.push(e[i]);return o}function xr(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function Or(e,t,n){for(var r=e.slice(0,1),o=0;o<n;++o)r.push(e[o+1]-t[o][0]-t[o][1]);return r}function Er(e,t){if(e.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.shape[t.rank-1]>e.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+t.shape[t.rank-1]+" vs. "+e.rank);if(0===e.size)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+e.shape+".");for(var n=t.shape,r=n[n.length-1],o=1,i=0;i<n.length-1;++i)o*=n[i];var a=e.shape,s=n.slice();s.pop();var u=1;for(i=r;i<e.rank;++i)u*=a[i],s.push(a[i]);var c=Q(e.shape).map(function(e){return e/u}).concat([1]).slice(0,r);return[s,o,u,c]}Object.freeze({prepareAndValidate:Er});var Sr=30;function Cr(e){return e<=Sr?e:J(e,Math.floor(Math.sqrt(e)))}function kr(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,o=t.rank>1?t.rank-1:1,i="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+t.shape+", shape: "+e+", sliceDim: "+r+", and batchDim: "+o+".";if(n.rank<o)throw new Error(i+" update.rank < "+o+". ");if(e.length<r+(n.rank-o))throw new Error(i+" Output shape length < "+(r+(n.rank-o)));if(n.rank!==o+e.length-r)throw new Error(i+" update.rank != "+(o+e.length-r));for(var a=0;a<o;++a)if(n.shape[a]!==t.shape[a])throw new Error(i+" updates.shape["+a+"] ("+n.shape[a]+") != indices.shape["+a+"] ("+t.shape[a]+").");for(a=0;a<n.rank-o;++a)if(n.shape[a+o]!==e[a+r])throw new Error(i+" updates.shape["+(a+o)+"] ("+n.shape[a+o]+") != shape["+(a+o)+"] ("+e[a+o]+")")}function Rr(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+e.rank+".");if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: "+t.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: "+t.shape);if(0===e.size)throw new Error("Updates specified for empty output. updates shape: "+e.shape)}kr(n,t,e)}function jr(e,t,n){for(var r=t.shape.length,o=r>1?t.shape[r-1]:1,i=n.length,a=1,s=o;s<i;++s)a*=n[s];var u=o<1?1:o;return{sliceRank:o,numUpdates:j(t.shape)/u,sliceSize:a,strides:Q(n.slice(0,o)).concat([1]),outputSize:j(n)}}Object.freeze({validateUpdateShape:kr,validateInput:Rr,calculateShapes:jr});function Pr(e,t,n){S(e.rank===t.length,function(){return"Error in slice"+e.rank+"D: Length of begin "+t+" must match the rank of the array ("+e.rank+")."}),S(e.rank===n.length,function(){return"Error in slice"+e.rank+"D: Length of size "+n+" must match the rank of the array ("+e.rank+")."});for(var r=function(r){S(t[r]+n[r]<=e.shape[r],function(){return"Error in slice"+e.rank+"D: begin["+r+"] + size["+r+"] ("+(t[r]+n[r])+") would overflow input.shape["+r+"] ("+e.shape[r]+")"})},o=0;o<e.rank;++o)r(o)}function Tr(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function _r(e,t,n){for(var r=[],o=0;o<e.length;o++)r[o]=Math.ceil((t[o]-e[o])/n[o]);return r}function Ir(e,t,n,r,o){var i=t[o],a=n[o]||1;(e&1<<o||null==i)&&(i=a>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[o];return i<0&&(i+=s),x(0,i,s-1)}function Ar(e,t,n,r,o){var i=t[o],a=n[o]||1;(e&1<<o||null==i)&&(i=a>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[o];return i<0&&(i+=s),a>0?x(0,i,s):x(-1,i,s-1)}function Nr(e,t,n){for(var r=n.length,o=0;o<n.length;o++)if(n[o]>1){r=o;break}for(o=r+1;o<n.length;o++)if(t[o]>0||n[o]!==e[o])return!1;return!0}function Mr(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}Object.freeze({assertParamsValid:Pr,maskToAxes:Tr,computeOutShape:_r,startForAxis:Ir,stopForAxis:Ar,isSliceContinous:Nr,computeFlatOffset:Mr});function Dr(e){return Fe.customGrad(e)}var Lr=ln({softmax_:function(e,t){void 0===t&&(t=-1);var n=Jt(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+t);return Fe.runKernelFunc(function(e,r){var o=e.softmax(n,t);return r([o]),o},{logits:n},function(e,n){var r=n[0],o=e.mul(r);return{logits:function(){return o.sub(o.sum([t],!0).mul(r))}}},"Softmax",{dim:t},[],[!0])}}),Fr=ln({logSoftmax_:function(e,t){void 0===t&&(t=-1);var n=Jt(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+t);return Dr(function(e,n){var r=e.max(t,!0),o=e.sub(r),i=o.toFloat().sub(o.exp().sum(t,!0).log());return n([i]),{value:i,gradFunc:function(e,n){var r=n[0].exp();return e.sub(e.sum(t,!0).mul(r))}}})(n)}}),Br=function(){function e(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}return e.prototype.get=function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)},e.prototype.set=function(e,t){this.dataIdsCount++,this.data.set(e,t)},e.prototype.has=function(e){return this.data.has(e)},e.prototype.delete=function(e){return this.dataIdsCount--,this.data.delete(e)},e.prototype.numDataIds=function(){return this.dataIdsCount},e}(),Vr=function(){function e(){}return e.prototype.time=function(e){return Ur("time")},e.prototype.read=function(e){return Ur("read")},e.prototype.readSync=function(e){return Ur("readSync")},e.prototype.numDataIds=function(){return Ur("numDataIds")},e.prototype.disposeData=function(e){return Ur("disposeData")},e.prototype.write=function(e,t,n){return Ur("write")},e.prototype.move=function(e,t,n,r){return Ur("move")},e.prototype.memory=function(){return Ur("memory")},e.prototype.floatPrecision=function(){return Ur("floatPrecision")},e.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},e.prototype.batchMatMul=function(e,t,n,r){return Ur("batchMatMul")},e.prototype.fusedBatchMatMul=function(e){return e.a,e.b,e.transposeA,e.transposeB,e.bias,e.activation,e.preluActivationWeights,Ur("fusedBatchMatMul")},e.prototype.slice=function(e,t,n){return Ur("slice")},e.prototype.stridedSlice=function(e,t,n,r){return Ur("stridedSlice")},e.prototype.unstack=function(e,t){return Ur("unstack")},e.prototype.reverse=function(e,t){return Ur("reverse")},e.prototype.concat=function(e,t){return Ur("concat")},e.prototype.neg=function(e){return Ur("neg")},e.prototype.add=function(e,t){return Ur("add")},e.prototype.addN=function(e){return Ur("addN")},e.prototype.subtract=function(e,t){return Ur("subtract")},e.prototype.multiply=function(e,t){return Ur("multiply")},e.prototype.realDivide=function(e,t){return Ur("realDivide")},e.prototype.floorDiv=function(e,t){return Ur("floorDiv")},e.prototype.sum=function(e,t){return Ur("sum")},e.prototype.prod=function(e,t){return Ur("prod")},e.prototype.unsortedSegmentSum=function(e,t,n){return Ur("unsortedSegmentSum")},e.prototype.argMin=function(e,t){return Ur("argMin")},e.prototype.argMax=function(e,t){return Ur("argMax")},e.prototype.equal=function(e,t){return Ur("equal")},e.prototype.notEqual=function(e,t){return Ur("notEqual")},e.prototype.less=function(e,t){return Ur("less")},e.prototype.lessEqual=function(e,t){return Ur("lessEqual")},e.prototype.greater=function(e,t){return Ur("greater")},e.prototype.greaterEqual=function(e,t){return Ur("greaterEqual")},e.prototype.logicalNot=function(e){return Ur("logicalNot")},e.prototype.logicalAnd=function(e,t){return Ur("logicalAnd")},e.prototype.logicalOr=function(e,t){return Ur("logicalOr")},e.prototype.where=function(e){return Ur("where")},e.prototype.select=function(e,t,n){return Ur("select")},e.prototype.topk=function(e,t,n){return Ur("topk")},e.prototype.min=function(e,t){return Ur("min")},e.prototype.minimum=function(e,t){return Ur("minimum")},e.prototype.mod=function(e,t){return Ur("mod")},e.prototype.max=function(e,t){return Ur("max")},e.prototype.maximum=function(e,t){return Ur("maximum")},e.prototype.all=function(e,t){return Ur("all")},e.prototype.any=function(e,t){return Ur("any")},e.prototype.squaredDifference=function(e,t){return Ur("squaredDifference")},e.prototype.ceil=function(e){return Ur("ceil")},e.prototype.floor=function(e){return Ur("floor")},e.prototype.round=function(e){return Ur("round")},e.prototype.sign=function(e){return Ur("sign")},e.prototype.isNaN=function(e){return Ur("isNaN")},e.prototype.isInf=function(e){return Ur("isInf")},e.prototype.isFinite=function(e){return Ur("isFinite")},e.prototype.pow=function(e,t){return Ur("pow")},e.prototype.exp=function(e){return Ur("exp")},e.prototype.expm1=function(e){return Ur("expm1")},e.prototype.softmax=function(e,t){return Ur("softmax")},e.prototype.log=function(e){return Ur("log")},e.prototype.log1p=function(e){return Ur("log1p")},e.prototype.sqrt=function(e){return Ur("sqrt")},e.prototype.rsqrt=function(e){return Ur("rsqrt")},e.prototype.square=function(e){return Ur("square")},e.prototype.reciprocal=function(e){return Ur("reciprocal")},e.prototype.relu=function(e){return Ur("relu")},e.prototype.relu6=function(e){return Ur("relu6")},e.prototype.prelu=function(e,t){return Ur("prelu")},e.prototype.elu=function(e){return Ur("elu")},e.prototype.eluDer=function(e,t){return Ur("eluDer")},e.prototype.selu=function(e){return Ur("selu")},e.prototype.int=function(e){return Ur("int")},e.prototype.clip=function(e,t,n){return Ur("clip")},e.prototype.abs=function(e){return Ur("abs")},e.prototype.complexAbs=function(e){return Ur("complexAbs")},e.prototype.sigmoid=function(e){return Ur("sigmoid")},e.prototype.softplus=function(e){return Ur("softplus")},e.prototype.sin=function(e){return Ur("sin")},e.prototype.cos=function(e){return Ur("cos")},e.prototype.tan=function(e){return Ur("tan")},e.prototype.asin=function(e){return Ur("asin")},e.prototype.acos=function(e){return Ur("acos")},e.prototype.atan=function(e){return Ur("atan")},e.prototype.atan2=function(e,t){return Ur("atan2")},e.prototype.sinh=function(e){return Ur("sinh")},e.prototype.cosh=function(e){return Ur("cosh")},e.prototype.tanh=function(e){return Ur("tanh")},e.prototype.asinh=function(e){return Ur("asinh")},e.prototype.acosh=function(e){return Ur("acosh")},e.prototype.atanh=function(e){return Ur("atanh")},e.prototype.erf=function(e){return Ur("erf")},e.prototype.step=function(e,t){return Ur("step")},e.prototype.fusedConv2d=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,Ur("fusedConv2d")},e.prototype.conv2d=function(e,t,n){return Ur("conv2d")},e.prototype.conv2dDerInput=function(e,t,n){return Ur("conv2dDerInput")},e.prototype.conv2dDerFilter=function(e,t,n){return Ur("conv2dDerFilter")},e.prototype.fusedDepthwiseConv2D=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,Ur("fusedDepthwiseConv2D")},e.prototype.depthwiseConv2D=function(e,t,n){return Ur("depthwiseConv2D")},e.prototype.depthwiseConv2DDerInput=function(e,t,n){return Ur("depthwiseConv2DDerInput")},e.prototype.depthwiseConv2DDerFilter=function(e,t,n){return Ur("depthwiseConv2DDerFilter")},e.prototype.conv3d=function(e,t,n){return Ur("conv3d")},e.prototype.conv3dDerInput=function(e,t,n){return Ur("conv3dDerInput")},e.prototype.conv3dDerFilter=function(e,t,n){return Ur("conv3dDerFilter")},e.prototype.maxPool=function(e,t){return Ur("maxPool")},e.prototype.maxPoolBackprop=function(e,t,n,r){return Ur("maxPoolBackprop")},e.prototype.avgPool=function(e,t){return Ur("avgPool")},e.prototype.avgPoolBackprop=function(e,t,n){return Ur("avgPoolBackprop")},e.prototype.avgPool3d=function(e,t){return Ur("avgPool3d")},e.prototype.avgPool3dBackprop=function(e,t,n){return Ur("avgPool3dBackprop")},e.prototype.maxPool3d=function(e,t){return Ur("maxPool3d")},e.prototype.maxPool3dBackprop=function(e,t,n,r){return Ur("maxPool3dBackprop")},e.prototype.reshape=function(e,t){return Ur("reshape")},e.prototype.cast=function(e,t){return Ur("cast")},e.prototype.tile=function(e,t){return Ur("tile")},e.prototype.pad=function(e,t,n){return Ur("pad")},e.prototype.transpose=function(e,t){return Ur("transpose")},e.prototype.gather=function(e,t,n){return Ur("gather")},e.prototype.gatherND=function(e,t){return Ur("gatherND")},e.prototype.scatterND=function(e,t,n){return Ur("scatterND")},e.prototype.batchToSpaceND=function(e,t,n){return Ur("batchToSpaceND")},e.prototype.spaceToBatchND=function(e,t,n){return Ur("spaceToBatchND")},e.prototype.resizeBilinear=function(e,t,n,r){return Ur("resizeBilinear")},e.prototype.resizeBilinearBackprop=function(e,t,n){return Ur("resizeBilinearBackprop")},e.prototype.resizeNearestNeighbor=function(e,t,n,r){return Ur("resizeNearestNeighbor")},e.prototype.resizeNearestNeighborBackprop=function(e,t,n){return Ur("resizeNearestNeighborBackprop")},e.prototype.batchNormalization=function(e,t,n,r,o,i){return Ur("batchNormalization")},e.prototype.localResponseNormalization4D=function(e,t,n,r,o){return Ur("localResponseNormalization4D")},e.prototype.LRNGrad=function(e,t,n,r,o,i,a){return Ur("LRNGrad")},e.prototype.multinomial=function(e,t,n,r){return Ur("multinomial")},e.prototype.oneHot=function(e,t,n,r){return Ur("oneHot")},e.prototype.cumsum=function(e,t,n,r){return Ur("cumsum")},e.prototype.nonMaxSuppression=function(e,t,n,r,o){return Ur("nonMaxSuppression")},e.prototype.fft=function(e){return Ur("fft")},e.prototype.ifft=function(e){return Ur("ifft")},e.prototype.complex=function(e,t){return Ur("complex")},e.prototype.real=function(e){return Ur("real")},e.prototype.imag=function(e){return Ur("imag")},e.prototype.cropAndResize=function(e,t,n,r,o,i){return Ur("cropAndResize")},e.prototype.depthToSpace=function(e,t,n){return Ur("depthToSpace")},e.prototype.split=function(e,t,n){return Ur("split")},e.prototype.sparseToDense=function(e,t,n,r){return Ur("sparseToDense")},e.prototype.diag=function(e){return Ur("diag")},e.prototype.fill=function(e,t,n){return Ur("fill")},e.prototype.onesLike=function(e){return Ur("onesLike")},e.prototype.zerosLike=function(e){return Ur("zerosLike")},e.prototype.linspace=function(e,t,n){return Ur("linspace")},e.prototype.dispose=function(){return Ur("dispose")},e}();function Ur(e){throw new Error("'"+e+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function Wr(e,t){for(var n=e.length,r=[],o=0;o<n;o++){var i=n-1-o,a=e[i]||1;(t[t.length-1-o]||1)>1&&1===a&&r.unshift(i)}return r}function zr(e,t){for(var n=[],r=0;r<t.length;r++){var o=e[e.length-r-1],i=t.length-r-1,a=t[i];(null==o||1===o&&a>1)&&n.unshift(i)}return n}function Hr(e,t){for(var n=[],r=Math.max(e.length,t.length),o=0;o<r;o++){var i=e[e.length-o-1];null==i&&(i=1);var a=t[t.length-o-1];if(null==a&&(a=1),1===i)n.unshift(a);else if(1===a)n.unshift(i);else{if(i!==a)throw Error("Operands could not be broadcast together with shapes "+e+" and "+t+".");n.unshift(i)}}return n}function qr(e,t,n,r,o,i,a){void 0===a&&(a="channelsLast");var s,u=Yr(t),c=u[0],l=u[1];if("channelsLast"===a)s=[c,l,e[3],e[3]];else{if("channelsFirst"!==a)throw new Error("Unknown dataFormat "+a);s=[c,l,e[1],e[1]]}return Kr(e,s,n,r,o,i,!1,a)}function Gr(e,t,n,r,o,i,a){void 0===a&&(a="NDHWC");var s,u,c=Jr(t),l=c[0],f=c[1],d=c[2];if("NDHWC"===a)u="channelsLast",s=[l,f,d,e[4],e[4]];else{if("NCDHW"!==a)throw new Error("Unknown dataFormat "+a);u="channelsFirst",s=[l,f,d,e[1],e[1]]}return $r(e,s,n,r,o,!1,u,i)}function Kr(e,t,n,r,o,i,a,s){void 0===a&&(a=!1),void 0===s&&(s="channelsLast");var u=[-1,-1,-1,-1],c=u[0],l=u[1],f=u[2],d=u[3];if("channelsLast"===s)c=e[0],l=e[1],f=e[2],d=e[3];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat "+s);c=e[0],d=e[1],l=e[2],f=e[3]}var p,h=t[0],v=t[1],m=t[3],g=Yr(n),y=g[0],b=g[1],w=Yr(r),x=w[0],O=w[1],E=Qr(h,x),C=Qr(v,O),k=function(e,t,n,r,o,i,a,s){var u,c,l;if("number"==typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var f=function(e,t,n,r,o){null==r&&(r=Xr(e,t,n));var i=e[1],a=Zr((e[0]-t+2*r)/n+1,o);S(T(a),function(){return"The output # of rows ("+a+") must be an integer. Change the stride and/or zero pad parameters"});var s=Zr((i-t+2*r)/n+1,o);return S(T(s),function(){return"The output # of columns ("+s+") must be an integer. Change the stride and/or zero pad parameters"}),[a,s]}([t,n],i,r,e,s);c=f[0],l=f[1]}else if("same"===e){c=Math.ceil(t/r),l=Math.ceil(n/o);var d=Math.max(0,(c-1)*r+i-t),p=Math.max(0,(l-1)*o+a-n),h=Math.floor(d/2),v=d-h,m=Math.floor(p/2);u={top:h,bottom:v,left:m,right:p-m,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-i+1)/r),l=Math.ceil((n-a+1)/o)}return{padInfo:u,outHeight:c,outWidth:l}}(o,l,f,y,b,E,C,i),R=k.padInfo,j=k.outHeight,P=k.outWidth,_=a?m*d:m;return"channelsFirst"===s?p=[c,_,j,P]:"channelsLast"===s&&(p=[c,j,P,_]),{batchSize:c,dataFormat:s,inHeight:l,inWidth:f,inChannels:d,outHeight:j,outWidth:P,outChannels:_,padInfo:R,strideHeight:y,strideWidth:b,filterHeight:h,filterWidth:v,effectiveFilterHeight:E,effectiveFilterWidth:C,dilationHeight:x,dilationWidth:O,inShape:e,outShape:p,filterShape:t}}function $r(e,t,n,r,o,i,a,s){void 0===i&&(i=!1),void 0===a&&(a="channelsLast");var u=[-1,-1,-1,-1,-1],c=u[0],l=u[1],f=u[2],d=u[3],p=u[4];if("channelsLast"===a)c=e[0],l=e[1],f=e[2],d=e[3],p=e[4];else{if("channelsFirst"!==a)throw new Error("Unknown dataFormat "+a);c=e[0],p=e[1],l=e[2],f=e[3],d=e[4]}var h,v=t[0],m=t[1],g=t[2],y=t[4],b=Jr(n),w=b[0],x=b[1],O=b[2],E=Jr(r),C=E[0],k=E[1],R=E[2],j=Qr(v,C),P=Qr(m,k),_=Qr(g,R),I=function(e,t,n,r,o,i,a,s,u,c,l){var f,d,p,h;if("number"==typeof e){f={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var v=function(e,t,n,r,o,i){null==o&&(o=Xr(e,t,r));var a=e[1],s=e[2],u=Zr((e[0]-t+2*o)/r+1,i);S(T(u),function(){return"The output # of depths ("+u+") must be an integer. Change the stride and/or zero pad parameters"});var c=Zr((a-t+2*o)/r+1,i);S(T(c),function(){return"The output # of rows ("+c+") must be an integer. Change the stride and/or zero pad parameters"});var l=Zr((s-t+2*o)/r+1,i);return S(T(l),function(){return"The output # of columns ("+l+") must be an integer. Change the stride and/or zero pad parameters"}),[u,c,l,1]}([t,n,r,1],s,0,o,e,l);d=v[0],p=v[1],h=v[2]}else if("same"===e){var m=((d=Math.ceil(t/o))-1)*o+s-t,g=((p=Math.ceil(n/i))-1)*i+u-n,y=((h=Math.ceil(r/a))-1)*a+c-r,b=Math.floor(m/2),w=m-b,x=Math.floor(g/2),O=g-x,E=Math.floor(y/2);f={top:x,bottom:O,left:E,right:y-E,front:b,back:w,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);f={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},d=Math.ceil((t-s+1)/o),p=Math.ceil((n-u+1)/i),h=Math.ceil((r-c+1)/a)}return{padInfo:f,outDepth:d,outHeight:p,outWidth:h}}(o,l,f,d,w,x,O,j,P,_,s),A=I.padInfo,N=I.outDepth,M=I.outHeight,D=I.outWidth,L=i?y*p:y;return"channelsFirst"===a?h=[c,L,N,M,D]:"channelsLast"===a&&(h=[c,N,M,D,L]),{batchSize:c,dataFormat:a,inDepth:l,inHeight:f,inWidth:d,inChannels:p,outDepth:N,outHeight:M,outWidth:D,outChannels:L,padInfo:A,strideDepth:w,strideHeight:x,strideWidth:O,filterDepth:v,filterHeight:m,filterWidth:g,effectiveFilterDepth:j,effectiveFilterHeight:P,effectiveFilterWidth:_,dilationDepth:C,dilationHeight:k,dilationWidth:R,inShape:e,outShape:h,filterShape:t}}function Xr(e,t,n,r){void 0===r&&(r=1);var o=Qr(t,r);return Math.floor((e[0]*(n-1)-n+o)/2)}function Yr(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function Jr(e){return"number"==typeof e?[e,e,e]:e}function Qr(e,t){return t<=1?e:e+(e-1)*(t-1)}function Zr(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+t)}}function eo(e){var t=Yr(e),n=t[0],r=t[1],o=t[2];return 1===n&&1===r&&1===o}function to(e,t){return eo(e)||eo(t)}function no(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat "+e)}function ro(e,t,n){if("complex64"===t){if("complex64"===e.dtype)return e.clone();var r=On(e.shape),o=e.toFloat(),i=n.complex(o,r);return r.dispose(),o.dispose(),i}if(!W(e.dtype,t))return Fe.makeTensorFromDataId(e.dataId,e.shape,t);if("complex64"===e.dtype){var a=n.real(e);return i=a.cast(t),a.dispose(),i}if("int32"===t)return n.int(e);if("bool"===t){var s=mn(0,e.dtype);return i=n.notEqual(e,s),s.dispose(),i}throw new Error("Error in Cast: failed to cast "+e.dtype+" to "+t)}function oo(e,t){return Fe.makeTensorFromDataId(e.dataId,t,e.dtype)}function io(e,t,n){var r=(t-e)/(n-1),o=ne(n,"float32");o[0]=e;for(var i=1;i<o.length;i++)o[i]=o[i-1]+r;return gn(o,"float32")}Object.freeze({castTensor:ro,reshapeTensor:oo,linspaceImpl:io,upcastType:Te,axesAreInnerMostDims:Zt,combineLocations:en,computeOutAndReduceShapes:tn,expandShapeToKeepDim:nn,assertAxesAreInnerMostDims:rn,getAxesPermutation:on,getUndoAxesPermutation:an,getInnerMostAxes:sn,getBroadcastDims:Wr,getReductionAxes:zr,assertAndGetBroadcastShape:Hr,assertParamsConsistent:un,computeOutShape:cn,computePool2DInfo:qr,computePool3DInfo:Gr,computeConv2DInfo:Kr,computeConv3DInfo:$r,computeDefaultPad:Xr,tupleValuesAreOne:eo,eitherStridesOrDilationsAreOne:to,convertConv2DDataFormat:no,PARALLELIZE_THRESHOLD:Sr,computeOptimalWindowSize:Cr});function ao(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+e.length+", imag: "+t.length+".");for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function so(e,t){return{real:e[2*t],imag:e[2*t+1]}}function uo(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function co(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}function lo(e,t,n){var r=function(e,t,n){return function(e,t,n){for(var r=0,o=e.length,i=0,a=!1;r<o;){var s=n(t,e[i=r+(o-r>>>1)]);s>0?r=i+1:(o=i,a=!s)}return a?r:-r-1}(e,t,n||fo)}(e,t,n),o=r<0?-(r+1):r;e.splice(o,0,t)}function fo(e,t){return e>t?1:e<t?-1:0}function po(e,t,n,r,o){return vo(e,t,n,r,o,0).selectedIndices}function ho(e,t,n,r,o,i){var a=vo(e,t,n,r,o,i,!0);return a.numValidOutputs.dispose(),{selectedIndices:a.selectedIndices,selectedScores:a.selectedScores}}function vo(e,t,n,r,o,i,a,s){void 0===a&&(a=!1),void 0===s&&(s=!1);for(var u=Array.from(t).map(function(e,t){return{score:e,boxIndex:t,suppressBeginIndex:0}}).filter(function(e){return e.score>o}).sort(yo),c=i>0?-.5/i:0,l=[],f=[];l.length<n&&u.length>0;){var d=u.pop(),p=d.score,h=d.boxIndex,v=d.suppressBeginIndex;if(p<o)break;for(var m=!1,g=l.length-1;g>=v;--g){var y=mo(e,h,l[g]);if(y>=r){m=!0;break}if(d.score=d.score*go(r,c,y),d.score<=o)break}d.suppressBeginIndex=l.length,m||(d.score===p?(l.push(h),f.push(d.score)):d.score>o&&lo(u,d,yo))}var b=l.length;return s&&(l.fill(0,b),f.fill(0,b)),{selectedIndices:gn(l,"int32"),selectedScores:gn(f,"float32"),numValidOutputs:mn(b,"int32")}}function mo(e,t,n){var r=e.subarray(4*t,4*t+4),o=e.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),a=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),c=Math.min(o[0],o[2]),l=Math.min(o[1],o[3]),f=Math.max(o[0],o[2]),d=Math.max(o[1],o[3]),p=(s-i)*(u-a),h=(f-c)*(d-l);if(p<=0||h<=0)return 0;var v=Math.max(i,c),m=Math.max(a,l),g=Math.min(s,f),y=Math.min(u,d),b=Math.max(g-v,0)*Math.max(y-m,0);return b/(p+h-b)}function go(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function yo(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function bo(e,t,n){var r=new Array(e.rank).fill(0),o=e.shape.slice();return t.map(function(t){o[n]=t;var i=e.slice(r,o);return r[n]+=t,i})}function wo(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];var o=qn(n,e.dtype);for(r=0;r<o.values.length;++r){for(var i=o.indexToLoc(r),a=new Array(e.rank),s=0;s<a.length;s++)a[s]=i[s]%e.shape[s];var u=e.locToIndex(a);o.values[r]=e.values[u]}return o.toTensor()}function xo(e,t,n,r,o){for(var i=t[t.length-1],a=[e.length/i,i],s=a[0],u=a[1],c=F(n,s*r),l=F("int32",s*r),f=0;f<s;f++){for(var d=f*u,p=e.subarray(d,d+u),h=[],v=0;v<p.length;v++)h.push({value:p[v],index:v});h.sort(function(e,t){return t.value-e.value});var m=f*r,g=c.subarray(m,m+r),y=l.subarray(m,m+r);for(v=0;v<r;v++)g[v]=h[v].value,y[v]=h[v].index}var b=t.slice();return b[b.length-1]=r,[hn(c,b,n),hn(l,b,"int32")]}function Oo(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);var o=qn(e,"int32"),i=qn([n.length,e.length],"int32");for(r=0;r<n.length;r++){var a=o.indexToLoc(n[r]),s=r*e.length;i.values.set(a,s)}return i.toTensor()}var Eo=function(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(function(e,t){return"T"+t});var n=[];this.variableNames.forEach(function(e){n.push("float v"+e+" = get"+e+"AtOutCoords();")});var r=this.variableNames.map(function(e){return"v"+e}).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        float result = "+r+";\n        setOutput(result);\n      }\n    "},So=function(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(function(e,t){return"T"+t});var n=[];this.variableNames.forEach(function(e){n.push("vec4 v"+e+" = get"+e+"AtOutCoords();")});var r=this.variableNames.map(function(e){return"v"+e}).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        vec4 result = "+r+";\n        setOutput(result);\n      }\n    "},Co=function(e,t,n){this.variableNames=["A"];var r=e.windowSize,o=e.batchSize,i=e.inSize,a=Math.ceil(i/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[o,a];var s="max"===t?">":"<",u=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+u+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "};function ko(e,t){return["x","y","z","w","u","v"].slice(0,t).map(function(t){return e+"."+t})}function Ro(e,t){return 1===t?[e]:ko(e,t)}function jo(){var e,t,n,r,o,i,a,s,u,c;return 2===f().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",o="texture",i="outputColor",a="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",u="",c="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",o="texture2D",i="gl_FragColor",a="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",u="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",c="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:o,output:i,defineOutput:a,defineSpecialNaN:s,defineSpecialInf:u,defineRound:c}}function Po(e,t,n){void 0===n&&(n="index");var r=Q(t);return r.map(function(t,o){return"int "+e[o]+" = "+n+" / "+t+"; "+(o===r.length-1?"int "+e[o+1]+" = "+n+" - "+e[o]+" * "+t:"index -= "+e[o]+" * "+t)+";"}).join("")}function To(e){var t=Q(e).map(function(e){return e.toString()});return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * "+t[0]+" + coords.y * "+t[1]+" + coords.z;\n  }\n"}var _o="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n";function Io(e,t,n,r){var o=[];e.forEach(function(e){var t=j(e.shapeInfo.logicalShape);e.shapeInfo.isUniform?o.push("uniform float "+e.name+(t>1?"["+t+"]":"")+";"):(o.push("uniform sampler2D "+e.name+";"),o.push("uniform int offset"+e.name+";"))});var i,a,s=o.join("\n"),u=e.map(function(e){return function(e,t,n){void 0===n&&(n=!1);var r="";r+=n?function e(t){var n,r,o;switch(t.shapeInfo.logicalShape.length){case 0:return n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=jo(),"\n    vec4 "+r+"() {\n      return "+o.texture2D+"("+n+", halfCR);\n    }\n  ";case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=e.shapeInfo.texShape,o=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],i=jo();return"\n    vec4 "+n+"(int index) {\n      vec2 uv = packedUVfrom1D(\n        "+o[0]+", "+o[1]+", index);\n      return "+i.texture2D+"("+t+", uv);\n    }\n  "}(t);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape,i=o[0],a=o[1],s=jo();if(null!=o&&P(t,o))return"\n      vec4 "+r+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+a+".0, "+i+".0);\n\n        return "+s.texture2D+"("+n+", uv);\n      }\n    ";var u=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],c=Math.ceil(t[1]/2);return"\n    vec4 "+r+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+c+", "+u[0]+", "+u[1]+", row, col);\n      return "+s.texture2D+"("+n+", uv);\n    }\n  "}(t);case 3:return function(t){var n=t.shapeInfo.logicalShape,r=t.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape,a=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(1===n[0]){var s=n.slice(1),u=Vo(t,s);return"\n        "+e(u)+"\n        vec4 "+o+"(int b, int row, int col) {\n          return "+o+"("+Uo(["b","row","col"],[1,2])+");\n        }\n      "}var c=a[0],l=a[1],f=Math.ceil(n[2]/2),d=f*Math.ceil(n[1]/2),p=jo();return"\n    vec4 "+o+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+c+", "+l+", "+d+", "+f+", b, row, col);\n      return "+p.texture2D+"("+r+", uv);\n    }\n  "}(t);default:return function(e){for(var t=e.shapeInfo.logicalShape,n=t.length,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,a=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],s=a[0],u=a[1],c=Math.ceil(t[n-1]/2),l=c*Math.ceil(t[n-2]/2),f="int b, int row, int col",d="b * "+l+" + (row / 2) * "+c+" + (col / 2)",p=2;p<n-1;p++)f="int b"+p+", "+f,l*=t[n-p-1],d="b"+p+" * "+l+" + "+d;var h=jo();return"\n    vec4 "+o+"("+f+") {\n      int index = "+d+";\n      int texR = index / "+u+";\n      int texC = index - texR * "+u+";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+u+", "+s+");\n      return "+h.texture2D+"("+r+", uv);\n    }\n  "}(t)}}(e):function e(t){var n=t.shapeInfo.logicalShape;switch(n.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"float "+n+"() {return "+t+";}";var r=e.shapeInfo.texShape,o=r[0],i=r[1];if(1===o&&1===i)return"\n      float "+n+"() {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var a=e.shapeInfo.texShape,s=a[0],u=a[1],c=Lo(t);return"\n    float "+n+"() {\n      vec2 uv = uvFromFlat("+s+", "+u+", "+c+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(t);case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"\n      float "+n+"(int index) {\n        "+Fo(e)+"\n      }\n    ";var r=e.shapeInfo.texShape,o=r[0],i=r[1];if(1===i&&1===o)return"\n      float "+n+"(int index) {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var a=Lo(t);return 1===i?"\n      float "+n+"(int index) {\n        vec2 uv = vec2(0.5, (float(index + "+a+") + 0.5) / "+o+".0);\n        return sampleTexture("+t+", uv);\n      }\n    ":1===o?"\n      float "+n+"(int index) {\n        vec2 uv = vec2((float(index + "+a+") + 0.5) / "+i+".0, 0.5);\n        return sampleTexture("+t+", uv);\n      }\n    ":"\n    float "+n+"(int index) {\n      vec2 uv = uvFromFlat("+o+", "+i+", index + "+a+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(t);case 2:return function(t){var n=t.shapeInfo.logicalShape,r=t.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape;if(null!=i&&P(n,i)){var a=i[0],s=i[1];return"\n    float "+o+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+s+".0, "+a+".0);\n      return sampleTexture("+r+", uv);\n    }\n  "}var u=L(n),c=u.newShape,l=u.keptDims,f=c;if(f.length<n.length){var d=Vo(t,f);return"\n      "+e(d)+"\n      float "+o+"(int row, int col) {\n        return "+o+"("+Uo(["row","col"],l)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+o+"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2("+n[1]+", 1)));\n        "+Fo(t)+"\n      }\n    ";var p=i[0],h=i[1],v=Lo(r);return 1===h?"\n    float "+o+"(int row, int col) {\n      float index = dot(vec3(row, col, "+v+"), vec3("+n[1]+", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / "+p+".0);\n      return sampleTexture("+r+", uv);\n    }\n  ":1===p?"\n    float "+o+"(int row, int col) {\n      float index = dot(vec3(row, col, "+v+"), vec3("+n[1]+", 1, 1));\n      vec2 uv = vec2((index + 0.5) / "+h+".0, 0.5);\n      return sampleTexture("+r+", uv);\n    }\n  ":"\n  float "+o+"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * "+n[1]+" + col + "+v+";\n    vec2 uv = uvFromFlat("+p+", "+h+", index);\n    return sampleTexture("+r+", uv);\n  }\n"}(t);case 3:return function(t){var n=t.shapeInfo.logicalShape,r=t.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[1]*n[2],a=n[2],s=L(n),u=s.newShape,c=s.keptDims,l=u;if(l.length<n.length){var f=Vo(t,l);return"\n        "+e(f)+"\n        float "+o+"(int row, int col, int depth) {\n          return "+o+"("+Uo(["row","col","depth"],c)+");\n        }\n      "}if(t.shapeInfo.isUniform)return"\n      float "+o+"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3("+i+", "+a+", 1)));\n        "+Fo(t)+"\n      }\n    ";var d=t.shapeInfo.texShape,p=d[0],h=d[1],v=t.shapeInfo.flatOffset;if(h===i&&null==v)return"\n        float "+o+"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2("+a+", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+h+".0, "+p+".0);\n          return sampleTexture("+r+", uv);\n        }\n      ";if(h===a&&null==v)return"\n    float "+o+"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2("+n[1]+", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+h+".0, "+p+".0);\n      return sampleTexture("+r+", uv);\n    }\n  ";var m=Lo(r);return"\n      float "+o+"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * "+i+" + col * "+a+" + depth + "+m+";\n        vec2 uv = uvFromFlat("+p+", "+h+", index);\n        return sampleTexture("+r+", uv);\n      }\n  "}(t);case 4:return function(t){var n=t.shapeInfo.logicalShape,r=t.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[3],a=n[2]*i,s=n[1]*a,u=L(n),c=u.newShape,l=u.keptDims;if(c.length<n.length){var f=Vo(t,c);return"\n      "+e(f)+"\n      float "+o+"(int row, int col, int depth, int depth2) {\n        return "+o+"("+Uo(["row","col","depth","depth2"],l)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+o+"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4("+s+", "+a+", "+i+", 1)));\n        "+Fo(t)+"\n      }\n    ";var d=t.shapeInfo.flatOffset,p=t.shapeInfo.texShape,h=p[0],v=p[1];if(v===s&&null==d)return"\n      float "+o+"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3("+a+", "+i+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+v+".0, "+h+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ";if(v===i&&null==d)return"\n      float "+o+"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3("+n[1]*n[2]+", "+n[2]+", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+v+".0, "+h+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ";var m=Lo(r);return"\n    float "+o+"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+s+" + col * "+a+" +\n          depth * "+i+" + depth2;\n      vec2 uv = uvFromFlat("+h+", "+v+", index + "+m+");\n      return sampleTexture("+r+", uv);\n    }\n  "}(t);case 5:return function(t){var n=t.shapeInfo.logicalShape,r=t.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[4],a=n[3]*i,s=n[2]*a,u=n[1]*s,c=L(n),l=c.newShape,f=c.keptDims;if(l.length<n.length){var d=Vo(t,l);return"\n      "+e(d)+"\n      float "+o+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+o+"("+Uo(["row","col","depth","depth2","depth3"],f)+");\n      }\n    "}if(t.shapeInfo.isUniform)return"\n      float "+o+"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+u+", "+s+", "+a+", "+i+")) +\n          depth3;\n        "+Fo(t)+"\n      }\n    ";var p=t.shapeInfo.flatOffset,h=t.shapeInfo.texShape,v=h[0],m=h[1];if(m===u&&null==p)return"\n      float "+o+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4("+s+", "+a+", "+i+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+m+".0, "+v+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ";if(m===i&&null==p)return"\n      float "+o+"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+n[1]*n[2]*n[3]+",\n               "+n[2]*n[3]+", "+n[3]+", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+m+".0, "+v+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ";var g=Lo(r);return"\n    float "+o+"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+u+" + col * "+s+" + depth * "+a+" +\n          depth2 * "+i+" + depth3 + "+g+";\n      vec2 uv = uvFromFlat("+v+", "+m+", index);\n      return sampleTexture("+r+", uv);\n    }\n  "}(t);case 6:return function(t){var n=t.shapeInfo.logicalShape,r=t.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=L(n),a=i.newShape,s=i.keptDims;if(a.length<n.length){var u=Vo(t,a);return"\n      "+e(u)+"\n      float "+o+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+o+"("+Uo(["row","col","depth","depth2","depth3","depth4"],s)+");\n      }\n    "}var c=n[5],l=n[4]*c,f=n[3]*l,d=n[2]*f,p=n[1]*d;if(t.shapeInfo.isUniform)return"\n      float "+o+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4("+p+", "+d+", "+f+", "+l+")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2("+c+", 1)));\n        "+Fo(t)+"\n      }\n    ";var h=t.shapeInfo.flatOffset,v=t.shapeInfo.texShape,m=v[0],g=v[1];if(g===p&&null==h)return"\n      float "+o+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4("+d+", "+f+", "+l+", "+c+")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+g+".0, "+m+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ";if(g===c&&null==h)return"\n      float "+o+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4("+n[1]*n[2]*n[3]*n[4]+",\n               "+n[2]*n[3]*n[4]+",\n               "+n[3]*n[4]+",\n               "+n[4]+")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+g+".0, "+m+".0);\n        return sampleTexture("+r+", uv);\n      }\n    ";var y=Lo(r);return"\n    float "+o+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+p+" + col * "+d+" + depth * "+f+" +\n          depth2 * "+l+" + depth3 * "+c+" + depth4 + "+y+";\n      vec2 uv = uvFromFlat("+m+", "+g+", index);\n      return sampleTexture("+r+", uv);\n    }\n  "}(t);default:throw new Error(n.length+"-D input sampling is not yet supported")}}(e);var o=e.shapeInfo.logicalShape,i=t.logicalShape;return o.length<=i.length&&(r+=n?function(e,t){var n,r=e.name,o=r.charAt(0).toUpperCase()+r.slice(1),i="get"+o+"AtOutCoords",a=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,u=Wr(e.shapeInfo.logicalShape,t.logicalShape),c=Bo(s),l=s-a,f=["x","y","z","w","u","v"];n=0===a?"":s<2&&u.length>=1?"coords = 0;":u.map(function(e){return"coords."+f[e+l]+" = 0;"}).join("\n");var d;d=s<2&&a>0?"coords":e.shapeInfo.logicalShape.map(function(e,t){return"coords."+f[t+l]}).join(", ");var p="return outputValue;",h=1===j(e.shapeInfo.logicalShape),v=1===j(t.logicalShape);if(1!==a||h||v){if(h&&!v)p=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(u.length){var m=a-2,g=a-1;u.indexOf(m)>-1&&u.indexOf(g)>-1?p="return vec4(outputValue.x);":u.indexOf(m)>-1?p="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":u.indexOf(g)>-1&&(p="return vec4(outputValue.xx, outputValue.zz);")}}else p="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 "+i+"() {\n      "+c+" coords = getOutputCoords();\n      "+n+"\n      vec4 outputValue = get"+o+"("+d+");\n      "+p+"\n    }\n  "}(e,t):function(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),o="get"+r+"AtOutCoords",i=t.texShape,a=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,u=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===u&&null==e.shapeInfo.flatOffset&&P(a,i))return"\n      float "+o+"() {\n        return sampleTexture("+n+", resultUV);\n      }\n    ";var c=Bo(u),l=Wr(e.shapeInfo.logicalShape,t.logicalShape),f=u-s,d=["x","y","z","w","u","v"];return"\n    float "+o+"() {\n      "+c+" coords = getOutputCoords();\n      "+(0===s?"":u<2&&l.length>=1?"coords = 0;":l.map(function(e){return"coords."+d[e+f]+" = 0;"}).join("\n"))+"\n      return get"+r+"("+(u<2&&s>0?"coords":e.shapeInfo.logicalShape.map(function(e,t){return"coords."+d[t+f]}).join(", "))+");\n    }\n  "}(e,t)),r}(e,t,r)}).join("\n"),c=t.texShape,l=jo(),f="\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return "+l.texture2D+"(textureSampler, uv).r;\n    }\n  ",d=function(e){return e.version+"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    "+e.varyingFs+" vec2 resultUV;\n    "+e.defineOutput+"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    "+e.defineSpecialNaN+"\n    "+e.defineSpecialInf+"\n    "+e.defineRound+"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    "+Ao+"\n    "+No+"\n    "+Mo+"\n  "}(l);return t.isPacked?(i=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return 1===n[0]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * "+n[1]+".0);\n      }\n    ":1===n[1]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * "+n[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      return 2 * (resTexRC.x * "+n[1]+" + resTexRC.y);\n    }\n  "}(0,t);case 2:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(P(e,t))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2("+n[0]+", "+n[1]+"));\n      }\n    ";var r=Math.ceil(e[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=e,r=t,o=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],a=(i=Math.ceil(n[2]/2))*Math.ceil(n[1]/2),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+o[0]+", "+o[1]+"));\n      int index = resTexRC.x * "+o[1]+" + resTexRC.y;\n\n      int b = index / "+a+";\n      index -= b * "+a+";\n\n      int r = 2 * (index / "+i+");\n      int c = imod(index, "+i+") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";default:return function(e,t){for(var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[e.length-1]/2),o=r*Math.ceil(e[e.length-2]/2),i=o,a="",s="b, r, c",u=2;u<e.length-1;u++)a="\n      int b"+u+" = index / "+(i*=e[e.length-u-1])+";\n      index -= b"+u+" * "+i+";\n    "+a,s="b"+u+", "+s;return"\n    ivec"+e.length+" getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n\n      "+a+"\n\n      int b = index / "+o+";\n      index -= b * "+o+";\n\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec"+e.length+"("+s+");\n    }\n  "}(e,t)}var n,r,o,i,a}(t.logicalShape,c),a="\n    void setOutput(vec4 val) {\n      "+l.output+" = val;\n    }\n  "):(i=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){return 1===t[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+t[1]+".0);\n      }\n    ":1===t[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+t[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      return resTexRC.x * "+t[1]+" + resTexRC.y;\n    }\n  "}(0,t);case 2:return function(e,t){return P(e,t)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+t[0]+", "+t[1]+"));\n      }\n    ":1===e[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===e[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      int r = index / "+e[1]+";\n      int c = index - r * "+e[1]+";\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=t,r=Po(["r","c","d"],e),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      "+r+"\n      return ivec3(r, c, d);\n    }\n  ";case 4:return function(e,t){var n=Po(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      "+n+"\n      return ivec4(r, c, d, d2);\n    }\n  "}(e,t);case 5:return function(e,t){var n=Po(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+t[0]+",\n                             "+t[1]+"));\n\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}(e,t);case 6:return function(e,t){var n=Po(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}(e,t);default:throw new Error(e.length+"-D output sampling is not yet supported")}var n,r}(t.logicalShape,c),a="\n    void setOutput(float val) {\n      "+l.output+" = vec4(val, 0, 0, 0);\n    }\n  "),r&&(d+=Do),[d,f,a,s,i,u,n].join("\n")}var Ao="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",No="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Mo="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Do="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function Lo(e){return"offset"+e}function Fo(e){var t=e.name,n=j(e.shapeInfo.logicalShape);return n<2?"return "+t+";":"\n    for (int i = 0; i < "+n+"; i++) {\n      if (i == index) {\n        return "+t+"[i];\n      }\n    }\n  "}function Bo(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function Vo(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function Uo(e,t){return t.map(function(t){return e[t]}).join(", ")}var Wo=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,S(e.length>2,function(){return"Packed arg"+(n.charAt(0).toUpperCase()+n.slice(1))+" supports only inputs with rank above 2."});var o=e[e.length-1],i=Math.ceil(o/t);this.outputShape=e.slice(0,-1),i>1&&this.outputShape.push(i),r||this.variableNames.push("bestIndicesA");var a,s,u=this.outputShape,c=u.length,l=Bo(c),f=Ro("coords",c);if(1===i){var d=Bo(s=c+1);a="\n        "+d+" sourceLocR = "+d+"("+f.join()+", 0);\n        ++"+f[c-1]+";\n        "+d+" sourceLocG = "+d+"("+f.join()+", 0);\n        ++"+f[c-2]+";\n        "+d+" sourceLocA = "+d+"("+f.join()+", 0);\n        --"+f[c-1]+";\n        "+d+" sourceLocB = "+d+"("+f.join()+", 0);\n        --"+f[c-2]+";"}else s=c,a="\n        "+l+" sourceLocR = coords;\n        ++"+f[c-1]+";\n        "+l+" sourceLocG = coords;\n        ++"+f[c-2]+";\n        "+l+" sourceLocA = coords;\n        --"+f[c-1]+";\n        "+l+" sourceLocB = coords;\n        --"+f[c-2]+";";var p=["x","y","z","w","u","v"].slice(0,s),h="."+p[s-1],v=p.map(function(e){return"int "+e}),m=Ro("sourceLocR",s-1).concat("inIdx.r"),g=Ro("sourceLocG",s-1).concat("inIdx.g"),y=Ro("sourceLocB",s-1).concat("inIdx.b"),b=Ro("sourceLocA",s-1).concat("inIdx.a"),w="max"===n?"greaterThan":"lessThan",x=r?"":"\n          inIdx = round(vec4(getBestIndicesAChannel("+m.join()+"),\n                             getBestIndicesAChannel("+g.join()+"),\n                             getBestIndicesAChannel("+y.join()+"),\n                             getBestIndicesAChannel("+b.join()+")));",O="vec4(\n            getAChannel("+m.join()+"),\n            hasNextCol ? getAChannel("+g.join()+") : 0.,\n            hasNextRow ? getAChannel("+y.join()+") : 0.,\n            hasNextRow && hasNextCol ? getAChannel("+b.join()+") : 0.)",E=r?"":"\n      float getBestIndicesAChannel("+v.join()+") {\n        return getChannel(getBestIndicesA("+p.join()+"),\n                                          vec2("+p.slice(-2).join()+"));\n      }";this.userCode="\n      float getAChannel("+v.join()+") {\n        return getChannel(getA("+p.join()+"),\n                               vec2("+p.slice(-2).join()+"));\n      }\n      "+E+"\n      void main() {\n        "+l+" coords = getOutputCoords();\n        bool hasNextCol = "+f[c-1]+" < "+(u[c-1]-1)+";\n        bool hasNextRow = "+f[c-2]+" < "+(u[c-2]-1)+";\n        "+a+"\n        ivec4 srcIdx = ivec4(sourceLocR"+h+", sourceLocG"+h+",\n          sourceLocB"+h+", sourceLocA"+h+") * "+t+";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = "+O+";\n\n        for (int i = 0; i < "+t+"; i++) {\n          inIdx = srcIdx;\n          "+x+"\n          vec4 candidate = "+O+";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4("+w+"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    "},zo=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=s-1-e.padInfo.top,l=u-1-e.padInfo.left,f=1/(t*n);this.userCode="\n      const ivec2 pads = ivec2("+c+", "+l+");\n      const float avgMultiplier = float("+f+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+";\n            wR += "+i+") {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+u+";\n            wC+= "+a+") {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Ho=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,l=e.effectiveFilterDepth,f=e.effectiveFilterHeight,d=e.effectiveFilterWidth,p=l-1-e.padInfo.front,h=f-1-e.padInfo.top,v=d-1-e.padInfo.left,m=1/(t*n*r);this.userCode="\n      const ivec3 pads = ivec3("+p+", "+h+", "+v+");\n      const float avgMultiplier = float("+m+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+l+";\n            wD += "+s+") {\n          float dyD = float(dyDCorner + wD) / "+o+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+f+";\n              wR += "+u+") {\n            float dyR = float(dyRCorner + wR) / "+i+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+d+";\n                wC += "+c+") {\n              float dyC = float(dyCCorner + wC) / "+a+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},qo=function(e,t,n,r,o,i){this.outputShape=[],this.variableNames=["x","mean","variance"],Hr(e,t),Hr(e,n);var a="0.0";null!=r&&(Hr(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var s="1.0";null!=o&&(Hr(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+a+";\n        float scale = "+s+";\n        float inv = scale * inversesqrt(variance + float("+i+"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    "},Go=function(e,t,n,r,o,i){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Hr(e,t),Hr(e,n);var a="vec4(0.0)";null!=r&&(Hr(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var s="vec4(1.0)";null!=o&&(Hr(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        vec4 offset = "+a+";\n        vec4 scale = "+s+";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4("+i+"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    "},Ko=function(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Hr(t,n),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+e+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "},$o="return a + b;",Xo="return a - b;",Yo="return a * b;",Jo="return (a < 0.) ? b * a : a;",Qo=function(e,t,n){this.variableNames=["A","B"],this.outputShape=Hr(t,n),this.userCode="\n      float binaryOperation(float a, float b) {\n        "+e+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "},Zo="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",ei=function(e,t,n,r){void 0===r&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Hr(t,n);var o=this.outputShape.length,i="";if(r)if(0===o||1===j(this.outputShape))i="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(i="\n          "+Bo(o)+" coords = getOutputCoords();\n        ",1===o)i+="\n            result.y = (coords + 1) >= "+this.outputShape[0]+" ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ";else{var a=Ro("coords",o);i+="\n            bool nextRowOutOfBounds =\n              ("+a[o-2]+" + 1) >= "+this.outputShape[o-2]+";\n            bool nextColOutOfBounds =\n              ("+a[o-1]+" + 1) >= "+this.outputShape[o-1]+";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        "+e+"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        "+i+"\n\n        setOutput(result);\n      }\n    "},ti=function(){function e(e){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,o){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(o,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(o,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),ni=function(){function e(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,o){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(o,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(o,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),ri=function(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "},oi=function(e){this.outputShape=[],this.outputShape=cn(e,1),this.variableNames=e.map(function(e,t){return"T"+t});var t=new Array(e.length-1);t[0]=e[0][1];for(var n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];var r=["if (yC < "+t[0]+") setOutput(getT0(yR, yC));"];for(n=1;n<t.length;n++){var o=t[n-1];r.push("else if (yC < "+t[n]+") setOutput(getT"+n+"(yR, yC-"+o+"));")}var i=t.length,a=t[t.length-1];r.push("else setOutput(getT"+i+"(yR, yC-"+a+"));"),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        "+r.join("\n        ")+"\n      }\n    "},ii=function(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=cn(e,t);var n=this.outputShape,r=n.length,o=Bo(r),i=Ro("coords",r),a=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map(function(e,t){return"T"+t});var s=new Array(e.length-1);s[0]=e[0][t];for(var u=1;u<s.length;u++)s[u]=s[u-1]+e[u][t];var c=a[t],l=a.slice(-2),f=a.join(),d="if ("+c+" < "+s[0]+") {\n        return getChannel(\n            getT0("+f+"), vec2("+l.join()+"));\n        }";for(u=1;u<s.length;u++){var p=s[u-1];d+="\n        if ("+c+" < "+s[u]+"  && "+c+" >= "+s[u-1]+") {\n          return getChannel(\n            getT"+u+"("+ai(a,c,p)+"),\n            vec2("+ai(l,c,p)+"));\n        }"}var h=s.length,v=s[s.length-1];d+="\n        return getChannel(\n          getT"+h+"("+ai(a,c,v)+"),\n          vec2("+ai(l,c,v)+"));",this.userCode="\n      float getValue("+a.map(function(e){return"int "+e})+") {\n        "+d+"\n      }\n\n      void main() {\n        "+o+" coords = getOutputCoords();\n        vec4 result = vec4(getValue("+i+"), 0., 0., 0.);\n\n        "+i[r-1]+" = "+i[r-1]+" + 1;\n        if ("+i[r-1]+" < "+n[r-1]+") {\n          result.g = getValue("+i+");\n        }\n\n        "+i[r-2]+" = "+i[r-2]+" + 1;\n        if ("+i[r-2]+" < "+n[r-2]+") {\n          result.a = getValue("+i+");\n        }\n\n        "+i[r-1]+" = "+i[r-1]+" - 1;\n        if ("+i[r-2]+" < "+n[r-2]+" &&\n            "+i[r-1]+" < "+n[r-1]+") {\n          result.b = getValue("+i+");\n        }\n        setOutput(result);\n      }\n    "};function ai(e,t,n){var r=e.indexOf(t);return e.map(function(e,t){return t===r?e+" - "+n:e}).join()}var si=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,i="channelsLast"===e.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+o+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              if ("+i+") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ui=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i="channelsLast"===e.dataFormat,a=t-1-e.padInfo.top,s=n-1-e.padInfo.left,u=i?1:2,c=i?2:3,l=i?3:1;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords["+l+"];\n\n        ivec2 dyCorner = ivec2(coords["+u+"], coords["+c+"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n\n              if ("+i+") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ci=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.padInfo.front,i=e.padInfo.top,a=e.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yF = 0; yF < "+e.outDepth+"; yF++) {\n            int xF = wF + yF * "+t+" - "+o+";\n\n            if (xF < 0 || xF >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n              int xR = wR + yR * "+n+" - "+i+";\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n                int xC = wC + yC * "+r+" - "+a+";\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},li=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=t-1-e.padInfo.front,u=n-1-e.padInfo.top,c=r-1-e.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3("+s+", "+u+", "+c+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+t+"; wF++) {\n          float dyF = float(dyFCorner + wF) / "+o+".0;\n\n          if (dyF < 0.0 || dyF >= "+e.outDepth+".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = "+t+" - 1 - wF;\n\n          for (int wR = 0; wR < "+n+"; wR++) {\n            float dyR = float(dyRCorner + wR) / "+i+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = "+n+" - 1 - wR;\n\n            for (int wC = 0; wC < "+r+"; wC++) {\n              float dyC = float(dyCCorner + wC) / "+a+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = "+r+" - 1 - wC;\n\n              for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},fi=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+i+" + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+o+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},di=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i=t-1-e.padInfo.top,a=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+i+", "+a+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+s+"; dm++) {\n              int d2 = d1 * "+s+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},pi=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var o=e.padInfo.top,i=e.padInfo.left,a=e.strideHeight,s=e.strideWidth,u=e.dilationHeight,c=e.dilationWidth,l=e.filterHeight,f=e.filterWidth,d=4*Math.floor(e.inChannels/4),p=e.inChannels%4,h="channelsLast"===e.dataFormat,v=h?1:2,m=h?2:3,g=h?3:1,y="",b="";n&&(y=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",b="result = activation(result);");var w=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+y+"\n\n      const ivec2 strides = ivec2("+a+", "+s+");\n      const ivec2 pads = ivec2("+o+", "+i+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords["+g+"];\n\n        ivec2 xRCCorner =\n            ivec2(coords["+v+"], coords["+m+"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+l+"; wR++) {\n          int xR = xRCorner + wR * "+u+";\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+f+"; wC++) {\n            int xC = xCCorner + wC * "+c+";\n\n            if (xC < 0 || xC >= "+e.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+d+"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if ("+h+") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if ("+(1===p)+") {\n\n              if ("+h+") {\n                dotProd +=\n                    getX(batch, xR, xC, "+d+") *\n                    getW(wR, wC, "+d+", d2);\n              } else {\n                dotProd +=\n                    getX(batch, "+d+", xR, xC) *\n                    getW(wR, wC, "+d+", d2);\n              }\n\n            } else if ("+(2===p)+") {\n              vec2 wValues = vec2(\n                getW(wR, wC, "+d+", d2),\n                getW(wR, wC, "+d+" + 1, d2)\n              );\n\n              if ("+h+") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, "+d+"),\n                  getX(batch, xR, xC, "+d+" + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, "+d+", xR, xC),\n                  getX(batch, "+d+" + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if ("+(3===p)+") {\n              vec3 wValues = vec3(\n                getW(wR, wC, "+d+", d2),\n                getW(wR, wC, "+d+" + 1, d2),\n                getW(wR, wC, "+d+" + 2, d2)\n              );\n\n              if ("+h+") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, "+d+"),\n                  getX(batch, xR, xC, "+d+" + 1),\n                  getX(batch, xR, xC, "+d+" + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, "+d+", xR, xC),\n                  getX(batch, "+d+" + 1, xR, xC),\n                  getX(batch, "+d+" + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        "+w+"\n        "+b+"\n        setOutput(result);\n      }\n    "},hi=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,l=e.filterDepth,f=e.filterHeight,d=e.filterWidth,p=4*Math.floor(e.inChannels/4),h=e.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3("+o+", "+i+", "+a+");\n      const ivec3 pads = ivec3("+t+", "+n+", "+r+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+l+"; wF++) {\n          int xF = xFCorner + wF * "+s+";\n\n          if (xF < 0 || xF >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+f+"; wR++) {\n            int xR = xRCorner + wR * "+u+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+d+"; wC++) {\n              int xC = xCCorner + wC * "+c+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < "+p+"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if ("+(1===h)+") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, "+p+") *\n                  getW(wF, wR, wC, "+p+", d2);\n              } else if ("+(2===h)+") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, "+p+"),\n                  getX(batch, xF, xR, xC, "+p+" + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, "+p+", d2),\n                  getW(wF, wR, wC, "+p+" + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if ("+(3===h)+") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, "+p+"),\n                  getX(batch, xF, xR, xC, "+p+" + 1),\n                  getX(batch, xF, xR, xC, "+p+" + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, "+p+", d2),\n                  getW(wF, wR, wC, "+p+" + 1, d2),\n                  getW(wF, wR, wC, "+p+" + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},vi=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var o=e.inHeight,i=e.inWidth,a=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,c=e.strideWidth,l=e.dilationHeight,f=e.dilationWidth,d=e.filterHeight,p=e.filterWidth,h=e.outChannels/e.inChannels,v="",m="";n&&(v=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",m="result = activation(result);");var g=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+v+"\n\n      const ivec2 strides = ivec2("+u+", "+c+");\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+h+";\n        int q = d2 - d1 * "+h+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+d+"; wR++) {\n          int xR = xRCorner + wR * "+l+";\n\n          if (xR < 0 || xR >= "+o+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+p+"; wC++) {\n            int xC = xCCorner + wC * "+f+";\n\n            if (xC < 0 || xC >= "+i+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        "+g+"\n        "+m+"\n        setOutput(result);\n      }\n    "},mi=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;for(var o=e.inHeight,i=e.inWidth,a=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,c=e.strideWidth,l=e.dilationHeight,f=e.dilationWidth,d=e.filterHeight,p=e.filterWidth,h=p,v="int xR; int xC; int xCOffset;",m=0;m<d;m++)for(var g=0;g<p;g++)v+="\n          vec4 xTexelR"+m+"C"+2*g+" = vec4(0.);\n          vec4 wR"+m+"C"+g+" = vec4(0.);\n          vec4 xR"+m+"C"+g+" = vec4(0.);";for(m=0;m<d;m++)for(var y=0;y<h;y++){if(v+="\n          xR = xRCorner + "+m*l+";\n          xC = xCCorner + "+(g=2*y)*f+";\n        ",1===c){if(g<p&&(v+=s%2==1?"\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < "+o+" && xCOffset >= 0 && xCOffset < "+i+") {\n                  xTexelR"+m+"C"+g+" = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+i+") {\n                    xTexelR"+m+"C"+g+".zw = vec2(0.);\n                  }\n                } else {\n                  xTexelR"+m+"C"+g+" = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < "+o+" && xCOffset >= 0 && xCOffset < "+i+") {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+i+") {\n                    previous.zw = vec2(0.);\n                  }\n\n                  xR"+m+"C"+g+" = vec4(previous.zw, xTexelR"+m+"C"+g+".xy);\n                } else {\n                  xR"+m+"C"+g+" = vec4(0, 0, xTexelR"+m+"C"+g+".xy);\n                }\n              ":"\n                if(xR >= 0 && xR < "+o+" && xC >= 0 && xC < "+i+") {\n                  xTexelR"+m+"C"+g+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+m+"C"+g+" = vec4(0.);\n                }\n\n                xR"+m+"C"+g+" = xTexelR"+m+"C"+g+";\n              ",g+1<p)){var b=s%2==0?O(f):f;f%2==0&&s%2==1||f%2!=0&&s%2!=1?(v+="\n                  xCOffset = xC + "+s%2+" + "+b+";\n\n                  if(xR >= 0 && xR < "+o+" &&\n                    xCOffset >= 0 && xCOffset < "+i+") {\n                    xTexelR"+m+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n                ",f>1&&(v+="\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < "+o+" &&\n                      xCOffset >= 0 && xCOffset < "+i+") {\n                      xTexelR"+m+"C"+g+" = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR"+m+"C"+g+" = vec4(0.);\n                    }\n                  "),v+="\n                  xR"+m+"C"+(g+1)+" = vec4(\n                    xTexelR"+m+"C"+g+".zw, xTexelR"+m+"C"+(g+2)+".xy);\n                "):v+="\n                  xCOffset = xC + "+b+";\n\n                  if(xR >= 0 && xR < "+o+" &&\n                    xCOffset >= 0 && xCOffset < "+i+") {\n                    xTexelR"+m+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR"+m+"C"+(g+1)+" = xTexelR"+m+"C"+(g+2)+";\n                "}}else g<p&&(v+="\n              if(xR >= 0 && xR < "+o+") {\n            ",s%2==1?(v+="\n                xCOffset = xC + 1 - "+c+";\n                if(xCOffset >= 0 && xCOffset < "+i+") {\n                  xTexelR"+m+"C"+g+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+m+"C"+g+" = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < "+i+") {\n                  xTexelR"+m+"C"+(g+2)+" = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR"+m+"C"+(g+2)+" = vec4(0.);\n                }\n\n                xR"+m+"C"+g+" = vec4(\n                  xTexelR"+m+"C"+g+".zw, xTexelR"+m+"C"+(g+2)+".zw);\n              ",g+1<p&&(v+="\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + "+c+";\n                  if(xCOffset >= 0 && xCOffset < "+i+") {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR"+m+"C"+(g+1)+" = vec4(xTexelR"+m+"C"+(g+2)+".xy, final.xy);\n                ")):(v+="\n                if(xC >= 0 && xC < "+i+") {\n                  xTexelR"+m+"C"+g+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+m+"C"+g+" = vec4(0.);\n                }\n\n                xCOffset = xC + "+c+";\n                if(xCOffset >= 0 && xCOffset < "+i+") {\n                  xTexelR"+m+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+m+"C"+(g+2)+" = vec4(0.);\n                }\n\n                xR"+m+"C"+g+" = vec4(\n                  xTexelR"+m+"C"+g+".xy, xTexelR"+m+"C"+(g+2)+".xy);\n              ",g+1<p&&(v+="\n                  xR"+m+"C"+(g+1)+" = vec4(\n                    xTexelR"+m+"C"+g+".zw, xTexelR"+m+"C"+(g+2)+".zw);\n                ")),v+="}");g<p&&(v+="\n            vec4 wTexelR"+m+"C"+g+" = getW("+m+", "+g+", d1, q);\n            wR"+m+"C"+g+" = vec4(wTexelR"+m+"C"+g+".xz, wTexelR"+m+"C"+g+".xz);\n          ",g+1<p&&(v+="\n              vec4 wTexelR"+m+"C"+(g+1)+" = getW("+m+", "+(g+1)+", d1, q);\n              wR"+m+"C"+(g+1)+" =\n                vec4(wTexelR"+m+"C"+(g+1)+".xz, wTexelR"+m+"C"+(g+1)+".xz);"))}for(m=0;m<d;m++)for(g=0;g<p;g++)v+="dotProd += xR"+m+"C"+g+" * wR"+m+"C"+g+";";var w="",x="";n&&(w=r?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"vec4 activation(vec4 x) {\n          "+n+"\n        }",x="result = activation(result);");var E=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+w+"\n\n      const ivec2 strides = ivec2("+u+", "+c+");\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        "+v+"\n\n        vec4 result = dotProd;\n        "+E+"\n        "+x+"\n        setOutput(result);\n      }\n    "},gi=function(e,t,n,r,o){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var i=e[0],a=e[1],s=e[2],u=e[3],c=t[0],l=n[0],f=n[1];this.outputShape=[c,l,f,u];var d="bilinear"===r?1:0,p=[a-1+".0",s-1+".0"],h=p[0],v=p[1],m=l>1?[""+(a-1)/(l-1),"(y2-y1) * height_ratio","y1*"+h+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+h],g=m[0],y=m[1],b=m[2],w=f>1?[""+(s-1)/(f-1),"(x2-x1) * width_ratio","x1*"+v+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+v],x=w[0],O=w[1],E=w[2];this.userCode="\n      const float height_ratio = float("+g+");\n      const float width_ratio = float("+x+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+i+") {\n          return;\n        }\n\n        float height_scale = "+y+";\n        float width_scale = "+O+";\n\n        float in_y = "+b+";\n        if( in_y < 0.0 || in_y > "+h+" ) {\n          setOutput(float("+o+"));\n          return;\n        }\n        float in_x = "+E+";\n        if( in_x < 0.0 || in_x > "+v+" ) {\n          setOutput(float("+o+"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if("+d+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    "},yi=function(e,t,n){this.variableNames=["x"],this.outputShape=e;var r=e.length,o=e[e.length-1],i=n?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(n?"return "+o+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+Bo(r)+" coords = getOutputCoords();\n        int end = "+bi(r,"coords")+";\n        float val = 0.0;\n        for (int i = "+o+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+i+" end) {\n            continue;\n          }\n          if (idx == end && "+t+") {\n            continue;\n          }\n          "+bi(r,"coords")+" = idx;\n          val += getX("+function(e,t){if(1===r)return""+t;if(2===r)return t+".x, "+t+".y";if(3===r)return t+".x, "+t+".y, "+t+".z";if(4===r)return t+".x, "+t+".y, "+t+".z, "+t+".w";throw Error("Cumulative sum for rank "+r+" is not yet supported")}(0,"coords")+");\n        }\n        setOutput(val);\n      }\n    "};function bi(e,t){if(1===e)return""+t;if(2===e)return t+".y";if(3===e)return t+".z";if(4===e)return t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}var wi=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Ue.DENSE;var t=Xe(e),n=jo();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+Po(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        "+n.output+" = result;\n      }\n    "},xi=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Ue.DENSE;var t=Xe(e),n=jo();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+Po(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        "+n.output+" = result;\n      }\n    "},Oi=function(){function e(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+t+";\n      int offset_h = imod(h, "+t+");\n      int in_w = w / "+t+";\n      int offset_w = imod(w, "+t+");\n      int offset_d = (offset_h * "+t+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return e.prototype.getHeightCoordString=function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"},e.prototype.getWidthCoordString=function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"},e.prototype.getDepthCoordString=function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"},e.prototype.getOutputDepthSize=function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]},e.prototype.getInputSamplingString=function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},e}(),Ei=function(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "},Si=function(e){this.variableNames=["A"],this.outTexUsage=We.DOWNLOAD;var t=jo();this.outputShape=e,this.userCode="\n      "+_o+"\n\n      void main() {\n        float x = getAAtOutCoords();\n        "+t.output+" = encode_float(x);\n      }\n    "},Ci=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=We.DOWNLOAD;var t=jo();this.outputShape=e,this.userCode="\n      "+_o+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        "+t.output+" = encode_float(x);\n      }\n    "},ki=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"];var r=jo(),o=t[0],i=t[1];this.outputShape=e;var a="result";n&&(a="floor(result * 255. + 0.5)"),this.userCode="\n      "+To(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n        \n        int r = flatIndex / "+i+";\n        int c = imod(flatIndex, "+i+");\n        vec2 uv = (vec2(c, r) + halfCR) / vec2("+i+".0, "+o+".0);\n        vec4 values = "+r.texture2D+"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        "+r.output+" = vec4("+a+", 0., 0., 0.);\n      }\n    "},Ri=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=jo(),o=t[0],i=t[1];this.outputShape=e;var a="",s="result";n&&(s="floor(result * 255. + 0.5)");for(var u=0;u<=1;u++)for(var c=0;c<=1;c++){var l=2*u+c;a+="\n          localCoords = coords;\n          if(localCoords[2] + "+c+" < "+e[2]+") {\n            localCoords[2] += "+c+";\n            if(localCoords[1] + "+u+" < "+e[1]+") {\n              localCoords[1] += "+u+";\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / "+i+";\n              c = imod(flatIndex, "+i+");\n              uv = (vec2(c, r) + halfCR) / vec2("+i+".0, "+o+".0);\n              values = "+r.texture2D+"(A, uv);\n\n              if(offset == 0) {\n                result["+l+"] = values[0];\n              } else if(offset == 1) {\n                result["+l+"] = values[1];\n              } else if(offset == 2) {\n                result["+l+"] = values[2];\n              } else {\n                result["+l+"] = values[3];\n              }\n            }\n          }\n        "}this.userCode="\n      "+To(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        "+a+"\n\n        "+r.output+" = "+s+";\n      }\n    "},ji=function(e,t,n){this.variableNames=["real","imag"];var r=t[1];this.outputShape=t;var o=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,i=n?r+".0":"1.0";this.userCode="\n      const float exponentMultiplier = "+o+";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        "+e+"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float("+r+");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < "+r+"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / "+i+";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    "},Pi=function(){function e(e,t){this.outputShape=[],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.valueLoc&&(t.valueLoc=n.getUniformLocationNoThrow(r,"value")),n.gl.uniform1f(t.valueLoc,e)}},e}(),Ti=function(e,t,n){this.variableNames=["A","indices"];var r=e.slice();r[n]=t,this.outputShape=r,this.rank=r.length;var o=Bo(this.rank),i=function(e,t){var n=e.length;if(n>4)throw Error("Gather for rank "+n+" is not yet supported");if(1===n)return"int(getIndices(resRC))";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],i=0;i<e.length;i++)i===t?o.push("int(getIndices("+r[i]+"))"):o.push(""+r[i]);return o.join()}(e,n);this.userCode="\n      void main() {\n        "+o+" resRC = getOutputCoords();\n        setOutput(getA("+i+"));\n      }\n    "},_i=function(e,t,n){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=n;var r=Bo(t.length),o=Bo(n.length),i=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        "+r+" strides = "+r+"("+this.strides+");\n         void main() {\n          "+o+" coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < "+this.sliceDim+"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * "+i+";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      "};function Ii(e,t){var n=jo();return ot(e,t,n.version+"\n    precision highp float;\n    "+n.attribute+" vec3 clipSpacePos;\n    "+n.attribute+" vec2 uv;\n    "+n.varyingVs+" vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}function Ai(e,t){return dt(e,t,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function Ni(e,t){return pt(e,t,new Uint16Array([0,1,2,2,1,3]))}function Mi(e,t,n,r,o,i,a){vt(n,r);var s=ht(e,t),u=e.TEXTURE_2D;return Qe(e,t,function(){return e.bindTexture(u,s)}),Qe(e,t,function(){return e.texParameteri(u,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)}),Qe(e,t,function(){return e.texParameteri(u,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}),Qe(e,t,function(){return e.texParameteri(u,e.TEXTURE_MIN_FILTER,e.NEAREST)}),Qe(e,t,function(){return e.texParameteri(u,e.TEXTURE_MAG_FILTER,e.NEAREST)}),Qe(e,t,function(){return e.texImage2D(u,0,o,n,r,0,i,a,null)}),Qe(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)}),s}function Di(e,t,n,r,o){var i=$e(n,r);return Mi(e,t,i[0],i[1],o.internalFormatFloat,o.textureFormatFloat,e.FLOAT)}function Li(e,t,n,r,o){var i=$e(n,r);return Mi(e,t,i[0],i[1],o.internalFormatHalfFloat,o.textureFormatFloat,o.textureTypeHalfFloat)}function Fi(e,t,n,r,o){var i=$e(n,r);return Mi(e,t,i[0],i[1],e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function Bi(e,t,n,r,o){var i=Ye(n,r);return Mi(e,t,i[0],i[1],o.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function Vi(e,t,n,r,o){var i=Ye(n,r);return Mi(e,t,i[0],i[1],o.internalFormatPackedHalfFloat,e.RGBA,o.textureTypeHalfFloat)}function Ui(e,t,n,r){return Qe(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),gt(e,t,n,"clipSpacePos",r,3,20,0)&&gt(e,t,n,"uv",r,2,20,12)}function Wi(e,t,n,r,o,i,a){var s,u,c;Qe(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)}),i instanceof Uint8Array?(s=new Uint8Array(r*o*4),u=e.UNSIGNED_BYTE,c=e.RGBA):(s=new Float32Array(r*o*4),u=e.FLOAT,c=a.internalFormatPackedFloat),s.set(i),Qe(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,c,r,o,0,e.RGBA,u,s)}),Qe(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function zi(e,t,n,r){Qe(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)}),r.data instanceof Uint8Array?Qe(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,r.data)}):Qe(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)}),Qe(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function Hi(e,t,n,r,o){var i=e.createBuffer();Qe(e,t,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,i)});var a=16*n*r;return Qe(e,t,function(){return e.bufferData(e.PIXEL_PACK_BUFFER,a,e.STREAM_READ)}),Qe(e,t,function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,0)}),Qe(e,t,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)}),i}function qi(e,t,n){var r=e,o=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,o),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),o}function Gi(e,t,n,r,o){var i=$e(n,r),a=i[0],s=i[1],u=new Uint8Array(n*r*4);return Qe(e,t,function(){return e.readPixels(0,0,a,s,o.downloadTextureFormat,e.UNSIGNED_BYTE,u)}),new Float32Array(u.buffer)}function Ki(e,t,n,r,o,i,a,s){var u=e,c=new Float32Array(function(e,t){var n=Ye(i,a);return n[0]*n[1]*4}());return u.bindBuffer(u.PIXEL_PACK_BUFFER,t),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,c),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),c}function $i(e,t,n,r){var o=new Float32Array(n*r*4);return Qe(e,t,function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,o)}),o}var Xi=Object.freeze({createVertexShader:Ii,createVertexBuffer:Ai,createIndexBuffer:Ni,createFloat32MatrixTexture:Di,createFloat16MatrixTexture:Li,createUnsignedBytesMatrixTexture:Fi,createPackedMatrixTexture:Bi,createFloat16PackedMatrixTexture:Vi,bindVertexProgramAttributeStreams:Ui,uploadDenseMatrixToTexture:Wi,uploadPixelDataToTexture:zi,createBufferFromOutputTexture:Hi,downloadFloat32MatrixFromBuffer:qi,downloadByteEncodedFloatMatrixFromOutputTexture:Gi,downloadPackedMatrixFromBuffer:Ki,downloadMatrixFromPackedOutputTexture:$i}),Yi=function(){function e(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var t=f().getNumber("WEBGL_VERSION");null!=e?(this.gl=e,Ge(t,e)):this.gl=Ke(t);var n="WEBGL_color_buffer_float";if(1===f().getNumber("WEBGL_VERSION")){if(this.textureFloatExtension=rt(this.gl,this.debug,"OES_texture_float"),Lt(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=rt(this.gl,this.debug,"OES_texture_half_float");else if(f().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),Lt(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=rt(this.gl,this.debug,"EXT_color_buffer_half_float");else if(f().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",Lt(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!Lt(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=Ai(this.gl,this.debug),this.indexBuffer=Ni(this.gl,this.debug),this.framebuffer=mt(this.gl,this.debug),this.textureConfig=Je(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(e.prototype,"debug",{get:function(){return f().getBool("DEBUG")},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;Qe(t,this.debug,function(){return t.finish()}),Qe(t,this.debug,function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)}),Qe(t,this.debug,function(){return t.deleteFramebuffer(e.framebuffer)}),Qe(t,this.debug,function(){return t.bindBuffer(t.ARRAY_BUFFER,null)}),Qe(t,this.debug,function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}),Qe(t,this.debug,function(){return t.deleteBuffer(e.indexBuffer)}),this.disposed=!0}},e.prototype.createFloat32MatrixTexture=function(e,t){return this.throwIfDisposed(),Di(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(e,t){return this.throwIfDisposed(),Li(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(e,t){return this.throwIfDisposed(),Fi(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(e,t){this.throwIfDisposed(),zi(this.gl,this.debug,e,t)},e.prototype.uploadDenseMatrixToTexture=function(e,t,n,r){this.throwIfDisposed(),Wi(this.gl,this.debug,e,t,n,r,this.textureConfig)},e.prototype.createFloat16PackedMatrixTexture=function(e,t){return this.throwIfDisposed(),Vi(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createPackedMatrixTexture=function(e,t){return this.throwIfDisposed(),Bi(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.deleteMatrixTexture=function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(Et(this.gl,this.debug,this.framebuffer),this.outputTexture=null),Qe(this.gl,this.debug,function(){return t.gl.deleteTexture(e)})},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,function(){return Gi(r.gl,r.debug,t,n,r.textureConfig)})},e.prototype.downloadPackedMatrixFromBuffer=function(e,t,n,r,o,i){return Ki(this.gl,e,0,0,0,o,i,this.textureConfig)},e.prototype.downloadFloat32MatrixFromBuffer=function(e,t){return qi(this.gl,e,t)},e.prototype.createBufferFromTexture=function(e,t,n){this.bindTextureToFrameBuffer(e);var r=Hi(this.gl,this.debug,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r},e.prototype.createAndWaitForFence=function(){var e=this.createFence(this.gl);return this.pollFence(e)},e.prototype.createFence=function(e){var t,n,r=this;if(f().getBool("WEBGL_FENCE_API_ENABLED")){var o=e,i=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=o.clientWaitSync(i,0,0);return e===o.ALREADY_SIGNALED||e===o.CONDITION_SATISFIED},t=i}else f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}},e.prototype.downloadMatrixFromPackedTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,function(){return $i(r.gl,r.debug,t,n)})},e.prototype.createProgram=function(e){this.throwIfDisposed();var t=this.gl,n=it(t,this.debug,e),r=Ii(t,this.debug),o=ct(t,this.debug);return Qe(t,this.debug,function(){return t.attachShader(o,r)}),Qe(t,this.debug,function(){return t.attachShader(o,n)}),lt(t,this.debug,o),this.debug&&ft(t,this.debug,o),this.vertexAttrsAreBound||(this.setProgram(o),this.vertexAttrsAreBound=Ui(t,this.debug,this.program,this.vertexBuffer)),o},e.prototype.deleteProgram=function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&Qe(this.gl,this.debug,function(){return t.gl.deleteProgram(e)})},e.prototype.setProgram=function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&ft(this.gl,this.debug,this.program),Qe(this.gl,this.debug,function(){return t.gl.useProgram(e)})},e.prototype.getUniformLocation=function(e,t,n){return void 0===n&&(n=!0),this.throwIfDisposed(),n?bt(this.gl,this.debug,e,t):wt(this.gl,e,t)},e.prototype.getAttributeLocation=function(e,t){var n=this;return this.throwIfDisposed(),Qe(this.gl,this.debug,function(){return n.gl.getAttribLocation(e,t)})},e.prototype.getUniformLocationNoThrow=function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)},e.prototype.setInputMatrixTexture=function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),xt(this.gl,this.debug,this.program,e,t,n)},e.prototype.setOutputMatrixTexture=function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)},e.prototype.setOutputPackedMatrixTexture=function(e,t,n){this.throwIfDisposed();var r=Ye(t,n),o=r[0],i=r[1];this.setOutputMatrixTextureDriver(e,o,i)},e.prototype.setOutputMatrixWriteRegion=function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)},e.prototype.setOutputPackedMatrixWriteRegion=function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){null!=this.program&&ft(this.gl,this.debug,this.program),St(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),Qe(e,this.debug,function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)})},e.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),Qe(this.gl,this.debug,function(){return e.gl.finish()})},e.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=rt(this.gl,this.debug,2===f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(2===f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),o=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,o),o},e.prototype.endQuery=function(){if(2!==f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}},e.prototype.waitForQueryAndGetTime=function(e){return u(this,void 0,void 0,function(){var t=this;return c(this,function(n){switch(n.label){case 0:return[4,N(function(){return t.disposed||t.isQueryAvailable(e,f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return n.sent(),[2,this.getQueryTime(e,f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},e.prototype.getQueryTime=function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6},e.prototype.isQueryAvailable=function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),o=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),o&&!this.disjoint}return o=(r=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT),null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),o&&!this.disjoint},e.prototype.pollFence=function(e){var t=this;return new Promise(function(n){t.addItemToPoll(function(){return e.isFencePassed()},function(){return n()})})},e.prototype.pollItems=function(){for(var e=function(e){for(var t=0;t<e.length&&e[t]();++t);return t-1}(this.itemsToPoll.map(function(e){return e.isDoneFn})),t=0;t<=e;++t)(0,this.itemsToPoll[t].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(e+1)},e.prototype.addItemToPoll=function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||N(function(){return n.pollItems(),0===n.itemsToPoll.length})},e.prototype.bindTextureToFrameBuffer=function(e){this.throwIfDisposed(),Ot(this.gl,this.debug,e,this.framebuffer),this.debug&&St(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(Ot(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&St(this.gl)):Et(this.gl,this.debug,this.framebuffer)},e.prototype.downloadMatrixDriver=function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n},e.prototype.setOutputMatrixTextureDriver=function(e,t,n){this.throwIfDisposed();var r=this.gl;Ot(r,this.debug,e,this.framebuffer),this.debug&&St(r),this.outputTexture=e,Qe(r,this.debug,function(){return r.viewport(0,0,t,n)}),Qe(r,this.debug,function(){return r.scissor(0,0,t,n)})},e.prototype.setOutputMatrixWriteRegionDriver=function(e,t,n,r){var o=this;this.throwIfDisposed(),Qe(this.gl,this.debug,function(){return o.gl.scissor(e,t,n,r)})},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},e}();function Ji(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+t.length+" inputs");e.forEach(function(e,n){var r=e.logicalShape,o=t[n],i=o.shape;if(!P(r,i))throw Error("Binary was compiled with different shapes than the current args. Shapes "+r+" and "+i+" must match");if(!e.isUniform||!o.isUniform){var a=e.texShape,s=o.isUniform?null:o.texData.texShape;if(!P(a,s))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+a+" and "+s+" must match")}})}var Qi=function(e,t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var r=n.filterWidth,o=n.inChannels,i=n.strideWidth,a=n.strideHeight,s=n.padInfo,u=n.outWidth,c=n.dilationWidth,l=n.dilationHeight,f=n.dataFormat,d=s.left,p=s.top,h=o*r,v=jo(),m="channelsLast"===f,g=m?0:1,y=m?1:2,b="",w=0;w<=1;w++)for(var x=0;x<=1;x++)b+="\n          blockIndex = rc.y + "+x+";\n          pos = rc.x + "+w+";\n\n          if(blockIndex < "+e[1]+" && pos < "+e[0]+") {\n            offsetY = int(blockIndex / ("+u+")) * "+a+" - "+p+";\n            d0 = offsetY + "+l+" * (pos / "+h+");\n\n            if(d0 < "+t[g]+" && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), "+u+".) * "+i+". - "+d+".);\n              d1 = offsetX + "+c+" * (int(mod(float(pos), "+h+".) / "+o+".));\n\n              if(d1 < "+t[y]+" && d1 >= 0) {\n\n                ch = int(mod(float(pos), "+o+".));\n\n                if ("+m+") {\n                  innerDims = vec2(d1, ch);\n                  result["+(2*w+x)+"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result["+(2*w+x)+"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ";this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        "+b+"\n\n        "+v.output+" = result;\n      }\n    "},Zi=function(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[];var i,a=t,s=e[3]-1;this.outputShape=e;var u="float("+n+") + float("+r+") * sum";i=.5===o?"inversesqrt("+u+")":1===o?"1.0/("+u+")":"exp(log("+u+") * float(-"+o+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+a+"; j <= "+a+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+s+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+i+";\n        setOutput(val);\n      }\n    "},ea=function(e,t,n,r,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=o,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+t+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+t+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+r+") * norm + float("+n+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+r+")\n                * float("+o+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+o+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "},ta=function(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var i,a=t,s=e[3]-1;this.outputShape=e;var u="float("+n+") + float("+r+") * sum";i=.5===o?"inversesqrt("+u+")":1===o?"1.0/("+u+")":"exp(log("+u+") * float(-"+o+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < "+this.outputShape[3]+";\n        bool hasNextRow = c < "+this.outputShape[2]+";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - "+a+";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - "+a+"; j <= "+a+"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2("+s+"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * "+i+";\n        setOutput(result);\n      }\n    "},na=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,o=e.effectiveFilterHeight,i=e.effectiveFilterWidth,a=o-1-e.padInfo.top,s=i-1-e.padInfo.left,u=o*i-1;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+o+";\n          wR += "+r+") {\n          float dyR = float(dyRCorner + wR) / "+t+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+i+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+n+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+u+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+i+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},ra=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.dilationDepth,i=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterDepth,u=e.effectiveFilterHeight,c=e.effectiveFilterWidth,l=s-1-e.padInfo.front,f=u-1-e.padInfo.top,d=c-1-e.padInfo.left,p=s*u*c-1;this.userCode="\n      const ivec3 pads = ivec3("+l+", "+f+", "+d+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+s+";\n           wD += "+o+") {\n          float dyD = float(dyDCorner + wD) / "+t+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+u+";\n              wR += "+i+") {\n            float dyR = float(dyRCorner + wR) / "+n+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+c+";\n                wC += "+a+") {\n              float dyC = float(dyCCorner + wC) / "+r+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = "+p+" -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * "+u+" * "+c+" +\n                  wR * "+c+" + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},oa=function(e,t,n,r,o,i,a){void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===i&&(i=null),void 0===a&&(a=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;var s=n?e[1]:e[2],u=Math.ceil(s/2),c=n?"i * 2, rc.y":"rc.y, i * 2",l=r?"rc.z, i * 2":"i * 2, rc.z",f=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],d=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],p="",h="";i&&(p=a?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+i+"\n        }":"vec4 activation(vec4 x) {\n          "+i+"\n        }",h="result = activation(result);");var v=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+p+"\n\n      const float sharedDimension = "+u+".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < "+u+"; i++) {\n          vec4 a = getMatrixA(rc.x, "+c+");\n          vec4 b = getMatrixB(rc.x, "+l+");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += ("+f[0]+" * "+d[0]+");\n          result += ("+f[1]+" * "+d[1]+");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        "+v+"\n\n        "+h+"\n\n        setOutput(result);\n      }\n    "},ia=function(){function e(e,t,n){this.variableNames=["probs"],this.outputShape=[e,n],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(t-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(t-1)+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.seedLoc&&(t.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(t.seedLoc,e)}},e}(),aa=function(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+n+"),\n                      float(index == coords.y)));\n      }\n    "},sa=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;var t=e.length;if(0===t)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=Ro("rc",t),r=Bo(t),o=function(e,t,n){if(1===e)return"rc > "+t[0];for(var r="",o=e-2;o<e;o++)r+=n[o]+" >= "+t[o],o<e-1&&(r+="||");return r}(t,e,n),i=function(e,t,n,r){if(1===e)return"";var o=r.slice(-2);return"\n    int r = "+o[0]+";\n    int c = "+o[1]+";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= "+t+";\n    bool rEdge = rp1 >= "+n+";\n  "}(t,e[e.length-1],e[e.length-2],n),a=function(e,t){var n=e.length,r=function(e,t){for(var n=[],r=0;r<=1;r++)for(var o=0;o<=1;o++){for(var i=(0===r?"r":"rp1")+", "+(0===o?"c":"cp1"),a=2;a<e;a++)i=t[t.length-1-a]+","+i;n.push(i)}return n}(n,t);return 1===n?"getA(rc),\n            rc + 1 >= "+e[0]+" ? 0. : getA(rc + 1),\n            0, 0":"getA("+r[0]+"),\n          cEdge ? 0. : getA("+r[1]+"),\n          rEdge ? 0. : getA("+r[2]+"),\n          rEdge || cEdge ? 0. : getA("+r[3]+")"}(e,n);this.userCode="\n        void main() {\n          "+r+" rc = getOutputCoords();\n\n          if("+o+") {\n            setOutput(vec4(0));\n          } else {\n            "+i+"\n\n            setOutput(vec4("+a+"));\n          }\n        }\n      "}},ua=function(e,t,n){this.variableNames=["x"],this.outputShape=t.map(function(t,n){return t[0]+e[n]+t[1]});var r=e.length,o=Bo(r),i=t.map(function(e){return e[0]}).join(","),a=t.map(function(t,n){return t[0]+e[n]}).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      "+o+" start = "+o+"("+i+");\n      "+o+" end = "+o+"("+a+");\n\n      void main() {\n        "+o+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+n+"));\n        } else {\n          "+o+" coords = outC - start;\n          setOutput(getX("+s+"));\n        }\n      }\n    ":"\n        int start = "+i+";\n        int end = "+a+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+n+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "},ca=function(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(function(t,n){return t[0]+e[n]+t[1]});for(var r=e.length,o=Bo(r),i=t.map(function(e){return e[0]}).join(","),a=t.map(function(t,n){return t[0]+e[n]}).join(","),s=Ro("rc",r),u=Ro("source",r),c=s[r-1]+" < "+this.outputShape[r-1],l=1===r?"source":"vec2("+u.slice(-2).join()+")",f=[o+" rc = outputLoc;",s[r-1]+" += 1;\n       if("+c+") {\n      ",1===r?"":"}\n       rc = outputLoc;\n       "+s[r-2]+" += 1;\n       if("+s[r-2]+" < "+this.outputShape[r-2]+") {",1===r?"":"  "+s[r-1]+" += 1;\n         if("+c+") {"],d=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",p="",h=0,v=1===r?2:4;h<v;h++)p+="\n        "+f[h]+"\n        if ("+d+") {\n          result["+h+"] = float("+n+");\n        } else {\n          "+o+" source = rc - start;\n          result["+h+"] = getChannel(getX("+u.join()+"), "+l+");\n        }\n      ";p+=1===r?"} ":"}}",this.userCode="\n      const "+o+" start = "+o+"("+i+");\n      const "+o+" end = "+o+"("+a+");\n\n      void main() {\n        "+o+" outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        "+p+"\n        setOutput(result);\n      }\n    "},la=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,o=e.strideHeight,i=e.strideWidth,a=e.dilationHeight,s=e.dilationWidth,u=e.effectiveFilterHeight,c=e.effectiveFilterWidth,l=e.padInfo.top,f=e.padInfo.left;this.outputShape=e.outShape;var d="avg"===t,p="0.0";if(d||(p="-1.0 / 1e-20"),n)this.userCode="\n        const ivec2 strides = ivec2("+o+", "+i+");\n        const ivec2 pads = ivec2("+l+", "+f+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+u+";\n              wR += "+a+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+c+";\n                wC += "+s+") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+c+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var h=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(h="avgValue / count");var v=4*Math.floor(r/4),m=r%4,g="\n      if ("+d+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+o+", "+i+");\n      const ivec2 pads = ivec2("+l+", "+f+");\n      const float initializationValue = "+p+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+p+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+u+";\n            wR += "+a+") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+v+"; wC += 4) {\n            int xC = xCCorner + wC * "+s+";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              getValue(batch, xR, xC + 3 * "+s+", d)\n            );\n\n            "+g+"\n          }\n\n          int xC = xCCorner + "+v+";\n          if ("+(1===m)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+g+"\n          } else if ("+(2===m)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+g+"\n          } else if ("+(3===m)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              initializationValue\n            );\n\n            "+g+"\n          }\n        }\n        setOutput("+h+");\n      }\n    "}},fa=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,l=e.effectiveFilterDepth,f=e.effectiveFilterHeight,d=e.effectiveFilterWidth,p=e.padInfo.front,h=e.padInfo.top,v=e.padInfo.left;this.outputShape=e.outShape;var m="avg"===t,g="0.0";if(m||(g="-1.0 / 1e-20"),n)this.userCode="\n        const ivec3 strides =\n            ivec3("+o+", "+i+", "+a+");\n        const ivec3 pads = ivec3("+p+", "+h+", "+v+");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < "+l+";\n              wD += "+s+") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int wR = 0; wR < "+f+";\n                wR += "+u+") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int wC = 0; wC < "+d+";\n                  wC += "+c+") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition =\n                      wD * "+f+" * "+d+" +\n                      wR * "+d+" + wC;;\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var y=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(y="avgValue / count");var b=4*Math.floor(r/4),w=r%4,x="\n      if ("+m+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec3 strides =\n        ivec3("+o+", "+i+", "+a+");\n      const ivec3 pads = ivec3("+p+", "+h+", "+v+");\n      const float initializationValue = "+g+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+g+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < "+l+";\n            wD += "+s+") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+f+";\n            wR += "+u+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+b+"; wC += 4) {\n              int xC = xCCorner + wC * "+c+";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+c+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+c+", ch),\n                getValue(batch, xD, xR, xC + 3 * "+c+", ch)\n              );\n\n              "+x+"\n            }\n\n            int xC = xCCorner + "+b+";\n            if ("+(1===w)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              "+x+"\n            } else if ("+(2===w)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+c+", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              "+x+"\n            } else if ("+(3===w)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+c+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+c+", ch),\n                initializationValue\n              );\n\n              "+x+"\n            }\n          }\n          setOutput("+y+");\n        }\n      }\n    "}},da=function(e,t){this.variableNames=["x"];var n=e.windowSize,r=e.batchSize,o=e.inSize,i=Math.ceil(o/n);this.outputShape=[r,i];var a="0.0",s="";"prod"===t?a="1.0":"min"===t?(a="1.0 / 1e-20",s="min"):"max"===t&&(a="-1.0 / 1e-20",s="max");var u=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===t?u="sumValue":"prod"===t?u="prodValue":"all"===t?u="allValue":"any"===t&&(u="anyValue");var c=4*Math.floor(n/4),l=n%4,f="\n      if ("+("sum"===t)+") {\n        sumValue += dot(values, ones);\n      } else if ("+("prod"===t)+") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = "+s+"(values, minMaxValue);\n      }\n    ",d="vec4";"all"===t?(a="1.0",f="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",d="bvec4"):"any"===t&&(a="0.0",f="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",d="bvec4");var p="";o%n>0&&(p="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+a+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+p+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        vec4 minMaxValue = vec4("+a+");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+c+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+f+"\n        }\n\n        int inIdx = inOffset + "+c+";\n        if ("+(1===l)+") {\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+f+"\n        } else if ("+(2===l)+") {\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+f+"\n        } else if ("+(3===l)+") {\n          "+d+" values = "+d+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+f+"\n        }\n        setOutput("+u+");\n      }\n    "},pa=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var n="",r=0;r<4;r++){var o="thisRC = rc;";r%2==1&&(o+="thisRC.z += 1;"),r>1&&(o+="thisRC.y += 1;"),n+="\n        "+o+"\n        "+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+"\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+r+"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        "+(r>0?"}":"")+"\n      "}this.userCode="\n      \n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+Po(["r","c","d"],t)+"\n      return ivec3(r, c, d);\n    }\n  \n      "+To(e)+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = "+e[1]+";\n        int cols = "+e[2]+";\n\n        "+n+"\n\n        setOutput(result);\n      }\n    "},ha=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,o=r[1],i=r[2],a=e.shape,s=a[1],u=a[2],c=[n&&s>1?o-1:o,n&&u>1?i-1:i],l=[n&&s>1?s-1:s,n&&u>1?u-1:u],f=c[0]/l[0],d=c[1]/l[1],p=1/f,h=1/d,v=2*Math.ceil(p)+2,m=2*Math.ceil(h)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+f+");\n        const float widthScale = float("+d+");\n\n        const float invHeightScale = float("+p+");\n        const float invWidthScale = float("+h+");\n\n        const int winHeight = int("+v+");\n        const int winWidth = int("+m+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(o-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(i-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},va=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var o=e[0],i=e[1],a=e[2],s=e[3];this.outputShape=[o,t,n,s];var u=[r&&t>1?i-1:i,r&&n>1?a-1:a],c=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/c[0]+",\n          "+u[1]/c[1]+");\n      const vec2 inputShapeRC = vec2("+i+".0, "+a+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "},ma=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=e[0],i=e[1],a=e[2],s=e[3];this.outputShape=[o,t,n,s];var u=[r&&t>1?i-1:i,r&&n>1?a-1:a],c=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          "+u[0]/c[0]+",\n          "+u[1]/c[1]+",\n          "+u[1]/c[1]+");\n      const vec3 inputShapeRC = vec3("+i+".0, "+a+".0,\n                                     "+a+".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < "+(s-1)+";\n        bool hasNextRow = coords.z < "+(n-1)+";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    "},ga=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,o=r[1],i=r[2],a=e.shape,s=a[1],u=a[2],c=[n&&s>1?o-1:o,n&&u>1?i-1:i],l=[n&&s>1?s-1:s,n&&u>1?u-1:u],f=c[0]/l[0],d=c[1]/l[1],p=1/f,h=1/d,v=2*Math.ceil(p)+2,m=2*Math.ceil(h)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+f+");\n        const float widthScale = float("+d+");\n\n        const float invHeightScale = float("+p+");\n        const float invWidthScale = float("+h+");\n\n        const int winHeight = int("+v+");\n        const int winWidth = int("+m+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+c[0]+") *\n                (float(dyR) / float("+l[0]+"));\n\n            float sourceFracCol =\n                float("+c[1]+") *\n                  (float(dyC) / float("+l[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+o+") - 1),\n                "+n+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+i+") - 1),\n                "+n+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},ya=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var o=e[0],i=e[1],a=e[2],s=e[3];this.outputShape=[o,t,n,s];var u=[r&&t>1?i-1:i,r&&n>1?a-1:a],c=[r&&t>1?t-1:t,r&&n>1?n-1:n],l=r?"0.5":"0.0";this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/c[0]+",\n          "+u[1]/c[1]+");\n      const vec2 inputShapeRC = vec2("+i+".0, "+a+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+l+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "},ba=function(e,t){this.variableNames=["x"];var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=e,1!==n){var r=e.map(function(n,r){return function(n){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - coords["+n+"] - 1":"coords["+n+"]"}(r)}).join(","),o=Bo(n);this.userCode="\n      void main() {\n        "+o+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    "}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+e[0]+" - coord - 1));\n        }\n      "},wa=function(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");this.outputShape=e;var r=Ro("rc",n),o=r[n-1]+" + 1 < "+this.outputShape[n-1],i=r[n-2]+" + 1 < "+this.outputShape[n-2],a=Bo(n);function s(n){var r=e.map(function(r,o){return function(n,r){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - "+r[n]+" - 1":""+r[n]}(o,n)});return"getChannel(getX("+r.join(",")+"), vec2("+r.slice(-2).join(",")+"))"}this.userCode=1===n?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX("+e[0]+" - rc - 1),\n            "+e[0]+" - rc - 1);\n          if("+o+"){\n              result.g = getChannel(getX("+e[0]+" - (rc  + 1) - 1),\n                "+e[0]+" - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      ":"\n        void main() {\n          "+a+" rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = "+s(r.slice())+";\n          if("+o+"){\n            result.g = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",s(e)}(r.slice())+";\n          }\n          if("+i+") {\n            result.b = "+function(e){return e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            if("+o+") {\n              result.a = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            }\n          }\n          setOutput(result);\n        }\n    "},xa=function(e,t,n,r,o,i,a){void 0===a&&(a=!0),this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;var s=Bo(o.length),u=Bo(i.length),c="";1===n?c="i":2===n&&(c="i, j");var l="getIndices("+c+")",f="";1===r?f="i":2===r&&(f="i, coords[1]");var d="getUpdates("+f+")",p=t>1?"strides[j]":"strides";this.userCode="\n        "+s+" strides = "+s+"("+o+");\n\n        void main() {\n          "+u+" coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < "+e+"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < "+t+"; j++) {\n              int index = round("+l+");\n              flattenedIndex += index * "+p+";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += "+d+";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      "},Oa=function(e,t){this.variableNames=["x","segmentIds"];var n=e.windowSize,r=e.batchSize,o=e.inSize,i=e.numSegments,a=i*Math.ceil(o/n);this.outputShape=[r,a];var s=4*Math.floor(n/4),u=n%4,c="\n        sumValue += dot(values, segFilter);\n    ",l="";o%n>0&&(l="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return initializationValue;\n        }\n      ");var f="";o%n>0&&(f="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+l+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+f+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+i+")) * float("+n+"));\n        int currentSeg = int(mod(float(outIdx), float("+i+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+s+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+c+"\n        }\n\n        int inIdx = inOffset + "+s+";\n        if ("+(1===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+c+"\n        } else if ("+(2===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+c+"\n        } else if ("+(3===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+c+"\n        }\n        setOutput(sumValue);\n      }\n    "},Ea=function(e,t,n){var r,o;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank "+n+" is not yet supported");if(1===n)o="resRC",r="resRC";else{for(var i=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[],s=[],u=0;u<t.length;u++)s.push(""+i[u]),u<e&&a.push(""+i[u]);r=a.join(),o=s.join()}var c=Bo(n);this.userCode="\n      void main() {\n        "+c+" resRC = getOutputCoords();\n        float cVal = getC("+r+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+o+"));\n        } else {\n          setOutput(getB("+o+"));\n        }\n      }\n    "},Sa=function(){function e(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var t,n=Bo(this.rank),r="uniform int start["+this.rank+"];",o=function(e){if(1===e)return"sourceLoc";if(e<=6)return Ca.slice(0,e).map(function(e){return"sourceLoc."+e}).join(",");throw Error("Slicing for rank "+e+" is not yet supported")}(this.rank);t="\n        "+n+" sourceLoc;\n        "+n+" coords = getOutputCoords();\n        "+e.map(function(e,t){return"sourceLoc."+Ca[t]+" = start["+t+"] + coords."+Ca[t]+";"}).join("\n")+"\n      ",this.userCode="\n      "+r+"\n      void main() {\n        "+t+"\n        setOutput(getSource("+o+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),Ca=["x","y","z","w","u","v"],ka=function(){function e(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length;var t=Bo(this.rank),n=Ro("coords",this.rank),r=Ro("sourceLoc",this.rank),o=1===this.rank?"sourceLoc":"vec2("+r.slice(-2).join()+")",i="getChannel(getSource("+r.join()+"), "+o+")",a="\n      result.x = "+i+";\n      if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n        ++"+r[this.rank-1]+";\n        result.y = "+i+";\n        --"+r[this.rank-1]+";\n      }\n    ",s=1===this.rank?"":"\n      --"+n[this.rank-1]+";\n      if (++"+n[this.rank-2]+" < "+e[this.rank-2]+") {\n        ++"+r[this.rank-2]+";\n        result.z = "+i+";\n        if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n          ++"+r[this.rank-1]+";\n          result.w = "+i+";\n        }\n      }\n    ",u=this.rank<=4?"sourceLoc = coords +\n            "+t+"("+e.map(function(e,t){return"start["+t+"]"}).join()+");":e.map(function(e,t){return r[t]+" = "+n[t]+" + start["+t+"];"}).join("\n");this.userCode="\n      uniform int start["+this.rank+"];\n      void main() {\n        "+t+" coords = getOutputCoords();\n        "+t+" sourceLoc;\n        "+u+"\n        vec4 result = vec4(0.);\n        "+a+"\n        "+s+"\n        setOutput(result);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),Ra=function(e,t,n){this.variableNames=["x"],this.outputShape=n;var r=n.length,o=Bo(n.length),i=Bo(n.length),a="";if(1===r)a="coords * strides + begin";else{var s=0;a=n.map(function(e,t){return s++,1===n.length?"coords * strides["+t+"] + begin["+t+"]":"coords["+(s-1)+"] * strides["+t+"] + begin["+t+"]"}).join(",")}this.userCode="\n      "+o+" begin = "+o+"("+e+");\n      "+o+" strides = "+o+"("+t+");\n\n      void main() {\n        "+i+" coords = getOutputCoords();\n        setOutput(getX("+a+"));\n      }\n    "},ja=function(){function e(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(e,t,n){var r,o=Pa(t,n),i=Ta(e,o,n);if(i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]),this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var a=this.freeTextures[i].shift();return this.usedTextures[i].push(a),a}return this.numUsedTextures++,this.log(),o===ze.PACKED_2X2_FLOAT32?r=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):o===ze.PACKED_2X2_FLOAT16?r=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):o===ze.UNPACKED_FLOAT32?r=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):o===ze.UNPACKED_FLOAT16?r=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):o===ze.PACKED_4X1_UNSIGNED_BYTE&&(r=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(r),r},e.prototype.releaseTexture=function(e,t,n,r){if(null!=this.freeTextures){var o=Ta(t,Pa(n,r),r);o in this.freeTextures||(this.freeTextures[o]=[]),this.freeTextures[o].push(e),this.numFreeTextures++,this.numUsedTextures--;var i=this.usedTextures[o],a=i.indexOf(e);if(a<0)throw new Error("Cannot release a texture that was never provided by this texture manager");i.splice(a,1),this.log()}},e.prototype.log=function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+e+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach(function(t){e.gpgpu.deleteMatrixTexture(t)});for(var t in this.usedTextures)this.usedTextures[t].forEach(function(t){e.gpgpu.deleteMatrixTexture(t)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e}();function Pa(e,t){if(e===We.UPLOAD)return ze.PACKED_2X2_FLOAT32;if(e===We.RENDER||null==e)return function(e){return f().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?ze.PACKED_2X2_FLOAT32:ze.UNPACKED_FLOAT32:e?ze.PACKED_2X2_FLOAT16:ze.UNPACKED_FLOAT16}(t);if(e===We.DOWNLOAD||e===We.PIXELS)return ze.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+e)}function Ta(e,t,n){return e[0]+"_"+e[1]+"_"+t+"_"+n}var _a=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[r]*t[r];this.outputShape=n,this.rank=n.length;var o=Bo(this.rank),i=function(e){var t=e.length;if(t>5)throw Error("Tile for rank "+t+" is not yet supported");if(1===t)return"imod(resRC, "+e[0]+")";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],o=0;o<e.length;o++)r.push("imod("+n[o]+", "+e[o]+")");return r.join()}(e);this.userCode="\n      void main() {\n        "+o+" resRC = getOutputCoords();\n        setOutput(getA("+i+"));\n      }\n    "},Ia=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];this.outputShape=n,this.rank=n.length;var o=Bo(this.rank),i=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank "+t+" is not yet supported");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),o=0;o<e.length;o++)r[e[o]]=n[o];return r.join()}(t);this.userCode="\n    void main() {\n      "+o+" resRC = getOutputCoords();\n      setOutput(getA("+i+"));\n    }\n    "},Aa=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var o=Bo(this.rank),i=ko("rc",this.rank),a=new Array(this.rank);for(r=0;r<t.length;r++)a[t[r]]=i[r];var s="vec2("+a.slice(-2).join()+")",u="++"+i[this.rank-1]+" < "+n[this.rank-1],c="getChannel(getA("+a.join()+"), "+s+")";this.userCode="\n    void main() {\n      "+o+" rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = "+c+";\n      if("+u+") {\n        result[1] = "+c+";\n      }\n      --"+i[this.rank-1]+";\n      if(++"+i[this.rank-2]+" < "+n[this.rank-2]+") {\n        result[2] = "+c+";\n        if("+u+") {\n          result[3] = "+c+";\n        }\n      }\n      setOutput(result);\n    }\n    "},Na=1.7580993408473768,Ma=1.0507009873554805,Da=function(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      float unaryOperation(float x) {\n        "+t+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},La="if (isnan(x)) return x;",Fa="return x;",Ba="return abs(x);",Va=La+"\n  return (x < 0.0) ? 0.0 : x;\n",Ua=La+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",Wa="return (x >= 0.0) ? x : (exp(x) - 1.0);",za="return -x;",Ha="return ceil(x);",qa="return floor(x);",Ga="return exp(x);",Ka="return exp(x) - 1.0;",$a="return x;",Xa="return x;",Ya="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Ja="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Qa="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",Za=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        "+t+"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},es=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;var t=e.length,n=Ro("rc",t),r=Bo(t),o=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),i=n.slice(-2),a=t<=1?"rc":"vec2("+i.join(",")+")";this.userCode="\n      void main() {\n        "+r+" rc = getOutputCoords();\n        vec4 packedInput = getA("+o+");\n\n        setOutput(getChannel(packedInput, "+a+"));\n      }\n    "},ts={};function ns(e,t){if(void 0===t&&(t=!1),"linear"===e)return t?Xa:Fa;if("relu"===e)return t?Ya:Va;if("elu"===e)return t?Qa:Wa;if("relu6"===e)return t?Ja:Ua;if("prelu"===e)return t?Zo:Jo;throw new Error("Activation "+e+" has not been implemented for the WebGL backend.")}var rs=600,os=function(e){function t(t){var n,r=e.call(this)||this;if(r.pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!f().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==t){var o=Ke(f().getNumber("WEBGL_VERSION"));r.binaryCache=(n=f().getNumber("WEBGL_VERSION"))in ts?ts[n]:(ts[n]={},ts[n]),r.gpgpu=new Yi(o),r.canvas=o.canvas,r.gpgpuCreatedLocally=!0}else r.gpgpu=t,r.binaryCache={},r.gpgpuCreatedLocally=!1,r.canvas=t.gl.canvas;return r.textureManager=new ja(r.gpgpu),r.numMBBeforeWarning=null==f().global.screen?1024:f().global.screen.height*f().global.screen.width*window.devicePixelRatio*rs/1024/1024,r.texData=new Br(r,Fe),r}return s(t,e),t.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},t.prototype.write=function(e,t,n){if(f().getBool("DEBUG")&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:We.UPLOAD}),r},t.prototype.move=function(e,t,n,r){if(f().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:We.UPLOAD})},t.prototype.readSync=function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,o=t.complexTensors,i=t.slice,a=t.shape,s=t.isPacked;if(null!=i){var u;u=s?new Za(a,$a):new Da(a,$a);var c=this.runWebGLProgram(u,[{dataId:e,shape:a,dtype:r}],r),l=this.readSync(c.dataId);return this.disposeData(c.dataId),l}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var f,d,p=null!=this.activeTimers;return p&&(f=re()),d="complex64"===r?ao(o.real.dataSync(),o.imag.dataSync()):this.getValuesFromTexture(e),p&&(this.downloadWaitMs+=re()-f),this.convertAndCacheOnCPU(e,d)},t.prototype.read=function(e){return u(this,void 0,void 0,function(){var t,n,r,o,i,a,s,u,l,d,p,h,v,m,g,y,b,w,x,O,E,S;return c(this,function(c){switch(c.label){case 0:if(this.pendingRead.has(e))return t=this.pendingRead.get(e),[2,new Promise(function(e){return t.push(e)})];if(n=this.texData.get(e),r=n.values,o=n.shape,i=n.slice,a=n.dtype,s=n.complexTensors,u=n.isPacked,null!=i)return void 0,l=u?new Za(o,$a):new Da(o,$a),d=this.runWebGLProgram(l,[{dataId:e,shape:o,dtype:a}],a),p=this.read(d.dataId),this.disposeData(d.dataId),[2,p];if(null!=r)return[2,this.convertAndCacheOnCPU(e)];if(!f().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===f().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return h=null,"complex64"!==a&&f().get("WEBGL_BUFFER_SUPPORTED")&&(v=this.decode(e),m=this.texData.get(v.dataId),h=(S=this.gpgpu).createBufferFromTexture.apply(S,[m.texture].concat(Xe(o)))),this.pendingRead.set(e,[]),"complex64"===a?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:c.sent(),c.label=2;case 2:return"complex64"!==a?[3,4]:[4,Promise.all([s.real.data(),s.imag.data()])];case 3:return y=c.sent(),b=y[0],w=y[1],g=ao(b,w),[3,5];case 4:null==h?g=this.getValuesFromTexture(e):(x=j(o),g=this.gpgpu.downloadFloat32MatrixFromBuffer(h,x)),c.label=5;case 5:return null!=v&&this.disposeData(v.dataId),O=this.convertAndCacheOnCPU(e,g),E=this.pendingRead.get(e),this.pendingRead.delete(e),E.forEach(function(e){return e(O)}),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e),this.pendingDeletes--),[2,O]}})})},t.prototype.checkNumericalProblems=function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!tt(n)){if(f().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value "+n+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value "+n+" cannot be represented on this device.")}}},t.prototype.getValuesFromTexture=function(e){var t,n=this.texData.get(e),r=n.shape,o=n.dtype,i=n.isPacked,a=j(r);if(f().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var s=this.decode(e),u=this.texData.get(s.dataId),c=(t=this.gpgpu).downloadMatrixFromPackedTexture.apply(t,[u.texture].concat(Xe(r))).subarray(0,a);return this.disposeData(s.dataId),c}var l=f().getBool("WEBGL_PACK")&&!0===i,d=l?Tt(r):r,p=l?new Ci(d):new Si(d),h=this.runWebGLProgram(p,[{shape:d,dtype:o,dataId:e}],"float32"),v=this.texData.get(h.dataId),m=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(v.texture,v.texShape[0],v.texShape[1]).subarray(0,a);return this.disposeData(h.dataId),m},t.prototype.time=function(e){return u(this,void 0,void 0,function(){var t,n,r,o,i,a,s;return c(this,function(u){switch(u.label){case 0:return t=this.activeTimers,n=[],r=!1,null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e(),o=R(this.activeTimers.map(function(e){return e.query})).filter(function(e){return null!=e}),i=R(this.activeTimers.map(function(e){return e.name})).filter(function(e){return null!=e}),this.activeTimers=t,r&&(this.programTimersStack=null),a={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(o)]:[3,2];case 1:return s=u.sent(),a.kernelMs=E(s),a.getExtraProfileInfo=function(){return s.map(function(e,t){return{name:i[t],ms:e}}).map(function(e){return e.name+": "+e.ms}).join(", ")},[3,3];case 2:a.kernelMs={error:"WebGL query timers are not supported in this environment."},u.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,a]}})})},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:re(),endMs:null}},t.prototype.endTimer=function(e){return f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=re(),e)},t.prototype.getQueryTime=function(e){return u(this,void 0,void 0,function(){var t;return c(this,function(n){return f().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(e)]:[2,(t=e).endMs-t.startMs]})})},t.prototype.disposeData=function(e){if(!this.pendingDisposal.has(e)){if(this.pendingRead.has(e))return this.pendingDisposal.add(e),void this.pendingDeletes++;if(this.texData.has(e)){this.releaseGPUData(e);var t=this.texData.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.texData.delete(e)}}},t.prototype.releaseGPUData=function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,o=t.texShape,i=t.usage,a=t.isPacked,s=t.slice,u=s&&s.origDataId||e,c=this.dataRefCount.get(u);c>1?this.dataRefCount.set(u,c-1):(this.dataRefCount.delete(u),null!=n&&(this.numBytesInGPU-=this.computeBytes(o,r),this.textureManager.releaseTexture(n,o,i,a)));var l=this.texData.get(e);l.texture=null,l.texShape=null,l.isPacked=!1,l.slice=null},t.prototype.getTexture=function(e){return this.uploadToGPU(e),this.texData.get(e).texture},t.prototype.getDataInfo=function(e){return this.texData.get(e)},t.prototype.getCPUBackend=function(){return f().getBool("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=Fe.findBackend("cpu")),this.cpuBackend):null},t.prototype.shouldExecuteOnCPU=function(e,t){var n=this;return void 0===t&&(t=128),null!=this.getCPUBackend()&&e.every(function(e){return null==n.texData.get(e.dataId).texture&&e.size<t})},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.complex=function(e,t){var n=this.makeOutput(e.shape,"complex64");return this.texData.get(n.dataId).complexTensors={real:Fe.keep(e.clone()),imag:Fe.keep(t.clone())},n},t.prototype.real=function(e){return this.texData.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.texData.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.slice(e,t,n);if(0===j(n))return hn([],n,e.dtype);var r=this.texData.get(e.dataId).isPacked,o=Nr(e.shape,t,n);if(r||!o){var i=f().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ka(n):new Sa(n),a=i.getCustomSetupFunc(t);return this.compileAndRun(i,[e],null,a)}return this.uploadToGPU(e.dataId),this.shallowSlice(e,t,n)},t.prototype.shallowSlice=function(e,t,n){var r=this.texData.get(e.dataId),o=this.makeOutput(n,e.dtype),i=this.texData.get(o.dataId);Object.assign(i,r),i.shape=n,i.dtype=e.dtype;var a=Mr(t,e.strides);r.slice&&(a+=r.slice.flatOffset),i.slice={flatOffset:a,origDataId:r.slice&&r.slice.origDataId||e.dataId};var s=this.dataRefCount.get(i.slice.origDataId)||1;return this.dataRefCount.set(i.slice.origDataId,s+1),o},t.prototype.stridedSlice=function(e,t,n,r){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.stridedSlice(e,t,n,r);var o=_r(t,n,r);if(o.some(function(e){return 0===e}))return hn([],o);var i=new Ra(t,r,o);return this.compileAndRun(i,[e])},t.prototype.reverse=function(e,t){var n=f().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new wa(e.shape,t):new ba(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.concat=function(e,t){if("complex64"===e[0].dtype){var n=e.map(function(e){return dn(e)}),r=e.map(function(e){return pn(e)});return fn(this.concat(n,t),this.concat(r,t))}if(this.shouldExecuteOnCPU(e))return this.cpuBackend.concat(e,t);if(1===e.length)return e[0];if(e.length>f().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var o=Math.floor(e.length/2),i=this.concat(e.slice(0,o),t),a=this.concat(e.slice(o),t);return this.concat([i,a],t)}if(f().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].rank>1){var s=new ii(e.map(function(e){return e.shape}),t);return this.compileAndRun(s,e)}var u=cn(e.map(function(e){return e.shape}),t),c=e.map(function(e){return e.as2D(-1,j(e.shape.slice(t)))}),l=new oi(c.map(function(e){return e.shape}));return this.compileAndRun(l,c).reshape(u)},t.prototype.neg=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.neg(e);if(f().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,za,e.dtype);var t=new Da(e.shape,za);return this.compileAndRun(t,[e])},t.prototype.batchMatMul=function(e,t,n,r){var o=n?e.shape[2]:e.shape[1],i=r?t.shape[1]:t.shape[2],a=n?e.shape[1]:e.shape[2],s=e.shape[0];if((1===o||1===i)&&a>1e3){n&&(e=e.transpose([0,2,1])),r&&(t=t.transpose([0,2,1]));var u=1===i?e:e.as3D(s,a,1),c=1===i?2:1,l=1===i?t.as3D(s,1,a):t;return this.multiply(u,l).sum(c,!0)}var f=Te(e.dtype,t.dtype),d=new oa(e.shape,[s,o,i],n,r);return this.compileAndRun(d,[e,t],f)},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,o=e.transposeB,i=e.bias,a=e.activation,s=e.preluActivationWeights,u=r?t.shape[2]:t.shape[1],c=o?n.shape[1]:n.shape[2],l=t.shape[0],f=Te(t.dtype,n.dtype),d=null!=i,p=null!=s,h=a?ns(a,!0):null,v=new oa(t.shape,[l,u,c],r,o,d,h,p),m=[t,n];return i&&m.push(i),s&&m.push(s),this.compileAndRun(v,m,f)},t.prototype.multiply=function(e,t){if("complex64"===e.dtype){var n=this.texData.get(e.dataId),r=this.texData.get(t.dataId),o=new Ko("return areal * breal - aimag * bimag;",e.shape,t.shape),i=new Ko("return areal * bimag + aimag * breal;",e.shape,t.shape),a=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag),this.makeComplexComponentTensorInfo(t,r.complexTensors.real),this.makeComplexComponentTensorInfo(t,r.complexTensors.imag)],s=this.compileAndRun(o,a),u=this.compileAndRun(i,a),c=this.complex(s,u);return s.dispose(),u.dispose(),c}if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.multiply(e,t);if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,Yo,e.dtype);var l=new Qo(Yo,e.shape,t.shape);return this.compileAndRun(l,[e,t],e.dtype)},t.prototype.batchNormalization=function(e,t,n,r,o,i){var a=[e,t,n],s=null;null!=i&&(s=i.shape,a.push(i));var u=null;if(null!=o&&(u=o.shape,a.push(o)),f().getBool("WEBGL_PACK_NORMALIZATION")){var c=new Go(e.shape,t.shape,n.shape,s,u,r);return this.compileAndRun(c,a)}var l=new qo(e.shape,t.shape,n.shape,s,u,r);return this.compileAndRun(l,a)},t.prototype.localResponseNormalization4D=function(e,t,n,r,o){var i=f().getBool("WEBGL_PACK_NORMALIZATION")?new ta(e.shape,t,n,r,o):new Zi(e.shape,t,n,r,o);return this.compileAndRun(i,[e])},t.prototype.LRNGrad=function(e,t,n,r,o,i,a){var s=new ea(t.shape,r,o,i,a);return this.compileAndRun(s,[t,n,e])},t.prototype.tile=function(e,t){if("string"===e.dtype){var n=this.readSync(e.dataId).map(function(e){return ae(e)});return wo(qn(e.shape,e.dtype,n),t)}var r=new _a(e.shape,t);return this.compileAndRun(r,[e])},t.prototype.pad=function(e,t,n){var r=f().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ca(e.shape,t,n):new ua(e.shape,t,n);return this.compileAndRun(r,[e])},t.prototype.transpose=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.transpose(e,t);var n=f().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Aa(e.shape,t):new Ia(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.gather=function(e,t,n){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.gather(e,t,n);var r=new Ti(e.shape,t.size,n);return this.compileAndRun(r,[e,t])},t.prototype.batchToSpaceND=function(e,t,n){S(e.rank<=4,function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"});var r=t.reduce(function(e,t){return e*t}),o=yr(e.shape,t,r),i=br(o.length,t.length),a=wr(e.shape,t,r),s=xr(n,t.length),u=Or(a,n,t.length);return e.reshape(o).transpose(i).reshape(a).slice(s,u)},t.prototype.spaceToBatchND=function(e,t,n){S(e.rank<=4,function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"});var r=t.reduce(function(e,t){return e*t}),o=[[0,0]];o.push.apply(o,n);for(var i=1+t.length;i<e.shape.length;++i)o.push([0,0]);var a=e.pad(o),s=yr(a.shape,t,r,!1),u=br(s.length,t.length,!1),c=wr(a.shape,t,r,!1);return a.reshape(s).transpose(u).reshape(c)},t.prototype.reduce=function(e,t,n){var r=e.shape[0],o=e.shape[1],i=Cr(o),a=new da({windowSize:i,inSize:o,batchSize:r},t),s=this.compileAndRun(a,[e],n);return 1===s.shape[1]?s:this.reduce(s,t,n)},t.prototype.argReduce=function(e,t,n){void 0===n&&(n=null);var r=e.shape[0],o=e.shape[1];null!=n&&(r=n.shape[0],o=n.shape[1]);var i=Cr(o),a=new Co({windowSize:i,inSize:o,batchSize:r},t,null==n),s=[e];null!=n&&s.push(n);var u=this.compileAndRun(a,s,"int32");return 1===u.shape[1]?u:this.argReduce(e,t,u)},t.prototype.argReducePacked=function(e,t,n){void 0===n&&(n=null);var r=null!=n?n.shape:e.shape,o=Cr(r[r.length-1]),i=new Wo(r,o,t,null==n),a=null==n?[e]:[e,n],s=this.compileAndRun(i,a,"int32");return s.rank===e.rank?this.argReducePacked(e,t,s):s},t.prototype.sum=function(e,t){rn("sum",t,e.rank);var n=tn(e.shape,t),r=n[0],o=j(n[1]),i=e.as2D(-1,o),a=_e(e.dtype);return this.reduce(i,"sum",a).reshape(r)},t.prototype.prod=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.prod(e,t);var n=tn(e.shape,t),r=n[0],o=j(n[1]),i=e.as2D(-1,o),a=_e(e.dtype);return this.reduce(i,"prod",a).reshape(r)},t.prototype.unsortedSegmentSum=function(e,t,n){var r=0,o=on([r],e.rank),i=e;null!=o&&(i=e.transpose(o),r=sn(1,e.rank)[0]);var a=function(e,t,n){for(var r=[],o=e.length,i=0;i<o;i++)i!==t?r.push(e[i]):r.push(n);return r}(i.shape,r,n),s=j([i.shape[r]]),u=i.as2D(-1,s),c=_e(e.dtype),l=this.segOpCompute(u,"unsortedSegmentSum",t,c,n).reshape(a);return null!=o&&(l=l.transpose(an(o))),l},t.prototype.segOpCompute=function(e,t,n,r,o){var i=e.shape[0],a=e.shape[1],s=function(e,t){var n,r=!1;for(e<=Sr?(n=e,r=!0):n=J(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=J(e,n+1);return n}(a,o),u=new Oa({windowSize:s,inSize:a,batchSize:i,numSegments:o},t),c=this.compileAndRun(u,[e,n],r);return c.shape[1]===o?c:(n=Sn(0,o).tile([a/s]),this.segOpCompute(c,t,n,r,o))},t.prototype.argMinMaxReduce=function(e,t,n){var r=[t];if(rn("arg"+n.charAt(0).toUpperCase()+n.slice(1),r,e.rank),!f().getBool("WEBGL_PACK_REDUCE")||e.rank<=2){var o=tn(e.shape,r),i=o[0],a=j(o[1]),s=e.as2D(-1,a);return this.argReduce(s,n).reshape(i)}return this.argReducePacked(e,n)},t.prototype.argMin=function(e,t){return this.argMinMaxReduce(e,t,"min")},t.prototype.argMax=function(e,t){return this.argMinMaxReduce(e,t,"max")},t.prototype.cumsum=function(e,t,n,r){if(t!==e.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(e.rank-1)+" but got axis="+t);var o=new yi(e.shape,n,r);return this.compileAndRun(o,[e])},t.prototype.equal=function(e,t){if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(equal(a, b));\n","bool");var n=new Qo("return float(a == b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.notEqual=function(e,t){if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(notEqual(a, b));\n","bool");var n=new Qo("return float(a != b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.less=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.less(e,t);if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThan(a, b));\n","bool");var n=new Qo("return float(a < b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.lessEqual=function(e,t){if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThanEqual(a, b));\n","bool");var n=new Qo("return float(a <= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greater=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.greater(e,t);if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThan(a, b));\n","bool");var n=new Qo("return float(a > b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greaterEqual=function(e,t){if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThanEqual(a, b));\n","bool");var n=new Qo("return float(a >= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalNot=function(e){var t=new Da(e.shape,"return float(!(x >= 1.0));");return this.compileAndRun(t,[e])},t.prototype.logicalAnd=function(e,t){if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n","bool");var n=new Qo("return float(a >= 1.0 && b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalOr=function(e,t){if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n","bool");var n=new Qo("return float(a >= 1.0 || b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.select=function(e,t,n){var r=new Ea(e.rank,t.shape,t.rank);return this.compileAndRun(r,[e,t,n],Te(t.dtype,n.dtype))},t.prototype.where=function(e){$t("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return Oo(e.shape,t)},t.prototype.topk=function(e,t,n){return xo(e.dataSync(),e.shape,e.dtype,t)},t.prototype.min=function(e,t){rn("min",t,e.rank);var n=tn(e.shape,t),r=n[0],o=j(n[1]),i=e.as2D(-1,o);return this.reduce(i,"min",i.dtype).reshape(r)},t.prototype.minimum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.minimum(e,t);var n=f().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ei("\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new Qo("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.mod=function(e,t){var n=f().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ei("\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new Qo("if (b == 0.0) return NAN;\n  return mod(a, b);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.max=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.max(e,t);rn("max",t,e.rank);var n=tn(e.shape,t),r=n[0],o=j(n[1]),i=e.as2D(-1,o);return this.reduce(i,"max",i.dtype).reshape(r)},t.prototype.maximum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.maximum(e,t);var n=f().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ei("\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new Qo("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.all=function(e,t){rn("all",t,e.rank);var n=tn(e.shape,t),r=n[0],o=j(n[1]),i=e.as2D(-1,o);return this.reduce(i,"all",i.dtype).reshape(r)},t.prototype.any=function(e,t){rn("any",t,e.rank);var n=tn(e.shape,t),r=n[0],o=j(n[1]),i=e.as2D(-1,o);return this.reduce(i,"any",i.dtype).reshape(r)},t.prototype.realDivide=function(e,t){if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n","float32",!0);var n=new Qo("\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",e.shape,t.shape);return this.compileAndRun(n,[e,t],"float32")},t.prototype.floorDiv=function(e,t){if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n","int32");var n=new Qo("\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",e.shape,t.shape);return this.compileAndRun(n,[e,t],"int32")},t.prototype.add=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,$o);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.add(e,t);var n=Te(e.dtype,t.dtype);if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,$o,n);var r=new Qo($o,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.packedUnaryOp=function(e,t,n){var r=new Za(e.shape,t);return this.compileAndRun(r,[e],n)},t.prototype.packedBinaryOp=function(e,t,n,r,o){void 0===o&&(o=!1);var i=new ei(n,e.shape,t.shape,o);return this.compileAndRun(i,[e,t],r)},t.prototype.complexSeparableBinaryOp=function(e,t,n){var r=this,o=this.texData.get(e.dataId),i=this.texData.get(t.dataId),a=[[o.complexTensors.real,i.complexTensors.real],[o.complexTensors.imag,i.complexTensors.imag]].map(function(o){var i=o[0],a=o[1],s=r.makeComplexComponentTensorInfo(e,i),u=r.makeComplexComponentTensorInfo(t,a),c=new Qo(n,e.shape,t.shape);return r.compileAndRun(c,[s,u],Te(i.dtype,a.dtype))}),s=a[0],u=a[1],c=this.complex(s,u);return s.dispose(),u.dispose(),c},t.prototype.makeComplexComponentTensorInfo=function(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}},t.prototype.addN=function(e){if(1===e.length)return e[0];if(e.length>f().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var t=Math.floor(e.length/2),n=this.addN(e.slice(0,t)),r=this.addN(e.slice(t));return this.addN([n,r])}var o=e.map(function(e){return e.dtype}).reduce(function(e,t){return Te(e,t)}),i=e.map(function(e){return e.shape}),a=f().getBool("WEBGL_PACK")?new So(e[0].shape,i):new Eo(e[0].shape,i);return this.compileAndRun(a,e,o)},t.prototype.subtract=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,Xo);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.subtract(e,t);var n=Te(e.dtype,t.dtype);if(f().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,Xo,e.dtype);var r=new Qo(Xo,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.pow=function(e,t){var n=f().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ei("\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new Qo("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nif (b == 0.0) {\n  return 1.0;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",e.shape,t.shape),r=Te(e.dtype,t.dtype);return this.compileAndRun(n,[e,t],r)},t.prototype.ceil=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.ceil(e);if(f().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Ha,e.dtype);var t=new Da(e.shape,Ha);return this.compileAndRun(t,[e])},t.prototype.floor=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.floor(e);if(f().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,qa,e.dtype);var t=new Da(e.shape,qa);return this.compileAndRun(t,[e])},t.prototype.sign=function(e){var t=new Da(e.shape,"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(t,[e])},t.prototype.isNaN=function(e){var t=new Da(e.shape,"return float(isnan(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isInf=function(e){var t=new Da(e.shape,"return float(isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isFinite=function(e){var t=new Da(e.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.round=function(e){var t=new Da(e.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(t,[e])},t.prototype.exp=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.exp(e);if(f().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Ga,e.dtype);var t=new Da(e.shape,Ga);return this.compileAndRun(t,[e])},t.prototype.expm1=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.expm1(e);if(f().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Ka,e.dtype);var t=new Da(e.shape,Ka);return this.compileAndRun(t,[e])},t.prototype.softmax=function(e,t){var n=D([t],e.shape),r=this.max(e,n),o=nn(r.shape,n),i=this.subtract(e,r.reshape(o)),a=this.exp(i),s=this.sum(a,n).reshape(o);return this.realDivide(a,s)},t.prototype.log=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.log(e);if(f().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",e.dtype);var t=new Da(e.shape,"if (x < 0.0) return NAN;\n  return log(x);");return this.compileAndRun(t,[e])},t.prototype.log1p=function(e){var t=new Da(e.shape,"return log(1.0 + x);");return this.compileAndRun(t,[e])},t.prototype.sqrt=function(e){var t=new Da(e.shape,"return sqrt(x);");return this.compileAndRun(t,[e])},t.prototype.rsqrt=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.rsqrt(e);var t=new Da(e.shape,"return inversesqrt(x);");return this.compileAndRun(t,[e])},t.prototype.reciprocal=function(e){var t=new Da(e.shape,"return 1.0 / x;");return this.compileAndRun(t,[e])},t.prototype.relu=function(e){var t;return t=f().getBool("WEBGL_PACK")?new Za(e.shape,Ya):new Da(e.shape,Va),this.compileAndRun(t,[e])},t.prototype.relu6=function(e){var t;return t=f().getBool("WEBGL_PACK")?new Za(e.shape,Ja):new Da(e.shape,Ua),this.compileAndRun(t,[e])},t.prototype.prelu=function(e,t){var n=f().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ei(Zo,e.shape,t.shape):new Qo(Jo,e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.elu=function(e){if(f().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Qa,e.dtype);var t=new Da(e.shape,Wa);return this.compileAndRun(t,[e])},t.prototype.eluDer=function(e,t){var n=f().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ei("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",e.shape,t.shape):new Qo("return (b >= 1.0) ? a : a * (b + 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.selu=function(e){var t=new Da(e.shape,"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = 1.7580993408473768;\n  float scale = 1.0507009873554805;\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n");return this.compileAndRun(t,[e])},t.prototype.int=function(e){var t=new Da(e.shape,"return float(int(x));");return this.compileAndRun(t,[e],"int32")},t.prototype.clip=function(e,t,n){var r,o=(r=f().getBool("WEBGL_PACK_CLIP")?new ni(e.shape):new ti(e.shape)).getCustomSetupFunc(t,n);return this.compileAndRun(r,[e],null,o)},t.prototype.abs=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.abs(e);if(f().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Ba,e.dtype);var t=new Da(e.shape,Ba);return this.compileAndRun(t,[e])},t.prototype.complexAbs=function(e){var t=this.texData.get(e.dataId),n=new ri(e.shape),r=[this.makeComplexComponentTensorInfo(e,t.complexTensors.real),this.makeComplexComponentTensorInfo(e,t.complexTensors.imag)];return this.compileAndRun(n,r)},t.prototype.sigmoid=function(e){var t=new Da(e.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(t,[e])},t.prototype.softplus=function(e){var t=new Da(e.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(t,[e])},t.prototype.sin=function(e){var t=new Da(e.shape,"if (isnan(x)) return x;\n  return sin(x);\n");return this.compileAndRun(t,[e])},t.prototype.cos=function(e){var t=new Da(e.shape,"if (isnan(x)) return x;\n  return cos(x);\n");return this.compileAndRun(t,[e])},t.prototype.tan=function(e){var t=new Da(e.shape,"return tan(x);");return this.compileAndRun(t,[e])},t.prototype.asin=function(e){var t=new Da(e.shape,"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n");return this.compileAndRun(t,[e])},t.prototype.acos=function(e){var t=new Da(e.shape,"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n");return this.compileAndRun(t,[e])},t.prototype.atan=function(e){var t=new Da(e.shape,"if (isnan(x)) return x;\n  return atan(x);\n");return this.compileAndRun(t,[e])},t.prototype.atan2=function(e,t){var n=f().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ei("\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new Qo("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.sinh=function(e){var t=new Da(e.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.cosh=function(e){var t=new Da(e.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.tanh=function(e){var t=new Da(e.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(t,[e])},t.prototype.asinh=function(e){var t=new Da(e.shape,"if (isnan(x)) return x;return log(x + sqrt(x * x + 1.0));");return this.compileAndRun(t,[e])},t.prototype.acosh=function(e){var t=new Da(e.shape,"if (isnan(x)) return x;\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));");return this.compileAndRun(t,[e])},t.prototype.atanh=function(e){var t=new Da(e.shape,"if (isnan(x)) return x;\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;");return this.compileAndRun(t,[e])},t.prototype.erf=function(e){var t=new Da(e.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n');return this.compileAndRun(t,[e])},t.prototype.step=function(e,t){var n=new Da(e.shape,function(e){return void 0===e&&(e=0),La+"\n    return x > 0.0 ? 1.0 : float("+e+");\n  "}(t));return this.compileAndRun(n,[e])},t.prototype.conv2dByMatMul=function(e,t,n,r,o,i){var a=e.shape,s=this.texData.get(e.dataId),u=n.inChannels,c=a[0]*a[1]*a[2],l=n.outChannels,d="channelsLast"===n.dataFormat,p=(1===c||1===l)&&u>1e3,h=a[2]%2!=0&&!!s.isPacked;if(p||!f().getBool("WEBGL_LAZILY_UNPACK")||!f().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!h){var v=d?a[0]*a[1]*a[2]:a[0]*a[2]*a[3],m=this.reshape(e,[1,v,n.inChannels]),g=this.reshape(t,[1,n.inChannels,n.outChannels]);return this.reshape(this.fusedBatchMatMul({a:m,b:g,transposeA:!1,transposeB:!1,bias:r,activation:o,preluActivationWeights:i}),n.outShape)}var y=d?a[0]*a[1]*(a[2]+1):a[0]*a[2]*(a[3]+1),b={dataId:e.dataId,shape:[1,y,n.inChannels],dtype:e.dtype},w=s.shape;s.shape=s.shape.slice(),s.shape[s.shape.length-2]++,S(At(s.shape,b.shape),function(){return"packed reshape "+s.shape+" to "+b.shape+" isn't free"});var x=this.reshape(t,[1,n.inChannels,n.outChannels]),O=this.fusedBatchMatMul({a:b,b:x,transposeA:!1,transposeB:!1,bias:r,activation:o,preluActivationWeights:i}),E=this.texData.get(O.dataId);return S(E.isPacked,function(){return"batchMatMul result is expected to be packed"}),s.shape=w,E.shape=n.outShape,Fe.makeTensorFromDataId(O.dataId,n.outShape,O.dtype)},t.prototype.conv2dWithIm2Row=function(e,t,n,r,o,i){var a=n.filterWidth,s=n.filterHeight,u=n.inChannels,c=n.outWidth,l=n.outHeight,f="channelsLast"===n.dataFormat,d=a*s*u,p=l*c,h=[d,p],v=e.squeeze([0]),m=t.reshape([1,d,-1]),g=new Qi(h,v.shape,n),y=this.compileAndRun(g,[v]).reshape([1,h[0],h[1]]),b=null!=r,w=null!=i,x=o?ns(o,!0):null,O=new oa(y.shape,[1,p,n.outChannels],!0,!1,b,x,w),E=[y,m];r&&E.push(r),w&&E.push(i);var S=this.compileAndRun(O,E);return f?S.reshape([1,l,c,n.outChannels]):S.reshape([1,n.outChannels,l,c])},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,o=e.bias,i=e.activation,a=e.preluActivationWeights;if(1===r.filterHeight&&1===r.filterWidth&&1===r.dilationHeight&&1===r.dilationWidth&&1===r.strideHeight&&1===r.strideWidth&&("SAME"===r.padInfo.type||"VALID"===r.padInfo.type))return this.conv2dByMatMul(t,n,r,o,i,a);if(f().getBool("WEBGL_CONV_IM2COL")&&1===t.shape[0])return this.conv2dWithIm2Row(t,n,r,o,i,a);var s=null!=o,u=null!=a,c=i?ns(i,!1):null,l=new pi(r,s,c,u),d=[t,n];return o&&d.push(o),a&&d.push(a),this.compileAndRun(l,d)},t.prototype.conv2d=function(e,t,n){if(1===n.filterHeight&&1===n.filterWidth&&1===n.dilationHeight&&1===n.dilationWidth&&1===n.strideHeight&&1===n.strideWidth&&("SAME"===n.padInfo.type||"VALID"===n.padInfo.type))return this.conv2dByMatMul(e,t,n);if(f().getBool("WEBGL_CONV_IM2COL")&&1===e.shape[0])return this.conv2dWithIm2Row(e,t,n);var r=new pi(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerInput=function(e,t,n){var r=new ui(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerFilter=function(e,t,n){var r=new si(n);return this.compileAndRun(r,[e,t])},t.prototype.fusedDepthwiseConv2D=function(e){var t,n=e.input,r=e.filter,o=e.convInfo,i=e.bias,a=e.activation,s=e.preluActivationWeights,u=f().getBool("WEBGL_PACK_DEPTHWISECONV")&&o.strideWidth<=2&&o.outChannels/o.inChannels==1,c=a?ns(a,u):null,l=[n,r],d=null!=i,p=null!=s;return d&&l.push(i),p&&l.push(s),u?(t=new mi(o,d,c,p),this.compileAndRun(t,l)):(t=new vi(o,d,c,p),this.compileAndRun(t,l))},t.prototype.depthwiseConv2D=function(e,t,n){var r;return f().getBool("WEBGL_PACK_DEPTHWISECONV")&&n.strideWidth<=2&&n.outChannels/n.inChannels==1?(r=new mi(n),this.compileAndRun(r,[e,t])):(r=new vi(n),this.compileAndRun(r,[e,t]))},t.prototype.depthwiseConv2DDerInput=function(e,t,n){var r=new di(n);return this.compileAndRun(r,[e,t])},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){var r=new fi(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3d=function(e,t,n){var r=new hi(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerInput=function(e,t,n){var r=new li(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerFilter=function(e,t,n){var r=new ci(n);return this.compileAndRun(r,[e,t])},t.prototype.maxPool=function(e,t){var n=new la(t,"max",!1);return this.compileAndRun(n,[e])},t.prototype.avgPool=function(e,t){var n=new la(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPoolBackprop=function(e,t,n,r){var o=new la(r,"max",!0),i=this.compileAndRun(o,[t]),a=new na(r),s=this.compileAndRun(a,[e,i],t.dtype);return i.dispose(),s},t.prototype.avgPoolBackprop=function(e,t,n){var r=new zo(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.cast=function(e,t){return ro(e,t,this)},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),o=0,i=0;i<e.rank;i++)i!==t&&(r[o++]=e.shape[i]);var a=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var u=new Array(n);for(i=0;i<u.length;i++)a[t]=i,u[i]=this.slice(e,a,s).reshape(r);return u},t.prototype.avgPool3d=function(e,t){var n=new fa(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.avgPool3dBackprop=function(e,t,n){var r=new Ho(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.maxPool3d=function(e,t){var n=new fa(t,"max",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPool3dBackprop=function(e,t,n,r){var o=new fa(r,"max",!0),i=this.compileAndRun(o,[t]),a=new ra(r),s=this.compileAndRun(a,[e,i],t.dtype);return i.dispose(),s},t.prototype.reshape=function(e,t){var n=this.texData.get(e.dataId);if(n.isPacked&&!At(e.shape,t)&&(null===n.texture||!At(n.shape,t))){var r=this.packedReshape(e,t);return Fe.makeTensorFromDataId(r.dataId,r.shape,r.dtype)}return oo(e,t)},t.prototype.resizeBilinear=function(e,t,n,r){var o=f().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new ma(e.shape,t,n,r):new va(e.shape,t,n,r);return this.compileAndRun(o,[e],"float32")},t.prototype.resizeBilinearBackprop=function(e,t,n){var r=new ha(e,t,n);return this.compileAndRun(r,[e])},t.prototype.resizeNearestNeighbor=function(e,t,n,r){var o=new ya(e.shape,t,n,r);return this.compileAndRun(o,[e])},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){var r=new ga(e,t,n);return this.compileAndRun(r,[e])},t.prototype.multinomial=function(e,t,n,r){var o=t?e:Lr(e),i=o.shape[0],a=o.shape[1],s=new ia(i,a,n),u=s.getCustomSetupFunc(r);return this.compileAndRun(s,[o],"int32",u)},t.prototype.oneHot=function(e,t,n,r){var o=new aa(e.size,t,n,r);return this.compileAndRun(o,[e])},t.prototype.diag=function(e){var t=new Ei(e.size);return this.compileAndRun(t,[e])},t.prototype.nonMaxSuppression=function(e,t,n,r,o){return $t("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),po(e.dataSync(),t.dataSync(),n,r,o)},t.prototype.cropAndResize=function(e,t,n,r,o,i){var a=new gi(e.shape,t.shape,r,o,i);return this.compileAndRun(a,[e,t,n],"float32")},t.prototype.depthToSpace=function(e,t,n){S(t>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+t});var r=e.shape[0],o="NHWC"===n?e.shape[1]:e.shape[2],i="NHWC"===n?e.shape[2]:e.shape[3],a="NHWC"===n?e.shape[3]:e.shape[1],s=o*t,u=i*t,c=a/(t*t),l=new Oi("NHWC"===n?[r,s,u,c]:[r,c,s,u],t,n);return this.compileAndRun(l,[e])},t.prototype.split=function(e,t,n){return bo(e,t,n)},t.prototype.scatterND=function(e,t,n){var r=jr(0,e,n),o=r.sliceRank,i=r.numUpdates,a=r.sliceSize,s=r.strides,u=r.outputSize,c=[u/a,a],l=e.reshape([i,o]),f=t.reshape([i,a]);if(0===u)return oo(hn([]),n);var d=mn(0),p=new xa(i,o,l.rank,f.rank,s,c);return this.compileAndRun(p,[f,l,d]).reshape(n)},t.prototype.sparseToDense=function(e,t,n,r){var o=jr(0,e,n),i=o.sliceRank,a=o.numUpdates,s=o.strides,u=o.outputSize,c=new xa(a,i,e.rank,t.rank,s,[u,1],!1);return this.compileAndRun(c,[t,e,r]).reshape(n)},t.prototype.fft=function(e){return this.fftImpl(e,!1)},t.prototype.ifft=function(e){return this.fftImpl(e,!0)},t.prototype.fftImpl=function(e,t){var n=this.texData.get(e.dataId),r=new ji("return real * expR - imag * expI;",e.shape,t),o=new ji("return real * expI + imag * expR;",e.shape,t),i=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag)],a=this.compileAndRun(r,i),s=this.compileAndRun(o,i),u=this.complex(a,s).as2D(e.shape[0],e.shape[1]);return a.dispose(),s.dispose(),u},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],o=Er(e,t),i=o[0],a=o[1],s=o[2],u=o[3],c=t.reshape([a,r]),l=e.reshape([e.size/s,s]),f=new _i(r,u,[a,s]);return this.compileAndRun(f,[l,c]).reshape(i)},t.prototype.fill=function(e,t,n){if("string"===(n=n||X(t))){var r=B(n,j(e));return r.fill(t),Fe.makeTensor(r,e,n,this)}var o=new Pi(e,t),i=o.getCustomSetupFunc(t);return this.compileAndRun(o,[],n,i)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported under string dtype");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){return this.fill(e.shape,"string"===e.dtype?"":0,e.dtype)},t.prototype.linspace=function(e,t,n){return io(e,t,n)},t.prototype.makeTensorInfo=function(e,t){var n=this.write(null,e,t);return this.texData.get(n).usage=null,{dataId:n,shape:e,dtype:t}},t.prototype.makeOutput=function(e,t){var n=this.makeTensorInfo(e,t).dataId;return Fe.makeTensorFromDataId(n,e,t,this)},t.prototype.unpackTensor=function(e){var t=new es(e.shape);return this.runWebGLProgram(t,[e],e.dtype)},t.prototype.packTensor=function(e){var t=new sa(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)},t.prototype.packedReshape=function(e,t){var n=[jt(e.shape)].concat(Pt(e.shape)),r={dtype:e.dtype,shape:n,dataId:e.dataId},o=[jt(t)].concat(Pt(t)),i=new pa(o,n),a=this.runWebGLProgram(i,[r],e.dtype,null,!0);return{dataId:a.dataId,shape:t,dtype:a.dtype}},t.prototype.decode=function(e){var t,n=this.texData.get(e),r=n.isPacked,o=n.shape,i=n.dtype,a=Tt(o);return t=r?new xi(a):new wi(a),{dtype:i,shape:o,dataId:this.runWebGLProgram(t,[{shape:a,dtype:i,dataId:e}],i,null,!0).dataId}},t.prototype.runWebGLProgram=function(e,t,n,r,o){var i=this;void 0===o&&(o=!1);var a=this.makeTensorInfo(e.outputShape,n),s=this.texData.get(a.dataId);if(e.packedOutput&&(s.isPacked=!0),e.outPackingScheme===Ue.DENSE){var u=Xe(e.outputShape);s.texShape=u.map(function(e){return 2*e})}if(null!=e.outTexUsage&&(s.usage=e.outTexUsage),0===j(a.shape))return s.values=F(a.dtype,0),a;var c=[],l=t.map(function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=i.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&j(t.shape)<=f().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}else if(!!n.isPacked!=!!e.packedInputs)t=n.isPacked?i.unpackTensor(t):i.packTensor(t),c.push(t),n=i.texData.get(t.dataId);else if(n.isPacked&&!At(n.shape,t.shape)){var r=t,o=t.shape;t.shape=n.shape,t=i.packedReshape(t,o),c.push(t),n=i.texData.get(t.dataId),r.shape=o}return i.uploadToGPU(t.dataId),{shape:t.shape,texData:n,isUniform:!1}});this.uploadToGPU(a.dataId);var d,p={shape:a.shape,texData:s,isUniform:!1},h=function(e,t,n){var r="";l.concat(n).forEach(function(e){var t=null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0,n=e.isUniform?"uniform":e.texData.texShape;r+=e.shape+"_"+n+"_"+t});var o=e.userCode;return e.constructor.name+"_"+r+"_"+o}(e,0,p),v=this.getAndSaveBinary(h,function(){return function(e,t,n,r){var o=t.userCode,i=n.map(function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}}),a=i.map(function(e){return e.shapeInfo}),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},u=Io(i,s,o,t.packedInputs),c=e.createProgram(u),l=null,d=e.getUniformLocation(c,"NAN",!1);1===f().getNumber("WEBGL_VERSION")&&(l=e.getUniformLocation(c,"INFINITY",!1));for(var p={},h=0;h<t.variableNames.length;h++){var v=t.variableNames[h];p[v]=e.getUniformLocation(c,v,!1),p["offset"+v]=e.getUniformLocation(c,"offset"+v,!1)}return{program:t,source:u,webGLProgram:c,uniformLocations:p,inShapeInfos:a,outShapeInfo:s,infLoc:l,nanLoc:d}}(i.gpgpu,e,l,p)}),m=null!=this.activeTimers;if(m&&(d=this.startTimer()),function(e,t,n,r,o){Ji(t.inShapeInfos,n),Ji([t.outShapeInfo],[r]);var i=r.texData.texture,a=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(i,a[0],a[1]):e.setOutputMatrixTexture(i,a[0],a[1]),e.setProgram(t.webGLProgram),1===f().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach(function(n,r){var o=t.program.variableNames[r],i=t.uniformLocations[o],a=t.uniformLocations["offset"+o];if(null!=i)if(n.isUniform)if(j(n.shape)<2)e.gl.uniform1f(i,n.uniformValues[0]);else{var s=n.uniformValues;s instanceof Float32Array||(s=new Float32Array(s)),e.gl.uniform1fv(i,s)}else null!=n.texData.slice&&null!=a&&e.gl.uniform1i(a,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture,i,r)}),null!=o&&o(e,t.webGLProgram),e.executeProgram()}(this.gpgpu,v,l,p,r),c.forEach(function(e){return i.disposeData(e.dataId)}),m&&(d=this.endTimer(d),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(d)})),!f().getBool("WEBGL_LAZILY_UNPACK")&&s.isPacked&&!1===o){var g=this.unpackTensor(a);return this.disposeData(a.dataId),g}return a},t.prototype.compileAndRun=function(e,t,n,r,o){void 0===o&&(o=!1),n=n||t[0].dtype;var i=this.runWebGLProgram(e,t,n,r,o);return Fe.makeTensorFromDataId(i.dataId,i.shape,i.dtype)},t.prototype.getAndSaveBinary=function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){var e=this;this.disposed||(f().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]}),this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},t.prototype.floatPrecision=function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=Gt(function(){if(!f().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=f().getBool("DEBUG");f().set("DEBUG",!1);var n=e.abs(mn(1e-8)).dataSync()[0];if(f().set("DEBUG",t),n>0)return 32}return 16})),this.floatPrecisionValue},t.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},t.prototype.uploadToGPU=function(e){var t,n=this.texData.get(e),r=n.shape,o=n.dtype,i=n.values,a=n.texture,s=n.usage,u=n.isPacked;if(null==a){var c,l=null!=this.activeTimers;l&&(c=re());var f=n.texShape;if(null==f&&(f=_t(r,u),n.texShape=f),null!=i){var d=Tt(r),p=void 0,h=f[1],v=f[0],m=i instanceof Uint8Array;u?(h=(t=Ye(f[0],f[1]))[0],v=t[1],p=new Ri(d,[v,h],m)):p=new ki(d,[v,h],m);var g=this.makeTensorInfo([v,h],o);this.texData.get(g.dataId).usage=m?We.PIXELS:We.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(g.dataId),h,v,i);var y=this.runWebGLProgram(p,[g],o,null,!0),b=this.texData.get(y.dataId);n.texture=b.texture,n.texShape=b.texShape,n.isPacked=b.isPacked,n.usage=b.usage,this.disposeData(g.dataId),this.texData.delete(y.dataId),n.values=null,l&&(this.uploadWaitMs+=re()-c)}else{var w=this.acquireTexture(f,s,o,u);n.texture=w}}},t.prototype.convertAndCacheOnCPU=function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype "+t)}(t,r)),n.values},t.prototype.acquireTexture=function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var o=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+o+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)},t.prototype.computeBytes=function(e,t){return e[0]*e[1]*H(t)},t}(Vr);Be()&&Fe.registerBackend("webgl",function(){return new os},2);var is=ln({square_:function(e){var t=Jt(e,"x","square"),n=[t];return Fe.runKernelFunc(function(e,n){return n([t]),e.square(t)},{x:t},null,"Square",{},n,[])}}),as="SquaredDifference",ss=ln({squaredDifference_:function(e,t){var n,r=Jt(e,"a","squaredDifference"),o=Jt(t,"b","squaredDifference");n=Ie(r,o),r=n[0],o=n[1],Hr(r.shape,o.shape);var i={a:r,b:o},a=[r,o];return Fe.runKernelFunc(function(e,t){var n=e.squaredDifference(r,o);return t([r,o]),n},i,function(e,t){var n=t[0],r=t[1],o=mn(2);return{a:function(){return e.mul(n.sub(r).mul(o))},b:function(){return e.mul(r.sub(n).mul(o))}}},as,{},a,[])}}),us=ln({abs_:function(e){var t=Jt(e,"x","abs");return"complex64"===t.dtype?Fe.runKernelFunc(function(e){return e.complexAbs(t)},{$x:t}):Fe.runKernelFunc(function(e,n){var r=e.abs(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().step(-1))}}},"Abs")}}),cs=ln({acos_:function(e){var t=Jt(e,"x","acos");return Fe.runKernelFunc(function(e,n){var r=e.acos(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.divStrict(mn(1).sub(n.toFloat().square()).sqrt()).neg()}}})}}),ls=ln({acosh_:function(e){var t=Jt(e,"x","acosh");return Fe.runKernelFunc(function(e,n){var r=e.acosh(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.divStrict(n.toFloat().square().sub(1).sqrt())}}})}}),fs=ln({asin_:function(e){var t=Jt(e,"x","asin");return Fe.runKernelFunc(function(e,n){var r=e.asin(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.divStrict(mn(1).sub(n.toFloat().square()).sqrt())}}})}}),ds=ln({asinh_:function(e){var t=Jt(e,"x","asinh");return Fe.runKernelFunc(function(e,n){var r=e.asinh(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.divStrict(mn(1).add(n.toFloat().square()).sqrt())}}})}}),ps=ln({atan_:function(e){var t=Jt(e,"x","atan");return Fe.runKernelFunc(function(e,n){var r=e.atan(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().square().add(1))}}})}}),hs=ln({atanh_:function(e){var t=Jt(e,"x","atanh");return Fe.runKernelFunc(function(e,n){var r=e.atanh(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(mn(1).sub(n.toFloat().square()))}}})}}),vs=ln({ceil_:function(e){var t=Jt(e,"x","ceil");return Fe.runKernelFunc(function(e){return e.ceil(t)},{$x:t},function(e){return{$x:function(){return kn(e)}}})}}),ms=ln({clipByValue_:function(e,t,n){var r=Jt(e,"x","clipByValue");S(t<=n,function(){return"Error in clip: min ("+t+") must be less than or equal to max ("+n+")."});var o=[r],i={min:t,max:n};return Fe.runKernelFunc(function(e,o){var i=e.clip(r,t,n);return o([r]),i},{x:r},function(e,r){var o=r[0];return{x:function(){return e.where(o.greaterEqual(t).logicalAnd(o.lessEqual(n)),kn(e))}}},"ClipByValue",i,o)}}),gs=ln({cos_:function(e){var t=Jt(e,"x","cos"),n=[t];return Fe.runKernelFunc(function(e,n){var r=e.cos(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return n.toFloat().sin().neg().mul(e)}}},"Cos",{},n)}}),ys=ln({cosh_:function(e){var t=Jt(e,"x","cosh");return Fe.runKernelFunc(function(e,n){var r=e.cosh(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return n.toFloat().sinh().mulStrict(e)}}})}}),bs=ln({erf_:function(e){var t=Jt(e,"x","erf");return S("int32"===t.dtype||"float32"===t.dtype,function(){return"Input dtype must be `int32` or `float32`."}),"int32"===t.dtype&&(t=t.toFloat()),Fe.runKernelFunc(function(e,n){var r=e.erf(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.mul(n.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}})}}),ws=ln({exp_:function(e){var t=Jt(e,"x","exp");return Fe.runKernelFunc(function(e,n){var r=e.exp(t);return n([r]),r},{x:t},function(e,t){return{x:function(){return e.mulStrict(t[0])}}},"Exp",{},[],[!0])}}),xs=ln({expm1_:function(e){var t=Jt(e,"x","expm1");return Fe.runKernelFunc(function(e,n){var r=e.expm1(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.mul(n.exp())}}})}}),Os=ln({floor_:function(e){var t=Jt(e,"x","floor");return Fe.runKernelFunc(function(e){return e.floor(t)},{$x:t},function(e){return{$x:function(){return kn(e)}}})}}),Es=ln({log_:function(e){var t=Jt(e,"x","log"),n=[t];return Fe.runKernelFunc(function(e,n){var r=e.log(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return e.div(n.toFloat())}}},"Log",{},n)}}),Ss=ln({log1p_:function(e){var t=Jt(e,"x","log1p");return Fe.runKernelFunc(function(e,n){var r=e.log1p(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(n.add(1))}}})}}),Cs=ln({logSigmoid_:function(e){var t=Jt(e,"x","logSigmoid");return Fe.runKernelFunc(function(e,n){var r=e.softplus(t.neg()).neg();return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.mul(n.neg().sigmoid())}}})}}),ks=ln({neg_:function(e){var t=Jt(e,"x","neg"),n=[t];return Fe.runKernelFunc(function(e){return e.neg(t)},{x:t},function(e){return{x:function(){return e.neg()}}},"Neg",{},n)}}),Rs=ln({reciprocal_:function(e){var t=Jt(e,"x","reciprocal");return Fe.runKernelFunc(function(e,n){var r=e.reciprocal(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(n.square().neg())}}})}}),js=ln({round_:function(e){var t=Jt(e,"x","round");return Fe.runKernelFunc(function(e){return e.round(t)},{$x:t},function(e){return{$x:function(){return kn(e)}}})}}),Ps=ln({rsqrt_:function(e){var t=Jt(e,"x","rsqrt"),n=[t];return Fe.runKernelFunc(function(e,n){var r=e.rsqrt(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return e.div(n.pow(1.5).mul(2)).neg()}}},"Rsqrt",{},n)}}),Ts=ln({sigmoid_:function(e){var t=Jt(e,"x","sigmoid");return Fe.runKernelFunc(function(e,n){var r=e.sigmoid(t);return n([r]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return e.mul(n.mul(mn(1).sub(n)))}}},"Sigmoid")}}),_s=ln({sign_:function(e){var t=Jt(e,"x","sign");return Fe.runKernelFunc(function(e){return e.sign(t)},{$x:t},function(e){return{$x:function(){return kn(e)}}})}}),Is=ln({isNaN_:function(e){var t=Jt(e,"x","isNaN");return Fe.runKernelFunc(function(e){return e.isNaN(t)},{$x:t},function(e){return{$x:function(){return kn(e)}}})}}),As=ln({isInf_:function(e){var t=Jt(e,"x","isInf");return Fe.runKernelFunc(function(e){return e.isInf(t)},{$x:t},function(e){return{$x:function(){return kn(e)}}})}}),Ns=ln({isFinite_:function(e){var t=Jt(e,"x","isFinite");return Fe.runKernelFunc(function(e){return e.isFinite(t)},{$x:t},function(e){return{$x:function(){return kn(e)}}})}}),Ms=ln({sin_:function(e){var t=Jt(e,"x","sin"),n=[t];return Fe.runKernelFunc(function(e,n){var r=e.sin(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return n.toFloat().cos().mul(e)}}},"Sin",{},n)}}),Ds=ln({sinh_:function(e){var t=Jt(e,"x","sinh");return Fe.runKernelFunc(function(e,n){var r=e.sinh(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return n.toFloat().cosh().mulStrict(e)}}})}}),Ls=ln({softplus_:function(e){var t=Jt(e,"x","softplus");return Fe.runKernelFunc(function(e,n){var r=e.softplus(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.mul(n.sigmoid())}}})}}),Fs=ln({sqrt_:function(e){var t=Jt(e,"x","sqrt");return Fe.runKernelFunc(function(e,n){var r=e.sqrt(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().sqrt().mul(2))}}})}}),Bs=ln({step_:function(e,t){void 0===t&&(t=0);var n=Jt(e,"x","step");return Fe.runKernelFunc(function(e){return e.step(n,t)},{$x:n},function(e){return{$x:function(){return kn(e)}}})}}),Vs=ln({tan_:function(e){var t=Jt(e,"x","tan");return Fe.runKernelFunc(function(e,n){var r=e.tan(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(n.cos().square())}}})}}),Us=ln({tanh_:function(e){var t=Jt(e,"x","tanh");return Fe.runKernelFunc(function(e,n){var r=e.tanh(t);return n([r]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return mn(1).sub(n.square()).mulStrict(e)}}},"Tanh",{},null,[!0])}});function Ws(e,t,n,r,o,i){var a,s,u=Jt(e,"x","batchNorm"),c=Jt(t,"mean","batchNorm"),l=Jt(n,"variance","batchNorm");return null!=o&&(a=Jt(o,"scale","batchNorm")),null!=r&&(s=Jt(r,"offset","batchNorm")),S(2===u.rank,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."}),S(2===c.rank||1===c.rank,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+c.rank+"."}),S(2===l.rank||1===l.rank,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+l.rank+"."}),null!=a&&S(2===a.rank||1===a.rank,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+a.rank+"."}),null!=s&&S(2===s.rank||1===s.rank,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."}),qs(u,c,l,s,a,i)}function zs(e,t,n,r,o,i){var a,s,u=Jt(e,"x","batchNorm"),c=Jt(t,"mean","batchNorm"),l=Jt(n,"variance","batchNorm");return null!=o&&(a=Jt(o,"scale","batchNorm")),null!=r&&(s=Jt(r,"offset","batchNorm")),S(3===u.rank,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."}),S(3===c.rank||1===c.rank,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+c.rank+"."}),S(3===l.rank||1===l.rank,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+l.rank+"."}),null!=a&&S(3===a.rank||1===a.rank,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+a.rank+"."}),null!=s&&S(3===s.rank||1===s.rank,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."}),qs(u,c,l,s,a,i)}function Hs(e,t,n,r,o,i){var a,s,u=Jt(e,"x","batchNorm"),c=Jt(t,"mean","batchNorm"),l=Jt(n,"variance","batchNorm");return null!=o&&(a=Jt(o,"scale","batchNorm")),null!=r&&(s=Jt(r,"offset","batchNorm")),S(4===u.rank,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+u.rank+"."}),S(4===c.rank||1===c.rank,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+c.rank+"."}),S(4===l.rank||1===l.rank,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+l.rank+"."}),null!=a&&S(4===a.rank||1===a.rank,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+a.rank+"."}),null!=s&&S(4===s.rank||1===s.rank,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."}),qs(u,c,l,s,a,i)}function qs(e,t,n,r,o,i){null==i&&(i=.001);var a,s,u,c=Jt(e,"x","batchNorm"),l=Jt(t,"mean","batchNorm"),f=Jt(n,"variance","batchNorm");null!=o&&(a=Jt(o,"scale","batchNorm")),null!=r&&(s=Jt(r,"offset","batchNorm")),S(l.rank===f.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),S(null==s||l.rank===s.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),S(null==a||l.rank===a.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}),u=0===c.rank||1===c.rank?c.as4D(1,1,1,c.size):2===c.rank?c.as4D(1,1,c.shape[0],c.shape[1]):3===c.rank?c.as4D(1,c.shape[0],c.shape[1],c.shape[2]):c;var d=[c,l,f,a];return Fe.runKernelFunc(function(e,t){var n=e.batchNormalization(u,Gs(l),Gs(f),i,Gs(a),Gs(s));return t([c,l,f,a]),n},{x:c,mean:l,variance:f,scale:a,offset:s},function(e,t){var n=t,r=n[0],o=n[1],a=n[2],s=n[3],c=null==s?mn(1):s,l=zr(o.shape,u.shape),f=[];if(1===o.rank){for(var d=0;d<u.shape.length-1;++d)f.push(u.shape[d]);f.push(1)}var p=r.sub(o),h=e.mul(c),v=Ps(a.add(mn(i))),m=v.mul(v).mul(v).mul(mn(-.5));return{x:function(){return 1===o.rank?e.mul(vr(v.as4D(1,1,1,o.shape[0]),f)).mul(c).reshape(r.shape):e.mul(v).mul(c).reshape(r.shape)},mean:function(){var e=v.mul(mn(-1)).mul(h);return 1===o.rank&&(e=e.sum(l)),e.reshape(o.shape)},variance:function(){var e=m.mul(p).mul(h);return 1===o.rank&&(e=e.sum(l)),e.reshape(o.shape)},scale:function(){var t=p.mul(v),n=e.mul(t);return 1===o.rank&&(n=n.sum(l)),n.reshape(o.shape)},offset:function(){var t=e;return 1===o.rank&&(t=t.sum(l)),t.reshape(o.shape)}}},"BatchNormalization",{varianceEpsilon:i},d).reshape(c.shape)}function Gs(e){return null==e?null:0===e.rank?e.as1D():1===e.rank?e:2===e.rank?e.as4D(1,1,e.shape[0],e.shape[1]):3===e.rank?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}function Ks(){qt("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var $s=ln({batchNormalization2d_:function(e,t,n,r,o,i){return void 0===r&&(r=.001),Ks(),Ws(e,t,n,i,o,r)}}),Xs=ln({batchNormalization3d_:function(e,t,n,r,o,i){return void 0===r&&(r=.001),Ks(),zs(e,t,n,i,o,r)}}),Ys=ln({batchNormalization4d_:function(e,t,n,r,o,i){return void 0===r&&(r=.001),Ks(),Hs(e,t,n,i,o,r)}}),Js=ln({batchNormalization_:function(e,t,n,r,o,i){return void 0===r&&(r=.001),Ks(),qs(e,t,n,i,o,r)}}),Qs=ln({batchNorm_:qs}),Zs=ln({batchNorm2d_:Ws}),eu=ln({batchNorm3d_:zs}),tu=ln({batchNorm4d_:Hs}),nu=ln({logicalAnd_:function(e,t){var n=Jt(e,"a","logicalAnd","bool"),r=Jt(t,"b","logicalAnd","bool");return Hr(n.shape,r.shape),Fe.runKernelFunc(function(e){return e.logicalAnd(n,r)},{a:n,b:r},null,"LogicalAnd")}}),ru=ln({logicalNot_:function(e){var t=Jt(e,"x","logicalNot","bool");return Fe.runKernelFunc(function(e){return e.logicalNot(t)},{$x:t})}}),ou=ln({logicalOr_:function(e,t){var n=Jt(e,"a","logicalOr","bool"),r=Jt(t,"b","logicalOr","bool");return Hr(n.shape,r.shape),Fe.runKernelFunc(function(e){return e.logicalOr(n,r)},{$a:n,$b:r})}}),iu=ln({logicalXor_:function(e,t){var n=Jt(e,"a","logicalXor","bool"),r=Jt(t,"b","logicalXor","bool");return Hr(n.shape,r.shape),ou(e,t).logicalAnd(nu(e,t).logicalNot())}}),au=ln({where_:function(e,t,n){var r=Jt(t,"a","where"),o=Jt(n,"b","where"),i=Jt(e,"condition","where","bool");return C(r.shape,o.shape,"Error in where: "),1===i.rank?S(i.shape[0]===r.shape[0],function(){return"The first dimension of `a` must match the size of `condition`."}):C(i.shape,o.shape,"Error in where: "),Fe.runKernelFunc(function(e,t){var n=e.select(i,r,o);return t([i]),n},{$condition:i,$a:r,$b:o},function(e,t){var n=t[0];return{$condition:function(){return kn(n).toFloat()},$a:function(){return e.mul(n.cast(e.dtype))},$b:function(){return e.mul(n.logicalNot().cast(e.dtype))}}})}}),su=function(e){return u(this,void 0,void 0,function(){var t,n,r;return c(this,function(o){switch(o.label){case 0:return[4,(t=Jt(e,"condition","whereAsync","bool")).data()];case 1:return n=o.sent(),r=Oo(t.shape,n),e!==t&&t.dispose(),[2,r]}})})},uu=ln({add_:function(e,t){var n,r=Jt(e,"a","add"),o=Jt(t,"b","add");n=Ie(r,o),r=n[0],o=n[1];var i=Hr(r.shape,o.shape);return Fe.runKernelFunc(function(e){return e.add(r,o)},{a:r,b:o},function(e){return{a:function(){var t=e,n=zr(r.shape,i);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=zr(o.shape,i);return n.length>0&&(t=t.sum(n)),t.reshape(o.shape)}}},"Add")}}),cu=ln({addN_:function(e){S(Array.isArray(e),function(){return"The argument passed to tf.addN() must be a list of tensors"}),S(e.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length});var t=e.map(function(e,t){return Jt(e,"tensors"+t,"addN")}),n=t[0];t.forEach(function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(function(e){if(!P(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var r=t;return Fe.runKernelFunc(function(e){return e.addN(t)},r,function(e){var n={};return t.forEach(function(t,r){n[r]=function(){return e.clone()}}),n},"AddN")}}),lu=ln({addStrict_:function(e,t){var n=Jt(e,"a","addStrict"),r=Jt(t,"b","addStrict");return C(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),fu=ln({atan2_:function(e,t){var n,r=Jt(e,"a","atan2"),o=Jt(t,"b","atan2");n=Ie(r,o),r=n[0],o=n[1];var i=Hr(r.shape,o.shape);return Fe.runKernelFunc(function(e,t){var n=e.atan2(r,o);return t([r,o]),n},{$a:r,$b:o},function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=uu(n.square(),r.square()),o=e.mul(r.div(t)),a=zr(n.shape,i);return a.length>0&&(o=o.sum(a)),o.reshape(n.shape)},$b:function(){var t=uu(n.square(),r.square()),o=ks(e.mul(n.div(t))),a=zr(r.shape,i);return a.length>0&&(o=o.sum(a)),o.reshape(r.shape)}}})}}),du=ln({div_:function(e,t){var n,r=Jt(e,"a","div"),o=Jt(t,"b","div");if(n=Ie(r,o),r=n[0],o=n[1],"int32"===r.dtype&&"int32"===o.dtype)return vu(r,o);var i=Hr(r.shape,o.shape);return Fe.runKernelFunc(function(e,t){var n=e.realDivide(r,o);return t([r,o]),n},{a:r,b:o},function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.div(r.toFloat()),o=zr(n.shape,i);return o.length>0?t.sum(o).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),o=zr(r.shape,i);o.length>0&&(t=t.sum(o).reshape(r.shape));var a=r.square();return t.div(a.toFloat()).neg()}}},"Div")}}),pu=ln({divNoNan_:function(e,t){var n,r=Jt(e,"a","div"),o=Jt(t,"b","div");r=(n=Ie(r,o))[0],o=n[1];var i=du(r,o),a=kn(i),s=o.equal(a);return au(s,a,i)}}),hu=ln({divStrict_:function(e,t){var n=Jt(e,"a","div"),r=Jt(t,"b","div");return C(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),vu=ln({floorDiv_:function(e,t){var n,r=Jt(e,"a","floorDiv"),o=Jt(t,"b","floorDiv");n=Ie(r,o),r=n[0],o=n[1];var i=Hr(r.shape,o.shape);return Fe.runKernelFunc(function(e,t){var n=e.floorDiv(r,o);return t([r,o]),n},{a:r,b:o},function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.div(r.toFloat()),o=zr(n.shape,i);return o.length>0?t.sum(o).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),o=zr(r.shape,i);o.length>0&&(t=t.sum(o).reshape(r.shape));var a=r.square();return t.div(a.toFloat()).neg()}}},"FloorDiv")}}),mu=ln({maximum_:function(e,t){var n,r=Jt(e,"a","maximum"),o=Jt(t,"b","maximum");return n=Ie(r,o),r=n[0],o=n[1],"bool"===r.dtype&&(r=r.toInt(),o=o.toInt()),Hr(r.shape,o.shape),Fe.runKernelFunc(function(e,t){var n=e.maximum(r,o);return t([r,o]),n},{a:r,b:o},function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.greaterEqual(r).toFloat())},b:function(){return e.mul(n.less(r).toFloat())}}},"Maximum")}}),gu=ln({maximumStrict_:function(e,t){var n=Jt(e,"a","maximumStrict"),r=Jt(t,"b","maximumStrict");return C(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),yu=ln({minimum_:function(e,t){var n,r=Jt(e,"a","minimum"),o=Jt(t,"b","minimum");return n=Ie(r,o),r=n[0],o=n[1],"bool"===r.dtype&&(r=r.toInt(),o=o.toInt()),Hr(r.shape,o.shape),Fe.runKernelFunc(function(e,t){var n=e.minimum(r,o);return t([r,o]),n},{a:r,b:o},function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.lessEqual(r).toFloat())},b:function(){return e.mul(n.greater(r).toFloat())}}},"Minimum")}}),bu=ln({minimumStrict_:function(e,t){var n=Jt(e,"a","minimumStrict"),r=Jt(t,"b","minimumStrict");return C(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),wu=ln({mod_:function(e,t){var n,r=Jt(e,"a","mod"),o=Jt(t,"b","mod");n=Ie(r,o),r=n[0],o=n[1];var i=Hr(r.shape,o.shape);return Fe.runKernelFunc(function(e,t){var n=e.mod(r,o);return t([r,o]),n},{$a:r,$b:o},function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=zr(n.shape,i);return t.length>0?e.sum(t).reshape(n.shape):e},$b:function(){var t=e.mul(n.div(r).floor().neg()),o=zr(r.shape,i);return o.length>0?t.sum(o).reshape(r.shape):t}}})}}),xu=ln({modStrict_:function(e,t){var n=Jt(e,"a","modStrict"),r=Jt(t,"b","modStrict");return C(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),Ou=ln({mul_:function(e,t){var n,r=Jt(e,"a","mul"),o=Jt(t,"b","mul");n=Ie(r,o),r=n[0],o=n[1];var i=Hr(r.shape,o.shape);return Fe.runKernelFunc(function(e,t){var n=e.multiply(r,o);return t([r,o]),n},{a:r,b:o},function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.mul(r.toFloat()),o=zr(n.shape,i);return o.length>0?t.sum(o).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),o=zr(r.shape,i);return o.length>0?t.sum(o).reshape(r.shape):t}}},"Mul")}}),Eu=ln({mulStrict_:function(e,t){var n=Jt(e,"a","mul"),r=Jt(t,"b","mul");return C(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),Su=ln({pow_:function(e,t){var n,r=Jt(e,"base","pow"),o=Jt(t,"exp","pow");n=Ie(r,o),r=n[0],o=n[1];var i=Hr(r.shape,o.shape),a=[r,o];return Fe.runKernelFunc(function(e,t){var n=e.pow(r,o);return t([r,o,n]),n},{a:r,b:o},function(e,t){var n=t[0],r=t[1],o=t[2];return{a:function(){var t=r.toFloat(),o=e.mul(t.mul(n.pow(t.sub(mn(1))))),a=zr(n.shape,i);return a.length>0&&(o=o.sum(a)),o.reshape(n.shape)},b:function(){var t=n.greater(0),a=n.log().where(t,kn(n)),s=e.mul(o.mul(a)),u=zr(r.shape,i);return u.length>0&&(s=s.sum(u)),s.reshape(r.shape)}}},"Pow",{},a,[!0])}}),Cu=ln({powStrict_:function(e,t){return C(e.shape,t.shape,"Error in powStrict: "),e.pow(t)}}),ku=ln({squaredDifferenceStrict_:function(e,t){var n=Jt(e,"a","squaredDifferenceStrict"),r=Jt(t,"b","squaredDifferenceStrict");return C(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),Ru=ln({sub_:function(e,t){var n,r=Jt(e,"a","sub"),o=Jt(t,"b","sub");n=Ie(r,o),r=n[0],o=n[1];var i=Hr(r.shape,o.shape);return Fe.runKernelFunc(function(e){return e.subtract(r,o)},{a:r,b:o},function(e){return{a:function(){var t=e,n=zr(r.shape,i);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=zr(o.shape,i);return n.length>0&&(t=t.sum(n)),t.neg().reshape(o.shape)}}},"Sub")}}),ju=ln({subStrict_:function(e,t){var n=Jt(e,"a","subStrict"),r=Jt(t,"b","subStrict");return C(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}}),Pu=ln({equal_:function(e,t){var n,r=Jt(e,"a","equal"),o=Jt(t,"b","equal");return n=Ie(r,o),r=n[0],o=n[1],Hr(r.shape,o.shape),Fe.runKernelFunc(function(e){return e.equal(r,o)},{$a:r,$b:o})}}),Tu=ln({equalStrict_:function(e,t){var n=Jt(e,"a","equalStrict"),r=Jt(t,"b","equalStrict");return C(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),_u=ln({greater_:function(e,t){var n,r=Jt(e,"a","greater"),o=Jt(t,"b","greater");return n=Ie(r,o),r=n[0],o=n[1],Hr(r.shape,o.shape),Fe.runKernelFunc(function(e){return e.greater(r,o)},{a:r,b:o},null,"Greater")}}),Iu=ln({greaterEqual_:function(e,t){var n,r=Jt(e,"a","greaterEqual"),o=Jt(t,"b","greaterEqual");return n=Ie(r,o),r=n[0],o=n[1],Hr(r.shape,o.shape),Fe.runKernelFunc(function(e,t){var n=e.greaterEqual(r,o);return t([r,o]),n},{a:r,b:o},function(e,t){var n=t[0],r=t[1];return{a:function(){return kn(n)},b:function(){return kn(r)}}},"GreaterEqual")}}),Au=ln({greaterEqualStrict_:function(e,t){var n=Jt(e,"a","greaterEqualStrict"),r=Jt(t,"b","greaterEqualStrict");return C(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),Nu=ln({greaterStrict_:function(e,t){var n=Jt(e,"a","greaterStrict"),r=Jt(t,"b","greaterStrict");return C(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),Mu=ln({less_:function(e,t){var n,r=Jt(e,"a","less"),o=Jt(t,"b","less");return n=Ie(r,o),r=n[0],o=n[1],Hr(r.shape,o.shape),Fe.runKernelFunc(function(e){return e.less(r,o)},{a:r,b:o},null,"Less")}}),Du=ln({lessEqual_:function(e,t){var n,r=Jt(e,"a","lessEqual"),o=Jt(t,"b","lessEqual");return n=Ie(r,o),r=n[0],o=n[1],Hr(r.shape,o.shape),Fe.runKernelFunc(function(e,t){var n=e.lessEqual(r,o);return t([r,o]),n},{a:r,b:o},null,"LessEqual")}}),Lu=ln({lessEqualStrict_:function(e,t){var n=Jt(e,"a","lessEqualStrict"),r=Jt(t,"b","lessEqualStrict");return C(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),Fu=ln({lessStrict_:function(e,t){var n=Jt(e,"a","lessStrict"),r=Jt(t,"b","lessStrict");return C(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),Bu=ln({notEqual_:function(e,t){var n,r=Jt(e,"a","notEqual"),o=Jt(t,"b","notEqual");return n=Ie(r,o),r=n[0],o=n[1],Hr(r.shape,o.shape),Fe.runKernelFunc(function(e){return e.notEqual(r,o)},{a:r,b:o},null,"NotEqual")}}),Vu=ln({notEqualStrict_:function(e,t){var n=Jt(e,"a","notEqualStrict"),r=Jt(t,"b","notEqualStrict");return C(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}});function Uu(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function Wu(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var zu=ln({gather_:function(e,t,n){void 0===n&&(n=0);var r=Jt(e,"x","gather"),o=Jt(t,"indices","gather","int32");n=D(n,r.shape)[0];var i=function(e,t,n){for(var r=e.shape[n],o=[],i=1,a=1,s=0;s<n;s++)o.push(e.shape[s]),i*=e.shape[s];for(s=0;s<t.rank;s++)o.push(t.shape[s]);for(s=n+1;s<e.rank;s++)o.push(e.shape[s]),a*=e.shape[s];return{batchSize:i,sliceSize:a,dimSize:r,outputShape:o}}(r,o,n);return Fe.runKernelFunc(function(e,t){var i=e.gather(r,o.flatten(),n);return t([o]),i},{x:r,indices:o},function(e,t){var o=t[0];return{x:function(){var t=r.shape,i=o.size,a=t.slice(0,n),s=a.length,u=t.slice(n,t.length).slice(1),c=u.length,l=Uu(0,s),f=Uu(s+1,s+1+c),d=Wu([a,[i],u]),p=e.reshape(d),h=o.reshape([i]),v=Wu([[s],l,f]),m=p.transpose(v),g=Hu(m,h,r.shape[n]),y=an(v);return g.transpose(y)},indices:function(){return o}}},"Gather",{axis:n}).reshape(i.outputShape)}}),Hu=ln({unsortedSegmentSum_:function(e,t,n){var r=Jt(e,"x","unsortedSegmentSum"),o=Jt(t,"segmentIds","unsortedSegmentSum","int32");return S(T(n),function(){return"numSegments must be of dtype int"}),Fe.runKernelFunc(function(e,t){var i=e.unsortedSegmentSum(r,o,n);return t([o]),i},{$x:r},function(e,t){var n=t[0];return{$x:function(){return function(e,t){for(var n=mu(t,kn(t)),r=zu(e,n),o=Iu(t,mn(0,"int32")),i=r.rank-o.rank,a=0;a<i;++a)o=Qn(o,a+1);o=nu(o,xn(r.shape,"bool"));var s=kn(r);return au(o,r,s)}(e,n)}}})}});function qu(e,t,n,r,o,i,a){void 0===i&&(i="NHWC"),S(e.length===t.rank,function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"});var s=e,u=t,c=!1;3===t.rank&&(c=!0,u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),s=[1,e[0],e[1],e[2]]),S(4===s.length,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."}),S(4===u.rank,function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+u.rank}),S(4===n.rank,function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank});var l="NHWC"===i?s[3]:s[1],f="NHWC"===i?u.shape[3]:u.shape[1];S(l===n.shape[2],function(){return"Error in conv2dDerInput: depth of input ("+l+") must match input depth for filter "+n.shape[2]+"."}),S(f===n.shape[3],function(){return"Error in conv2dDerInput: depth of output ("+f+") must match output depth for filter "+n.shape[3]+"."}),null!=a&&S(T(o),function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."});var d=no(i),p=Kr(s,n.shape,r,1,o,a,!1,d),h=Fe.runKernelFunc(function(e,t){var r=e.conv2dDerInput(u,n,p);return t([n,u]),r},{dy4D:u,filter:n},function(e,t){var n=t[0],s=t[1];return{dy4D:function(){return Xu(e,n,r,o,i,1,a)},filter:function(){return Ju(e,s,n.shape,r,o,i,a)}}});return c?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}function Gu(e){var t=function(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}(e),n=t[0],r=t[1],o=t[2];return 1===n&&1===r&&1===o}function Ku(e,t,n,r,o){S(e.length===t.rank,function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"});var i=e,a=t,s=!1;4===t.rank&&(s=!0,a=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]),i=[1,e[0],e[1],e[2],e[3]]);var u=i[4],c=a.shape[4];S(5===i.length,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+i.length+"."}),S(5===a.rank,function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+a.rank}),S(5===n.rank,function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank}),S(u===n.shape[3],function(){return"Error in conv3dDerInput: depth of input ("+u+") must match input depth for filter "+n.shape[3]+"."}),S(c===n.shape[4],function(){return"Error in conv3dDerInput: depth of output ("+c+") must match output depth for filter "+n.shape[4]+"."});var l=$r(i,n.shape,r,1,o),f=Fe.runKernelFunc(function(e){return e.conv3dDerInput(a,n,l)},{dy5D:a});return s?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}var $u=ln({conv1d_:function(e,t,n,r,o,i,a){void 0===o&&(o="NWC"),void 0===i&&(i=1);var s=Jt(e,"x","conv1d"),u=Jt(t,"filter","conv1d"),c=s,l=!1;2===s.rank&&(l=!0,c=s.as3D(1,s.shape[0],s.shape[1])),S(3===c.rank,function(){return"Error in conv1d: input must be rank 3, but got rank "+c.rank+"."}),S(3===u.rank,function(){return"Error in conv1d: filter must be rank 3, but got rank "+u.rank+"."}),null!=a&&S(T(r),function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."}),S(c.shape[2]===u.shape[1],function(){return"Error in conv1d: depth of input ("+c.shape[2]+") must match input depth for filter "+u.shape[1]+"."}),S(to(n,i),function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+i+"'"}),S("NWC"===o,function(){return"Error in conv1d: got dataFormat of "+o+" but only NWC is currently supported."});var f=u.as4D(1,u.shape[0],u.shape[1],u.shape[2]),d=c.as4D(c.shape[0],1,c.shape[1],c.shape[2]),p=Xu(d,f,[1,n],r,"NHWC",[1,i],a);return l?p.as2D(p.shape[2],p.shape[3]):p.as3D(p.shape[0],p.shape[2],p.shape[3])}}),Xu=ln({conv2d_:function(e,t,n,r,o,i,a){void 0===o&&(o="NHWC"),void 0===i&&(i=[1,1]);var s=Jt(e,"x","conv2d"),u=Jt(t,"filter","conv2d"),c=s,l=!1;3===s.rank&&(l=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),S(4===c.rank,function(){return"Error in conv2d: input must be rank 4, but got rank "+c.rank+"."}),S(4===u.rank,function(){return"Error in conv2d: filter must be rank 4, but got rank "+u.rank+"."}),null!=a&&S(T(r),function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var f="NHWC"===o?c.shape[3]:c.shape[1];S(f===u.shape[2],function(){return"Error in conv2d: depth of input ("+f+") must match input depth for filter "+u.shape[2]+"."}),S(to(n,i),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"});var d=no(o),p=Kr(c.shape,u.shape,n,i,r,a,!1,d),h=[u,c],v=Fe.runKernelFunc(function(e,t){var n=e.conv2d(c,u,p);return t([u,c]),n},{x:c,filter:u},function(e,t){var a=t,s=a[0],u=a[1];return S(eo(i),function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+i+"'"}),{x:function(){return Qu(u.shape,e,s,n,r,o)},filter:function(){return Ju(u,e,s.shape,n,r,o)}}},"Conv2D",p,h);return l?v.as3D(v.shape[1],v.shape[2],v.shape[3]):v}}),Yu=ln({conv3d_:function(e,t,n,r,o,i){void 0===o&&(o="NDHWC"),void 0===i&&(i=[1,1,1]);var a=Jt(e,"x","conv3d"),s=Jt(t,"filter","conv3d"),u=a,c=!1;4===a.rank&&(c=!0,u=a.as5D(1,a.shape[0],a.shape[1],a.shape[2],a.shape[3])),S(5===u.rank,function(){return"Error in conv3d: input must be rank 5, but got rank "+u.rank+"."}),S(5===s.rank,function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."}),S(u.shape[4]===s.shape[3],function(){return"Error in conv3d: depth of input ("+u.shape[4]+") must match input depth for filter "+s.shape[3]+"."}),S(function(e,t){return Gu(n)||Gu(t)}(0,i),function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"}),S("NDHWC"===o,function(){return"Error in conv3d: got dataFormat of "+o+" but only NDHWC is currently supported."});var l=$r(u.shape,s.shape,n,i,r),f=Fe.runKernelFunc(function(e,t){var n=e.conv3d(u,s,l);return t([u,s]),n},{x:u,$filter:s},function(e,t){S(Gu(i),function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+i+"'"});var o=t[0],a=t[1];return{x:function(){return Ku(o.shape,e,a,n,r)},$filter:function(){return function(e,t,n,r,o){var i=e;4===e.rank&&(i=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]));var a=t;4===a.rank&&(a=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3])),S(5===i.rank,function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+i.shape+"."}),S(5===a.rank,function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+a.shape+"."}),S(5===n.length,function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+n+"."}),S(i.shape[4]===n[3],function(){return"Error in conv3dDerFilter: depth of input "+i.shape[4]+") must match input depth in filter ("+n[3]+"."}),S(a.shape[4]===n[4],function(){return"Error in conv3dDerFilter: depth of dy ("+a.shape[4]+") must match output depth for filter ("+n[4]+")."});var s=$r(i.shape,n,r,1,o);return Fe.runKernelFunc(function(e){return e.conv3dDerFilter(i,a,s)},{x5D:i,dy5D:a})}(o,e,a.shape,n,r)}}});return c?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),Ju=ln({conv2dDerFilter_:function(e,t,n,r,o,i,a){void 0===i&&(i="NHWC");var s=e;3===e.rank&&(s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var u=t;3===u.rank&&(u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),S(4===s.rank,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."}),S(4===u.rank,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+u.shape+"."}),S(4===n.length,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."});var c="NHWC"===i?s.shape[3]:s.shape[1],l="NHWC"===i?u.shape[3]:u.shape[1];S(c===n[2],function(){return"Error in conv2dDerFilter: depth of input "+c+") must match input depth in filter ("+n[2]+"."}),S(l===n[3],function(){return"Error in conv2dDerFilter: depth of dy ("+l+") must match output depth for filter ("+n[3]+")."}),null!=a&&S(T(o),function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."});var f=no(i),d=Kr(s.shape,n,r,1,o,a,!1,f);return Fe.runKernelFunc(function(e){return e.conv2dDerFilter(s,u,d)},{x4D:s,dy4D:u})}}),Qu=ln({conv2dDerInput_:qu}),Zu=ln({depthwiseConv2d_:function(e,t,n,r,o,i,a){void 0===o&&(o="NHWC"),void 0===i&&(i=[1,1]);var s=Jt(e,"x","depthwiseConv2d"),u=Jt(t,"filter","depthwiseConv2d"),c=s,l=!1;3===s.rank&&(l=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),S(4===c.rank,function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+c.rank+"."}),S(4===u.rank,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+u.rank+"."}),S(c.shape[3]===u.shape[2],function(){return"Error in depthwiseConv2d: number of input channels ("+c.shape[3]+") must match the inChannels dimension in filter "+u.shape[2]+"."}),null==i&&(i=[1,1]),S(to(n,i),function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"}),null!=a&&S(T(r),function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+r+"."});var f=Kr(c.shape,u.shape,n,i,r,a,!0),d=[c,u],p=Fe.runKernelFunc(function(e,t){var n=e.depthwiseConv2D(c,u,f);return t([c,u]),n},{x:c,filter:u},function(e,t){S(eo(i),function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+i+"'"});var n=t[0],r=t[1];return{x:function(){return ec(n.shape,e,r,f)},filter:function(){return tc(n,e,r.shape,f)}}},"DepthwiseConv2dNative",f,d);return l?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}}),ec=ln({depthwiseConv2dDerInput_:function(e,t,n,r){var o=t,i=!1;3===t.rank&&(i=!0,o=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var a=Fe.runKernelFunc(function(e){return e.depthwiseConv2DDerInput(o,n,r)},{dy4D:o});return i?a.as3D(a.shape[1],a.shape[2],a.shape[3]):a}}),tc=ln({depthwiseConv2dDerFilter_:function(e,t,n,r){var o=e;3===e.rank&&(o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var i=t;return 3===i.rank&&(i=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),Fe.runKernelFunc(function(e){return e.depthwiseConv2DDerFilter(o,i,r)},{x4D:o,dy4D:i})}}),nc=ln({separableConv2d_:function(e,t,n,r,o,i,a){void 0===i&&(i=[1,1]),void 0===a&&(a="NHWC");var s=Jt(e,"x","separableConv2d"),u=Jt(t,"depthwiseFilter","separableConv2d"),c=Jt(n,"pointwiseFilter","separableConv2d"),l=s,f=!1;if(3===s.rank&&(f=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),"NCHW"===a)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");S(4===l.rank,function(){return"Error in separableConv2d: input must be rank 4, but got rank "+l.rank+"."}),S(4===u.rank,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+u.rank+"."}),S(4===c.rank,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+u.rank+"."}),S(1===c.shape[0],function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+c.shape[0]+"."}),S(1===c.shape[1],function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+c.shape[1]+"."});var d=u.shape[2],p=u.shape[3];S(c.shape[2]===d*p,function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+d*p+", but got "+c.shape[2]+"."});var h=Zu(l,u,r,o,a,i),v=Xu(h,c,1,"valid",a);return f?v.as3D(v.shape[1],v.shape[2],v.shape[3]):v}}),rc=ln({conv2dTranspose_:function(e,t,n,r,o,i){return qu(n,Jt(e,"x","conv2dTranspose"),Jt(t,"filter","conv2dTranspose"),r,o,"NHWC",i)}}),oc=ln({conv3dTranspose_:function(e,t,n,r,o){return Ku(n,Jt(e,"x","conv3dTranspose"),Jt(t,"filter","conv3dTranspose"),r,o)}}),ic=ln({matMul_:function(e,t,n,r){var o;void 0===n&&(n=!1),void 0===r&&(r=!1);var i=Jt(e,"a","matMul"),a=Jt(t,"b","matMul");o=Ie(i,a),i=o[0],a=o[1];var s=n?i.shape[i.rank-2]:i.shape[i.rank-1],u=r?a.shape[a.rank-1]:a.shape[a.rank-2],c=n?i.shape[i.rank-1]:i.shape[i.rank-2],l=r?a.shape[a.rank-2]:a.shape[a.rank-1],f=i.shape.slice(0,-2),d=a.shape.slice(0,-2),p=j(f),h=j(d);S(i.rank>=2&&a.rank>=2&&i.rank===a.rank,function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+i.rank+" and "+a.rank+"."}),S(P(f,d),function(){return"Error in matMul: outer dimensions ("+f+") and ("+d+") of Tensors with shapes "+i.shape+" and "+a.shape+" must match."}),S(s===u,function(){return"Error in matMul: inner shapes ("+s+") and ("+u+") of Tensors with shapes "+i.shape+" and "+a.shape+" and transposeA="+n+" and transposeB="+r+" must match."});var v=i.shape.slice(0,-2).concat([c,l]),m=n?i.as3D(p,s,c):i.as3D(p,c,s),g=r?a.as3D(h,l,u):a.as3D(h,u,l),y={transposeA:n,transposeB:r};return Fe.runKernelFunc(function(e,t){var o=e.batchMatMul(m,g,n,r);return t([m,g]),o},{a:m,b:g},function(e,t){var o=t,i=o[0],a=o[1];return n||r?!n&&r?{a:function(){return e.matMul(a,!1,!1)},b:function(){return e.matMul(i,!0,!1)}}:n&&!r?{a:function(){return a.matMul(e,!1,!0)},b:function(){return i.matMul(e,!1,!1)}}:{a:function(){return a.matMul(e,!0,!0)},b:function(){return e.matMul(i,!0,!0)}}:{a:function(){return e.matMul(a,!1,!0)},b:function(){return i.matMul(e,!0,!1)}}},"BatchMatMul",y).reshape(v)}}),ac=ln({dot_:function(e,t){var n=Jt(e,"t1","dot"),r=Jt(t,"t2","dot");S(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+"."});var o=1===n.rank?n.size:n.shape[1],i=1===r.rank?r.size:r.shape[0];return S(o===i,function(){return"Error in dot: inner dimensions of inputs must match, but got "+o+" and "+i+"."}),1===n.rank&&1===r.rank?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():1===n.rank&&2===r.rank?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():2===n.rank&&1===r.rank?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),sc=ln({outerProduct_:function(e,t){var n=Jt(e,"v1","outerProduct"),r=Jt(t,"v2","outerProduct");return S(1===n.rank&&1===r.rank,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."}),n.as2D(-1,1).matMul(r.as2D(1,-1))}}),uc=ln({reverse_:function(e,t){var n=Jt(e,"x","reverse");if(0===n.rank)return n.clone();var r=D(t,n.shape);return Fe.runKernelFunc(function(e){return e.reverse(n,r)},{$x:n},function(e){return{$x:function(){return e.reverse(r)}}}).reshapeAs(n)}}),cc=ln({reverse1d_:function(e){var t=Jt(e,"x","reverse");return S(1===t.rank,function(){return"Error in reverse1D: x must be rank 1 but got rank "+t.rank+"."}),uc(t,0)}}),lc=ln({reverse2d_:function(e,t){var n=Jt(e,"x","reverse");return S(2===n.rank,function(){return"Error in reverse2D: x must be rank 2 but got rank "+n.rank+"."}),uc(n,t)}}),fc=ln({reverse3d_:function(e,t){var n=Jt(e,"x","reverse");return S(3===n.rank,function(){return"Error in reverse3D: x must be rank 3 but got rank "+n.rank+"."}),uc(n,t)}}),dc=ln({reverse4d_:function(e,t){var n=Jt(e,"x","reverse");return S(4===n.rank,function(){return"Error in reverse4D: x must be rank 4 but got rank "+n.rank+"."}),uc(n,t)}});function pc(e,t,n,r,o,i){var a=Jt(e,"x","maxPool"),s=a,u=!1;3===a.rank&&(u=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),null==r&&(r=[1,1]),S(4===s.rank,function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."}),S(to(n,r),function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"}),null!=i&&S(T(o),function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."});var c=qr(s.shape,t,n,r,o,i);if(1===c.filterWidth&&1===c.filterHeight&&P(c.inShape,c.outShape))return a.clone();var l=[s],f=Fe.runKernelFunc(function(e,t){var n=e.maxPool(s,c);return t([s,n]),n},{x:s},function(e,i){var a=i[0],s=i[1];return{x:function(){return function(e,t,n,r,o,i,a,s){var u=Jt(e,"dy","maxPoolBackprop"),c=Jt(t,"input","maxPoolBackprop"),l=Jt(n,"output","maxPoolBackprop");S(c.rank===u.rank,function(){return"Rank of input ("+c.rank+") does not match rank of dy ("+u.rank+")"}),null==i&&(i=[1,1]),S(to(o,i),function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+i+"'"}),S(4===u.rank,function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+u.rank+"."}),S(4===c.rank,function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+c.rank+"."});var f=qr(c.shape,r,o,i,a,s);return Fe.runKernelFunc(function(e){return e.maxPoolBackprop(u,c,l,f)},{$dy:u,$input:c})}(e,a,s,t,n,r,o)}}},"MaxPool",c,l);return u?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}function hc(e,t,n,r,o,i){var a=Jt(e,"x","avgPool","float32");null==r&&(r=[1,1]),S(to(n,r),function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"});var s=a,u=!1;3===a.rank&&(u=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),S(4===s.rank,function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."}),null!=i&&S(T(o),function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."});var c=qr(s.shape,t,n,r,o,i);if(1===c.filterWidth&&1===c.filterHeight&&P(c.inShape,c.outShape))return a.clone();var l=Fe.runKernelFunc(function(e){return e.avgPool(s,c)},{x:s},function(e){return{x:function(){return function(e,t,n,r,o,i){var a=Jt(e,"dy","avgPoolBackprop"),s=Jt(t,"input","avgPoolBackprop");S(s.rank===a.rank,function(){return"Rank of input ("+s.rank+") does not match rank of dy ("+a.rank+")"}),null==o&&(o=[1,1]),S(to(r,o),function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+o+"'"});var u=s,c=a,l=!1;3===s.rank&&(l=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2]),c=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),S(4===c.rank,function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+c.rank+"."}),S(4===u.rank,function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+u.rank+"."});var f=qr(u.shape,n,r,o,i),d=Fe.runKernelFunc(function(e){return e.avgPoolBackprop(c,u,f)},{dy4D:c,input4D:u});return l?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d}(e,s,t,n,r,o)}}},"AvgPool",c);return l=l.cast(a.dtype),u?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}var vc=ln({maxPool_:function(e,t,n,r,o){return pc(e,t,n,1,r,o)}}),mc=ln({avgPool_:function(e,t,n,r,o){return hc(e,t,n,1,r,o)}}),gc=ln({pool_:function(e,t,n,r,o,i){null==o&&(o=[1,1]),null==i&&(i=1),0===r&&(r="valid");var a=Jt(e,"x","maxPool"),s=a,u=!1;3===a.rank&&(u=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),S(to(i,o),function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+o+"'"});var c,l=qr(s.shape,t,i,o,r),f=[l.dilationHeight,l.dilationWidth];c="same"===r?function(e,t){var n=e.map(function(e,n){return e+(e-1)*(t[n]-1)}).map(function(e){return e-1}),r=n.map(function(e){return Math.floor(e/2)}),o=n.map(function(e,t){return e-r[t]});return n.map(function(e,t){return[r[t],o[t]]})}([l.filterHeight,l.filterWidth],f):[[0,0],[0,0]];var d=1===f[0]&&1===f[1],p=function(e,t,n){var r=n.map(function(e){return e[0]}),o=n.map(function(e){return e[1]}),i=e.concat(r,o),a=t.map(function(e,t){return(e-i[t]%e)%e}),s=o.map(function(e,t){return e+a[t]});return[t.map(function(e,t){return[r[t],s[t]]}),t.map(function(e,t){return[0,a[t]]})]}([l.inHeight,l.inWidth],f,c),h=p[0],v=p[1],m=d?r:"valid",g=d?s:dr(s,f,h),y=("avg"===n?function(){return hc(g,t,i,1,m)}:function(){return pc(g,t,i,1,m)})(),b=d?y:Gn(y,f,v);return u?b.as3D(b.shape[1],b.shape[2],b.shape[3]):b}}),yc=ln({maxPool3d_:function(e,t,n,r,o,i,a){void 0===i&&(i="NDHWC");var s=Jt(e,"x","maxPool3d"),u=s,c=!1;4===s.rank&&(c=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==a&&(a=[1,1,1]),S(5===u.rank,function(){return"Error in maxPool3d: x must be rank 5 but got rank "+u.rank+"."}),S("NDHWC"===i,function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+i}),S(to(n,a),function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"}),null!=o&&S(T(r),function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."});var l=Gr(u.shape,t,n,a,r,o,i),f=Fe.runKernelFunc(function(e,t){var n=e.maxPool3d(u,l);return t([u,n]),n},{x:u},function(e,i){var s=i[0],u=i[1];return{x:function(){return function(e,t,n,r,o,i,a,s){var u=Jt(e,"dy","maxPool3dBackprop"),c=Jt(t,"input","maxPool3dBackprop"),l=Jt(n,"output","maxPool3dBackprop"),f=u,d=c,p=l,h=!1;4===c.rank&&(h=!0,f=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]),d=c.as5D(1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]),p=l.as5D(1,l.shape[0],l.shape[1],l.shape[2],l.shape[3])),S(5===f.rank,function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+f.rank+"."}),S(5===d.rank,function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+d.rank+"."}),S(5===p.rank,function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+p.rank+"."}),null==i&&(i=[1,1,1]),S(to(o,i),function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+i+"'"}),null!=s&&S(T(a),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+a+"."});var v=Gr(d.shape,r,o,i,a,s),m=Fe.runKernelFunc(function(e){return e.maxPool3dBackprop(f,d,p,v)},{dy5D:f,input5D:d});return h?m.as4D(m.shape[1],m.shape[2],m.shape[3],m.shape[4]):m}(e,s,u,t,n,a,r,o)}}});return c?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),bc=ln({avgPool3d_:function(e,t,n,r,o,i,a){void 0===i&&(i="NDHWC");var s=Jt(e,"x","avgPool3d","float32"),u=s,c=!1;4===s.rank&&(c=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==a&&(a=[1,1,1]),S(5===u.rank,function(){return"Error in avgPool3d: x must be rank 5 but got rank "+u.rank+"."}),S("NDHWC"===i,function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+i}),S(to(n,a),function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"}),null!=o&&S(T(r),function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."});var l=Gr(u.shape,t,n,a,r,o,i),f=Fe.runKernelFunc(function(e){return e.avgPool3d(u,l)},{x:u},function(e){return{x:function(){return function(e,t,n,r,o,i,a){var s=Jt(e,"dy","avgPool3dBackprop"),u=Jt(t,"input","avgPool3dBackprop"),c=s,l=u,f=!1;4===u.rank&&(f=!0,c=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]),l=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3])),S(5===c.rank,function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+c.rank+"."}),S(5===l.rank,function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+l.rank+"."}),null==o&&(o=[1,1,1]),S(to(r,o),function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+o+"'"}),null!=a&&S(T(i),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."});var d=Gr(l.shape,n,r,o,i,a),p=Fe.runKernelFunc(function(e){return e.avgPool3dBackprop(c,l,d)},{dy5D:c,input5D:l});return f?p.as4D(p.shape[1],p.shape[2],p.shape[3],p.shape[4]):p}(e,u,t,n,a,r,o)}}});return f=f.cast(u.dtype),c?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),wc=ln({slice_:function(e,t,n){var r,o,i=Jt(e,"x","slice");if(0===i.rank)throw new Error("Slicing scalar is not possible");(r="number"==typeof t?[t].concat(new Array(i.rank-1).fill(0)):t.length<i.rank?t.concat(new Array(i.rank-t.length).fill(0)):t.slice()).forEach(function(e){S(-1!==e,function(){return"slice() does not support negative begin indexing."})}),o=(o=null==n?new Array(i.rank).fill(-1):"number"==typeof n?[n].concat(new Array(i.rank-1).fill(-1)):n.length<i.rank?n.concat(new Array(i.rank-n.length).fill(-1)):n).map(function(e,t){return e>=0?e:(S(-1===e,function(){return"Negative size values should be exactly -1 but got "+e+" for the slice() size at index "+t+"."}),i.shape[t]-r[t])}),Pr(i,r,o);var a=i.shape,s={begin:r,size:o};return Fe.runKernelFunc(function(e){return e.slice(i,r,o)},{x:i},function(e){for(var t=[],n=0;n<e.rank;n++)t.push([r[n],a[n]-r[n]-o[n]]);return{x:function(){return e.pad(t)}}},"Slice",s)}}),xc=ln({slice1d_:function(e,t,n){var r=Jt(e,"x","slice1d");return S(1===r.rank,function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"}),wc(r,[t],[n])}}),Oc=ln({slice2d_:function(e,t,n){var r=Jt(e,"x","slice2d");return S(2===r.rank,function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"}),wc(r,t,n)}}),Ec=ln({slice3d_:function(e,t,n){var r=Jt(e,"x","slice3d");return S(3===r.rank,function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"}),wc(r,t,n)}}),Sc=ln({slice4d_:function(e,t,n){var r=Jt(e,"x","slice4d");return S(4===r.rank,function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"}),wc(r,t,n)}});function Cc(e,t,n,r,o){return t.rank<n.rank&&(t=t.reshape(nn(t.shape,r))),e.rank<n.rank&&(e=e.reshape(nn(e.shape,r))),{x:function(){var r=e.mul(n.equal(t).cast(e.dtype));return null==o?r:r.transpose(o)}}}var kc=ln({all_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Jt(e,"x","all","bool"),o=D(t,r.shape),i=o,a=on(i,r.rank);null!=a&&(r=r.transpose(a),i=sn(i.length,r.rank));var s=Fe.runKernelFunc(function(e){return e.all(r,i)},{$x:r});if(n){var u=nn(s.shape,o);return s.reshape(u)}return s}}),Rc=ln({any_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Jt(e,"x","any","bool"),o=D(t,r.shape),i=o,a=on(i,r.rank);null!=a&&(r=r.transpose(a),i=sn(i.length,r.rank));var s=Fe.runKernelFunc(function(e){return e.any(r,i)},{$x:r});if(n){var u=nn(s.shape,o);return s.reshape(u)}return s}}),jc=ln({argMax_:function(e,t){void 0===t&&(t=0);var n=Jt(e,"x","argMax");null==t&&(t=0);var r=D(t,n.shape),o=on(r,n.rank);null!=o&&(n=n.transpose(o),r=sn(r.length,n.rank));var i={axis:r[0]},a=[n];return Fe.runKernelFunc(function(e,t){var o=e.argMax(n,r[0]);return t([n]),o},{x:n},function(e,t){var n=t[0];return{x:function(){return kn(n)}}},"ArgMax",i,a)}}),Pc=ln({argMin_:function(e,t){void 0===t&&(t=0);var n=Jt(e,"x","argMin");null==t&&(t=0);var r=D(t,n.shape),o=on(r,n.rank);return null!=o&&(n=n.transpose(o),r=sn(r.length,n.rank)),Fe.runKernelFunc(function(e,t){var o=e.argMin(n,r[0]);return t([n]),o},{$x:n},function(e,t){var n=t[0];return{$x:function(){return kn(n)}}})}}),Tc=ln({logSumExp_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Jt(e,"x","logSumExp"),o=D(t,r.shape),i=r.max(o,!0),a=r.sub(i).exp().sum(o).log(),s=i.reshape(a.shape).add(a);if(n){var u=nn(s.shape,o);return s.reshape(u)}return s}}),_c=ln({max_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Jt(e,"x","max"),o=r,i=D(t,r.shape),a=i,s=on(a,r.rank);null!=s&&(r=r.transpose(s),a=sn(a.length,r.rank));var u=[r],c=Fe.runKernelFunc(function(e,t){var n=e.max(r,a);return t([o,n]),n},{x:r},function(e,t){return Cc(e,t[1],t[0],i,s)},"Max",{axes:a},u,[!0]);if(n){var l=nn(c.shape,i);c=c.reshape(l)}return c}}),Ic=ln({mean_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Jt(e,"x","mean"),o=D(t,r.shape),i=j(tn(r.shape,o)[1]);return Dr(function(e){var r=mn(i);return{value:(r.dtype===e.dtype?e:e.cast(r.dtype)).div(r).sum(t,n),gradFunc:function(t){var n=e.shape.slice();return o.forEach(function(e){n[e]=1}),t.reshape(n).mul(xn(e.shape,"float32")).div(i)}}})(r)}}),Ac=ln({min_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Jt(e,"x","min"),o=r,i=D(t,r.shape),a=i,s=on(a,r.rank);null!=s&&(r=r.transpose(s),a=sn(a.length,r.rank));var u=[r],c=Fe.runKernelFunc(function(e,t){var n=e.min(r,a);return t([o,n]),n},{x:r},function(e,t){return Cc(e,t[1],t[0],i,s)},"Min",{axes:a},u,[!0]);if(n){var l=nn(c.shape,i);c=c.reshape(l)}return c}}),Nc=ln({moments_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=D(t,(e=Jt(e,"x","moments")).shape),o=e.mean(r,n),i=o.shape;n||(i=nn(o.shape,r));var a=e.toFloat().sub(o.reshape(i)).square();return{mean:o,variance:a.mean(r,n)}}}),Mc=ln({sum_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Jt(e,"x","sum");"bool"===r.dtype&&(r=r.toInt());var o=D(t,r.shape);return Dr(function(e){var t=on(o,e.rank),r=o,i=e;null!=t&&(i=e.transpose(t),r=sn(r.length,e.rank));var a=function(t){var n=e.shape.slice();return o.forEach(function(e){n[e]=1}),t.reshape(n).mul(xn(e.shape,"float32"))},s={axes:r},u=Fe.runKernelFunc(function(e){return e.sum(i,r)},{x:i},function(e){return{x:function(){return a(e)}}},"Sum",s);if(n){var c=nn(u.shape,o);u=u.reshape(c)}return{value:u,gradFunc:a}})(r)}}),Dc=ln({prod_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=Jt(e,"x","prod");"bool"===r.dtype&&(r=r.toInt());var o=D(t,r.shape),i=on(o,r.rank),a=o,s=r;null!=i&&(s=r.transpose(i),a=sn(a.length,r.rank));var u=Fe.runKernelFunc(function(e){return e.prod(s,a)},{permutedX:s});if(n){var c=nn(u.shape,o);u=u.reshape(c)}return u}}),Lc=ln({elu_:function(e){var t=Jt(e,"x","elu");return Fe.runKernelFunc(function(e,n){var r=e.elu(t);return n([r]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return Fe.runKernelFunc(function(t){return t.eluDer(e,n)},{dy:e,y:n})}}})}}),Fc=ln({leakyRelu_:function(e,t){void 0===t&&(t=.2);var n=Jt(e,"x","leakyRelu");return mu(mn(t).mul(n),n)}}),Bc=ln({prelu_:function(e,t){var n=Jt(e,"x","prelu"),r=Jt(t,"alpha","prelu");return Fe.runKernelFunc(function(e,t){var o=e.prelu(n,r);return t([n,r]),o},{x:n,alpha:r},function(e,t){var n=t[0],r=t[1],o=n.greater(0);return{x:function(){return au(o,e,e.mul(r))},alpha:function(){var t=au(o,kn(e),e.mul(n)),i=zr(r.shape,e.shape);return i.length>0&&(t=t.sum(i)),t.reshape(r.shape)}}},"Prelu")}}),Vc=ln({relu_:function(e){var t=Jt(e,"x","relu");return"bool"===t.dtype?t.toInt():Fe.runKernelFunc(function(e,n){var r=e.relu(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return e.mulStrict(n.step().toFloat())}}},"Relu")}}),Uc=ln({relu6_:function(e){var t=Jt(e,"x","relu6");return"bool"===t.dtype?t.toInt():Fe.runKernelFunc(function(e,n){var r=e.relu6(t);return n([t]),r},{x:t},function(e,t){var n=t[0],r=n.lessEqual(6).mul(n.step());return{x:function(){return e.mulStrict(r.toFloat())}}},"Relu6")}}),Wc=ln({selu_:function(e){var t=Jt(e,"x","selu");return Fe.runKernelFunc(function(e,n){var r=e.selu(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){var t=n.greater(mn(0)),r=mn(Na),o=mn(Ma),i=e.mul(o),a=e.mul(r).mul(n.toFloat().exp());return au(t,i,a)}}})}}),zc=ln({transpose_:function(e,t){var n=Jt(e,"x","transpose");if(null==t&&(t=n.shape.map(function(e,t){return t}).reverse()),S(n.rank===t.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of perm "+t+"."}),t.forEach(function(e){S(e>=0&&e<n.rank,function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+t})}),n.rank<=1)return n.clone();var r={perm:t};return Fe.runKernelFunc(function(e){return e.transpose(n,t)},{x:n},function(e){var n=an(t);return{x:function(){return e.transpose(n)}}},"Transpose",r)}}),Hc=ln({localResponseNormalization_:function(e,t,n,r,o){void 0===t&&(t=5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===o&&(o=.5);var i=Jt(e,"x","localResponseNormalization");S(4===i.rank||3===i.rank,function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+i.rank+"."}),S(T(t),function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+t+"."});var a=i,s=!1;3===i.rank&&(s=!0,a=i.as4D(1,i.shape[0],i.shape[1],i.shape[2]));var u=Fe.runKernelFunc(function(e,i){var s=e.localResponseNormalization4D(a,t,n,r,o);return i([a,s]),s},{x4D:a},function(e,i){var a=i[0],s=i[1];return{x4D:function(){return Fe.runKernelFunc(function(i){return i.LRNGrad(e,a,s,t,n,r,o)},{})}}});return s?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),qc=ln({norm_:function(e,t,n,r){void 0===t&&(t="euclidean"),void 0===n&&(n=null),void 0===r&&(r=!1);var o=function e(t,n,r){if(void 0===r&&(r=null),0===t.rank)return t.abs();if(1!==t.rank&&null===r)return e(t.reshape([-1]),n,r);if(1===t.rank||"number"==typeof r||Array.isArray(r)&&1===r.length){if(1===n)return t.abs().sum(r);if(n===1/0)return t.abs().max(r);if(n===-1/0)return t.abs().min(r);if("euclidean"===n||2===n)return t.abs().pow(mn(2,"int32")).sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}if(Array.isArray(r)&&2===r.length){if(1===n)return t.abs().sum(r[0]).max(r[1]-1);if(n===1/0)return t.abs().sum(r[1]).max(r[0]);if(n===-1/0)return t.abs().sum(r[1]).min(r[0]);if("fro"===n||"euclidean"===n)return t.square().sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}throw new Error("Error in norm: invalid axis: "+r)}(e=Jt(e,"x","norm"),t,n),i=o.shape;if(r){var a=D(n,e.shape);i=nn(o.shape,a)}return o.reshape(i)}}),Gc=ln({basicLSTMCell_:function(e,t,n,r,o,i){var a=Jt(e,"forgetBias","basicLSTMCell"),s=Jt(t,"lstmKernel","basicLSTMCell"),u=Jt(n,"lstmBias","basicLSTMCell"),c=Jt(r,"data","basicLSTMCell"),l=Jt(o,"c","basicLSTMCell"),f=Jt(i,"h","basicLSTMCell"),d=c.concat(f,1).matMul(s).add(u),p=d.shape[0],h=d.shape[1]/4,v=[p,h],m=d.slice([0,0],v),g=d.slice([0,h],v),y=d.slice([0,2*h],v),b=d.slice([0,3*h],v),w=m.sigmoid().mulStrict(g.tanh()).addStrict(l.mulStrict(a.add(y).sigmoid())),x=w.tanh().mulStrict(b.sigmoid());return[w,x]}}),Kc=ln({multiRNNCell_:function(e,t,n,r){for(var o=Jt(t,"data","multiRNNCell"),i=Qt(n,"c","multiRNNCell"),a=Qt(r,"h","multiRNNCell"),s=o,u=[],c=0;c<e.length;c++){var l=e[c](s,i[c],a[c]);u.push(l[0]),u.push(l[1]),s=l[1]}var f=[],d=[];for(c=0;c<u.length;c+=2)f.push(u[c]),d.push(u[c+1]);return[f,d]}}),$c=ln({movingAverage_:function(e,t,n,r,o){void 0===o&&(o=!0);var i=Jt(e,"v","movingAverage"),a=Jt(t,"x","movingAverage"),s=Jt(n,"decay","movingAverage");Ae(i,a),S(P(i.shape,a.shape),function(){return"Shape mismatch in v and x"});var u=mn(1),c=u.sub(s),l=a.sub(i).mul(c);if(o){S(null!=r,function(){return"When using zeroDebias: true, step is required."});var f=Jt(r,"step","movingAverage");l=l.div(u.sub(Su(s,f)))}return i.add(l)}}),Xc=ln({stridedSlice_:function(e,t,n,r,o,i,a,s,u){if(void 0===o&&(o=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===u&&(u=0),null==r&&(r=new Array(t.length)),0!==a)throw new Error("ellipsis mask is not yet supported");var c=Jt(e,"x","stridedSlice"),l=Tr(s),f=c.shape.slice();l.forEach(function(e){t[e]=0,n[e]=1,f.splice(e,0,1)}),c=c.reshape(f);for(var d=0;d<c.rank;d++)t[d]=Ir(o,t,r,c.shape,d),n[d]=Ar(i,n,r,c.shape,d),r[d]=r[d]||1;var p=Tr(u);p.forEach(function(e){n[e]=t[e]+1,r[e]=1});var h=_r(t,n,r),v=h.filter(function(e,t){return-1===p.indexOf(t)});return r.every(function(e){return 1===e})?wc(c,t,h).reshape(v):Fe.runKernelFunc(function(e){return e.stridedSlice(c,t,n,r)},{$x:c}).reshape(v)}}),Yc=ln({topk_:function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!0);var r=Jt(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var o=r.shape[r.shape.length-1];if(t>o)throw new Error("'k' passed to topk() must be <= the last dimension ("+o+") but got "+t);var i=Fe.runKernelFunc(function(e){return e.topk(r,t,n)},{$x:r});return{values:i[0],indices:i[1]}}}),Jc=ln({scatterND_:function(e,t,n){var r=Jt(e,"indices","scatterND","int32"),o=Jt(t,"updates","scatterND");return Rr(o,r,n),Fe.runKernelFunc(function(e){return e.scatterND(r,o,n)},{indices:r,updates:o},null,"ScatterNd",{shape:n})}}),Qc=ln({fft_:function(e){S("complex64"===e.dtype,function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+e.dtype+"."});var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return Fe.runKernelFunc(function(e){return e.fft(r)},{input:e}).reshape(e.shape)}}),Zc=ln({ifft_:function(e){S("complex64"===e.dtype,function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+e.dtype+"."});var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return Fe.runKernelFunc(function(e){return e.ifft(r)},{input:e}).reshape(e.shape)}}),el=ln({rfft_:function(e,t){S("float32"===e.dtype,function(){return"The dtype for rfft() must be real value but got "+e.dtype});var n,r=e.shape[e.shape.length-1],o=e.size/r;if(null!=t&&t<r){var i=e.shape.map(function(e){return 0}),a=e.shape.map(function(e){return e});a[e.shape.length-1]=t,n=e.slice(i,a),r=t}else if(null!=t&&t>r){var s=e.shape.map(function(e){return e});s[e.shape.length-1]=t-r,n=e.concat(On(s),e.shape.length-1),r=t}else n=e;var u=n.zerosLike(),c=fn(n,u).as2D(o,r),l=Qc(c),f=Math.floor(r/2)+1,d=dn(l),p=pn(l),h=d.split([f,r-f],d.shape.length-1),v=p.split([f,r-f],p.shape.length-1),m=n.shape.slice();return m[n.shape.length-1]=f,fn(h[0],v[0]).reshape(m)}}),tl=ln({irfft_:function(e){var t=e.shape[e.shape.length-1],n=e.size/t;if(t<=2){var r=e.as2D(n,t),o=Zc(r);return dn(o)}var i=[n,2*(t-1)],a=dn(e).as2D(n,t),s=pn(e).as2D(n,t),u=a.slice([0,1],[n,t-2]).reverse(1),c=s.slice([0,1],[n,t-2]).reverse(1).mul(mn(-1)),l=a.concat(u,1),f=s.concat(c,1);return r=fn(l,f).as2D(i[0],i[1]),o=Zc(r),dn(o)}}),nl=Object.freeze({fft:Qc,ifft:Zc,rfft:el,irfft:tl}),rl=ln({sparseToDense_:function(e,t,n,r){void 0===r&&(r=0);var o=Jt(e,"sparseIndices","sparseToDense","int32"),i=Jt(t,"sparseValues","sparseToDense"),a=Jt(r,"defaultValue","sparseToDense",i.dtype);return function(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+e.shape+".");var o=e.rank>0?e.shape[0]:1,i=e.rank>1?e.shape[1]:1;if(n.length!==i)throw new Error("outputShape has incorrect number of elements:, "+n.length+", should be: "+i+".");var a=t.size;if(0!==t.rank&&(1!==t.rank||a!==o))throw new Error("sparseValues has incorrect shape "+t.shape+", should be [] or ["+o+"]");if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(o,i,n,a),Fe.runKernelFunc(function(e){return e.sparseToDense(o,i,n,a)},{$sparseIndices:o,$sparseValues:i,$defaultValue:a})}}),ol=ln({gatherND_:function(e,t){var n=Jt(t,"indices","gatherND","int32"),r=Jt(e,"x","gatherND");return Fe.runKernelFunc(function(e){return e.gatherND(r,n)},{x:r,indices:n},null,"GatherNd")}}),il=ln({diag_:function(e){var t=Jt(e,"x","diag").flatten(),n=e.shape.concat(e.shape);return Fe.runKernelFunc(function(e){return e.diag(t)},{$x:t}).reshape(n)}}),al=ln({dropout_:function(e,t,n,r){var o=Jt(e,"x","dropout");if(S("float32"===o.dtype,function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+o.dtype+" tensor instead."}),S(t>=0&&t<1,function(){return"rate must be a float in the range [0, 1), but got "+t+"."}),0===t)return e instanceof xe?o.clone():o;var i=function(e,t){if(null==t)return e.shape.slice();if(P(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(o,n),a=1-t,s=lr(i,0,1,"float32",r).add(a).floor().div(a);return o.mul(s)}});function sl(e,t,n){for(var r=1-e%2,o=new Float32Array(e),i=0;i<e;++i){var a=2*Math.PI*i/(e+r-1);o[i]=t-n*Math.cos(a)}return gn(o,"float32")}var ul,cl=ln({hannWindow_:function(e){return sl(e,.5,.5)}}),ll=ln({hammingWindow_:function(e){return sl(e,.54,.46)}}),fl=ln({frame_:function(e,t,n,r,o){void 0===r&&(r=!1),void 0===o&&(o=0);for(var i=0,a=[];i+t<=e.size;)a.push(wc(e,i,t)),i+=n;if(r)for(;i<e.size;){var s=i+t-e.size,u=Rn([wc(e,i,t-s),En([s],o)]);a.push(u),i+=n}return 0===a.length?yn([],[0,t]):Rn(a).as2D(a.length,t)}}),dl=ln({stft_:function(e,t,n,r,o){var i;void 0===o&&(o=cl),null==r&&(i=t,r=Math.floor(Math.pow(2,Math.ceil(Math.log(i)/Math.log(2)))));for(var a=fl(e,t,n),s=Ou(a,o(t)),u=[],c=0;c<a.shape[0];c++)u.push(el(s.slice([c,0],[1,t]),r));return Rn(u)}}),pl=Object.freeze({hannWindow:cl,hammingWindow:ll,frame:fl,stft:dl});!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(ul||(ul={}));var hl=ln({absoluteDifference_:function(e,t,n,r){void 0===r&&(r=ul.SUM_BY_NONZERO_WEIGHTS);var o=Jt(e,"labels","absoluteDifference"),i=Jt(t,"predictions","absoluteDifference"),a=null;null!=n&&(a=Jt(n,"weights","absoluteDifference")),C(o.shape,i.shape,"Error in absoluteDifference: ");var s=o.sub(i).abs();return vl(s,a,r)}}),vl=ln({computeWeightedLoss_:function(e,t,n){void 0===n&&(n=ul.SUM_BY_NONZERO_WEIGHTS);var r=Jt(e,"losses","computeWeightedLoss"),o=null;null!=t&&(o=Jt(t,"weights","computeWeightedLoss"));var i=null==o?r:r.mul(o);if(n===ul.NONE)return i;if(n===ul.SUM)return i.sum();if(n===ul.MEAN){if(null==o)return i.mean();var a=r.size/o.size,s=i.sum().div(o.sum());return a>1?s.div(mn(a)):s}if(n===ul.SUM_BY_NONZERO_WEIGHTS){if(null==o)return i.sum().div(mn(r.size));var u=o.mul(xn(r.shape)).notEqual(mn(0)).sum().toFloat();return i.sum().div(u)}throw Error("Unknown reduction: "+n)}}),ml=ln({cosineDistance_:function(e,t,n,r,o){void 0===o&&(o=ul.SUM_BY_NONZERO_WEIGHTS);var i=Jt(e,"labels","cosineDistance"),a=Jt(t,"predictions","cosineDistance"),s=null;null!=r&&(s=Jt(r,"weights","cosineDistance")),C(i.shape,a.shape,"Error in cosineDistance: ");var u=mn(1).sub(i.mul(a).sum(n,!0));return vl(u,s,o)}}),gl=ln({hingeLoss_:function(e,t,n,r){void 0===r&&(r=ul.SUM_BY_NONZERO_WEIGHTS);var o=Jt(e,"labels","hingeLoss"),i=Jt(t,"predictions","hingeLoss"),a=null;null!=n&&(a=Jt(n,"weights","hingeLoss")),C(o.shape,i.shape,"Error in hingeLoss: ");var s=mn(1);o=mn(2).mul(o).sub(s);var u=s.sub(o.mul(i)).relu();return vl(u,a,r)}}),yl=ln({huberLoss_:function(e,t,n,r,o){void 0===r&&(r=1),void 0===o&&(o=ul.SUM_BY_NONZERO_WEIGHTS);var i=Jt(e,"labels","huberLoss"),a=Jt(t,"predictions","huberLoss"),s=null;null!=n&&(s=Jt(n,"weights","huberLoss")),C(i.shape,a.shape,"Error in huberLoss: ");var u=mn(r),c=a.sub(i).abs(),l=yu(c,u),f=c.sub(l),d=mn(.5).mul(l.square()).add(u.mul(f));return vl(d,s,o)}}),bl=ln({logLoss_:function(e,t,n,r,o){void 0===r&&(r=1e-7),void 0===o&&(o=ul.SUM_BY_NONZERO_WEIGHTS);var i=Jt(e,"labels","logLoss"),a=Jt(t,"predictions","logLoss"),s=null;null!=n&&(s=Jt(n,"weights","logLoss")),C(i.shape,a.shape,"Error in logLoss: ");var u=mn(1),c=mn(r),l=i.mul(a.add(c).log()).neg().sub(u.sub(i).mul(u.sub(a).add(c).log()));return vl(l,s,o)}}),wl=ln({meanSquaredError_:function(e,t,n,r){void 0===r&&(r=ul.SUM_BY_NONZERO_WEIGHTS);var o=Jt(e,"labels","meanSquaredError"),i=Jt(t,"predictions","meanSquaredError"),a=null;null!=n&&(a=Jt(n,"weights","meanSquaredError")),C(o.shape,i.shape,"Error in meanSquaredError: ");var s=o.squaredDifference(i);return vl(s,a,r)}}),xl=ln({sigmoidCrossEntropy_:function(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=ul.SUM_BY_NONZERO_WEIGHTS);var i=Jt(e,"multiClassLabels","sigmoidCrossEntropy"),a=Jt(t,"logits","sigmoidCrossEntropy"),s=null;if(null!=n&&(s=Jt(n,"weights","sigmoidCrossEntropy")),C(i.shape,a.shape,"Error in sigmoidCrossEntropy: "),r>0){var u=mn(r),c=mn(1),l=mn(.5);i=i.mul(c.sub(u)).add(l.mul(u))}var f=function(e,t){var n=Jt(e,"labels","sigmoidCrossEntropyWithLogits"),r=Jt(t,"logits","sigmoidCrossEntropyWithLogits");C(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var o=r.relu(),i=r.mul(n),a=r.abs().neg().exp().log1p();return o.sub(i).add(a)}(i,a);return vl(f,s,o)}}),Ol=ln({softmaxCrossEntropy_:function(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=ul.SUM_BY_NONZERO_WEIGHTS);var i=Jt(e,"onehotLabels","softmaxCrossEntropy"),a=Jt(t,"logits","softmaxCrossEntropy"),s=null;if(null!=n&&(s=Jt(n,"weights","softmaxCrossEntropy")),C(i.shape,a.shape,"Error in softmaxCrossEntropy: "),r>0){var u=mn(r),c=mn(1),l=mn(i.shape[1]);i=i.mul(c.sub(u)).add(u.div(l))}var f=function(e,t,n){if(void 0===n&&(n=-1),-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+t.rank+" and dim was "+n);return Dr(function(e,t,r){var o=t.logSumExp([n],!0),i=t.toFloat().sub(o);return r([e,i]),{value:i.mul(e).neg().sum([n]),gradFunc:function(e,t){var r=t[0],o=t[1],i=nn(e.shape,[n]);return[e.reshape(i).mul(r.toFloat().sub(o.exp())),e.reshape(i).mul(o.exp().sub(r.toFloat()))]}}})(e,t)}(i,a);return vl(f,s,o)}}),El=Object.freeze({get Reduction(){return ul},absoluteDifference:hl,computeWeightedLoss:vl,cosineDistance:ml,hingeLoss:gl,huberLoss:yl,logLoss:bl,meanSquaredError:wl,sigmoidCrossEntropy:xl,softmaxCrossEntropy:Ol});function Sl(e,t){return void 0===t&&(t=!1),Fe.tidy(function(){if(2!==e.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var n=e.shape[0],r=e.shape[1],o=Zn(n),i=e.clone(),a=yn([[1]],[1,1]),s=a.clone(),u=n>=r?r:n,c=function(e){var t,u=i,c=s,l=o;t=Fe.tidy(function(){var t=i.slice([e,e],[n-e,1]),u=t.norm(),c=i.slice([e,e],[1,1]),l=yn([[-1]]).where(c.greater(0),yn([[1]])),f=c.sub(l.mul(u)),d=t.div(f);s=1===d.shape[0]?a.clone():a.concat(d.slice([1,0],[d.shape[0]-1,d.shape[1]]),0);var p=l.matMul(f).div(u).neg(),h=i.slice([e,0],[n-e,r]),v=p.mul(s);if(0===e)i=h.sub(v.matMul(s.transpose().matMul(h)));else{var m=h.sub(v.matMul(s.transpose().matMul(h)));i=i.slice([0,0],[e,r]).concat(m,0)}var g=o.slice([0,e],[n,o.shape[1]-e]);if(0===e)o=g.sub(g.matMul(s).matMul(v.transpose()));else{var y=g.sub(g.matMul(s).matMul(v.transpose()));o=o.slice([0,0],[n,e]).concat(y,1)}return[s,i,o]}),s=t[0],i=t[1],o=t[2],Kt([u,c,l])},l=0;l<u;++l)c(l);return!t&&n>r&&(o=o.slice([0,0],[n,r]),i=i.slice([0,0],[r,r])),[o,i]})}var Cl=ln({bandPart_:function(e,t,n){if(t%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+t+".");if(n%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+n+".");var r=Jt(e,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var o=r.shape,i=r.shape.slice(-2),a=i[0],s=i[1];if(!(t<=a))throw new Error("bandPart(): numLower ("+t+") must not be greater than the number of rows ("+a+").");if(!(n<=s))throw new Error("bandPart(): numUpper ("+n+") must not be greater than the number of columns ("+s+").");t<0&&(t=a),n<0&&(n=s);var u=Sn(0,a,1,"int32").reshape([-1,1]),c=Sn(0,s,1,"int32"),l=Ru(u,c),f=nu(l.lessEqual(mn(+t,"int32")),l.greaterEqual(mn(-n,"int32"))),d=On([a,s],r.dtype);return hr(gr(r.reshape([-1,a,s])).map(function(e){return au(f,e,d)})).reshape(o)}}),kl=ln({gramSchmidt_:function(e){var t;if(Array.isArray(e)){t=!1,S(null!=e&&e.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var n=e[0].shape[0],r=function(t){S(e[t].shape[0]===n,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+e[t].shape[0]+" vs. "+n+")"})},o=1;o<e.length;++o)r(o)}else t=!0,e=In(e,e.shape[0],0).map(function(e){return pr(e,[0])});S(e.length<=e[0].shape[0],function(){return"Gram-Schmidt: Number of vectors ("+e.length+") exceeds number of dimensions ("+e[0].shape[0]+")."});var i=[],a=e,s=function(e){i.push(Fe.tidy(function(){var t=a[e];if(e>0)for(var n=0;n<e;++n){var r=Mc(i[n].mulStrict(t)).mul(i[n]);t=t.sub(r)}return t.div(qc(t,"euclidean"))}))};for(o=0;o<e.length;++o)s(o);return t?hr(i,0):i}}),Rl=ln({qr_:function(e,t){if(void 0===t&&(t=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(2===e.rank)return Sl(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce(function(e,t){return e*t}),r=gr(e.reshape([n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),o=[],i=[];return r.forEach(function(e){var n=Sl(e,t),r=n[0],a=n[1];o.push(r),i.push(a)}),[hr(o,0).reshape(e.shape),hr(i,0).reshape(e.shape)]}}),jl=Object.freeze({bandPart:Cl,gramSchmidt:kl,qr:Rl});function Pl(e,t,n,r,o,i){null==r&&(r=.5),null==o&&(o=Number.NEGATIVE_INFINITY),null==i&&(i=0);var a=e.shape[0];return n=Math.min(n,a),S(0<=r&&r<=1,function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"}),S(2===e.rank,function(){return"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"}),S(4===e.shape[1],function(){return"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]}),S(1===t.rank,function(){return"scores must be a 1D tensor"}),S(t.shape[0]===a,function(){return"scores has incompatible shape with boxes. Expected "+a+", but was "+t.shape[0]}),S(0<=i&&i<=1,function(){return"softNmsSigma must be in [0, 1], but was '"+i+"'"}),{maxOutputSize:n,iouThreshold:r,scoreThreshold:o,softNmsSigma:i}}var Tl=ln({resizeBilinear_:function(e,t,n){void 0===n&&(n=!1);var r=Jt(e,"images","resizeBilinear");S(3===r.rank||4===r.rank,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."}),S(2===t.length,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+t+"."});var o=r,i=!1;3===r.rank&&(i=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var a=t[0],s=t[1],u=Fe.runKernelFunc(function(e,t){return t([o]),e.resizeBilinear(o,a,s,n)},{x:o},function(e,t){return{x:function(){return Fe.runKernelFunc(function(r){return r.resizeBilinearBackprop(e,t[0],n)},{})}}},"ResizeBilinear",{alignCorners:n,newHeight:a,newWidth:s});return i?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),_l=ln({resizeNearestNeighbor_:function(e,t,n){void 0===n&&(n=!1);var r=Jt(e,"images","resizeNearestNeighbor");S(3===r.rank||4===r.rank,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."}),S(2===t.length,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+t+"."}),S("float32"===r.dtype||"int32"===r.dtype,function(){return"`images` must have `int32` or `float32` as dtype"});var o=r,i=!1;3===r.rank&&(i=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var a=t[0],s=t[1],u=Fe.runKernelFunc(function(e,t){return t([o]),e.resizeNearestNeighbor(o,a,s,n)},{batchImages:o},function(e,t){return{batchImages:function(){return Fe.runKernelFunc(function(r){return r.resizeNearestNeighborBackprop(e,t[0],n)},{})}}});return i?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Il=ln({nonMaxSuppression_:function(e,t,n,r,o){void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY);var i=Jt(e,"boxes","nonMaxSuppression"),a=Jt(t,"scores","nonMaxSuppression"),s=Pl(i,a,n,r,o);n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold;var u={maxOutputSize:n,iouThreshold:r,scoreThreshold:o};return Fe.runKernelFunc(function(e){return e.nonMaxSuppression(i,a,n,r,o)},{boxes:i,scores:a},null,"NonMaxSuppressionV3",u)}}),Al=ln({nonMaxSuppressionWithScore_:function(e,t,n,r,o,i){void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY),void 0===i&&(i=0);var a=Jt(e,"boxes","nonMaxSuppression"),s=Jt(t,"scores","nonMaxSuppression"),u=Pl(a,s,n,r,o,i),c={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:o=u.scoreThreshold,softNmsSigma:i=u.softNmsSigma},l=Fe.runKernel("NonMaxSuppressionV5",{boxes:a,scores:s},c);return{selectedIndices:l[0],selectedScores:l[1]}}}),Nl=ln({cropAndResize_:function(e,t,n,r,o,i){var a=Jt(e,"image","cropAndResize"),s=Jt(t,"boxes","cropAndResize","float32"),u=Jt(n,"boxInd","cropAndResize","int32");o=o||"bilinear",i=i||0;var c=s.shape[0];return S(4===a.rank,function(){return"Error in cropAndResize: image must be rank 4,but got rank "+a.rank+"."}),S(2===s.rank&&4===s.shape[1],function(){return"Error in cropAndResize: boxes must be have size ["+c+",4] but had shape "+s.shape+"."}),S(1===u.rank&&u.shape[0]===c,function(){return"Error in cropAndResize: boxInd must be have size ["+c+"] but had shape "+s.shape+"."}),S(2===r.length,function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."}),S(r[0]>=1&&r[1]>=1,function(){return"cropSize must be atleast [1,1], but was "+r}),S("bilinear"===o||"nearest"===o,function(){return"method must be bilinear or nearest, but was "+o}),Fe.runKernelFunc(function(e,t){return e.cropAndResize(a,s,u,r,o,i)},{images:a,boxes:s,boxInd:u},null,"CropAndResize",{method:o,extrapolationValue:i,cropSize:r})}}),Ml=Object.freeze({resizeBilinear:Tl,resizeNearestNeighbor:_l,nonMaxSuppression:Il,nonMaxSuppressionAsync:function(e,t,n,r,o){return void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY),u(this,void 0,void 0,function(){var i,a,s,u,l,f,d;return c(this,function(c){switch(c.label){case 0:return i=Jt(e,"boxes","nonMaxSuppressionAsync"),a=Jt(t,"scores","nonMaxSuppressionAsync"),s=Pl(i,a,n,r,o),n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold,[4,Promise.all([i.data(),a.data()])];case 1:return u=c.sent(),l=u[0],f=u[1],d=po(l,f,n,r,o),i!==e&&i.dispose(),a!==t&&a.dispose(),[2,d]}})})},nonMaxSuppressionWithScore:Al,nonMaxSuppressionWithScoreAsync:function(e,t,n,r,o,i){return void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY),void 0===i&&(i=0),u(this,void 0,void 0,function(){var a,s,u,l,f,d,p;return c(this,function(c){switch(c.label){case 0:return a=Jt(e,"boxes","nonMaxSuppressionAsync"),s=Jt(t,"scores","nonMaxSuppressionAsync"),u=Pl(a,s,n,r,o,i),n=u.maxOutputSize,r=u.iouThreshold,o=u.scoreThreshold,i=u.softNmsSigma,[4,Promise.all([a.data(),s.data()])];case 1:return l=c.sent(),f=l[0],d=l[1],p=ho(f,d,n,r,o,i),a!==e&&a.dispose(),s!==t&&s.dispose(),[2,p]}})})},cropAndResize:Nl}),Dl=function(e,t){return!(e>0)||"linear"===t},Ll=function(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return e.mul(t.step());throw new Error("Gradient for activation "+n+" has not been implemented yet.")},Fl=function(e,t){var n=t,r=zr(e.shape,t.shape);return r.length>0&&(n=n.sum(r)),n.reshape(e.shape)},Bl=function(e,t,n){if("linear"===t)return e;if("relu"===t)return Vc(e);if("elu"===t)return Lc(e);if("relu6"===t)return Uc(e);if("prelu"===t)return Bc(e,n);throw new Error("Unknown fused activation "+t+".")},Vl=ln({fusedMatMul_:function(e){var t,n=e.a,r=e.b,o=e.transposeA,i=void 0!==o&&o,a=e.transposeB,s=void 0!==a&&a,u=e.bias,c=e.activation,l=void 0===c?"linear":c,f=e.preluActivationWeights;if(!1===Dl(Fe.state.gradientDepth,l)){var d=ic(n,r,i,s);return null!=u&&(d=uu(d,u)),Bl(d,l,f)}var p=Jt(n,"a","fused matMul"),h=Jt(r,"b","fused matMul");t=Ie(p,h),p=t[0],h=t[1];var v=i?p.shape[p.rank-2]:p.shape[p.rank-1],m=s?h.shape[h.rank-1]:h.shape[h.rank-2],g=i?p.shape[p.rank-1]:p.shape[p.rank-2],y=s?h.shape[h.rank-2]:h.shape[h.rank-1],b=p.shape.slice(0,-2),w=h.shape.slice(0,-2),x=j(b),O=j(w);S(p.rank>=2&&h.rank>=2&&p.rank===h.rank,function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+p.rank+" and "+h.rank+"."}),S(P(b,w),function(){return"Error in fused matMul: outer dimensions ("+b+") and ("+w+") of Tensors with shapes "+p.shape+" and "+h.shape+" must match."}),S(v===m,function(){return"Error in fused matMul: inner shapes ("+v+") and ("+m+") of Tensors with shapes "+p.shape+" and "+h.shape+" and transposeA="+i+" and transposeB="+s+" must match."});var E,C,k=p.shape.slice(0,-2).concat([g,y]),R=i?p.as3D(x,v,g):p.as3D(x,g,v),T=s?h.as3D(O,y,m):h.as3D(O,m,y);null!=u&&Hr(k,(E=Ie(E=Jt(u,"bias","fused matMul"),p)[0]).shape),null!=f&&(C=Jt(f,"prelu weights","fused matMul"));var _={a:R,b:T};null!=u&&(_.bias=E),null!=f&&(_.preluActivationWeights=C);var I=[R,T];return Fe.runKernelFunc(function(e,t){var n=e.fusedBatchMatMul({a:R,b:T,transposeA:i,transposeB:s,bias:E,activation:l,preluActivationWeights:C});return t([R,T,n]),n},_,function(e,t){var n=t[0],r=t[1],o=t[2],a=Ll(e,o,l),c={};return null!=u&&(c={bias:function(){return Fl(E,a)}}),i||s?!i&&s?Object.assign({a:function(){return a.matMul(r,!1,!1)},b:function(){return a.matMul(n,!0,!1)}},c):i&&!s?Object.assign({a:function(){return r.matMul(a,!1,!0)},b:function(){return n.matMul(a,!1,!1)}},c):Object.assign({a:function(){return r.matMul(a,!0,!0)},b:function(){return a.matMul(n,!0,!0)}},c):Object.assign({a:function(){return a.matMul(r,!1,!0)},b:function(){return n.matMul(a,!0,!1)}},c)},"_FusedMatMul",{transposeA:i,transposeB:s,activation:l},I,[!0]).reshape(k)}}),Ul=ln({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,o=e.pad,i=e.dataFormat,a=void 0===i?"NHWC":i,s=e.dilations,u=void 0===s?[1,1]:s,c=e.dimRoundingMode,l=e.bias,f=e.activation,d=void 0===f?"linear":f,p=e.preluActivationWeights;if(d=d||"linear",!1===Dl(Fe.state.gradientDepth,d)){var h=Xu(t,n,r,o,a,u,c);return null!=l&&(h=uu(h,l)),Bl(h,d,p)}var v=Jt(t,"x","conv2d"),m=Jt(n,"filter","conv2d"),g=v,y=!1;3===v.rank&&(y=!0,g=v.as4D(1,v.shape[0],v.shape[1],v.shape[2])),S(4===g.rank,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+g.rank+"."}),S(4===m.rank,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+m.rank+"."}),null!=c&&S(T(o),function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+c+" but got pad "+o+"."}),S(g.shape[3]===m.shape[2],function(){return"Error in conv2d: depth of input ("+g.shape[3]+") must match input depth for filter "+m.shape[2]+"."}),S(to(r,u),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"}),S("NHWC"===a,function(){return"Error in conv2d: got dataFormat of "+a+" but only NHWC is currently supported."});var b,w,x=Kr(g.shape,m.shape,r,u,o,c);null!=l&&(b=Ie(b=Jt(l,"bias","fused conv2d"),v)[0],Hr(x.outShape,b.shape)),null!=p&&(w=Jt(p,"prelu weights","fused conv2d"));var O={x:g,filter:m};null!=l&&(O.bias=b),null!=p&&(O.preluActivationWeights=w);var E=[m,g],C=Fe.runKernelFunc(function(e,t){var n=e.fusedConv2d({input:g,filter:m,convInfo:x,bias:b,activation:d,preluActivationWeights:w});return t([m,g,n]),n},O,function(e,t){var n=t,i=n[0],a=n[1],s=n[2],c=Ll(e,s,d);S(eo(u),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+u+"'"});var f={};return null!=l&&(f={bias:function(){return Fl(b,c)}}),Object.assign({x:function(){return Qu(a.shape,c,i,r,o)},filter:function(){return Ju(a,c,i.shape,r,o)}},f)},"FusedConv2D",{convInfo:x,activation:d},E,[!0]);return y?C.as3D(C.shape[1],C.shape[2],C.shape[3]):C}}),Wl=ln({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,o=e.pad,i=e.dataFormat,a=void 0===i?"NHWC":i,s=e.dilations,u=void 0===s?[1,1]:s,c=e.dimRoundingMode,l=e.bias,f=e.activation,d=void 0===f?"linear":f,p=e.preluActivationWeights;if(!1===Dl(Fe.state.gradientDepth,d)){var h=Zu(t,n,r,o,a,u,c);return null!=l&&(h=uu(h,l)),Bl(h,d,p)}var v=Jt(t,"x","depthwiseConv2d"),m=Jt(n,"filter","depthwiseConv2d"),g=v,y=!1;3===v.rank&&(y=!0,g=v.as4D(1,v.shape[0],v.shape[1],v.shape[2])),S(4===g.rank,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+g.rank+"."}),S(4===m.rank,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+m.rank+"."}),S(g.shape[3]===m.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels ("+g.shape[3]+") must match the inChannels dimension in filter "+m.shape[2]+"."}),null==u&&(u=[1,1]),S(to(r,u),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"}),null!=c&&S(T(o),function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+c+" but got pad "+o+"."});var b,w,x=Kr(g.shape,m.shape,r,u,o,c,!0);null!=l&&(b=Ie(b=Jt(l,"bias","fused conv2d"),v)[0],Hr(x.outShape,b.shape)),null!=p&&(w=Jt(p,"prelu weights","fused depthwiseConv2d"));var O={x:g,filter:m};null!=l&&(O.bias=b),null!=p&&(O.preluActivationWeights=w);var E=[m,g],C=Fe.runKernelFunc(function(e,t){var n=e.fusedDepthwiseConv2D({input:g,filter:m,convInfo:x,bias:b,activation:d,preluActivationWeights:w});return t([m,g,n]),n},O,function(e,t){S(eo(u),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+u+"'"});var n=t[0],r=t[1],o=t[2],i=Ll(e,o,d),a={};return null!=l&&(a={bias:function(){return Fl(b,i)}}),Object.assign({x:function(){return ec(r.shape,i,n,x)},filter:function(){return tc(r,i,n.shape,x)}},a)},"FusedDepthwiseConv2D",{convInfo:x,activation:d},E,[!0]);return y?C.as3D(C.shape[1],C.shape[2],C.shape[3]):C}}),zl=Object.freeze({matMul:Vl,conv2d:Ul,depthwiseConv2d:Wl}),Hl=Object.freeze({image:Ml,linalg:jl,losses:El,spectral:nl,fused:zl,signal:pl,square:is,squaredDifference:ss,conv1d:$u,conv2d:Xu,conv3d:Yu,depthwiseConv2d:Zu,separableConv2d:nc,conv2dTranspose:rc,conv3dTranspose:oc,op:ln,batchNormalization2d:$s,batchNormalization3d:Xs,batchNormalization4d:Ys,batchNormalization:Js,batchNorm:Qs,batchNorm2d:Zs,batchNorm3d:eu,batchNorm4d:tu,booleanMaskAsync:function(e,t,n){return u(this,void 0,void 0,function(){var r,o,i,a,s,u,l,f,d,p,h,v,m;return c(this,function(c){switch(c.label){case 0:for(r=Jt(e,"tensor","boolMask"),o=Jt(t,"mask","boolMask","bool"),i=null==n?0:n,a=o.rank,s=r.shape,S(a>0,function(){return"mask cannot be scalar"}),C(s.slice(i,i+a),o.shape,"mask's shape must match the first K dimensions of tensor's shape,"),u=1,l=i;l<i+a;l++)u*=s[l];return f=s.slice(0,i).concat([u],s.slice(i+a)),d=r.reshape(f),p=o.reshape([-1]),[4,su(p)];case 1:return h=c.sent(),v=h.squeeze([1]),m=zu(d,v,i),e!==r&&r.dispose(),t!==o&&o.dispose(),v.dispose(),d.dispose(),p.dispose(),h.dispose(),[2,m]}})})},complex:fn,real:dn,imag:pn,concat:Rn,concat1d:jn,concat2d:Pn,concat3d:Tn,concat4d:_n,split:In,matMul:ic,dot:ac,outerProduct:sc,reverse:uc,reverse1d:cc,reverse2d:lc,reverse3d:fc,reverse4d:dc,maxPool:vc,avgPool:mc,pool:gc,maxPool3d:yc,avgPool3d:bc,slice:wc,slice1d:xc,slice2d:Oc,slice3d:Ec,slice4d:Sc,abs:us,acos:cs,acosh:ls,asin:fs,asinh:ds,atan:ps,atanh:hs,ceil:vs,clipByValue:ms,cos:gs,cosh:ys,erf:bs,exp:ws,expm1:xs,floor:Os,log:Es,log1p:Ss,logSigmoid:Cs,neg:ks,reciprocal:Rs,round:js,rsqrt:Ps,sigmoid:Ts,sign:_s,isNaN:Is,isInf:As,isFinite:Ns,sin:Ms,sinh:Ds,softplus:Ls,sqrt:Fs,step:Bs,tan:Vs,tanh:Us,all:kc,any:Rc,argMax:jc,argMin:Pc,logSumExp:Tc,max:_c,mean:Ic,min:Ac,moments:Nc,sum:Mc,prod:Dc,equal:Pu,equalStrict:Tu,greater:_u,greaterEqual:Iu,greaterEqualStrict:Au,greaterStrict:Nu,less:Mu,lessEqual:Du,lessEqualStrict:Lu,lessStrict:Fu,notEqual:Bu,notEqualStrict:Vu,add:uu,addN:cu,addStrict:lu,atan2:fu,div:du,divNoNan:pu,divStrict:hu,floorDiv:vu,maximum:mu,maximumStrict:gu,minimum:yu,minimumStrict:bu,mod:wu,modStrict:xu,mul:Ou,mulStrict:Eu,pow:Su,powStrict:Cu,squaredDifferenceStrict:ku,sub:Ru,subStrict:ju,elu:Lc,leakyRelu:Fc,prelu:Bc,relu:Vc,relu6:Uc,selu:Wc,logicalAnd:nu,logicalNot:ru,logicalOr:ou,logicalXor:iu,where:au,whereAsync:su,buffer:qn,print:function(e,t){void 0===t&&(t=!1),console.log(e.toString(t))},batchToSpaceND:Gn,broadcastTo:Kn,cast:$n,clone:Xn,cumsum:Yn,depthToSpace:Jn,expandDims:Qn,eye:Zn,multinomial:er,oneHot:tr,pad:nr,pad1d:rr,pad2d:or,pad3d:ir,pad4d:ar,rand:sr,randomNormal:ur,randomGamma:cr,randomUniform:lr,reshape:fr,spaceToBatchND:dr,squeeze:pr,stack:hr,tile:vr,truncatedNormal:mr,unstack:gr,setdiff1dAsync:function(e,t){return u(this,void 0,void 0,function(){var n,r,o,i,a,s,u,l,f,d;return c(this,function(c){switch(c.label){case 0:return n=Jt(e,"x","setdiff1d"),r=Jt(t,"y","setdiff1d"),S(n.dtype===r.dtype,function(){return"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."}),S(1===n.rank,function(){return"x should be 1D tensor, but got x ("+n.shape+")."}),S(1===r.rank,function(){return"y should be 1D tensor, but got y ("+r.shape+")."}),[4,n.data()];case 1:return o=c.sent(),[4,r.data()];case 2:for(i=c.sent(),a=new Set(i),s=0,f=0;f<o.length;f++)a.has(o[f])||s++;for(u=new ge([s],n.dtype),l=new ge([s],"int32"),f=0,d=0;f<o.length;f++)a.has(o[f])||(u.values[d]=o[f],l.values[d]=f,d++);return[2,[u.toTensor(),l.toTensor()]]}})})},fill:En,linspace:function(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");return Fe.runKernelFunc(function(r){return r.linspace(e,t,n)},{})},ones:xn,range:Sn,scalar:mn,tensor:hn,tensor1d:gn,tensor2d:yn,tensor3d:bn,tensor4d:wn,tensor5d:function(e,t,n){if(k(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=Xt(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return vn(e,t,r,n)},tensor6d:function(e,t,n){if(k(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=Xt(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return vn(e,t=t||r,r,n)},variable:function(e,t,n,r){return void 0===t&&(t=!0),Fe.makeVariable(e,t,n,r)},zeros:On,onesLike:Cn,zerosLike:kn,transpose:zc,softmax:Lr,logSoftmax:Fr,localResponseNormalization:Hc,norm:qc,gather:zu,unsortedSegmentSum:Hu,basicLSTMCell:Gc,multiRNNCell:Kc,movingAverage:$c,stridedSlice:Xc,topk:Yc,scatterND:Jc,fft:Qc,ifft:Zc,rfft:el,irfft:tl,sparseToDense:rl,gatherND:ol,diag:il,dropout:al,hannWindow:cl,hammingWindow:ll,frame:fl,stft:dl,inTopKAsync:function(e,t,n){return void 0===n&&(n=1),u(this,void 0,void 0,function(){var r,o,i,a,s,u,l,f,d,p,h,v,m,g;return c(this,function(c){switch(c.label){case 0:return r=Jt(e,"predictions","inTopK"),o=Jt(t,"targets","inTopK"),S(r.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank}),S(r.rank-1===o.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+o.rank}),C(r.shape.slice(0,r.shape.length-1),o.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),i=r.shape[r.shape.length-1],S(n>0&&n<=i,function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+i+"), but got "+n}),[4,r.data()];case 1:return a=c.sent(),[4,o.data()];case 2:for(s=c.sent(),u=[a.length/i,i],f=u[1],d=F("bool",l=u[0]),p=0;p<l;p++){for(h=p*f,v=a.subarray(h,h+f),m=[],g=0;g<v.length;g++)m.push({value:v[g],index:g});for(m.sort(function(e,t){return t.value-e.value}),d[p]=0,g=0;g<n;g++)if(m[g].index===s[p]){d[p]=1;break}}return e!==r&&r.dispose(),t!==o&&o.dispose(),[2,hn(d,o.shape,"bool")]}})})}});function ql(e,t){Array.isArray(e)||(e=[e]),e.forEach(function(e){null!=e&&S("complex64"!==e.dtype,function(){return t+" does not support complex64 tensors."})})}function Gl(e,t,n,r){if("linear"===n)return e.linear(t);if("relu"===n)return e.relu(t);if("elu"===n)return e.elu(t);if("relu6"===n)return e.relu6(t);if("prelu"===n)return e.prelu(t,r);throw new Error("Activation "+n+" has not been implemented for the CPU backend.")}var Kl=function(e){function t(){var t=e.call(this)||this;return t.blockSize=48,t.firstUse=!0,t.data=new Br(t,Fe),t}return s(t,e),t.prototype.write=function(e,t,n){this.firstUse&&(this.firstUse=!1,f().get("IS_NODE")&&$t("\n============================\nHi there \ud83d\udc4b. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));var r={};return this.data.set(r,{values:e,dtype:n}),r},t.prototype.move=function(e,t,n,r){this.data.set(e,{values:t,dtype:r})},t.prototype.numDataIds=function(){return this.data.numDataIds()},t.prototype.read=function(e){return u(this,void 0,void 0,function(){return c(this,function(t){return[2,this.readSync(e)]})})},t.prototype.readSync=function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensors;return"complex64"===n?ao(this.readSync(r.real.dataId),this.readSync(r.imag.dataId)):this.data.get(e).values},t.prototype.bufferSync=function(e){var t=this.readSync(e.dataId),n=t;if("string"===e.dtype)try{n=t.map(function(e){return ae(e)})}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return qn(e.shape,e.dtype,n)},t.prototype.makeOutput=function(e,t,n){var r=this.write(e,t,n);return Fe.makeTensorFromDataId(r,t,n,this)},t.prototype.disposeData=function(e){if(this.data.has(e)){var t=this.data.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.data.delete(e)}},t.prototype.time=function(e){return u(this,void 0,void 0,function(){var t;return c(this,function(n){return t=re(),e(),[2,{kernelMs:re()-t}]})})},t.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},t.prototype.complex=function(e,t){var n=this.makeOutput(null,e.shape,"complex64");return this.data.get(n.dataId).complexTensors={real:Fe.keep(e.clone()),imag:Fe.keep(t.clone())},n},t.prototype.real=function(e){return this.data.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.data.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(ql(e,"slice"),Nr(e.shape,t,n)){var r=Mr(t,e.strides),o=j(n);return hn(this.readSync(e.dataId).subarray(r,r+o),n,e.dtype)}for(var i=qn(n,e.dtype),a=this.bufferSync(e),s=0;s<i.size;++s){var u=i.indexToLoc(s).map(function(e,n){return e+t[n]});i.values[s]=a.get.apply(a,u)}return i.toTensor()},t.prototype.stridedSlice=function(e,t,n,r){ql(e,"stridedSlice");var o=_r(t,n,r);if(o.some(function(e){return 0===e}))return hn([],o);for(var i=qn(o,e.dtype),a=this.bufferSync(e),s=0;s<i.size;s++){for(var u=i.indexToLoc(s),c=new Array(u.length),l=0;l<c.length;l++)c[l]=u[l]*r[l]+t[l];i.set.apply(i,[a.get.apply(a,c)].concat(u))}return i.toTensor()},t.prototype.diag=function(e){for(var t=this.readSync(e.dataId),n=qn([e.size,e.size],e.dtype),r=n.values,o=0;o<t.length;o++)r[o*e.size+o]=t[o];return n.toTensor()},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),o=0,i=0;i<e.rank;i++)i!==t&&(r[o++]=e.shape[i]);var a=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var u=new Array(n);for(i=0;i<u.length;i++)a[t]=i,u[i]=this.slice(e,a,s).reshape(r);return u},t.prototype.reverse=function(e,t){ql(e,"reverse");for(var n=qn(e.shape,e.dtype),r=this.bufferSync(e),o=function(o){var i=n.indexToLoc(o),a=i.slice();t.forEach(function(t){return a[t]=e.shape[t]-1-a[t]}),n.set.apply(n,[r.get.apply(r,a)].concat(i))},i=0;i<n.size;i++)o(i);return n.toTensor()},t.prototype.concat=function(e,t){var n=this;if("complex64"===e[0].dtype){var r=e.map(function(e){return dn(e)}),o=e.map(function(e){return pn(e)});return fn(this.concat(r,t),this.concat(o,t))}var i=e.map(function(e){var n=j(e.shape.slice(t));return e.as2D(-1,n)}),a=cn(i.map(function(e){return e.shape}),1),s=qn(a,e[0].dtype).values;if(1===i[0].shape[0]){var u=0;i.forEach(function(e){s.set(n.readSync(e.dataId),u),u+=e.size})}else{var c=0;i.forEach(function(e){for(var t=n.readSync(e.dataId),r=0,o=0;o<e.shape[0];++o)for(var i=o*a[1]+c,u=0;u<e.shape[1];++u)s[i+u]=t[r++];c+=e.shape[1]})}var l=cn(e.map(function(e){return e.shape}),t);return hn(s,l,e[0].dtype)},t.prototype.neg=function(e){return ql(e,"neg"),this.multiply(mn(-1),e)},t.prototype.add=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),function(e,t,n,r){return{real:e+n,imag:t+r}}):this.broadcastedBinaryOp(e,t,Te(e.dtype,t.dtype),function(e,t){return e+t})},t.prototype.addN=function(e){var t=this;ql(e,"addN");for(var n=e.map(function(e){return t.readSync(e.dataId)}),r=qn(e[0].shape,e[0].dtype),o=r.values,i=0;i<e.length;i++)for(var a=n[i],s=0;s<o.length;s++)o[s]+=a[s];return r.toTensor()},t.prototype.softmax=function(e,t){var n=D([t],e.shape),r=this.max(e,n),o=nn(r.shape,n),i=this.subtract(e,r.reshape(o)),a=this.exp(i),s=this.sum(a,n).reshape(o);return this.realDivide(a,s)},t.prototype.subtract=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),function(e,t,n,r){return{real:e-n,imag:t-r}}):this.broadcastedBinaryOp(e,t,Te(e.dtype,t.dtype),function(e,t){return e-t})},t.prototype.pow=function(e,t){return ql([e,t],"pow"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.pow(e,t)})},t.prototype.batchMatMul=function(e,t,n,r){ql([e,t],"matMul");for(var o=n?e.shape[1]:e.shape[2],i=n?e.shape[2]:e.shape[1],a=r?t.shape[1]:t.shape[2],s=e.shape[0],u=this.readSync(e.dataId),c=this.readSync(t.dataId),l=n?[e.strides[0],1,e.strides[1]]:[e.strides[0],e.strides[1],1],f=l[0],d=l[1],p=l[2],h=r?[1,t.strides[1],t.strides[0]]:[t.strides[1],1,t.strides[0]],v=h[0],m=h[1],g=h[2],y=i*a,b=qn([s,i,a],e.dtype),w=b.values,x=this.blockSize,O=0;O<s;O++)for(var E=0;E<i;E+=x)for(var S=0;S<a;S+=x)for(var C=0;C<o;C+=x)for(var k=Math.min(E+x,i),R=Math.min(S+x,a),j=Math.min(C+x,o),P=E;P<k;P++)for(var T=S;T<R;T++){for(var _=0,I=C;I<j;I++)_+=u[O*f+P*d+I*p]*c[I*v+T*m+O*g];w[O*y+(P*a+T)]+=_}return b.toTensor()},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,o=e.transposeB,i=e.bias,a=e.activation,s=e.preluActivationWeights,u=this.batchMatMul(t,n,r,o);return i&&(u=this.add(u,i)),a&&(u=Gl(this,u,a,s)),u},t.prototype.multiply=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}}):this.broadcastedBinaryOp(e,t,Te(e.dtype,t.dtype),function(e,t){return e*t})},t.prototype.realDivide=function(e,t){return ql([e,t],"realDivide"),this.broadcastedBinaryOp(e,t,"float32",function(e,t){return e/t})},t.prototype.floorDiv=function(e,t){return ql([e,t],"floorDiv"),this.broadcastedBinaryOp(e,t,"int32",function(e,t){return Math.floor(e/t)})},t.prototype.sum=function(e,t){ql(e,"sum"),rn("sum",t,e.rank);for(var n=tn(e.shape,t),r=n[0],o=n[1],i=On(r,Te(e.dtype,"int32")),a=j(o),s=this.readSync(i.dataId),u=this.readSync(e.dataId),c=0;c<s.length;++c){for(var l=c*a,f=0,d=0;d<a;++d)f+=u[l+d];s[c]=f}return i},t.prototype.prod=function(e,t){ql(e,"sum");for(var n=tn(e.shape,t),r=n[0],o=n[1],i=On(r,Te(e.dtype,"int32")),a=j(o),s=this.readSync(i.dataId),u=this.readSync(e.dataId),c=0;c<s.length;++c){for(var l=c*a,f=1,d=0;d<a;++d)f*=u[l+d];s[c]=f}return i},t.prototype.unsortedSegmentSum=function(e,t,n){ql(e,"unsortedSegmentSum");for(var r=[],o=e.rank-t.rank,i=0;i<o;++i)t=t.expandDims(i+1);for(i=0;i<n;++i){var a=mn(i,"int32"),s=Pu(a,t).asType("float32").mul(e).sum(0);r.push(s)}return hr(r)},t.prototype.argMin=function(e,t){ql(e,"argMin");var n=[t];rn("argMin",n,e.rank);for(var r=tn(e.shape,n),o=r[0],i=r[1],a=On(o,"int32"),s=j(i),u=this.readSync(a.dataId),c=this.readSync(e.dataId),l=0;l<u.length;++l){for(var f=l*s,d=c[f],p=0,h=0;h<s;++h){var v=c[f+h];v<d&&(d=v,p=h)}u[l]=p}return a},t.prototype.argMax=function(e,t){ql(e,"argMax");var n=[t];rn("argMax",n,e.rank);for(var r=tn(e.shape,n),o=r[0],i=r[1],a=On(o,"int32"),s=j(i),u=this.readSync(a.dataId),c=this.readSync(e.dataId),l=0;l<u.length;++l){for(var f=l*s,d=c[f],p=0,h=0;h<s;++h){var v=c[f+h];v>d&&(d=v,p=h)}u[l]=p}return a},t.prototype.cumsum=function(e,t,n,r){if(ql(e,"cumsum"),t!==e.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(e.rank-1)+" but got axis="+t);for(var o=Te(e.dtype,"int32"),i=On(e.shape,o),a=this.readSync(i.dataId),s=this.readSync(e.dataId),u=e.shape[e.rank-1],c=r?function(e,t){return e+u-t-1}:function(e,t){return e+t},l=0;l<s.length;l+=u)for(var f=0;f<u;f++){var d=c(l,f);if(0===f)a[d]=n?0:s[d];else{var p=c(l,f-1);a[d]=n?s[p]+a[p]:s[d]+a[p]}}return i},t.prototype.equal=function(e,t){return ql([e,t],"equal"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e===t?1:0})},t.prototype.notEqual=function(e,t){return ql([e,t],"notEqual"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e!==t?1:0})},t.prototype.less=function(e,t){return ql([e,t],"less"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e<t?1:0})},t.prototype.lessEqual=function(e,t){return ql([e,t],"lessEqual"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e<=t?1:0})},t.prototype.greater=function(e,t){return ql([e,t],"greater"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e>t?1:0})},t.prototype.greaterEqual=function(e,t){return ql([e,t],"greaterEqual"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e>=t?1:0})},t.prototype.logicalNot=function(e){ql(e,"logicalNot");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t[r]?0:1;return this.makeOutput(n,e.shape,"bool")},t.prototype.logicalAnd=function(e,t){return ql([e,t],"logicalAnd"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e&&t})},t.prototype.logicalOr=function(e,t){return ql([e,t],"logicalOr"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e||t})},t.prototype.select=function(e,t,n){ql([e,t,n],"select");for(var r=this.readSync(e.dataId),o=this.readSync(t.dataId),i=this.readSync(n.dataId),a=On(t.shape,Te(t.dtype,n.dtype)),s=this.readSync(a.dataId),u=0,c=0===e.rank||e.rank>1||1===t.rank?1:j(t.shape.slice(1)),l=0;l<r.length;l++)for(var f=0;f<c;f++)1===r[l]?s[u++]=o[l]:s[u++]=i[l];return a},t.prototype.where=function(e){ql([e],"where");var t=this.readSync(e.dataId);return Oo(e.shape,t)},t.prototype.topk=function(e,t,n){return ql(e,"topk"),xo(this.readSync(e.dataId),e.shape,e.dtype,t)},t.prototype.min=function(e,t){ql(e,"min"),rn("min",t,e.rank);for(var n=tn(e.shape,t),r=n[0],o=n[1],i=On(r,e.dtype),a=j(o),s=this.readSync(i.dataId),u=this.readSync(e.dataId),c=0;c<s.length;++c){for(var l=c*a,f=u[l],d=0;d<a;++d){var p=u[l+d];p<f&&(f=p)}s[c]=f}return i},t.prototype.minimum=function(e,t){return ql([e,t],"minimum"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.min(e,t)})},t.prototype.mod=function(e,t){return ql([e,t],"mod"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})},t.prototype.max=function(e,t){ql(e,"max"),rn("max",t,e.rank);for(var n=tn(e.shape,t),r=n[0],o=n[1],i=On(r,e.dtype),a=j(o),s=this.readSync(i.dataId),u=this.readSync(e.dataId),c=0;c<s.length;++c){for(var l=c*a,f=u[l],d=0;d<a;++d){var p=u[l+d];p>f&&(f=p)}s[c]=f}return i},t.prototype.maximum=function(e,t){return ql([e,t],"maximum"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.max(e,t)})},t.prototype.all=function(e,t){ql(e,"all"),rn("all",t,e.rank);for(var n=tn(e.shape,t),r=n[0],o=n[1],i=On(r,e.dtype),a=j(o),s=this.readSync(i.dataId),u=this.readSync(e.dataId),c=0;c<s.length;++c){for(var l=c*a,f=u[l],d=0;d<a;++d){var p=u[l+d];f=f&&p}s[c]=f}return i},t.prototype.any=function(e,t){ql(e,"any"),rn("any",t,e.rank);for(var n=tn(e.shape,t),r=n[0],o=n[1],i=On(r,e.dtype),a=j(o),s=this.readSync(i.dataId),u=this.readSync(e.dataId),c=0;c<s.length;++c){for(var l=c*a,f=u[l],d=0;d<a;++d){var p=u[l+d];f=f||p}s[c]=f}return i},t.prototype.squaredDifference=function(e,t){return ql([e,t],"squaredDifference"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){var n=e-t;return n*n})},t.prototype.ceil=function(e){ql(e,"ceil");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.ceil(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.floor=function(e){ql(e,"floor");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.floor(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.sign=function(e){ql(e,"x");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)t[r]<0?n[r]=-1:t[r]>0?n[r]=1:n[r]=0;return this.makeOutput(n,e.shape,"float32")},t.prototype.isNaN=function(e){ql(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isNaN(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isInf=function(e){ql(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Math.abs(t[r])===1/0&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isFinite=function(e){ql(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isFinite(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.round=function(e){ql(e,"round");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=Math.floor(t[r]);t[r]-o<.5?n[r]=Math.floor(t[r]):t[r]-o>.5?n[r]=Math.ceil(t[r]):n[r]=o%2==0?o:o+1}return this.makeOutput(n,e.shape,"float32")},t.prototype.exp=function(e){ql(e,"exp");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.exp(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.expm1=function(e){ql(e,"expm1");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.expm1(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.log=function(e){ql(e,"log");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=Math.log(o)}return this.makeOutput(n,e.shape,"float32")},t.prototype.log1p=function(e){ql(e,"log1p");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=Math.log1p(o)}return this.makeOutput(n,e.shape,"float32")},t.prototype.sqrt=function(e){ql(e,"sqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=Math.sqrt(o)}return this.makeOutput(n,e.shape,"float32")},t.prototype.rsqrt=function(e){ql(e,"rsqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=1/Math.sqrt(o)}return this.makeOutput(n,e.shape,"float32")},t.prototype.reciprocal=function(e){ql(e,"reciprocal");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=1/t[r];return this.makeOutput(n,e.shape,"float32")},t.prototype.linear=function(e){return e},t.prototype.relu=function(e){ql(e,"relu");for(var t=On(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),o=0;o<r.length;++o)n[o]=Math.max(0,r[o]);return t},t.prototype.relu6=function(e){ql(e,"relu");for(var t=On(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),o=0;o<r.length;++o)n[o]=Math.min(Math.max(0,r[o]),6);return t},t.prototype.prelu=function(e,t){return ql([e,t],"prelu"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return e<0?t*e:e})},t.prototype.elu=function(e){ql(e,"elu");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var o=n[r];t[r]=o>=0?o:Math.exp(o)-1}return this.makeOutput(t,e.shape,"float32")},t.prototype.eluDer=function(e,t){ql([e,t],"eluDer");for(var n=new Float32Array(t.size),r=this.readSync(t.dataId),o=this.readSync(e.dataId),i=0;i<r.length;++i){var a=r[i];n[i]=a>=1?o[i]:o[i]*(a+1)}return this.makeOutput(n,t.shape,"float32")},t.prototype.selu=function(e){ql(e,"selu");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var o=n[r];t[r]=o>=0?1.0507009873554805*o:1.7580993408473768*(Math.exp(o)-1)}return this.makeOutput(t,e.shape,"float32")},t.prototype.clip=function(e,t,n){ql(e,"clip");for(var r=new Float32Array(e.size),o=this.readSync(e.dataId),i=0;i<o.length;++i){var a=o[i];r[i]=a>n?n:a<t?t:a}return this.makeOutput(r,e.shape,"float32")},t.prototype.abs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.abs(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.complexAbs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<e.size;++r){var o=n[2*r],i=n[2*r+1];t[r]=Math.hypot(o,i)}return this.makeOutput(t,e.shape,"float32")},t.prototype.int=function(e){ql(e,"int");for(var t=new Int32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=n[r];return this.makeOutput(t,e.shape,"int32")},t.prototype.sigmoid=function(e){ql(e,"sigmoid");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=1/(1+Math.exp(-n[r]));return this.makeOutput(t,e.shape,"float32")},t.prototype.softplus=function(e){ql(e,"softplus");for(var t=Math.log(1.1920928955078125e-7)+2,n=new Float32Array(e.size),r=this.readSync(e.dataId),o=0;o<r.length;++o){var i,a=r[o]>-t,s=r[o]<t,u=Math.exp(r[o]);i=s?u:a?r[o]:Math.log(1+u),n[o]=i}return this.makeOutput(n,e.shape,"float32")},t.prototype.sin=function(e){ql(e,"sin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cos=function(e){ql(e,"cos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tan=function(e){ql(e,"tan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.tan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asin=function(e){ql(e,"asin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acos=function(e){ql(e,"acos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan=function(e){ql(e,"atan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan2=function(e,t){return ql([e,t],"atan2"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.atan2(e,t)})},t.prototype.sinh=function(e){ql(e,"sinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cosh=function(e){ql(e,"cosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tanh=function(e){ql(e,"tanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=_(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asinh=function(e){ql(e,"asinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acosh=function(e){ql(e,"acosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atanh=function(e){ql(e,"atanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atanh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.erf=function(e){ql(e,"erf");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var o=Math.sign(n[r]),i=Math.abs(n[r]),a=1/(1+.3275911*i);t[r]=o*(1-((((1.061405429*a-1.453152027)*a+1.421413741)*a-.284496736)*a+.254829592)*a*Math.exp(-i*i))}return this.makeOutput(t,e.shape,"float32")},t.prototype.step=function(e,t){void 0===t&&(t=0),ql(e,"step");for(var n=new Float32Array(e.size),r=this.readSync(e.dataId),o=0;o<r.length;++o){var i=r[o];isNaN(i)?n[o]=NaN:n[o]=i>0?1:t}return this.makeOutput(n,e.shape,"float32")},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,o=e.bias,i=e.activation,a=e.preluActivationWeights,s=this.conv2d(t,n,r);return o&&(s=this.add(s,o)),i&&(s=Gl(this,s,i,a)),s},t.prototype.conv2d=function(e,t,n){ql([e,t],"conv2d");for(var r=n.filterHeight,o=n.filterWidth,i=n.dilationHeight,a=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,c="channelsLast"===n.dataFormat,l=qn(n.outShape,e.dtype),f=e.strides[0],d=c?e.strides[1]:e.strides[2],p=c?e.strides[2]:1,h=c?1:e.strides[1],v=l.strides[0],m=c?l.strides[1]:l.strides[2],g=c?l.strides[2]:1,y=c?1:l.strides[1],b=this.readSync(e.dataId),w=this.readSync(t.dataId),x=l.values,O=0;O<n.batchSize;++O)for(var E=O*f,S=O*v,C=0;C<n.outHeight;++C)for(var k=S+C*m,R=C*n.strideHeight-u,j=0;j<r;j++){var P=R+j*i;if(!(P<0||P>=n.inHeight))for(var T=j*t.strides[0],_=E+P*d,I=0;I<n.outWidth;++I)for(var A=k+I*g,N=I*n.strideWidth-s,M=0;M<o;M++){var D=N+M*a;if(!(D<0||D>=n.inWidth))for(var L=_+D*p,F=T+M*t.strides[1],B=0;B<n.inChannels;++B){for(var V=b[L+B*h],U=0;U<n.outChannels;++U)x[A+U*y]+=V*w[F+U];F+=n.outChannels}}}return l.toTensor()},t.prototype.conv3d=function(e,t,n){for(var r=n.filterDepth,o=n.filterHeight,i=n.filterWidth,a=n.dilationDepth,s=n.dilationHeight,u=n.dilationWidth,c=n.padInfo.front,l=n.padInfo.left,f=n.padInfo.top,d=qn(n.outShape,e.dtype),p=this.readSync(e.dataId),h=this.readSync(t.dataId),v=d.values,m=0;m<n.batchSize;++m)for(var g=m*e.strides[0],y=m*d.strides[0],b=0;b<n.outDepth;++b)for(var w=y+b*d.strides[1],x=b*n.strideDepth-c,O=0;O<r;O++){var E=x+O*a;if(!(E<0||E>=n.inDepth))for(var S=O*t.strides[0],C=g+E*e.strides[1],k=0;k<n.outHeight;++k)for(var R=w+k*d.strides[2],j=k*n.strideHeight-f,P=0;P<o;P++){var T=j+P*s;if(!(T<0||T>=n.inHeight))for(var _=S+P*t.strides[1],I=C+T*e.strides[2],A=0;A<n.outWidth;++A)for(var N=R+A*n.outChannels,M=A*n.strideWidth-l,D=0;D<i;D++){var L=M+D*u;if(!(L<0||L>=n.inWidth))for(var F=_+D*t.strides[2],B=I+L*n.inChannels,V=F,U=0;U<n.inChannels;++U){for(var W=p[B+U],z=0;z<n.outChannels;++z)v[N+z]+=W*h[V+z];V+=n.outChannels}}}}return d.toTensor()},t.prototype.conv2dDerInput=function(e,t,n){ql([e,t],"conv2dDerInput");for(var r=qn(n.inShape,"float32"),o=r.values,i=this.readSync(e.dataId),a=this.readSync(t.dataId),s=t.strides,u=s[0],c=s[1],l=s[2],f=n.batchSize,d=n.filterHeight,p=n.filterWidth,h=n.inChannels,v=n.inHeight,m=n.inWidth,g=n.outChannels,y=n.outHeight,b=n.outWidth,w=n.strideHeight,x=n.strideWidth,O=n.dataFormat,E=d-1-n.padInfo.top,S=p-1-n.padInfo.left,C="channelsLast"===O,k=r.strides[0],R=C?r.strides[1]:r.strides[2],j=C?r.strides[2]:1,P=C?1:r.strides[1],T=e.strides[0],_=C?e.strides[1]:e.strides[2],I=C?e.strides[2]:1,A=C?1:e.strides[1],N=0;N<f;++N)for(var M=0;M<h;++M)for(var D=0;D<v;++D)for(var L=D-E,F=Math.max(0,Math.ceil(L/w)),B=Math.min(y,(d+L)/w),V=0;V<m;++V){for(var U=V-S,W=Math.max(0,Math.ceil(U/x)),z=Math.min(b,(p+U)/x),H=0,q=F;q<B;++q)for(var G=q*w-L,K=W;K<z;++K)for(var $=T*N+_*q+I*K,X=u*(d-1-G)+c*(p-1-(K*x-U))+l*M,Y=0;Y<g;++Y)H+=i[$+A*Y]*a[X+Y];o[k*N+R*D+j*V+P*M]=H}return r.toTensor()},t.prototype.conv3dDerInput=function(e,t,n){for(var r=qn(n.inShape,"float32"),o=r.values,i=r.strides,a=i[0],s=i[1],u=i[2],c=i[3],l=this.readSync(e.dataId),f=e.strides,d=f[0],p=f[1],h=f[2],v=f[3],m=this.readSync(t.dataId),g=t.strides,y=g[0],b=g[1],w=g[2],x=g[3],O=n.batchSize,E=n.filterDepth,S=n.filterHeight,C=n.filterWidth,k=n.inChannels,R=n.inDepth,j=n.inHeight,P=n.inWidth,T=n.outChannels,_=n.outDepth,I=n.outHeight,A=n.outWidth,N=n.strideDepth,M=n.strideHeight,D=n.strideWidth,L=E-1-n.padInfo.front,F=S-1-n.padInfo.top,B=C-1-n.padInfo.left,V=0;V<O;++V)for(var U=0;U<k;++U)for(var W=0;W<R;++W)for(var z=W-L,H=Math.max(0,Math.ceil(z/N)),q=Math.min(_,(E+z)/N),G=0;G<j;++G)for(var K=G-F,$=Math.max(0,Math.ceil(K/M)),X=Math.min(I,(S+K)/M),Y=0;Y<P;++Y){for(var J=Y-B,Q=Math.max(0,Math.ceil(J/D)),Z=Math.min(A,(C+J)/D),ee=0,te=H;te<q;++te)for(var ne=te*N-z,re=$;re<X;++re)for(var oe=re*M-K,ie=Q;ie<Z;++ie)for(var ae=d*V+p*te+h*re+v*ie,se=y*(E-1-ne)+b*(S-1-oe)+w*(C-1-(ie*D-J))+x*U,ue=0;ue<T;++ue)ee+=l[ae+ue]*m[se+ue];o[a*V+s*W+u*G+c*Y+U]=ee}return r.toTensor()},t.prototype.conv2dDerFilter=function(e,t,n){ql([e,t],"conv2dDerFilter");for(var r=n.strideHeight,o=n.strideWidth,i=n.filterHeight,a=n.filterWidth,s="channelsLast"===n.dataFormat,u=qn(n.filterShape,"float32"),c=n.padInfo.left,l=n.padInfo.top,f=this.bufferSync(e),d=this.bufferSync(t),p=0;p<i;++p)for(var h=Math.max(0,Math.ceil((l-p)/r)),v=Math.min(n.outHeight,(n.inHeight+l-p)/r),m=0;m<a;++m)for(var g=Math.max(0,Math.ceil((c-m)/o)),y=Math.min(n.outWidth,(n.inWidth+c-m)/o),b=0;b<n.inChannels;++b)for(var w=0;w<n.outChannels;++w){for(var x=0,O=0;O<n.batchSize;++O)for(var E=h;E<v;++E)for(var S=p+E*r-l,C=g;C<y;++C){var k=m+C*o-c;x+=s?f.get(O,S,k,b)*d.get(O,E,C,w):f.get(O,b,S,k)*d.get(O,w,E,C)}u.set(x,p,m,b,w)}return u.toTensor()},t.prototype.conv3dDerFilter=function(e,t,n){for(var r=n.strideDepth,o=n.strideHeight,i=n.strideWidth,a=n.filterDepth,s=n.filterHeight,u=n.filterWidth,c=qn(n.filterShape,"float32"),l=c.values,f=c.strides,d=f[0],p=f[1],h=f[2],v=f[3],m=this.readSync(t.dataId),g=t.strides,y=g[0],b=g[1],w=g[2],x=g[3],O=this.readSync(e.dataId),E=e.strides,S=E[0],C=E[1],k=E[2],R=E[3],j=n.padInfo.front,P=n.padInfo.left,T=n.padInfo.top,_=0;_<a;++_)for(var I=Math.max(0,Math.ceil((j-_)/r)),A=Math.min(n.outDepth,(n.inDepth+j-_)/r),N=_*d,M=0;M<s;++M)for(var D=Math.max(0,Math.ceil((T-M)/o)),L=Math.min(n.outHeight,(n.inHeight+T-M)/o),F=M*p+N,B=0;B<u;++B)for(var V=Math.max(0,Math.ceil((P-B)/i)),U=Math.min(n.outWidth,(n.inWidth+P-B)/i),W=B*h+F,z=0;z<n.inChannels;++z)for(var H=z*v+W,q=0;q<n.outChannels;++q){for(var G=0,K=0;K<n.batchSize;++K)for(var $=K*S,X=K*y,Y=I;Y<A;++Y)for(var J=(_+Y*r-j)*C+$,Q=Y*b+X,Z=D;Z<L;++Z)for(var ee=(M+Z*o-T)*k+J,te=Z*w+Q,ne=V;ne<U;++ne){var re=ne*x+te;G+=O[(B+ne*i-P)*R+ee+z]*m[re+q]}l[H+q]=G}return c.toTensor()},t.prototype.fusedDepthwiseConv2D=function(e){var t=e.input,n=e.filter,r=e.convInfo,o=e.bias,i=e.activation,a=e.preluActivationWeights,s=this.depthwiseConv2D(t,n,r);return o&&(s=this.add(s,o)),i&&(s=Gl(this,s,i,a)),s},t.prototype.depthwiseConv2D=function(e,t,n){ql([e,t],"depthwiseConv2D");for(var r=n.filterHeight,o=n.filterWidth,i=n.dilationHeight,a=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,c=n.outChannels/n.inChannels,l=qn(n.outShape,e.dtype),f=this.readSync(e.dataId),d=this.readSync(t.dataId),p=l.values,h=0;h<n.batchSize;++h)for(var v=h*e.strides[0],m=h*l.strides[0],g=0;g<n.outHeight;++g)for(var y=m+g*l.strides[1],b=g*n.strideHeight-s,w=0;w<r;++w){var x=b+w*i;if(!(x<0||x>=n.inHeight))for(var O=w*t.strides[0],E=v+x*e.strides[1],S=0;S<n.outWidth;++S)for(var C=y+S*l.strides[2],k=S*n.strideWidth-u,R=0;R<o;++R){var j=k+R*a;if(!(j<0||j>=n.inWidth))for(var P=O+R*t.strides[1],T=E+j*n.inChannels,_=C,I=P,A=0;A<n.inChannels;++A){for(var N=f[T+A],M=0;M<c;++M)p[_+M]+=N*d[I+M];_+=c,I+=c}}}return l.toTensor()},t.prototype.depthwiseConv2DDerInput=function(e,t,n){ql([e,t],"depthwiseConv2DDerInput");for(var r=qn(n.inShape,"float32"),o=r.values,i=r.strides,a=i[0],s=i[1],u=i[2],c=this.readSync(e.dataId),l=e.strides,f=l[0],d=l[1],p=l[2],h=this.readSync(t.dataId),v=t.strides,m=v[0],g=v[1],y=v[2],b=n.batchSize,w=n.filterHeight,x=n.filterWidth,O=n.inChannels,E=n.inHeight,S=n.inWidth,C=n.outChannels,k=n.outHeight,R=n.outWidth,j=n.strideHeight,P=n.strideWidth,T=w-1-n.padInfo.top,_=x-1-n.padInfo.left,I=C/O,A=0;A<b;++A)for(var N=0;N<O;++N)for(var M=0;M<E;++M)for(var D=M-T,L=Math.max(0,Math.ceil(D/j)),F=Math.min(k,(w+D)/j),B=0;B<S;++B){for(var V=B-_,U=Math.max(0,Math.ceil(V/P)),W=Math.min(R,(x+V)/P),z=0,H=L;H<F;++H)for(var q=H*j-D,G=U;G<W;++G)for(var K=f*A+d*H+p*G,$=m*(w-1-q)+g*(x-1-(G*P-V))+y*N,X=0;X<I;++X)z+=c[K+(N*I+X)]*h[$+X];o[a*A+s*M+u*B+N]=z}return r.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){ql([e,t],"depthwiseConv2DDerFilter");for(var r=n.strideHeight,o=n.strideWidth,i=n.filterHeight,a=n.filterWidth,s=qn(n.filterShape,"float32"),u=n.padInfo.left,c=n.padInfo.top,l=n.outChannels/n.inChannels,f=this.bufferSync(e),d=this.bufferSync(t),p=0;p<i;++p)for(var h=Math.max(0,Math.ceil((c-p)/r)),v=Math.min(n.outHeight,(n.inHeight+c-p)/r),m=0;m<a;++m)for(var g=Math.max(0,Math.ceil((u-m)/o)),y=Math.min(n.outWidth,(n.inWidth+u-m)/o),b=0;b<n.outChannels;++b){for(var w=Math.trunc(b/l),x=b%l,O=0,E=0;E<n.batchSize;++E)for(var S=h;S<v;++S)for(var C=p+S*r-c,k=g;k<y;++k){var R=m+k*o-u;O+=f.get(E,C,R,w)*d.get(E,S,k,b)}s.set(O,p,m,w,x)}return s.toTensor()},t.prototype.tile=function(e,t){return ql(e,"tile"),wo(this.bufferSync(e),t)},t.prototype.pad=function(e,t,n){ql(e,"pad");var r=t.map(function(t,n){return t[0]+e.shape[n]+t[1]}),o=t.map(function(e){return e[0]}),i=this.bufferSync(e),a=qn(r,e.dtype);0!==n&&a.values.fill(n);for(var s=0;s<e.size;s++){var u=i.indexToLoc(s),c=u.map(function(e,t){return e+o[t]});a.set.apply(a,[i.get.apply(i,u)].concat(c))}return a.toTensor()},t.prototype.transpose=function(e,t){ql(e,"transpose");for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[t[r]];var o=this.readSync(e.dataId),i=qn(n,e.dtype),a=this.bufferSync(e);for(r=0;r<e.size;++r){for(var s=a.indexToLoc(r),u=new Array(s.length),c=0;c<u.length;c++)u[c]=s[t[c]];var l=i.locToIndex(u);i.values[l]=o[r]}return i.toTensor()},t.prototype.gather=function(e,t,n){ql([e,t],"gather");var r=e.shape.slice(),o=this.readSync(t.dataId);r[n]=o.length;for(var i=qn(r,e.dtype),a=this.bufferSync(e),s=0;s<i.size;++s){var u=i.indexToLoc(s),c=u.slice();c[n]=o[u[n]];var l=a.locToIndex(c);i.values[s]=a.values[l]}return i.toTensor()},t.prototype.batchToSpaceND=function(e,t,n){ql([e],"batchToSpaceND");var r=t.reduce(function(e,t){return e*t}),o=yr(e.shape,t,r),i=br(o.length,t.length),a=wr(e.shape,t,r),s=xr(n,t.length),u=Or(a,n,t.length);return e.reshape(o).transpose(i).reshape(a).slice(s,u)},t.prototype.spaceToBatchND=function(e,t,n){ql([e],"spaceToBatchND");var r=t.reduce(function(e,t){return e*t}),o=[[0,0]];o.push.apply(o,n);for(var i=1+t.length;i<e.shape.length;++i)o.push([0,0]);var a=e.pad(o),s=yr(a.shape,t,r,!1),u=br(s.length,t.length,!1),c=wr(a.shape,t,r,!1);return a.reshape(s).transpose(u).reshape(c)},t.prototype.pool=function(e,t,n){ql(e,"pool");for(var r=t.strideHeight,o=t.strideWidth,i=t.dilationHeight,a=t.dilationWidth,s=t.effectiveFilterHeight,u=t.effectiveFilterWidth,c=t.padInfo.top,l=t.padInfo.left,f="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,d=this.readSync(e.dataId),p=qn(t.outShape,e.dtype),h=p.values,v=t.outShape[1]*t.outShape[2]*t.outShape[3],m=t.outShape[2]*t.outShape[3],g=t.outShape[3],y=0;y<t.batchSize;++y)for(var b=y*v,w=y*e.strides[0],x=0;x<t.inChannels;++x)for(var O=0;O<t.outHeight;++O)for(var E=O*r-c,S=Math.max(0,E),C=Math.min(t.inHeight,s+E),k=b+O*m,R=0;R<t.outWidth;++R){for(var j=R*o-l,P=Math.max(0,j),T=Math.min(t.inWidth,u+j),_=f,I=0,A=0,N=S;N<C;N+=i){for(var M=w+N*e.strides[1],D=P;D<T;D+=a){var L=d[M+D*e.strides[2]+x];"max"===n&&L>_?_=L:"avg"===n&&(I+=L,A++)}if(isNaN(_))break}h[k+R*g+x]="avg"===n?I/A:_}return p.toTensor()},t.prototype.maxPool=function(e,t){return this.pool(e,t,"max")},t.prototype.maxPoolPositions=function(e,t){for(var n=qn(t.outShape,"int32"),r=t.strideHeight,o=t.strideWidth,i=t.dilationHeight,a=t.dilationWidth,s=t.effectiveFilterHeight,u=t.effectiveFilterWidth,c=t.padInfo.top,l=t.padInfo.left,f=this.bufferSync(e),d=0;d<t.batchSize;++d)for(var p=0;p<t.inChannels;++p)for(var h=0;h<t.outHeight;++h){for(var v=h*r-c,m=v;m<0;)m+=i;for(var g=Math.min(t.inHeight,s+v),y=0;y<t.outWidth;++y){for(var b=y*o-l,w=b;w<0;)w+=a;for(var x=Math.min(t.inWidth,u+b),O=Number.NEGATIVE_INFINITY,E=-1,S=m;S<g;S+=i)for(var C=S-v,k=w;k<x;k+=a){var R=k-b,j=f.get(d,S,k,p);j>O&&(O=j,E=C*u+R)}n.set(E,d,h,y,p)}}return n.toTensor()},t.prototype.maxPoolBackprop=function(e,t,n,r){ql([t,n],"maxPoolBackprop");for(var o=this.maxPoolPositions(t,r),i=r.strideHeight,a=r.strideWidth,s=r.dilationHeight,u=r.dilationWidth,c=r.effectiveFilterHeight,l=r.effectiveFilterWidth,f=l-1-r.padInfo.left,d=c-1-r.padInfo.top,p=qn(t.shape,"float32"),h=this.bufferSync(o),v=this.bufferSync(e),m=0;m<r.batchSize;++m)for(var g=0;g<r.inChannels;++g)for(var y=0;y<r.inHeight;++y)for(var b=0;b<r.inWidth;++b){for(var w=y-d,x=b-f,O=0,E=0;E<c;E+=s){var S=(w+E)/i;if(!(S<0||S>=r.outHeight||Math.floor(S)!==S))for(var C=0;C<l;C+=u){var k=(x+C)/a;if(!(k<0||k>=r.outWidth||Math.floor(k)!==k)){var R=c*l-1-h.get(m,S,k,g)===E*l+C?1:0;0!==R&&(O+=v.get(m,S,k,g)*R)}}}p.set(O,m,y,b,g)}return p.toTensor()},t.prototype.avgPoolBackprop=function(e,t,n){ql([e,t],"avgPoolBackprop");for(var r=n.strideHeight,o=n.strideWidth,i=n.filterHeight,a=n.filterWidth,s=n.dilationHeight,u=n.dilationWidth,c=n.effectiveFilterHeight,l=n.effectiveFilterWidth,f=l-1-n.padInfo.left,d=c-1-n.padInfo.top,p=qn(t.shape,"float32"),h=1/(i*a),v=this.bufferSync(e),m=0;m<n.batchSize;++m)for(var g=0;g<n.inChannels;++g)for(var y=0;y<n.inHeight;++y)for(var b=0;b<n.inWidth;++b){for(var w=y-d,x=b-f,O=0,E=0;E<c;E+=s){var S=(w+E)/r;if(!(S<0||S>=n.outHeight||Math.floor(S)!==S))for(var C=0;C<l;C+=u){var k=(x+C)/o;k<0||k>=n.outWidth||Math.floor(k)!==k||(O+=v.get(m,S,k,g))}}p.set(O*h,m,y,b,g)}return p.toTensor()},t.prototype.pool3d=function(e,t,n){ql(e,"pool3d");for(var r=t.strideDepth,o=t.strideHeight,i=t.strideWidth,a=t.dilationDepth,s=t.dilationHeight,u=t.dilationWidth,c=t.effectiveFilterDepth,l=t.effectiveFilterHeight,f=t.effectiveFilterWidth,d=t.padInfo.front,p=t.padInfo.top,h=t.padInfo.left,v="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=this.readSync(e.dataId),g=qn(t.outShape,e.dtype),y=g.values,b=t.outShape[1]*t.outShape[2]*t.outShape[3]*t.outShape[4],w=t.outShape[2]*t.outShape[3]*t.outShape[4],x=t.outShape[3]*t.outShape[4],O=t.outShape[4],E=0;E<t.batchSize;++E)for(var S=E*b,C=E*e.strides[0],k=0;k<t.inChannels;++k)for(var R=0;R<t.outDepth;++R){for(var j=R*r-d,P=j;P<0;)P+=a;for(var T=Math.min(t.inDepth,c+j),_=S+R*w,I=0;I<t.outHeight;++I){for(var A=I*o-p,N=A;N<0;)N+=s;for(var M=Math.min(t.inHeight,l+A),D=_+I*x,L=0;L<t.outWidth;++L){for(var F=L*i-h,B=F;B<0;)B+=u;for(var V=Math.min(t.inWidth,f+F),U=D+L*O,W=v,z=0,H=0,q=P;q<T;q+=a){for(var G=C+q*e.strides[1],K=N;K<M;K+=s){for(var $=G+K*e.strides[2],X=B;X<V;X+=u){var Y=m[$+X*e.strides[3]+k];if("max"===n&&Y>W?W=Y:"avg"===n&&(z+=Y,H++),isNaN(W))break}if(isNaN(W))break}if(isNaN(W))break}y[U+k]="avg"===n?z/H:W}}}return g.toTensor()},t.prototype.avgPool3d=function(e,t){return ql(e,"avgPool3d"),this.pool3d(e,t,"avg").toFloat()},t.prototype.avgPool3dBackprop=function(e,t,n){ql([e,t],"avgPool3dBackprop");for(var r=n.strideDepth,o=n.strideHeight,i=n.strideWidth,a=n.filterDepth,s=n.filterHeight,u=n.filterWidth,c=n.dilationDepth,l=n.dilationHeight,f=n.dilationWidth,d=n.effectiveFilterDepth,p=n.effectiveFilterHeight,h=n.effectiveFilterWidth,v=d-1-n.padInfo.front,m=h-1-n.padInfo.left,g=p-1-n.padInfo.top,y=qn(t.shape,"float32"),b=1/(a*s*u),w=this.bufferSync(e),x=0;x<n.batchSize;++x)for(var O=0;O<n.inChannels;++O)for(var E=0;E<n.inDepth;++E)for(var S=0;S<n.inHeight;++S)for(var C=0;C<n.inWidth;++C){for(var k=E-v,R=S-g,j=C-m,P=0,T=0;T<d;T+=c){var _=(k+T)/r;if(!(_<0||_>=n.outDepth||Math.floor(_)!==_))for(var I=0;I<p;I+=l){var A=(R+I)/o;if(!(A<0||A>=n.outHeight||Math.floor(A)!==A))for(var N=0;N<h;N+=f){var M=(j+N)/i;M<0||M>=n.outWidth||Math.floor(M)!==M||(P+=w.get(x,_,A,M,O))}}}y.set(P*b,x,E,S,C,O)}return y.toTensor()},t.prototype.maxPool3d=function(e,t){return ql(e,"maxPool3d"),this.pool3d(e,t,"max").toFloat()},t.prototype.maxPool3dPositions=function(e,t){for(var n=qn(t.outShape,"int32"),r=t.strideDepth,o=t.strideHeight,i=t.strideWidth,a=t.dilationDepth,s=t.dilationHeight,u=t.dilationWidth,c=t.effectiveFilterDepth,l=t.effectiveFilterHeight,f=t.effectiveFilterWidth,d=t.padInfo.front,p=t.padInfo.top,h=t.padInfo.left,v=this.bufferSync(e),m=0;m<t.batchSize;++m)for(var g=0;g<t.inChannels;++g)for(var y=0;y<t.outDepth;++y){for(var b=y*r-d,w=b;w<0;)w+=a;for(var x=Math.min(t.inDepth,c+b),O=0;O<t.outHeight;++O){for(var E=O*o-p,S=E;S<0;)S+=s;for(var C=Math.min(t.inHeight,l+E),k=0;k<t.outWidth;++k){for(var R=k*i-h,j=R;j<0;)j+=u;for(var P=Math.min(t.inWidth,f+R),T=Number.NEGATIVE_INFINITY,_=-1,I=w;I<x;I+=a)for(var A=I-b,N=S;N<C;N+=s)for(var M=N-E,D=j;D<P;D+=u){var L=D-R,F=v.get(m,I,N,D,g);F>=T&&(T=F,_=A*l*f+M*l+L)}n.set(_,m,y,O,k,g)}}}return n.toTensor()},t.prototype.maxPool3dBackprop=function(e,t,n,r){ql([t,n],"maxPool3dBackprop");for(var o=this.maxPool3dPositions(t,r),i=r.strideDepth,a=r.strideHeight,s=r.strideWidth,u=r.dilationDepth,c=r.dilationHeight,l=r.dilationWidth,f=r.effectiveFilterDepth,d=r.effectiveFilterHeight,p=r.effectiveFilterWidth,h=f-1-r.padInfo.front,v=p-1-r.padInfo.left,m=d-1-r.padInfo.top,g=qn(t.shape,"float32"),y=this.bufferSync(o),b=this.bufferSync(e),w=0;w<r.batchSize;++w)for(var x=0;x<r.inChannels;++x)for(var O=0;O<r.inDepth;++O)for(var E=0;E<r.inHeight;++E)for(var S=0;S<r.inWidth;++S){for(var C=O-h,k=E-m,R=S-v,j=0,P=0;P<f;P+=u){var T=(C+P)/i;if(!(T<0||T>=r.outDepth||Math.floor(T)!==T))for(var _=0;_<d;_+=c){var I=(k+_)/a;if(!(I<0||I>=r.outHeight||Math.floor(I)!==I))for(var A=0;A<p;A+=l){var N=(R+A)/s;if(!(N<0||N>=r.outWidth||Math.floor(N)!==N)){var M=f*d*p-1-y.get(w,T,I,N,x)===P*d*p+_*p+A?1:0;0!==M&&(j+=b.get(w,T,I,N,x)*M)}}}}g.set(j,w,O,E,S,x)}return g.toTensor()},t.prototype.cast=function(e,t){return ro(e,t,this)},t.prototype.reshape=function(e,t){return oo(e,t)},t.prototype.avgPool=function(e,t){return ql(e,"avgPool"),this.pool(e,t,"avg").toFloat()},t.prototype.resizeBilinear=function(e,t,n,r){ql(e,"resizeBilinear");for(var o=e.shape,i=o[0],a=o[1],s=o[2],u=o[3],c=this.readSync(e.dataId),l=new Float32Array(j([i,t,n,u])),f=[r&&t>1?a-1:a,r&&n>1?s-1:s],d=[r&&t>1?t-1:t,r&&n>1?n-1:n],p=0,h=f[0]/d[0],v=f[1]/d[1],m=0;m<i;m++)for(var g=0;g<t;g++)for(var y=h*g,b=Math.floor(y),w=y-b,x=Math.min(a-1,Math.ceil(y)),O=m*e.strides[0]+b*e.strides[1],E=m*e.strides[0]+x*e.strides[1],S=0;S<n;S++)for(var C=v*S,k=Math.floor(C),R=C-k,P=Math.min(s-1,Math.ceil(C)),T=O+k*e.strides[2],_=E+k*e.strides[2],I=O+P*e.strides[2],A=E+P*e.strides[2],N=0;N<u;N++){var M=c[T+N],D=c[_+N],L=M+(c[I+N]-M)*R,F=L+(D+(c[A+N]-D)*R-L)*w;l[p++]=F}return hn(l,[i,t,n,u])},t.prototype.resizeBilinearBackprop=function(e,t,n){ql([e,t],"resizeBilinearBackprop");for(var r=t.shape,o=r[0],i=r[1],a=r[2],s=r[3],u=e.shape,c=u[1],l=u[2],f=new Float32Array(o*i*a*s),d=[n&&c>1?i-1:i,n&&l>1?a-1:a],p=[n&&c>1?c-1:c,n&&l>1?l-1:l],h=d[0]/p[0],v=d[1]/p[1],m=this.readSync(e.dataId),g=0,y=0;y<o;y++)for(var b=y*t.strides[0],w=0;w<c;w++)for(var x=w*h,O=Math.floor(x),E=Math.min(Math.ceil(x),i-1),S=b+O*t.strides[1],C=b+E*t.strides[1],k=x-O,R=1-k,j=0;j<l;j++)for(var P=j*v,T=Math.floor(P),_=Math.min(Math.ceil(P),a-1),I=P-T,A=1-I,N=S+T*t.strides[2],M=S+_*t.strides[2],D=C+T*t.strides[2],L=C+_*t.strides[2],F=R*A,B=R*I,V=k*A,U=k*I,W=0;W<s;W++){var z=m[g++];f[N+W]+=z*F,f[M+W]+=z*B,f[D+W]+=z*V,f[L+W]+=z*U}return wn(f,[o,a,i,s],t.dtype)},t.prototype.resizeNearestNeighbor=function(e,t,n,r){ql(e,"resizeNearestNeighbor");for(var o=e.shape,i=o[0],a=o[1],s=o[2],u=o[3],c=this.readSync(e.dataId),l=new Float32Array(i*t*n*u),f=[r&&t>1?a-1:a,r&&n>1?s-1:s],d=[r&&t>1?t-1:t,r&&n>1?n-1:n],p=f[0]/d[0],h=f[1]/d[1],v=0,m=0;m<i;m++)for(var g=m*e.strides[0],y=0;y<t;y++)for(var b=p*y,w=g+Math.min(a-1,r?Math.round(b):Math.floor(b))*e.strides[1],x=0;x<n;x++)for(var O=h*x,E=w+Math.min(s-1,r?Math.round(O):Math.floor(O))*e.strides[2],S=0;S<u;S++){var C=c[E+S];l[v++]=C}return hn(l,[i,t,n,u],e.dtype)},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){ql([e,t],"resizeNearestNeighborBackprop");for(var r=t.shape,o=r[0],i=r[1],a=r[2],s=r[3],u=e.shape,c=u[1],l=u[2],f=new Float32Array(o*i*a*s),d=this.readSync(e.dataId),p=[n&&c>1?i-1:i,n&&l>1?a-1:a],h=[n&&c>1?c-1:c,n&&l>1?l-1:l],v=p[0]/h[0],m=p[1]/h[1],g=1/v,y=1/m,b=2*Math.ceil(g)+2,w=2*Math.ceil(y)+2,x=0;x<o;x++)for(var O=x*t.strides[0],E=0;E<i;E++)for(var S=O+E*t.strides[1],C=Math.floor(E*g),k=Math.floor(C-b/2),R=0;R<a;R++)for(var j=S+R*t.strides[2],P=Math.floor(R*y),T=Math.floor(P-w/2),_=0;_<s;_++){for(var I=0,A=0;A<b;A++){var N=A+k;if(!(N<0||N>=c)){var M=O+N*e.strides[1],D=N*v;if(E===Math.min(i-1,n?Math.round(D):Math.floor(D)))for(var L=0;L<w;L++){var F=L+T;if(!(F<0||F>=l)){var B=M+F*e.strides[2],V=F*m;R===Math.min(a-1,n?Math.round(V):Math.floor(V))&&(I+=d[B+_])}}}}f[j+_]=I}return wn(f,t.shape,t.dtype)},t.prototype.batchNormalization=function(e,t,n,r,o,i){ql([e,t,n,o,i],"batchNorm");for(var a=this.readSync(e.dataId),s=this.readSync(t.dataId),u=this.readSync(n.dataId),c=o?this.readSync(o.dataId):new Float32Array([1]),l=i?this.readSync(i.dataId):new Float32Array([0]),f=new Float32Array(a.length),d=l.length,p=c.length,h=u.length,v=s.length,m=0,g=0,y=0,b=0,w=0;w<a.length;++w)f[w]=l[m++]+(a[w]-s[g++])*c[y++]/Math.sqrt(u[b++]+r),m>=d&&(m=0),g>=v&&(g=0),y>=p&&(y=0),b>=h&&(b=0);return wn(f,e.shape)},t.prototype.localResponseNormalization4D=function(e,t,n,r,o){ql(e,"localResponseNormalization4D");var i=e.shape[3],a=i-1,s=this.readSync(e.dataId),u=e.size,c=new Float32Array(u);function l(e){for(var n=e%i,r=e-n+Math.max(0,n-t),o=e-n+Math.min(n+t,a),u=0;r<=o;r++){var c=s[r];u+=c*c}return u}for(var f=0;f<u;f++){var d=l(f),p=s[f]*Math.pow(n+r*d,-o);c[f]=p}return wn(c,e.shape)},t.prototype.LRNGrad=function(e,t,n,r,o,i,a){ql(e,"LRNGrad");for(var s=e.shape[3],u=this.readSync(e.dataId),c=this.readSync(t.dataId),l=this.readSync(n.dataId),f=new Float32Array(e.size),d=e.size,p=0;p<d;p++){for(var h=p%s,v=p-h+Math.max(0,h-r),m=p-h+Math.min(s,h+r+1),g=0,y=v;y<m;y++)g+=Math.pow(c[y],2);for(g=i*g+o,y=v;y<m;y++){var b=-2*i*a*c[y]*l[p]/g;p===y&&(b+=Math.pow(g,-a)),b*=u[p],f[y]+=b}}return wn(f,e.shape)},t.prototype.multinomial=function(e,t,n,r){ql(e,"multinomial");for(var o=t?e:Lr(e),i=o.shape[0],a=o.shape[1],s=On([i,n],"int32"),u=this.readSync(s.dataId),c=this.readSync(o.dataId),l=0;l<i;++l){var f=l*a,d=new Float32Array(a-1);d[0]=c[f];for(var p=1;p<d.length;++p)d[p]=d[p-1]+c[f+p];for(var h=Un(r.toString()),v=l*n,m=0;m<n;++m){var g=h();u[v+m]=d.length;for(var y=0;y<d.length;y++)if(g<d[y]){u[v+m]=y;break}}}return s},t.prototype.oneHot=function(e,t,n,r){ql(e,"oneHot");var o=new Float32Array(e.size*t);o.fill(r);for(var i=this.readSync(e.dataId),a=0;a<e.size;++a)i[a]>=0&&i[a]<t&&(o[a*t+i[a]]=n);return yn(o,[e.size,t],"int32")},t.prototype.nonMaxSuppression=function(e,t,n,r,o){return ql(e,"nonMaxSuppression"),po(this.readSync(e.dataId),this.readSync(t.dataId),n,r,o)},t.prototype.fft=function(e){return this.fftBatch(e,!1)},t.prototype.ifft=function(e){return this.fftBatch(e,!0)},t.prototype.fftBatch=function(e,t){for(var n=e.shape[0],r=e.shape[1],o=qn(e.shape,"float32"),i=qn(e.shape,"float32"),a=dn(e).as2D(n,r),s=pn(e).as2D(n,r),u=0;u<n;u++)for(var c=a.slice([u,0],[1,r]),l=s.slice([u,0],[1,r]),f=fn(c,l),d=this.readSync(this.fftImpl(f,t).dataId),p=0;p<r;p++){var h=so(d,p);o.values[u*r+p]=h.real,i.values[u*r+p]=h.imag}return fn(o.toTensor(),i.toTensor()).as2D(n,r)},t.prototype.fftImpl=function(e,t){var n=e.as1D(),r=n.size;if(this.isExponentOf2(r)){var o=this.fftRadix2(n,r,t).as2D(e.shape[0],e.shape[1]);return t&&(o=fn(dn(o).div(mn(r)),pn(o).div(mn(r)))),o}var i=this.readSync(e.dataId),a=function(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}(this.fourierTransformByMatmul(i,r,t));return fn(a.real,a.imag).as2D(e.shape[0],e.shape[1])},t.prototype.isExponentOf2=function(e){return 0==(e&e-1)},t.prototype.fftRadix2=function(e,t,n){if(1===t)return e;var r=this.readSync(e.dataId),o=t/2,i=function(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),o=0;o<e.length;o+=4)n[Math.floor(o/4)]=e[o],r[Math.floor(o/4)]=e[o+1];return{real:n,imag:r}}(r),a=fn(i.real,i.imag).as1D(),s=function(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),o=2;o<e.length;o+=4)n[Math.floor(o/4)]=e[o],r[Math.floor(o/4)]=e[o+1];return{real:n,imag:r}}(r),u=fn(s.real,s.imag).as1D();a=this.fftRadix2(a,o,n),u=this.fftRadix2(u,o,n);var c=function(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),o=0;o<Math.ceil(e/2);o++){var i=(t?2:-2)*Math.PI*(o/e);n[o]=Math.cos(i),r[o]=Math.sin(i)}return{real:n,imag:r}}(t,n),l=fn(c.real,c.imag).mul(u),f=a.add(l),d=a.sub(l),p=dn(f).concat(dn(d)),h=pn(f).concat(pn(d));return fn(p,h).as1D()},t.prototype.fourierTransformByMatmul=function(e,t,n){for(var r=new Float32Array(2*t),o=0;o<t;o++){for(var i=0,a=0,s=0;s<t;s++){var u=co(o*s,t,n),c=so(e,s);i+=c.real*u.real-c.imag*u.imag,a+=c.real*u.imag+c.imag*u.real}n&&(i/=t,a/=t),uo(r,i,a,o)}return r},t.prototype.depthToSpace=function(e,t,n){S("NHWC"===n,function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+n}),S(t>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+t});for(var r=e.shape[0],o=e.shape[1],i=e.shape[2],a=e.shape[3],s=o*t,u=i*t,c=a/(t*t),l=this.readSync(e.dataId),f=new Float32Array(r*s*u*c),d=0,p=0;p<r;++p)for(var h=0;h<s;++h)for(var v=Math.floor(h/t),m=h%t,g=0;g<u;++g)for(var y=Math.floor(g/t),b=(m*t+g%t)*c,w=0;w<c;++w){var x=w+b+a*(y+i*(v+o*p));f[d++]=l[x]}return wn(f,[r,s,u,c])},t.prototype.broadcastedBinaryOp=function(e,t,n,r){var o=Hr(e.shape,t.shape),i=qn(o,n),a=this.readSync(e.dataId),s=this.readSync(t.dataId),u=Wr(e.shape,o),c=Wr(t.shape,o),l=i.values;if(u.length+c.length===0)for(var f=0;f<l.length;++f)l[f]=r(a[f%a.length],s[f%s.length]);else{var d=this.bufferSync(e),p=this.bufferSync(t),h=function(n){var o=i.indexToLoc(n),f=o.slice(-e.rank);u.forEach(function(e){return f[e]=0});var h=d.locToIndex(f),v=o.slice(-t.rank);c.forEach(function(e){return v[e]=0});var m=p.locToIndex(v);l[n]=r(a[h],s[m])};for(f=0;f<l.length;++f)h(f)}return i.toTensor()},t.prototype.broadcastedBinaryComplexOp=function(e,t,n){var r=Hr(e.shape,t.shape),o=qn(r,"float32"),i=qn(r,"float32"),a=this.readSync(e.dataId),s=this.readSync(t.dataId),u=Wr(e.shape,r),c=Wr(t.shape,r),l=o.values,f=i.values;if(u.length+c.length===0)for(var d=0;d<l.length;d++){var p=d%a.length,h=d%s.length,v=n(a[2*p],a[2*p+1],s[2*h],s[2*h+1]);l[d]=v.real,f[d]=v.imag}else{var m=this.bufferSync(this.data.get(e.dataId).complexTensors.real),g=this.bufferSync(this.data.get(t.dataId).complexTensors.real),y=function(r){var i=o.indexToLoc(r),d=i.slice(-e.rank);u.forEach(function(e){return d[e]=0});var p=m.locToIndex(d),h=i.slice(-t.rank);c.forEach(function(e){return h[e]=0});var v=g.locToIndex(h),y=n(a[2*p],a[2*p+1],s[2*v],s[2*v+1]);l[r]=y.real,f[r]=y.imag};for(d=0;d<l.length;d++)y(d)}return this.complex(o.toTensor(),i.toTensor())},t.prototype.split=function(e,t,n){return bo(e,t,n)},t.prototype.dispose=function(){},t.prototype.floatPrecision=function(){return 32},t.prototype.epsilon=function(){return 1e-7},t.prototype.cropAndResize=function(e,t,n,r,o,i){for(var a=e.shape,s=a[0],u=a[1],c=a[2],l=a[3],f=t.shape[0],d=r[0],p=r[1],h=qn([f,d,p,l],"float32"),v=this.readSync(t.dataId),m=this.readSync(n.dataId),g=this.readSync(e.dataId),y=e.strides,b=h.strides,w=0;w<f;w++){var x=4*w,O=v[x],E=v[x+1],S=v[x+2],C=v[x+3],k=m[w];if(!(k>=s))for(var R=d>1?(S-O)*(u-1)/(d-1):0,j=p>1?(C-E)*(c-1)/(p-1):0,P=0;P<d;P++){var T=d>1?O*(u-1)+P*R:.5*(O+S)*(u-1);if(T<0||T>u-1)for(var _=0;_<p;_++)for(var I=0;I<l;I++){var A=I+_*b[2]+P*b[1]+w*b[0];h.values[A]=i}else if("bilinear"===o){var N=Math.floor(T),M=Math.ceil(T),D=T-N;for(_=0;_<p;_++)if((q=p>1?E*(c-1)+_*j:.5*(E+C)*(c-1))<0||q>c-1)for(I=0;I<l;I++)A=I+_*b[2]+P*b[1]+w*b[0],h.values[A]=i;else{var L=Math.floor(q),F=Math.ceil(q),B=q-L;for(I=0;I<l;I++){var V=g[A=I+L*y[2]+N*y[1]+k*y[0]],U=g[A=I+F*y[2]+N*y[1]+k*y[0]],W=g[A=I+L*y[2]+M*y[1]+k*y[0]],z=V+(U-V)*B,H=W+(g[A=I+F*y[2]+M*y[1]+k*y[0]]-W)*B;A=I+_*b[2]+P*b[1]+w*b[0],h.values[A]=z+(H-z)*D}}}else for(_=0;_<p;++_){var q;if((q=p>1?E*(c-1)+_*j:.5*(E+C)*(c-1))<0||q>c-1)for(I=0;I<l;I++)A=I+_*b[2]+P*b[1]+w*b[0],h.values[A]=i;else{var G=Math.round(q),K=Math.round(T);for(I=0;I<l;I++){var $=I+G*y[2]+K*y[1]+k*y[0],X=I+_*b[2]+P*b[1]+w*b[0];h.values[X]=g[$]}}}}}return h.toTensor()},t.prototype.sparseToDense=function(e,t,n,r){var o=jr(0,e,n),i=o.sliceRank,a=o.numUpdates,s=o.sliceSize,u=o.strides,c=o.outputSize;return this.scatter(e,t,n,c,s,a,i,u,r,!1)},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],o=Er(e,t),i=o[0],a=o[1],s=o[2],u=o[3];if(0===a)return hn([],i,e.dtype);for(var c=new ge([a,s],e.dtype),l=this.readSync(t.dataId),f=this.readSync(e.dataId),d=0;d<a;d++){for(var p=[],h=0,v=0;v<r;v++){var m=l[d*r+v];h+=m*u[v],p.push(m)}if(h<0||h>=e.size/s)throw new Error("Invalid indices: "+p+" does not index into "+e.shape);for(var g=0;g<s;g++)c.values[d*s+g]=f[h*s+g]}return c.toTensor().reshape(i)},t.prototype.scatterND=function(e,t,n){var r=jr(0,e,n),o=r.sliceRank,i=r.numUpdates,a=r.sliceSize,s=r.strides,u=r.outputSize,c=mn(0);return this.scatter(e,t,n,u,a,i,o,s,c,!0)},t.prototype.fill=function(e,t,n){var r=B(n=n||X(t),j(e));return r.fill(t),Fe.makeTensor(r,e,n,this)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported for string tensors");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){var t=B(e.dtype,j(e.shape));return this.makeOutput(t,e.shape,e.dtype)},t.prototype.linspace=function(e,t,n){return io(e,t,n)},t.prototype.scatter=function(e,t,n,r,o,i,a,s,u,c){var l=[r/o,o],f=this.readSync(e.dataId),d=this.readSync(t.dataId);if(0===r)return hn([],n,t.dtype);var p=new ge(l,t.dtype);p.values.fill(this.readSync(u.dataId)[0]);for(var h=0;h<i;h++){for(var v=[],m=0,g=0;g<a;g++){var y=f[h*a+g];v.push(y),m+=y*s[g]}if(m<0||m>=r/o)throw new Error("Invalid indices: "+v+" does not index into "+n);for(var b=0;b<o;b++)c?p.values[m*o+b]+=d[h*o+b]:p.values[m*o+b]=0===t.rank?d[0]:d[h*o+b]}return p.toTensor().reshape(n)},t}(Vr);Fe.registerBackend("cpu",function(){return new Kl},1);for(var $l=0,Xl=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,o=t,i=o.boxes,a=o.scores,s=r,u=s.maxOutputSize,c=s.iouThreshold,l=s.scoreThreshold,f=s.softNmsSigma,d=n;ql(i,"NonMaxSuppressionWithScore");var p=ho(d.data.get(i.dataId).values,d.data.get(a.dataId).values,u,c,l,f);return[p.selectedIndices,p.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,o=n;ql(r,"square");for(var i=o.data.get(r.dataId).values,a=new Float32Array(i.length),s=0;s<i.length;++s){var u=i[s];a[s]=u*u}return{dataId:o.write(a,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:as,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,o=r.a,i=r.b,a=n;ql([o,i],as);var s=a.data.get(o.dataId).values,u=a.data.get(i.dataId).values,c=function(e,t,n,r,o,i){var a=Hr(e,t),s=a.length,u=Q(a),c=F(o,j(a)),l=e.length,f=t.length,d=Q(e),p=Q(t),h=Wr(e,a),v=Wr(t,a);if(h.length+v.length===0)for(var m=0;m<c.length;++m)c[m]=i(n[m%n.length],r[m%r.length]);else{var g=function(e){var t=ue(e,s,u),o=t.slice(-l);h.forEach(function(e){return o[e]=0});var a=se(o,l,d),m=t.slice(-f);v.forEach(function(e){return m[e]=0});var g=se(m,f,p);c[e]=i(n[a],r[g])};for(m=0;m<c.length;++m)g(m)}return[c,a]}(o.shape,i.shape,s,u,o.dtype,function(e,t){var n=e-t;return n*n}),l=c[0],f=c[1];return{dataId:a.write(l,f,o.dtype),shape:f,dtype:o.dtype}}}];$l<Xl.length;$l++)g(Xl[$l]);for(var Yl,Jl=function(e){this.variableNames=["A"];var t=jo(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+r+".0, "+n+".0);\n\n        vec4 values = "+t.texture2D+"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "},Ql=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var t=jo(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2("+r+".0, "+n+".0);\n            vec4 values = "+t.texture2D+"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        "+t.output+" = result;\n      }\n    "},Zl=0,ef=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,o=t.pixels,i=r.numChannels,a="undefined"!=typeof HTMLVideoElement&&o instanceof HTMLVideoElement,s="undefined"!=typeof HTMLImageElement&&o instanceof HTMLImageElement,u=a?[o.videoWidth,o.videoHeight]:[o.width,o.height],c=u[0],l=u[1],d=[l,c],p=[l,c,i];(s||a)&&(null==Yl&&(Yl=document.createElement("canvas").getContext("2d")),Yl.canvas.width=c,Yl.canvas.height=l,Yl.drawImage(o,0,0,c,l),o=Yl.canvas);var h=n.makeTensorInfo(d,"int32");n.texData.get(h.dataId).usage=We.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(h.dataId),o);var v=f().getBool("WEBGL_PACK")?new Ql(p):new Jl(p),m=n.runWebGLProgram(v,[h],"int32");return n.disposeData(h.dataId),m}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;$t("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var o=t,i=o.boxes,a=o.scores,s=r,u=s.maxOutputSize,c=s.iouThreshold,l=s.scoreThreshold,f=s.softNmsSigma,d=n,p=ho(d.readSync(i.dataId),d.readSync(a.dataId),u,c,l,f);return[p.selectedIndices,p.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,o=n,i=new Da(r.shape,"return x * x;");return o.runWebGLProgram(i,[r],r.dtype)}},{kernelName:as,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,o=r.a,i=r.b,a=n,s=f().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ei("return (a - b) * (a - b);",o.shape,i.shape):new Qo("return (a - b) * (a - b);",o.shape,i.shape);return a.compileAndRun(s,[o,i])}}];Zl<ef.length;Zl++)g(ef[Zl]);for(var tf=0,nf=[{kernelName:"Square",gradFunc:function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().mul(2))}}}},{kernelName:as,gradFunc:function(e,t){var n=t[0],r=t[1],o=mn(2);return{a:function(){return Ou(e,Ou(o,Ru(n,r)))},b:function(){return Ou(e,Ou(o,Ru(r,n)))}}}}];tf<nf.length;tf++)y(nf[tf]);var rf=function(){function e(){}return e.prototype.fetch=function(e,t){return fetch(e,t)},e.prototype.now=function(){return performance.now()},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got "+t);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return new TextDecoder(t).decode(e)},e}();f().get("IS_BROWSER")&&f().setPlatform("browser",new rf);var of,af=function(){function e(){this.util=n(365),this.textEncoder=new this.util.TextEncoder}return e.prototype.fetch=function(e,t){return null!=f().global.fetch?f().global.fetch(e,t):(null==of&&(of=n(364)),of(e,t))},e.prototype.now=function(){var e=r.hrtime();return 1e3*e[0]+e[1]/1e6},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got "+t);return this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)},e}();f().get("IS_NODE")&&f().setPlatform("node",new af);var sf={float32:4,int32:4,uint16:2,uint8:1,bool:1},uf=4;function cf(e,t){for(var n={},r=0,o=function(t){var o=t.name,i=t.dtype,a=t.shape,s=j(a),u=void 0;if("quantization"in t){var c=t.quantization;if("uint8"!==c.dtype&&"uint16"!==c.dtype)throw new Error("Weight "+t.name+" has unknown quantization dtype "+c.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var l=sf[c.dtype],f=e.slice(r,r+s*l),d="uint8"===c.dtype?new Uint8Array(f):new Uint16Array(f);if("float32"===i)u=Float32Array.from(d,function(e){return e*c.scale+c.min});else{if("int32"!==i)throw new Error("Unsupported dtype in weight '"+o+"': "+i);u=Int32Array.from(d,function(e){return Math.round(e*c.scale+c.min)})}r+=s*l}else if("string"===i){var p=j(t.shape);u=[];for(var h=0;h<p;h++){var v=new Uint32Array(e.slice(r,r+uf))[0];r+=uf;var m=new Uint8Array(e.slice(r,r+v));u.push(m),r+=v}}else{var g=sf[i];if(f=e.slice(r,r+s*g),"float32"===i)u=new Float32Array(f);else if("int32"===i)u=new Int32Array(f);else{if("bool"!==i)throw new Error("Unsupported dtype in weight '"+o+"': "+i);u=new Uint8Array(f)}r+=s*g}n[o]=hn(u,a,i)},i=0,a=t;i<a.length;i++)o(a[i]);return n}function lf(e){if(null===e)throw new Error("Invalid input value: "+JSON.stringify(e));var t=0,n=[];e.forEach(function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+e.constructor.name)});var r=new Uint8Array(t),o=0;return n.forEach(function(e){r.set(new Uint8Array(e.buffer),o),o+=e.byteLength}),r.buffer}var ff="undefined"!=typeof o&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function df(e){return ff?o.byteLength(e):new Blob([e]).size}function pf(e){var t=0;e.forEach(function(e){t+=e.byteLength});var n=new Uint8Array(t),r=0;return e.forEach(function(e){n.set(new Uint8Array(e),r),r+=e.byteLength}),n.buffer}function hf(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function vf(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:df(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:df(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}var mf=function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerSaveRouter=function(t){e.getInstance().saveRouters.push(t)},e.registerLoadRouter=function(t){e.getInstance().loadRouters.push(t)},e.getSaveHandlers=function(t){return e.getHandlers(t,"save")},e.getLoadHandlers=function(t,n){return e.getHandlers(t,"load",n)},e.getHandlers=function(t,n,r){var o=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach(function(e){var n=e(t,r);null!==n&&o.push(n)}),o},e}(),gf="://",yf=function(){function e(){this.managers={}}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerManager=function(t,n){S(null!=t,function(){return"scheme must not be undefined or null."}),t.endsWith(gf)&&(t=t.slice(0,t.indexOf(gf))),S(t.length>0,function(){return"scheme must not be an empty string."});var r=e.getInstance();S(null==r.managers[t],function(){return"A model store manager is already registered for scheme '"+t+"'."}),r.managers[t]=n},e.getManager=function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '"+e+"'");return t},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e}();function bf(e){if(-1===e.indexOf(gf))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+yf.getSchemes().join(","));return{scheme:e.split(gf)[0],path:e.split(gf)[1]}}function wf(e,t,n){return void 0===n&&(n=!1),u(this,void 0,void 0,function(){var r,o,i,a,s,u,l,f,d;return c(this,function(c){switch(c.label){case 0:return S(e!==t,function(){return"Old path and new path are the same: '"+e+"'"}),S((r=mf.getLoadHandlers(e)).length>0,function(){return"Copying failed because no load handler is found for source URL "+e+"."}),S(r.length<2,function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+e+"."}),o=r[0],S((i=mf.getSaveHandlers(t)).length>0,function(){return"Copying failed because no save handler is found for destination URL "+t+"."}),S(i.length<2,function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+t+"."}),a=i[0],s=bf(e).scheme,u=bf(e).path,l=s===bf(e).scheme,[4,o.load()];case 1:return f=c.sent(),n&&l?[4,yf.getManager(s).removeModel(u)]:[3,3];case 2:c.sent(),c.label=3;case 3:return[4,a.save(f)];case 4:return d=c.sent(),!n||l?[3,6]:[4,yf.getManager(s).removeModel(u)];case 5:c.sent(),c.label=6;case 6:return[2,d.modelArtifactsInfo]}})})}var xf="models_store",Of="model_info_store";function Ef(){if(!f().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window||self,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function Sf(e){var t=e.result;t.createObjectStore(xf,{keyPath:"modelPath"}),t.createObjectStore(Of,{keyPath:"modelPath"})}var Cf=function(){function e(e){if(this.indexedDB=Ef(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return e.prototype.save=function(e){return u(this,void 0,void 0,function(){return c(this,function(t){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]})})},e.prototype.load=function(){return u(this,void 0,void 0,function(){return c(this,function(e){return[2,this.databaseAction(this.modelPath)]})})},e.prototype.databaseAction=function(e,t){var n=this;return new Promise(function(e,r){var o=n.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return Sf(o)},o.onsuccess=function(){var i=o.result;if(null==t){var a=i.transaction(xf,"readonly"),s=a.objectStore(xf).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return i.close(),r(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));e(s.result.modelArtifacts)},s.onerror=function(e){return i.close(),r(s.error)},a.oncomplete=function(){return i.close()}}else{var u,c=vf(t),l=i.transaction(Of,"readwrite"),f=l.objectStore(Of),d=f.put({modelPath:n.modelPath,modelArtifactsInfo:c});d.onsuccess=function(){var o=(u=i.transaction(xf,"readwrite")).objectStore(xf).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:c});o.onsuccess=function(){return e({modelArtifactsInfo:c})},o.onerror=function(e){var t=(f=l.objectStore(Of)).delete(n.modelPath);t.onsuccess=function(){return i.close(),r(o.error)},t.onerror=function(e){return i.close(),r(o.error)}}},d.onerror=function(e){return i.close(),r(d.error)},l.oncomplete=function(){null==u?i.close():u.oncomplete=function(){return i.close()}}}},o.onerror=function(e){return r(o.error)}})},e.URL_SCHEME="indexeddb://",e}(),kf=function(e){return f().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Cf.URL_SCHEME)?(t=e.slice(Cf.URL_SCHEME.length),new Cf(t)):null;var t};mf.registerSaveRouter(kf),mf.registerLoadRouter(kf);var Rf=function(){function e(){this.indexedDB=Ef()}return e.prototype.listModels=function(){return u(this,void 0,void 0,function(){var e=this;return c(this,function(t){return[2,new Promise(function(t,n){var r=e.indexedDB.open("tensorflowjs",1);r.onupgradeneeded=function(){return Sf(r)},r.onsuccess=function(){var e=r.result,o=e.transaction(Of,"readonly"),i=o.objectStore(Of).getAll();i.onsuccess=function(){for(var e={},n=0,r=i.result;n<r.length;n++){var o=r[n];e[o.modelPath]=o.modelArtifactsInfo}t(e)},i.onerror=function(t){return e.close(),n(i.error)},o.oncomplete=function(){return e.close()}},r.onerror=function(e){return n(r.error)}})]})})},e.prototype.removeModel=function(e){return u(this,void 0,void 0,function(){var t=this;return c(this,function(n){var r;return e=(r=e).startsWith(Cf.URL_SCHEME)?r.slice(Cf.URL_SCHEME.length):r,[2,new Promise(function(n,r){var o=t.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return Sf(o)},o.onsuccess=function(){var t,i=o.result,a=i.transaction(Of,"readwrite"),s=a.objectStore(Of),u=s.get(e);u.onsuccess=function(){if(null==u.result)return i.close(),r(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var o=s.delete(e),a=function(){var o=(t=i.transaction(xf,"readwrite")).objectStore(xf).delete(e);o.onsuccess=function(){return n(u.result.modelArtifactsInfo)},o.onerror=function(e){return r(u.error)}};o.onsuccess=a,o.onerror=function(e){return a(),i.close(),r(u.error)}},u.onerror=function(e){return i.close(),r(u.error)},a.oncomplete=function(){null==t?i.close():t.oncomplete=function(){return i.close()}}},o.onerror=function(e){return r(o.error)}})]})})},e}();if(f().getBool("IS_BROWSER"))try{yf.registerManager(Cf.URL_SCHEME,new Rf)}catch(Re){}var jf="/",Pf="tensorflowjs_models",Tf="info",_f="model_topology",If="weight_specs",Af="weight_data",Nf="model_metadata";function Mf(e){return{info:[Pf,e,Tf].join(jf),topology:[Pf,e,_f].join(jf),weightSpecs:[Pf,e,If].join(jf),weightData:[Pf,e,Af].join(jf),modelMetadata:[Pf,e,Nf].join(jf)}}function Df(e){var t=e.split(jf);if(t.length<3)throw new Error("Invalid key format: "+e);return t.slice(1,t.length-1).join(jf)}var Lf=function(){function e(e){if(!f().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=Mf(this.modelPath)}return e.prototype.save=function(e){return u(this,void 0,void 0,function(){var t,n,r;return c(this,function(i){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=vf(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(ff)return o.from(e).toString("base64");for(var t=new Uint8Array(e),n="",r=0,i=t.length;r<i;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(e.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata})),[2,{modelArtifactsInfo:r}]}catch(e){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+r.modelTopologyBytes+", weightSpecsBytes="+r.weightSpecsBytes+", weightDataBytes="+r.weightDataBytes+".")}return[2]})})},e.prototype.load=function(){return u(this,void 0,void 0,function(){var e,t,n,r,i,a,s;return c(this,function(u){if(null==(e=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(t={},null==(n=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(t.modelTopology=n,null==(r=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(t.weightSpecs=r,null!=(i=this.LS.getItem(this.keys.modelMetadata))&&(a=JSON.parse(i),t.format=a.format,t.generatedBy=a.generatedBy,t.convertedBy=a.convertedBy,t.userDefinedMetadata=a.userDefinedMetadata),null==(s=this.LS.getItem(this.keys.weightData)))throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return t.weightData=function(e){if(ff){var t=o.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r.set([n.charCodeAt(i)],i);return r.buffer}(s),[2,t]})})},e.URL_SCHEME="localstorage://",e}(),Ff=function(e){return f().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Lf.URL_SCHEME)?(t=e.slice(Lf.URL_SCHEME.length),new Lf(t)):null;var t};mf.registerSaveRouter(Ff),mf.registerLoadRouter(Ff);var Bf=function(){function e(){S(f().getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),S("undefined"==typeof window||void 0!==window.localStorage,function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return e.prototype.listModels=function(){return u(this,void 0,void 0,function(){var e,t,n,r,o,i;return c(this,function(a){for(e={},t=Pf+jf,n=jf+Tf,r=0;r<this.LS.length;++r)(o=this.LS.key(r)).startsWith(t)&&o.endsWith(n)&&(i=Df(o),e[i]=JSON.parse(this.LS.getItem(o)));return[2,e]})})},e.prototype.removeModel=function(e){return u(this,void 0,void 0,function(){var t,n;return c(this,function(r){var o;if(e=(o=e).startsWith(Lf.URL_SCHEME)?o.slice(Lf.URL_SCHEME.length):o,t=Mf(e),null==this.LS.getItem(t.info))throw new Error("Cannot find model at path '"+e+"'");return n=JSON.parse(this.LS.getItem(t.info)),this.LS.removeItem(t.info),this.LS.removeItem(t.topology),this.LS.removeItem(t.weightSpecs),this.LS.removeItem(t.weightData),[2,n]})})},e}();if(f().getBool("IS_BROWSER"))try{yf.registerManager(Lf.URL_SCHEME,new Bf)}catch(Re){}var Vf="model",Uf=".json",Wf=".weights.bin";function zf(e){return new Promise(function(e){return setTimeout(e)}).then(e)}var Hf=function(){function e(t){if(!f().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t=Vf),this.modelTopologyFileName=t+Uf,this.weightDataFileName=t+Wf}return e.prototype.save=function(e){return u(this,void 0,void 0,function(){var t,n,r,o,i,a;return c(this,function(s){switch(s.label){case 0:if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),!(e.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:n},o=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),(i=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,i.href=o,[4,zf(function(){return i.dispatchEvent(new MouseEvent("click"))})];case 2:return s.sent(),null==e.weightData?[3,4]:((a=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,a.href=t,[4,zf(function(){return a.dispatchEvent(new MouseEvent("click"))})]);case 3:s.sent(),s.label=4;case 4:return[2,{modelArtifactsInfo:vf(e)}]}})})},e.URL_SCHEME="downloads://",e}(),qf=function(){function e(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+e);this.files=e}return e.prototype.load=function(){return u(this,void 0,void 0,function(){var e,t,n=this;return c(this,function(r){return e=this.files[0],t=this.files.slice(1),[2,new Promise(function(r,o){var i=new FileReader;i.onload=function(i){var a=JSON.parse(i.target.result),s=a.modelTopology;if(null!=s){0===t.length&&r({modelTopology:s});var u=a.weightsManifest;if(null!=u){var c;try{c=n.checkManifestAndWeightFiles(u,t)}catch(e){return void o(e)}var l=[],f=[],d=[];u.forEach(function(e){e.paths.forEach(function(e){f.push(e),d.push(null)}),l.push.apply(l,e.weights)}),u.forEach(function(e){e.paths.forEach(function(e){var t=new FileReader;t.onload=function(t){var n=t.target.result,o=f.indexOf(e);d[o]=n,-1===d.indexOf(null)&&r({modelTopology:s,weightSpecs:l,weightData:pf(d),format:a.format,generatedBy:a.generatedBy,convertedBy:a.convertedBy,userDefinedMetadata:a.userDefinedMetadata})},t.onerror=function(t){return o("Failed to weights data from file of path '"+e+"'.")},t.readAsArrayBuffer(c[e])})})}else o(new Error("weightManifest field is missing from file "+e.name))}else o(new Error("modelTopology field is missing from file "+e.name))},i.onerror=function(t){return o("Failed to read model topology and weights manifest JSON from file '"+e.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},i.readAsText(e)})]})})},e.prototype.checkManifestAndWeightFiles=function(e,t){for(var n=[],r=t.map(function(e){return hf(e.name)}),o={},i=0,a=e;i<a.length;i++)a[i].paths.forEach(function(e){var i=hf(e);if(-1!==n.indexOf(i))throw new Error("Duplicate file basename found in weights manifest: '"+i+"'");if(n.push(i),-1===r.indexOf(i))throw new Error("Weight file with basename '"+i+"' is not provided.");o[e]=t[r.indexOf(i)]});if(n.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest ("+n.length+") and the number of weight files provided ("+t.length+").");return o},e}();function Gf(e,t,n,r){!function(e){S(null!=e&&Array.isArray(e)&&e.length>0,function(){return"promises must be a none empty array"})}(e),function(e,t){S(e>=0&&e<=1,function(){return"Progress fraction must be in range [0, 1], but got startFraction "+e}),S(t>=0&&t<=1,function(){return"Progress fraction must be in range [0, 1], but got endFraction "+t}),S(t>=e,function(){return"startFraction must be no more than endFraction, but got startFraction "+e+" and endFraction "+t})}(n=null==n?0:n,r=null==r?1:r);var o=0;return Promise.all(e.map(function(i){return i.then(function(i){var a=n+ ++o/e.length*(r-n);return t(a),i}),i}))}function Kf(e,t){return u(this,void 0,void 0,function(){var n,r,o,i,a,s,u,l,d;return c(this,function(c){switch(c.label){case 0:return null==t&&(t={}),n=null==t.fetchFunc?f().platform.fetch:t.fetchFunc,r=e.map(function(e){return n(e,t.requestInit,{isBinary:!0})}),o=0,i=.5,null!=t.onProgress?[3,2]:[4,Promise.all(r)];case 1:return a=c.sent(),[3,4];case 2:return[4,Gf(r,t.onProgress,o,i)];case 3:a=c.sent(),c.label=4;case 4:return s=a.map(function(e){return e.arrayBuffer()}),u=.5,l=1,null!=t.onProgress?[3,6]:[4,Promise.all(s)];case 5:return d=c.sent(),[3,8];case 6:return[4,Gf(s,t.onProgress,u,l)];case 7:d=c.sent(),c.label=8;case 8:return[2,d]}})})}function $f(e){var t=this;return function(n,r,o){return void 0===r&&(r=""),u(t,void 0,void 0,function(){var t,i,a,s,u,l,f,d,p,h;return c(this,function(c){switch(c.label){case 0:if(t=n.map(function(){return!1}),i={},a=null!=o?o.map(function(){return!1}):[],s=[],n.forEach(function(e,n){var r=0;e.weights.forEach(function(e){var u="quantization"in e?e.quantization.dtype:e.dtype,c=sf[u]*j(e.shape),l=function(){t[n]=!0,null==i[n]&&(i[n]=[]),i[n].push({manifestEntry:e,groupOffset:r,sizeBytes:c})};null!=o?o.forEach(function(t,n){t===e.name&&(l(),a[n]=!0)}):l(),s.push(e.name),r+=c})}),!a.every(function(e){return e}))throw u=o.filter(function(e,t){return!a[t]}),new Error("Could not find weights in manifest with names: "+u.join(", ")+". \nManifest JSON has weights with names: "+s.join(", ")+".");return l=t.reduce(function(e,t,n){return t&&e.push(n),e},[]),f=[],l.forEach(function(e){n[e].paths.forEach(function(e){var t=r+(r.endsWith("/")?"":"/")+e;f.push(t)})}),[4,e(f)];case 1:return d=c.sent(),p={},h=0,l.forEach(function(e){for(var t=n[e].paths.length,r=0,o=0;o<t;o++)r+=d[h+o].byteLength;for(var a=new ArrayBuffer(r),s=new Uint8Array(a),u=0,c=0;c<t;c++){var l=new Uint8Array(d[h+c]);s.set(l,u),u+=l.byteLength}i[e].forEach(function(e){var t=cf(a.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(var n in t)p[n]=t[n]}),h+=t}),[2,p]}})})}}mf.registerSaveRouter(function(e){return f().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Hf.URL_SCHEME)?function(e){return void 0===e&&(e="model"),new Hf(e)}(e.slice(Hf.URL_SCHEME.length)):null});var Xf=function(){function e(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,null!=t.fetchFunc?(S("function"==typeof t.fetchFunc,function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=t.fetchFunc):this.fetch=f().platform.fetch,S(null!=e&&e.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(e)&&S(2===e.length,function(){return"URL paths for http must have a length of 2, (actual length is "+e.length+")."}),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}return e.prototype.save=function(e){return u(this,void 0,void 0,function(){var t,n,r,o;return c(this,function(i){switch(i.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata,weightsManifest:n},t.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,t)];case 1:if((o=i.sent()).ok)return[2,{modelArtifactsInfo:vf(e),responses:[o]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+o.status+".")}})})},e.prototype.load=function(){return u(this,void 0,void 0,function(){var e,t,n,r,o,i,a,s,u,l,f,d;return c(this,function(c){switch(c.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(e=c.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+e.status+". Please verify this URL points to the model JSON of the model to load.");c.label=2;case 2:return c.trys.push([2,4,,5]),[4,e.json()];case 3:return t=c.sent(),[3,5];case 4:throw c.sent(),n="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?n+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":n+=" Please make sure the server is serving valid JSON for this request.",new Error(n);case 5:if(r=t.modelTopology,o=t.weightsManifest,i=t.generatedBy,a=t.convertedBy,s=t.format,u=t.userDefinedMetadata,null==r&&null==o)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return null==o?[3,7]:[4,this.loadWeights(o)];case 6:d=c.sent(),l=d[0],f=d[1],c.label=7;case 7:return[2,{modelTopology:r,weightSpecs:l,weightData:f,userDefinedMetadata:u,generatedBy:i,convertedBy:a,format:s}]}})})},e.prototype.loadWeights=function(e){return u(this,void 0,void 0,function(){var t,n,r,o,i,a,s,u,l,f,d;return c(this,function(c){switch(c.label){case 0:for(t=Array.isArray(this.path)?this.path[1]:this.path,n=function(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}(t),r=n[0],o=n[1],i=this.weightPathPrefix||r,a=[],s=0,u=e;s<u.length;s++)l=u[s],a.push.apply(a,l.weights);return f=[],e.forEach(function(e){e.paths.forEach(function(e){f.push(i+e+o)})}),[4,Kf(f,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return d=c.sent(),[2,[a,pf(d)]]}})})},e.URL_SCHEME_REGEX=/^https?:\/\//,e}();function Yf(e){return null!=e.match(Xf.URL_SCHEME_REGEX)}var Jf=function(e,t){return"undefined"==typeof fetch?null:(Array.isArray(e)?e.every(function(e){return Yf(e)}):Yf(e))?Qf(e,{onProgress:t}):null};function Qf(e,t){return new Xf(e,t)}mf.registerSaveRouter(Jf),mf.registerLoadRouter(Jf);var Zf,ed=function(){function e(e){this.modelArtifacts=e}return e.prototype.load=function(){return u(this,void 0,void 0,function(){return c(this,function(e){return[2,this.modelArtifacts]})})},e}(),td=function(){function e(e){this.saveHandler=e}return e.prototype.save=function(e){return u(this,void 0,void 0,function(){return c(this,function(t){return[2,this.saveHandler(e)]})})},e}(),nd=Object.freeze({browserFiles:function(e){return new qf(e)},browserHTTPRequest:function(e,t){return Qf(e,t)},concatenateArrayBuffers:pf,decodeWeights:cf,encodeWeights:function(e,t){return u(this,void 0,void 0,function(){var n,r,o,i,a,s=this;return c(this,function(l){switch(l.label){case 0:for(n=[],r=[],o=Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e),i=function(i){var a=o[i],l=Array.isArray(e)?e[i].tensor:e[a];if("float32"!==l.dtype&&"int32"!==l.dtype&&"bool"!==l.dtype&&"string"!==l.dtype)throw new Error("Unsupported dtype in weight '"+a+"': "+l.dtype);var f={name:a,shape:l.shape,dtype:l.dtype};if("string"===l.dtype){var d=new Promise(function(e){return u(s,void 0,void 0,function(){var t,n,r,o,i,a,s;return c(this,function(u){switch(u.label){case 0:return[4,l.bytes()];case 1:for(t=u.sent(),n=t.reduce(function(e,t){return e+t.length},0)+uf*t.length,r=new Uint8Array(n),o=0,i=0;i<t.length;i++)a=t[i],s=new Uint8Array(new Uint32Array([a.length]).buffer),r.set(s,o),o+=uf,r.set(a,o),o+=a.length;return e(r),[2]}})})});r.push(d)}else r.push(l.data());null!=t&&(f.group=t),n.push(f)},a=0;a<o.length;++a)i(a);return[4,Promise.all(r)];case 1:return[2,{data:lf(l.sent()),specs:n}]}})})},fromMemory:function(e,t,n,r){return 1===arguments.length?null!=e.modelTopology||null!=e.weightSpecs?new ed(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new ed({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new ed({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))},getLoadHandlers:function(e,t){return mf.getLoadHandlers(e,t)},getModelArtifactsInfoForJSON:vf,getSaveHandlers:function(e){return mf.getSaveHandlers(e)},http:Qf,isHTTPScheme:Yf,loadWeights:function(e,t,n,r){return void 0===t&&(t=""),u(this,void 0,void 0,function(){return c(this,function(o){return[2,$f(function(e){return Kf(e,{requestInit:r})})(e,t,n)]})})},registerLoadRouter:function(e){return mf.registerLoadRouter(e)},registerSaveRouter:function(e){return mf.registerSaveRouter(e)},weightsLoaderFactory:$f,withSaveHandler:function(e){return new td(e)},copyModel:function(e,t){return u(this,void 0,void 0,function(){return c(this,function(n){return[2,wf(e,t,!1)]})})},listModels:function(){return u(this,void 0,void 0,function(){var e,t,n,r,o,i,a;return c(this,function(s){switch(s.label){case 0:e=yf.getSchemes(),t={},n=0,r=e,s.label=1;case 1:return n<r.length?(o=r[n],[4,yf.getManager(o).listModels()]):[3,4];case 2:for(a in i=s.sent())t[o+gf+a]=i[a];s.label=3;case 3:return n++,[3,1];case 4:return[2,t]}})})},moveModel:function(e,t){return u(this,void 0,void 0,function(){return c(this,function(n){return[2,wf(e,t,!0)]})})},removeModel:function(e){return u(this,void 0,void 0,function(){var t;return c(this,function(n){return t=bf(e),[2,yf.getManager(t.scheme).removeModel(t.path)]})})}}),rd=ln({confusionMatrix_:function(e,t,n){var r=Jt(e,"labels","confusionMatrix"),o=Jt(t,"predictions","confusionMatrix");S(null==n||n>0&&Number.isInteger(n),function(){return"If provided, numClasses must be a positive integer, but got "+n}),S(1===r.rank,function(){return"Expected the rank of labels to be 1, but got "+r.rank}),S(1===o.rank,function(){return"Expected the rank of predictions to be 1, but got "+o.rank}),S(r.shape[0]===o.shape[0],function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+o.shape[0]+". Labels and predictions should have the same number of elements."}),S(n>0&&Number.isInteger(n),function(){return"numClasses is required to be a positive integer, but got "+n});var i=tr(r.asType("int32"),n),a=tr(o.asType("int32"),n);return i.transpose().matMul(a).asType("int32")}}),od=(Object.freeze({confusionMatrix:rd}),ln({fromPixels_:function(e,t){if(void 0===t&&(t=3),t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,o=!1,i=!1,a=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)o=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)i=!0;else{if(null==e.getContext)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+e.constructor.name);a=!0}if(o&&o&&e.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(null!=v("FromPixels",Fe.backendName))return Fe.runKernel("FromPixels",{pixels:e},{numChannels:t});var s,u,c=o?[e.videoWidth,e.videoHeight]:[e.width,e.height],l=c[0],f=c[1];if(a?s=e.getContext("2d").getImageData(0,0,l,f).data:r||n?s=e.data:(i||o)&&(null==Zf&&(Zf=document.createElement("canvas").getContext("2d")),Zf.canvas.width=l,Zf.canvas.height=f,Zf.drawImage(e,0,0,l,f),s=Zf.getImageData(0,0,l,f).data),4===t)u=new Int32Array(s);else{var d=l*f;u=new Int32Array(d*t);for(var p=0;p<d;p++)for(var h=0;h<t;++h)u[p*t+h]=s[4*p+h]}return bn(u,[f,l,t],"int32")}})),id=Object.freeze({toPixels:function(e,t){return u(this,void 0,void 0,function(){var n,r,o,i,a,s,u,l,f,d,p,h,v,m,g,y,b,w,x,O,E,S,C;return c(this,function(c){switch(c.label){case 0:if(n=Jt(e,"img","toPixels"),e instanceof xe||(n=n.toInt()),2!==n.rank&&3!==n.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),o=r[0],i=r[1],(a=2===n.rank?1:n.shape[2])>4||2===a)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+a);return[4,n.data()];case 1:return s=c.sent(),u=n.min(),l=n.max(),[4,Promise.all([u.data(),l.data()])];case 2:if(f=c.sent(),d=f[0],p=f[1],h=d[0],v=p[0],u.dispose(),l.dispose(),"float32"===n.dtype){if(h<0||v>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+h+" - "+v+"].")}else{if("int32"!==n.dtype)throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(h<0||v>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+h+" - "+v+"].")}for(m="float32"===n.dtype?255:1,g=new Uint8ClampedArray(i*o*4),y=0;y<o*i;++y)b=void 0,w=void 0,x=void 0,O=void 0,1===a?(b=s[y]*m,w=s[y]*m,x=s[y]*m,O=255):3===a?(b=s[3*y]*m,w=s[3*y+1]*m,x=s[3*y+2]*m,O=255):4===a&&(b=s[4*y]*m,w=s[4*y+1]*m,x=s[4*y+2]*m,O=s[4*y+3]*m),g[0+(E=4*y)]=Math.round(b),g[E+1]=Math.round(w),g[E+2]=Math.round(x),g[E+3]=Math.round(O);return null!=t&&(t.width=i,t.height=o,S=t.getContext("2d"),C=new ImageData(g,i,o),S.putImageData(C,0,0)),n!==e&&n.dispose(),[2,g]}})})},fromPixels:od}),ad=function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(e,t){return new e(t)},e}(),sd=function(){function e(){this.classNameMap={}}return e.getMap=function(){return null==e.instance&&(e.instance=new e),e.instance},e.register=function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]},e}();function ud(e){S(null!=e.className,function(){return"Class being registered does not have the static className property defined."}),S("string"==typeof e.className,function(){return"className is required to be a string, but got type "+typeof e.className}),S(e.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),sd.register(e)}Object.freeze({Serializable:ad,SerializationMap:sd,registerClass:ud});var cd=.001,ld=.1;function fd(){return 32===Fe.backend.floatPrecision()?cd:ld}function dd(e,t,n){var r=!0;if((z(e)||z(t))&&(r=!1),z(e)&&z(t)&&(r=!0),r){var o=e.constructor.name,i=t.constructor.name;if(o!==i)throw new Error("Arrays are of different type. Actual: "+o+". Expected: "+i)}if(Array.isArray(e)&&Array.isArray(t)){var a=Xt(e),s=Xt(t);if(!P(a,s))throw new Error("Arrays have different shapes. Actual: ["+a+"]. Expected: ["+s+"]")}var u=z(e)?e:R(e),c=z(t)?t:R(t);if(u.length!==c.length)throw new Error("Arrays have different lengths actual: "+u.length+" vs expected: "+c.length+".\nActual:   "+u+".\nExpected: "+c+".");for(var l=0;l<c.length;++l){var f=u[l],d=c[l];if(!n(f,d))throw new Error("Arrays differ: actual["+l+"] = "+f+", expected["+l+"] = "+d+".\nActual:   "+u+".\nExpected: "+c+".")}}function pd(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}Object.freeze({TEST_EPSILON_FLOAT16:ld,expectArraysClose:function(e,t,n){return null==n&&(n=fd()),dd(e,t,function(e,t){return pd(e,t,n)})},testEpsilon:fd,expectPromiseToFail:function(e,t){e().then(function(){return t.fail()},function(){return t()})},expectArraysEqual:function(e,t){var n="string"==typeof t||"number"==typeof t||"boolean"==typeof t?[t]:t;return G(e)||G(e[0])||G(t)||G(t[0])?dd(e,n,function(e,t){return e==t}):dd(e,t,function(e,t){return pd(e,t,0)})},expectNumbersClose:function(e,t,n){if(null==n&&(n=fd()),!pd(e,t,n))throw new Error("Numbers differ: actual === "+e+", expected === "+t)},expectValuesInRange:function(e,t,n){for(var r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error("Value out of range:"+e[r]+" low: "+t+", high: "+n)},expectArrayBuffersEqual:function(e,t){expect(new Float32Array(e)).toEqual(new Float32Array(t))}}),Object.freeze({gpgpu_util:Xi,webgl_util:zt,forceHalfFloat:function(){f().set("WEBGL_FORCE_F16_TEXTURES",!0)},MathBackendWebGL:os,setWebGLContext:Ge,GPGPUContext:Yi});var hd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.minimize=function(e,t,n){void 0===t&&(t=!1);var r=this.computeGradients(e,n),o=r.value,i=r.grads;if(null!=n){var a=n.map(function(e){return{name:e.name,tensor:i[e.name]}});this.applyGradients(a)}else this.applyGradients(i);return Kt(i),t?o:(o.dispose(),null)},Object.defineProperty(t.prototype,"iterations",{get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),t.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},t.prototype.computeGradients=function(e,t){return function(e,t){S(Y(e),function(){return"The f passed in variableGrads(f) must be a function"}),S(null==t||Array.isArray(t)&&t.every(function(e){return e instanceof je}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var n=null!=t;if(!n)for(var r in t=[],Fe.registeredVariables)t.push(Fe.registeredVariables[r]);var o=n?t.filter(function(e){return!e.trainable}):null,i=t.length;S((t=t.filter(function(e){return e.trainable})).length>0,function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+i+" variables is trainable."});var a=Fe.gradients(e,t,null,!0),s=a.value,u=a.grads;S(u.some(function(e){return null!=e}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),S(0===s.rank,function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"});var c={};return t.forEach(function(e,t){null!=u[t]&&(c[e.name]=u[t])}),null!=o&&o.forEach(function(e){return c[e.name]=null}),{value:s,grads:c}}(e,t)},t.prototype.dispose=function(){null!=this.iterations_&&Kt(this.iterations_)},t.prototype.saveIterations=function(){return u(this,void 0,void 0,function(){return c(this,function(e){return null==this.iterations_&&(this.iterations_=0),[2,{name:"iter",tensor:mn(this.iterations_,"int32")}]})})},t.prototype.getWeights=function(){return u(this,void 0,void 0,function(){return c(this,function(e){throw new Error("getWeights() is not implemented for this optimizer yet.")})})},t.prototype.setWeights=function(e){return u(this,void 0,void 0,function(){return c(this,function(e){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())})})},t.prototype.extractIterations=function(e){return u(this,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:return t=this,[4,e[0].tensor.data()];case 1:return t.iterations_=n.sent()[0],[2,e.slice(1)]}})})},t}(ad);Object.defineProperty(hd,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var vd=function(e){function t(t,n,r){void 0===r&&(r=null);var o=e.call(this)||this;return o.learningRate=t,o.rho=n,o.epsilon=r,o.accumulatedGrads=[],o.accumulatedUpdates=[],null==r&&(o.epsilon=Fe.backend.epsilon()),o}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var o=Fe.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accum_grad",variable:Gt(function(){return kn(o).variable(!1)})}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:n+"/accum_var",variable:Gt(function(){return kn(o).variable(!1)})});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var a=t.accumulatedGrads[r].variable,s=t.accumulatedUpdates[r].variable;Gt(function(){var e=a.mul(t.rho).add(i.square().mul(1-t.rho)),n=s.add(t.epsilon).sqrt().div(a.add(t.epsilon).sqrt()).mul(i),r=s.mul(t.rho).add(n.square().mul(1-t.rho));a.assign(e),s.assign(r);var u=n.mul(-t.learningRate).add(o);o.assign(u)})}}),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedUpdates&&(Kt(this.accumulatedGrads.map(function(e){return e.variable})),Kt(this.accumulatedUpdates.map(function(e){return e.variable})))},t.prototype.getWeights=function(){return u(this,void 0,void 0,function(){var e;return c(this,function(t){switch(t.label){case 0:return e=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})},t.prototype.setWeights=function(e){return u(this,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=e.length/2,this.accumulatedGrads=e.slice(0,t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.accumulatedUpdates=e.slice(t,2*t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.rho,t.epsilon)},t.className="Adadelta",t}(hd);ud(vd);var md=function(e){function t(t,n){void 0===n&&(n=.1);var r=e.call(this)||this;return r.learningRate=t,r.initialAccumulatorValue=n,r.accumulatedGrads=[],r}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var o=Fe.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accumulator",variable:Gt(function(){return En(o.shape,t.initialAccumulatorValue).variable(!1)})});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var a=t.accumulatedGrads[r].variable;Gt(function(){var e=a.add(i.square());a.assign(e);var n=i.div(e.add(Fe.backend.epsilon()).sqrt()).mul(-t.learningRate).add(o);o.assign(n)})}}),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedGrads&&Kt(this.accumulatedGrads.map(function(e){return e.variable}))},t.prototype.getWeights=function(){return u(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulatedGrads.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})},t.prototype.setWeights=function(e){return u(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulatedGrads=e.map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},t.fromConfig=function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)},t.className="Adagrad",t}(hd);ud(md);var gd=function(e){function t(t,n,r,o){void 0===o&&(o=null);var i=e.call(this)||this;return i.learningRate=t,i.beta1=n,i.beta2=r,i.epsilon=o,i.accumulatedFirstMoment=[],i.accumulatedSecondMoment=[],Gt(function(){i.accBeta1=mn(n).variable(),i.accBeta2=mn(r).variable()}),null==o&&(i.epsilon=Fe.backend.epsilon()),i}return s(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e);Gt(function(){var r=Ru(1,t.accBeta1),o=Ru(1,t.accBeta2);n.forEach(function(n,i){var a=Fe.registeredVariables[n];null==t.accumulatedFirstMoment[i]&&(t.accumulatedFirstMoment[i]={originalName:n+"/m",variable:Gt(function(){return kn(a).variable(!1)})}),null==t.accumulatedSecondMoment[i]&&(t.accumulatedSecondMoment[i]={originalName:n+"/v",variable:Gt(function(){return kn(a).variable(!1)})});var s=Array.isArray(e)?e[i].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[i].variable,c=t.accumulatedSecondMoment[i].variable,l=u.mul(t.beta1).add(s.mul(1-t.beta1)),f=c.mul(t.beta2).add(s.square().mul(1-t.beta2)),d=l.div(r),p=f.div(o);u.assign(l),c.assign(f);var h=d.div(p.sqrt().add(t.epsilon)).mul(-t.learningRate).add(a);a.assign(h)}}),t.accBeta1.assign(t.accBeta1.mul(t.beta1)),t.accBeta2.assign(t.accBeta2.mul(t.beta2))}),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Kt(this.accumulatedFirstMoment.map(function(e){return e.variable})),null!=this.accumulatedSecondMoment&&Kt(this.accumulatedSecondMoment.map(function(e){return e.variable}))},t.prototype.getWeights=function(){return u(this,void 0,void 0,function(){var e;return c(this,function(t){switch(t.label){case 0:return e=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})},t.prototype.setWeights=function(e){return u(this,void 0,void 0,function(){var t,n=this;return c(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(e)];case 1:return e=r.sent(),Gt(function(){n.accBeta1.assign(Su(n.beta1,n.iterations_+1)),n.accBeta2.assign(Su(n.beta2,n.iterations_+1))}),t=e.length/2,this.accumulatedFirstMoment=e.slice(0,t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.accumulatedSecondMoment=e.slice(t,2*t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)},t.className="Adam",t}(hd);ud(gd);var yd=function(e){function t(t,n,r,o,i){void 0===o&&(o=null),void 0===i&&(i=0);var a=e.call(this)||this;return a.learningRate=t,a.beta1=n,a.beta2=r,a.epsilon=o,a.decay=i,a.accumulatedFirstMoment=[],a.accumulatedWeightedInfNorm=[],Gt(function(){a.iteration=mn(0).variable(),a.accBeta1=mn(n).variable()}),null==o&&(a.epsilon=Fe.backend.epsilon()),a}return s(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e);Gt(function(){var r=Ru(1,t.accBeta1),o=du(-t.learningRate,t.iteration.mul(t.decay).add(1));n.forEach(function(n,i){var a=Fe.registeredVariables[n];null==t.accumulatedFirstMoment[i]&&(t.accumulatedFirstMoment[i]={originalName:n+"/m",variable:kn(a).variable(!1)}),null==t.accumulatedWeightedInfNorm[i]&&(t.accumulatedWeightedInfNorm[i]={originalName:n+"/v",variable:kn(a).variable(!1)});var s=Array.isArray(e)?e[i].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[i].variable,c=t.accumulatedWeightedInfNorm[i].variable,l=u.mul(t.beta1).add(s.mul(1-t.beta1)),f=c.mul(t.beta2),d=s.abs(),p=f.maximum(d);u.assign(l),c.assign(p);var h=o.div(r).mul(l.div(p.add(t.epsilon))).add(a);a.assign(h)}}),t.iteration.assign(t.iteration.add(1)),t.accBeta1.assign(t.accBeta1.mul(t.beta1))}),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Kt(this.accumulatedFirstMoment.map(function(e){return e.variable})),null!=this.accumulatedWeightedInfNorm&&Kt(this.accumulatedWeightedInfNorm.map(function(e){return e.variable}))},t.prototype.getWeights=function(){return u(this,void 0,void 0,function(){return c(this,function(e){throw new Error("getWeights() is not implemented for Adamax yet.")})})},t.prototype.setWeights=function(e){return u(this,void 0,void 0,function(){return c(this,function(e){throw new Error("setWeights() is not implemented for Adamax yet.")})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)},t.className="Adamax",t}(hd);ud(yd);var bd=function(e){function t(t){var n=e.call(this)||this;return n.learningRate=t,n.setLearningRate(t),n}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var i=Fe.registeredVariables[n];Gt(function(){var e=t.c.mul(o).add(i);i.assign(e)})}}),this.incrementIterations()},t.prototype.setLearningRate=function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=function(e){return Fe.keep(e)}(mn(-e))},t.prototype.dispose=function(){this.c.dispose()},t.prototype.getWeights=function(){return u(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()]]}})})},t.prototype.setWeights=function(e){return u(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:if(0!==(e=t.sent()).length)throw new Error("SGD optimizer does not have settable weights.");return[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate}},t.fromConfig=function(e,t){return new e(t.learningRate)},t.className="SGD",t}(hd);ud(bd);var wd=function(e){function t(t,n,r){void 0===r&&(r=!1);var o=e.call(this,t)||this;return o.learningRate=t,o.momentum=n,o.useNesterov=r,o.accumulations=[],o.m=mn(o.momentum),o}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var o=Fe.registeredVariables[n];null==t.accumulations[r]&&(t.accumulations[r]={originalName:n+"/momentum",variable:Gt(function(){return kn(o).variable(!1)})});var i=t.accumulations[r].variable,a=Array.isArray(e)?e[r].tensor:e[n];null!=a&&Gt(function(){var e,n=t.m.mul(i).add(a);e=t.useNesterov?t.c.mul(a.add(n.mul(t.m))).add(o):t.c.mul(n).add(o),i.assign(n),o.assign(e)})}),this.incrementIterations()},t.prototype.dispose=function(){this.m.dispose(),null!=this.accumulations&&Kt(this.accumulations.map(function(e){return e.variable}))},t.prototype.setMomentum=function(e){this.momentum=e},t.prototype.getWeights=function(){return u(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulations.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})},t.prototype.setWeights=function(e){return u(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulations=e.map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},t.fromConfig=function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)},t.className="Momentum",t}(bd);ud(wd);var xd=function(e){function t(t,n,r,o,i){void 0===n&&(n=.9),void 0===r&&(r=0),void 0===o&&(o=null),void 0===i&&(i=!1);var a=e.call(this)||this;if(a.learningRate=t,a.decay=n,a.momentum=r,a.epsilon=o,a.accumulatedMeanSquares=[],a.accumulatedMoments=[],a.accumulatedMeanGrads=[],a.centered=i,null==o&&(a.epsilon=Fe.backend.epsilon()),null==t)throw new Error("learningRate for RMSPropOptimizer must be defined.");return a}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var o=Fe.registeredVariables[n];null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:n+"/rms",variable:Gt(function(){return kn(o).variable(!1)})}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:n+"/momentum",variable:Gt(function(){return kn(o).variable(!1)})}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:n+"/mg",variable:Gt(function(){return kn(o).variable(!1)})});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var a=t.accumulatedMeanSquares[r].variable,s=t.accumulatedMoments[r].variable;Gt(function(){var e=a.mul(t.decay).add(i.square().mul(1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,u=n.mul(t.decay).add(i.mul(1-t.decay)),c=s.mul(t.momentum).add(i.mul(t.learningRate).div(e.sub(u.square().add(t.epsilon)).sqrt()));a.assign(e),n.assign(u),s.assign(c);var l=o.sub(c);o.assign(l)}else{var f=a.mul(t.decay).add(i.square().mul(1-t.decay));c=s.mul(t.momentum).add(i.mul(t.learningRate).div(f.add(t.epsilon).sqrt())),a.assign(f),s.assign(c),l=o.sub(c),o.assign(l)}})}}),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedMeanSquares&&Kt(this.accumulatedMeanSquares.map(function(e){return e.variable})),null!=this.accumulatedMeanGrads&&this.centered&&Kt(this.accumulatedMeanGrads.map(function(e){return e.variable})),null!=this.accumulatedMoments&&Kt(this.accumulatedMoments.map(function(e){return e.variable}))},t.prototype.getWeights=function(){return u(this,void 0,void 0,function(){var e;return c(this,function(t){switch(t.label){case 0:return e=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&e.push.apply(e,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})},t.prototype.setWeights=function(e){return u(this,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=this.centered?e.length/3:e.length/2,this.accumulatedMeanSquares=e.slice(0,t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.accumulatedMoments=e.slice(t,2*t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},t.fromConfig=function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)},t.className="RMSProp",t}(hd);ud(xd);var Od=function(){function e(){}return e.sgd=function(e){return new bd(e)},e.momentum=function(e,t,n){return void 0===n&&(n=!1),new wd(e,t,n)},e.rmsprop=function(e,t,n,r,o){return void 0===t&&(t=.9),void 0===n&&(n=0),void 0===r&&(r=null),void 0===o&&(o=!1),new xd(e,t,n,r,o)},e.adam=function(e,t,n,r){return void 0===e&&(e=.001),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),new gd(e,t,n,r)},e.adadelta=function(e,t,n){return void 0===e&&(e=.001),void 0===t&&(t=.95),void 0===n&&(n=null),new vd(e,t,n)},e.adamax=function(e,t,n,r,o){return void 0===e&&(e=.002),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),void 0===o&&(o=0),new yd(e,t,n,r,o)},e.adagrad=function(e,t){return void 0===t&&(t=.1),new md(e,t)},e}();Od.sgd,Od.momentum,Od.adadelta,Od.adagrad,Od.rmsprop,Od.adamax,Od.adam,"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame;xe.prototype.squaredDifference=function(e){return ss(this,e)},be=Hl}).call(this,n(78),n(105),n(159).Buffer,n(200).setImmediate)},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return u});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})}function s(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function u(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}},function(e,t,n){"use strict";e.exports=n(361)},function(e,t,n){"use strict";var r=n(236);var o=n(237);function i(e,t){return Object(r.a)(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||Object(o.a)()}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return u});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}Object.create;function s(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function u(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}Object.create},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a});var r=n(137),o=n(97),i=function(e){return Object(r.b)(e)&&"classes"!==e},a=r.b,s=Object(r.a)({defaultTheme:o.a,rootShouldForwardProp:i});t.a=s},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}t.a=function(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}},function(e,t,n){"use strict";var r=n(266);t.a=r.a},function(e,t,n){"use strict";n.d(t,"b",function(){return a});var r=n(6),o=n(266),i=n(44);function a(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce(function(e,t){return e&&e[t]?e[t]:null},e);if(null!=r)return r}return t.split(".").reduce(function(e,t){return e&&null!=e[t]?e[t]:null},e)}function s(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||o:a(e,n)||o,t&&(r=t(r)),r}t.a=function(e){var t=e.prop,n=e.cssProperty,u=void 0===n?e.prop:n,c=e.themeKey,l=e.transform,f=function(e){if(null==e[t])return null;var n=e[t],f=a(e.theme,c)||{};return Object(i.b)(e,n,function(e){var n=s(f,l,e);return e===n&&"string"===typeof e&&(n=s(f,l,"".concat(t).concat("default"===e?"":Object(o.a)(e)),e)),!1===u?n:Object(r.a)({},u,n)})};return f.propTypes={},f.filterProps=[t],f}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(435),o=n(97);function i(e){var t=e.props,n=e.name;return Object(r.a)({props:t,name:n,defaultTheme:o.a})}},,,function(e,t,n){e.exports=n(385)()},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";n.d(t,"a",function(){return N}),n.d(t,"b",function(){return M}),n.d(t,"c",function(){return D}),n.d(t,"d",function(){return R}),n.d(t,"e",function(){return P}),n.d(t,"f",function(){return T}),n.d(t,"g",function(){return _}),n.d(t,"h",function(){return I});var r=n(5),o=n(40),i=n(0),a=Object(i.createContext)(null);var s=Object(i.createContext)(null);var u=Object(i.createContext)({outlet:null,matches:[]});function c(e,t){if(!e)throw new Error(t)}function l(e,t,n){void 0===n&&(n="/");var r=O(("string"===typeof t?Object(o.f)(t):t).pathname||"/",n);if(null==r)return null;var i=function e(t,n,r,o){void 0===n&&(n=[]);void 0===r&&(r=[]);void 0===o&&(o="");t.forEach(function(t,i){var a={relativePath:t.path||"",caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(o)||c(!1),a.relativePath=a.relativePath.slice(o.length));var s=E([o,a.relativePath]),u=r.concat(a);t.children&&t.children.length>0&&(!0===t.index&&c(!1),e(t.children,n,u,s)),(null!=t.path||t.index)&&n.push({path:s,score:y(s,t.index),routesMeta:u})});return n}(e);!function(e){e.sort(function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(function(e,n){return e===t[n]})?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(function(e){return e.childrenIndex}),t.routesMeta.map(function(e){return e.childrenIndex}))})}(i);for(var a=null,s=0;null==a&&s<i.length;++s)a=b(i[s],r);return a}var f=/^:\w+$/,d=3,p=2,h=1,v=10,m=-2,g=function(e){return"*"===e};function y(e,t){var n=e.split("/"),r=n.length;return n.some(g)&&(r+=m),t&&(r+=p),n.filter(function(e){return!g(e)}).reduce(function(e,t){return e+(f.test(t)?d:""===t?h:v)},r)}function b(e,t){for(var n=e.routesMeta,r={},o="/",i=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,c="/"===o?t:t.slice(o.length)||"/",l=w({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;i.push({params:r,pathname:E([o,l.pathname]),pathnameBase:S(E([o,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(o=E([o,l.pathnameBase]))}return i}function w(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,function(e,t){return r.push(t),"([^\\/]+)"});e.endsWith("*")?(r.push("*"),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):o+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(o,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),o=Object(r.a)(n,2),i=o[0],a=o[1],s=t.match(i);if(!s)return null;var u=s[0],c=u.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:a.reduce(function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e},{}),pathname:u,pathnameBase:c,pattern:e}}function x(e,t,n){var r,i="string"===typeof e?Object(o.f)(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var s=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),s-=1;i.pathname=u.join("/")}r=s>=0?t[s]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?Object(o.f)(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,s=n.hash,u=void 0===s?"":s;return{pathname:r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(r,t):t,search:C(a),hash:k(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!c.pathname.endsWith("/")&&(c.pathname+="/"),c}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var E=function(e){return e.join("/").replace(/\/\/+/g,"/")},S=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},C=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},k=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function R(e){j()||c(!1);var t=Object(i.useContext)(a),n=t.basename,r=t.navigator,s=I(e),u=s.hash,l=s.pathname,f=s.search,d=l;if("/"!==n){var p=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?Object(o.f)(e).pathname:e.pathname}(e),h=null!=p&&p.endsWith("/");d="/"===l?n+(h?"/":""):E([n,l])}return r.createHref({pathname:d,search:f,hash:u})}function j(){return null!=Object(i.useContext)(s)}function P(){return j()||c(!1),Object(i.useContext)(s).location}function T(){j()||c(!1);var e=Object(i.useContext)(a),t=e.basename,n=e.navigator,r=Object(i.useContext)(u).matches,o=P().pathname,s=JSON.stringify(r.map(function(e){return e.pathnameBase})),l=Object(i.useRef)(!1);return Object(i.useEffect)(function(){l.current=!0}),Object(i.useCallback)(function(e,r){if(void 0===r&&(r={}),l.current)if("number"!==typeof e){var i=x(e,JSON.parse(s),o);"/"!==t&&(i.pathname=E([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)},[t,n,s,o])}function _(){var e=Object(i.useContext)(u).matches,t=e[e.length-1];return t?t.params:{}}function I(e){var t=Object(i.useContext)(u).matches,n=P().pathname,r=JSON.stringify(t.map(function(e){return e.pathnameBase}));return Object(i.useMemo)(function(){return x(e,JSON.parse(r),n)},[e,r,n])}function A(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight(function(n,r,o){return Object(i.createElement)(u.Provider,{children:void 0!==r.route.element?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,o+1))}})},null)}function N(e){c(!1)}function M(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,u=void 0===r?null:r,l=e.location,f=e.navigationType,d=void 0===f?o.a.Pop:f,p=e.navigator,h=e.static,v=void 0!==h&&h;j()&&c(!1);var m=S(n),g=Object(i.useMemo)(function(){return{basename:m,navigator:p,static:v}},[m,p,v]);"string"===typeof l&&(l=Object(o.f)(l));var y=l,b=y.pathname,w=void 0===b?"/":b,x=y.search,E=void 0===x?"":x,C=y.hash,k=void 0===C?"":C,R=y.state,P=void 0===R?null:R,T=y.key,_=void 0===T?"default":T,I=Object(i.useMemo)(function(){var e=O(w,m);return null==e?null:{pathname:e,search:E,hash:k,state:P,key:_}},[m,w,E,k,P,_]);return null==I?null:Object(i.createElement)(a.Provider,{value:g},Object(i.createElement)(s.Provider,{children:u,value:{location:I,navigationType:d}}))}function D(e){var t=e.children,n=e.location;return function(e,t){j()||c(!1);var n,r=Object(i.useContext)(u).matches,a=r[r.length-1],s=a?a.params:{},f=(a&&a.pathname,a?a.pathnameBase:"/"),d=(a&&a.route,P());if(t){var p,h="string"===typeof t?Object(o.f)(t):t;"/"===f||null!=(p=h.pathname)&&p.startsWith(f)||c(!1),n=h}else n=d;var v=n.pathname||"/",m=l(e,{pathname:"/"===f?v:v.slice(f.length)||"/"});return A(m&&m.map(function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:E([f,e.pathname]),pathnameBase:"/"===e.pathnameBase?f:E([f,e.pathnameBase])})}),r)}(function e(t){var n=[];i.Children.forEach(t,function(t){if(Object(i.isValidElement)(t))if(t.type!==i.Fragment){t.type!==N&&c(!1);var r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=e(t.props.children)),n.push(r)}else n.push.apply(n,e(t.props.children))});return n}(t),n)}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(111);function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}var i=n(10);function a(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?Object(i.a)(e):t}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";var r=n(268);t.a=r.a},function(e,t,n){"use strict";var r=n(238);function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",function(){return o})},function(e,t,n){e.exports=n(304)},function(e,t,n){"use strict";var r="undefined"!==typeof performance?function(){return performance.now()}:function(){return Date.now()},o="undefined"!==typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout(function(){return e(r())},1/60*1e3)};n.d(t,"a",function(){return d}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return g});var i=!0,a=!1,s=!1,u={delta:0,timestamp:0},c=["read","update","preRender","render","postRender"],l=c.reduce(function(e,t){return e[t]=function(e){var t=[],n=[],r=0,o=!1,i=new WeakSet,a={schedule:function(e,a,s){void 0===a&&(a=!1),void 0===s&&(s=!1);var u=s&&o,c=u?t:n;return a&&i.add(e),-1===c.indexOf(e)&&(c.push(e),u&&o&&(r=t.length)),e},cancel:function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1),i.delete(e)},process:function(s){var u;if(o=!0,t=(u=[n,t])[0],(n=u[1]).length=0,r=t.length)for(var c=0;c<r;c++){var l=t[c];l(s),i.has(l)&&(a.schedule(l),e())}o=!1}};return a}(function(){return a=!0}),e},{}),f=c.reduce(function(e,t){var n=l[t];return e[t]=function(e,t,r){return void 0===t&&(t=!1),void 0===r&&(r=!1),a||m(),n.schedule(e,t,r)},e},{}),d=c.reduce(function(e,t){return e[t]=l[t].cancel,e},{}),p=c.reduce(function(e,t){return e[t]=function(){return l[t].process(u)},e},{}),h=function(e){return l[e].process(u)},v=function e(t){a=!1,u.delta=i?1/60*1e3:Math.max(Math.min(t-u.timestamp,40),1),u.timestamp=t,s=!0,c.forEach(h),s=!1,a&&(i=!1,o(e))},m=function(){a=!0,i=!0,s||o(v)},g=function(){return u};t.b=f},function(e,t,n){"use strict";var r=n(173),o=n(235),i=n(63);var a=function(e){e()},s=function(){return a},u=n(0),c=n.n(u),l=c.a.createContext(null);function f(){return Object(u.useContext)(l)}var d=function(){throw new Error("uSES not initialized!")},p=d,h=function(e,t){return e===t};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=e===l?f:function(){return Object(u.useContext)(e)};return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;var r=t(),o=r.store,i=r.subscription,a=r.getServerState,s=p(i.addNestedSub,o.getState,a||o.getState,e,n);return Object(u.useDebugValue)(s),s}}var m=v(),g=n(5),y=n(25),b=n(1),w=n(8),x=n(86),O=n.n(x),E=n(85);var S=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function C(e,t,n,r,o){var i,a,s,u,c,l=o.areStatesEqual,f=o.areOwnPropsEqual,d=o.areStatePropsEqual,p=!1;function h(o,p){var h=!f(p,a),v=!l(o,i);return i=o,a=p,h&&v?(s=e(i,a),t.dependsOnOwnProps&&(u=t(r,a)),c=n(s,u,a)):h?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(u=t(r,a)),c=n(s,u,a)):v?function(){var t=e(i,a),r=!d(t,s);return s=t,r&&(c=n(s,u,a)),c}():c}return function(o,l){return p?h(o,l):(s=e(i=o,a=l),u=t(r,a),c=n(s,u,a),p=!0,c)}}function k(e){return function(t){var n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function R(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function j(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=R(e);var o=r(t,n);return"function"===typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=R(o),o=r(t,n)),o},r}}function P(e,t){return function(n,r){throw new Error("Invalid value of type ".concat(typeof e," for ").concat(t," argument when connecting component ").concat(r.wrappedComponentName,"."))}}function T(e,t,n){return Object(b.a)({},n,e,t)}var _={notify:function(){},get:function(){return[]}};function I(e,t){var n,r=_;function o(){a.onStateChange&&a.onStateChange()}function i(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){var e=s(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var e=t;e;)e.callback(),e=e.next})},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())}var a={addNestedSub:function(e){return i(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return Boolean(n)},trySubscribe:i,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=_)},getListeners:function(){return r}};return a}var A=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?u.useLayoutEffect:u.useEffect;function N(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function M(e,t){if(N(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!N(e[n[o]],t[n[o]]))return!1;return!0}var D=["reactReduxForwardedRef"],L=d,F=[null,null];function B(e,t,n,r,o,i){e.current=r,n.current=!1,o.current&&(o.current=null,i())}function V(e,t){return e===t}var U=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(r.pure,r.areStatesEqual),i=void 0===o?V:o,a=r.areOwnPropsEqual,s=void 0===a?M:a,f=r.areStatePropsEqual,d=void 0===f?M:f,p=r.areMergedPropsEqual,h=void 0===p?M:p,v=r.forwardRef,m=void 0!==v&&v,x=r.context,R=void 0===x?l:x,_=function(e){return e?"function"===typeof e?j(e):P(e,"mapStateToProps"):k(function(){return{}})}(e),N=function(e){return e&&"object"===typeof e?k(function(t){return function(e,t){var n={},r=function(r){var o=e[r];"function"===typeof o&&(n[r]=function(){return t(o.apply(void 0,arguments))})};for(var o in e)r(o);return n}(e,t)}):e?"function"===typeof e?j(e):P(e,"mapDispatchToProps"):k(function(e){return{dispatch:e}})}(t),U=function(e){return e?"function"===typeof e?function(e){return function(t,n){n.displayName;var r,o=n.areMergedPropsEqual,i=!1;return function(t,n,a){var s=e(t,n,a);return i?o(s,r)||(r=s):(i=!0,r=s),r}}}(e):P(e,"mergeProps"):function(){return T}}(n),W=Boolean(e);return function(e){var t=e.displayName||e.name||"Component",n="Connect(".concat(t,")"),r={shouldHandleStateChanges:W,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:_,initMapDispatchToProps:N,initMergeProps:U,areStatesEqual:i,areStatePropsEqual:d,areOwnPropsEqual:s,areMergedPropsEqual:h};function o(t){var n=Object(u.useMemo)(function(){var e=t.reactReduxForwardedRef,n=Object(w.a)(t,D);return[t.context,e,n]},[t]),o=Object(g.a)(n,3),i=o[0],a=o[1],s=o[2],l=Object(u.useMemo)(function(){return i&&i.Consumer&&Object(E.isContextConsumer)(c.a.createElement(i.Consumer,null))?i:R},[i,R]),f=Object(u.useContext)(l),d=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),p=Boolean(f)&&Boolean(f.store),h=d?t.store:f.store,v=p?f.getServerState:h.getState,m=Object(u.useMemo)(function(){return function(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=Object(w.a)(t,S);return C(n(e,i),r(e,i),o(e,i),e,i)}(h.dispatch,r)},[h]),x=Object(u.useMemo)(function(){if(!W)return F;var e=I(h,d?void 0:f.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[h,d,f]),O=Object(g.a)(x,2),k=O[0],j=O[1],P=Object(u.useMemo)(function(){return d?f:Object(b.a)({},f,{subscription:k})},[d,f,k]),T=Object(u.useRef)(),_=Object(u.useRef)(s),N=Object(u.useRef)(),M=Object(u.useRef)(!1),V=(Object(u.useRef)(!1),Object(u.useRef)(!1)),U=Object(u.useRef)();A(function(){return V.current=!0,function(){V.current=!1}},[]);var z,H,q,G,K=Object(u.useMemo)(function(){return function(){return N.current&&s===_.current?N.current:m(h.getState(),s)}},[h,s]),$=Object(u.useMemo)(function(){return function(e){return k?function(e,t,n,r,o,i,a,s,u,c,l){if(!e)return function(){};var f=!1,d=null,p=function(){if(!f&&s.current){var e,n,p=t.getState();try{e=r(p,o.current)}catch(h){n=h,d=h}n||(d=null),e===i.current?a.current||c():(i.current=e,u.current=e,a.current=!0,l())}};return n.onStateChange=p,n.trySubscribe(),p(),function(){if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}(W,h,k,m,_,T,M,V,N,j,e):function(){}}},[k]);z=B,H=[_,T,M,s,N,j],A(function(){return z.apply(void 0,Object(y.a)(H))},q);try{G=L($,K,v?function(){return m(v(),s)}:K)}catch(Y){throw U.current&&(Y.message+="\nThe error may be correlated with this previous error:\n".concat(U.current.stack,"\n\n")),Y}A(function(){U.current=void 0,N.current=void 0,T.current=G});var X=Object(u.useMemo)(function(){return c.a.createElement(e,Object(b.a)({},G,{ref:a}))},[a,e,G]);return Object(u.useMemo)(function(){return W?c.a.createElement(l.Provider,{value:P},X):X},[l,X,P])}var a=c.a.memo(o);if(a.WrappedComponent=e,a.displayName=o.displayName=n,m){var l=c.a.forwardRef(function(e,t){return c.a.createElement(a,Object(b.a)({},e,{reactReduxForwardedRef:t}))});return l.displayName=n,l.WrappedComponent=e,O()(l,e)}return O()(a,e)}};var W=function(e){var t=e.store,n=e.context,r=e.children,o=e.serverState,i=Object(u.useMemo)(function(){var e=I(t);return{store:t,subscription:e,getServerState:o?function(){return o}:void 0}},[t,o]),a=Object(u.useMemo)(function(){return t.getState()},[t]);A(function(){var e=i.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}},[i,a]);var s=n||l;return c.a.createElement(s.Provider,{value:i},r)};function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=e===l?f:function(){return Object(u.useContext)(e)};return function(){return t().store}}var H=z();function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=e===l?H:z(e);return function(){return t().dispatch}}var G,K,$=q();n.d(t,"a",function(){return W}),n.d(t,"b",function(){return U}),n.d(t,"c",function(){return $}),n.d(t,"d",function(){return m}),G=o.useSyncExternalStoreWithSelector,p=G,function(e){L=e}(r.useSyncExternalStore),K=i.unstable_batchedUpdates,a=K},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"protocol",function(){return U}),n.d(r,"PacketType",function(){return V}),n.d(r,"Encoder",function(){return W}),n.d(r,"Decoder",function(){return z});var o=n(19),i=n(20),a=n(23),s=n(18),u=n(22),c=n(10),l=n(110),f=n(145),d=n(112),p=n(81),h=!1;try{h="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(ee){}var v=h,m=n(66);function g(e){var t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||v))return new XMLHttpRequest}catch(n){}if(!t)try{return new(m.a[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}var y=n(64),b=n(65);function w(){}var x=null!=new g({xdomain:!1}).responseType,O=function(e){function t(e){var n;if(Object(o.a)(this,t),(n=Object(a.a)(this,Object(s.a)(t).call(this,e))).polling=!1,"undefined"!==typeof location){var r="https:"===location.protocol,i=location.port;i||(i=r?"443":"80"),n.xd="undefined"!==typeof location&&e.hostname!==location.hostname||i!==e.port,n.xs=e.secure!==r}var u=e&&e.forceBase64;return n.supportsBinary=x&&!u,n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(e){var t=this;this.readyState="pausing";var n=function(){t.readyState="paused",e()};if(this.polling||!this.writable){var r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}},{key:"onData",value:function(e){var t=this;Object(p.b)(e,this.socket.binaryType).forEach(function(e){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose({description:"transport closed by the server"}),!1;t.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){var e=this,t=function(){e.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}},{key:"write",value:function(e){var t=this;this.writable=!1,Object(p.d)(e,function(e){t.doWrite(e,function(){t.writable=!0,t.emitReserved("drain")})})}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"https":"http",n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=Object(f.a)()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);var r=Object(d.b)(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new E(this.uri(),e)}},{key:"doWrite",value:function(e,t){var n=this,r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",function(e,t){n.onError("xhr post error",e,t)})}},{key:"doPoll",value:function(){var e=this,t=this.request();t.on("data",this.onData.bind(this)),t.on("error",function(t,n){e.onError("xhr poll error",t,n)}),this.pollXhr=t}},{key:"name",get:function(){return"polling"}}]),t}(l.a),E=function(e){function t(e,n){var r;return Object(o.a)(this,t),r=Object(a.a)(this,Object(s.a)(t).call(this)),Object(b.b)(Object(c.a)(Object(c.a)(r)),n),r.opts=n,r.method=n.method||"GET",r.uri=e,r.async=!1!==n.async,r.data=void 0!==n.data?n.data:null,r.create(),r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"create",value:function(){var e=this,n=Object(b.c)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd,n.xscheme=!!this.opts.xs;var r=this.xhr=new g(n);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var o in r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this.opts.extraHeaders[o])}catch(i){}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{r.setRequestHeader("Accept","*/*")}catch(i){}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=function(){4===r.readyState&&(200===r.status||1223===r.status?e.onLoad():e.setTimeoutFn(function(){e.onError("number"===typeof r.status?r.status:0)},0))},r.send(this.data)}catch(i){return void this.setTimeoutFn(function(){e.onError(i)},0)}"undefined"!==typeof document&&(this.index=t.requestsCount++,t.requests[this.index]=this)}},{key:"onError",value:function(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}},{key:"cleanup",value:function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=w,e)try{this.xhr.abort()}catch(n){}"undefined"!==typeof document&&delete t.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}},{key:"abort",value:function(){this.cleanup()}}]),t}(y.a);if(E.requestsCount=0,E.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",C);else if("function"===typeof addEventListener){var S="onpagehide"in m.a?"pagehide":"unload";addEventListener(S,C,!1)}function C(){for(var e in E.requests)E.requests.hasOwnProperty(e)&&E.requests[e].abort()}var k={websocket:n(240).a,polling:O},R=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,j=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function P(e){var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var o=R.exec(e||""),i={},a=14;a--;)i[j[a]]=o[a]||"";return-1!=n&&-1!=r&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(e,t){var n=t.replace(/\/{2,9}/g,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||n.splice(0,1);"/"==t.substr(t.length-1,1)&&n.splice(n.length-1,1);return n}(0,i.path),i.queryKey=function(e,t){var n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(n[t]=r)}),n}(0,i.query),i}var T=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o.a)(this,t),n=Object(a.a)(this,Object(s.a)(t).call(this)),e&&"object"===typeof e&&(r=e,e=null),e?(e=P(e),r.hostname=e.host,r.secure="https"===e.protocol||"wss"===e.protocol,r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=P(r.host).host),Object(b.b)(Object(c.a)(Object(c.a)(n)),r),n.secure=null!=r.secure?r.secure:"undefined"!==typeof location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=n.secure?"443":"80"),n.hostname=r.hostname||("undefined"!==typeof location?location.hostname:"localhost"),n.port=r.port||("undefined"!==typeof location&&location.port?location.port:n.secure?"443":"80"),n.transports=r.transports||["polling","websocket"],n.readyState="",n.writeBuffer=[],n.prevBufferLen=0,n.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),n.opts.path=n.opts.path.replace(/\/$/,"")+"/","string"===typeof n.opts.query&&(n.opts.query=Object(d.a)(n.opts.query)),n.id=null,n.upgrades=null,n.pingInterval=null,n.pingTimeout=null,n.pingTimeoutTimer=null,"function"===typeof addEventListener&&(n.opts.closeOnBeforeunload&&addEventListener("beforeunload",function(){n.transport&&(n.transport.removeAllListeners(),n.transport.close())},!1),"localhost"!==n.hostname&&(n.offlineEventListener=function(){n.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",n.offlineEventListener,!1))),n.open(),n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"createTransport",value:function(e){var t=Object.assign({},this.opts.query);t.EIO=p.e,t.transport=e,this.id&&(t.sid=this.id);var n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new k[e](n)}},{key:"open",value:function(){var e,n=this;if(this.opts.rememberUpgrade&&t.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(function(){n.emitReserved("error","No transports available")},0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(r){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}},{key:"setTransport",value:function(e){var t=this;this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",function(e){return t.onClose("transport close",e)})}},{key:"probe",value:function(e){var n=this,r=this.createTransport(e),o=!1;t.priorWebsocketSuccess=!1;var i=function(){o||(r.send([{type:"ping",data:"probe"}]),r.once("packet",function(e){if(!o)if("pong"===e.type&&"probe"===e.data){if(n.upgrading=!0,n.emitReserved("upgrading",r),!r)return;t.priorWebsocketSuccess="websocket"===r.name,n.transport.pause(function(){o||"closed"!==n.readyState&&(f(),n.setTransport(r),r.send([{type:"upgrade"}]),n.emitReserved("upgrade",r),r=null,n.upgrading=!1,n.flush())})}else{var i=new Error("probe error");i.transport=r.name,n.emitReserved("upgradeError",i)}}))};function a(){o||(o=!0,f(),r.close(),r=null)}var s=function(e){var t=new Error("probe error: "+e);t.transport=r.name,a(),n.emitReserved("upgradeError",t)};function u(){s("transport closed")}function c(){s("socket closed")}function l(e){r&&e.name!==r.name&&a()}var f=function(){r.removeListener("open",i),r.removeListener("error",s),r.removeListener("close",u),n.off("close",c),n.off("upgrading",l)};r.once("open",i),r.once("error",s),r.once("close",u),this.once("close",c),this.once("upgrading",l),r.open()}},{key:"onOpen",value:function(){if(this.readyState="open",t.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var e=0,n=this.upgrades.length;e<n;e++)this.probe(this.upgrades[e])}},{key:"onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}},{key:"onHandshake",value:function(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var e=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(function(){e.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}},{key:"getWritablePackets",value:function(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;for(var e=1,t=0;t<this.writeBuffer.length;t++){var n=this.writeBuffer[t].data;if(n&&(e+=Object(b.a)(n)),t>0&&e>this.maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}},{key:"write",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"send",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"sendPacket",value:function(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:e,data:t,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}}},{key:"close",value:function(){var e=this,t=function(){e.onClose("forced close"),e.transport.close()},n=function n(){e.off("upgrade",n),e.off("upgradeError",n),t()},r=function(){e.once("upgrade",n),e.once("upgradeError",n)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",function(){e.upgrading?r():t()}):this.upgrading?r():t()),this}},{key:"onError",value:function(e){t.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}},{key:"onClose",value:function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}]),t}(y.a);T.protocol=p.e;T.protocol;var _=n(74),I="function"===typeof ArrayBuffer,A=function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer},N=Object.prototype.toString,M="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===N.call(Blob),D="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===N.call(File);function L(e){return I&&(e instanceof ArrayBuffer||A(e))||M&&e instanceof Blob||D&&e instanceof File}function F(e){var t=[],n=e.data,r=e;return r.data=function e(t,n){if(!t)return t;if(L(t)){var r={_placeholder:!0,num:n.length};return n.push(t),r}if(Array.isArray(t)){for(var o=new Array(t.length),i=0;i<t.length;i++)o[i]=e(t[i],n);return o}if("object"===typeof t&&!(t instanceof Date)){var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(a[s]=e(t[s],n));return a}return t}(n,t),r.attachments=t.length,{packet:r,buffers:t}}function B(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&!0===t._placeholder){var r="number"===typeof t.num&&t.num>=0&&t.num<n.length;if(r)return n[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(var o=0;o<t.length;o++)t[o]=e(t[o],n);else if("object"===typeof t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(t[i]=e(t[i],n));return t}(e.data,t),e.attachments=void 0,e}var V,U=5;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(V||(V={}));var W=function(){function e(t){Object(o.a)(this,e),this.replacer=t}return Object(i.a)(e,[{key:"encode",value:function(e){return e.type!==V.EVENT&&e.type!==V.ACK||!function e(t,n){if(!t||"object"!==typeof t)return!1;if(Array.isArray(t)){for(var r=0,o=t.length;r<o;r++)if(e(t[r]))return!0;return!1}if(L(t))return!0;if(t.toJSON&&"function"===typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&e(t[i]))return!0;return!1}(e)?[this.encodeAsString(e)]:(e.type=e.type===V.EVENT?V.BINARY_EVENT:V.BINARY_ACK,this.encodeAsBinary(e))}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==V.BINARY_EVENT&&e.type!==V.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}},{key:"encodeAsBinary",value:function(e){var t=F(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}]),e}(),z=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(a.a)(this,Object(s.a)(t).call(this))).reviver=e,n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"add",value:function(e){var n;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");(n=this.decodeString(e)).type===V.BINARY_EVENT||n.type===V.BINARY_ACK?(this.reconstructor=new H(n),0===n.attachments&&Object(_.a)(Object(s.a)(t.prototype),"emitReserved",this).call(this,"decoded",n)):Object(_.a)(Object(s.a)(t.prototype),"emitReserved",this).call(this,"decoded",n)}else{if(!L(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,Object(_.a)(Object(s.a)(t.prototype),"emitReserved",this).call(this,"decoded",n))}}},{key:"decodeString",value:function(e){var n=0,r={type:Number(e.charAt(0))};if(void 0===V[r.type])throw new Error("unknown packet type "+r.type);if(r.type===V.BINARY_EVENT||r.type===V.BINARY_ACK){for(var o=n+1;"-"!==e.charAt(++n)&&n!=e.length;);var i=e.substring(o,n);if(i!=Number(i)||"-"!==e.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(i)}if("/"===e.charAt(n+1)){for(var a=n+1;++n;){if(","===e.charAt(n))break;if(n===e.length)break}r.nsp=e.substring(a,n)}else r.nsp="/";var s=e.charAt(n+1);if(""!==s&&Number(s)==s){for(var u=n+1;++n;){var c=e.charAt(n);if(null==c||Number(c)!=c){--n;break}if(n===e.length)break}r.id=Number(e.substring(u,n+1))}if(e.charAt(++n)){var l=this.tryParse(e.substr(n));if(!t.isPayloadValid(r.type,l))throw new Error("invalid payload");r.data=l}return r}},{key:"tryParse",value:function(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(e,t){switch(e){case V.CONNECT:return"object"===typeof t;case V.DISCONNECT:return void 0===t;case V.CONNECT_ERROR:return"string"===typeof t||"object"===typeof t;case V.EVENT:case V.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case V.ACK:case V.BINARY_ACK:return Array.isArray(t)}}}]),t}(y.a),H=function(){function e(t){Object(o.a)(this,e),this.packet=t,this.buffers=[],this.reconPack=t}return Object(i.a)(e,[{key:"takeBinaryData",value:function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=B(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),e}();function q(e,t,n){return e.on(t,n),function(){e.off(t,n)}}function G(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),X=function(e){function t(e,n,r){var i;return Object(o.a)(this,t),(i=Object(a.a)(this,Object(s.a)(t).call(this))).connected=!1,i.receiveBuffer=[],i.sendBuffer=[],i.ids=0,i.acks={},i.flags={},i.io=e,i.nsp=n,r&&r.auth&&(i.auth=r.auth),i.io._autoConnect&&i.open(),i}return Object(u.a)(t,e),Object(i.a)(t,[{key:"subEvents",value:function(){if(!this.subs){var e=this.io;this.subs=[q(e,"open",this.onopen.bind(this)),q(e,"packet",this.onpacket.bind(this)),q(e,"error",this.onerror.bind(this)),q(e,"close",this.onclose.bind(this))]}}},{key:"connect",value:function(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen(),this)}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){if($.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.unshift(e);var o={type:V.EVENT,data:n,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"===typeof n[n.length-1]){var i=this.ids++,a=n.pop();this._registerAckCallback(i,a),o.id=i}var s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}},{key:"_registerAckCallback",value:function(e,t){var n=this,r=this.flags.timeout;if(void 0!==r){var o=this.io.setTimeoutFn(function(){delete n.acks[e];for(var r=0;r<n.sendBuffer.length;r++)n.sendBuffer[r].id===e&&n.sendBuffer.splice(r,1);t.call(n,new Error("operation has timed out"))},r);this.acks[e]=function(){n.io.clearTimeoutFn(o);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t.apply(n,[null].concat(r))}}else this.acks[e]=t}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var e=this;"function"==typeof this.auth?this.auth(function(t){e.packet({type:V.CONNECT,data:t})}):this.packet({type:V.CONNECT,data:this.auth})}},{key:"onerror",value:function(e){this.connected||this.emitReserved("connect_error",e)}},{key:"onclose",value:function(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}},{key:"onpacket",value:function(e){if(e.nsp===this.nsp)switch(e.type){case V.CONNECT:if(e.data&&e.data.sid){var t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case V.EVENT:case V.BINARY_EVENT:this.onevent(e);break;case V.ACK:case V.BINARY_ACK:this.onack(e);break;case V.DISCONNECT:this.ondisconnect();break;case V.CONNECT_ERROR:this.destroy();var n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n)}}},{key:"onevent",value:function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var n,r=G(this._anyListeners.slice());try{for(r.s();!(n=r.n()).done;){n.value.apply(this,e)}}catch(ee){r.e(ee)}finally{r.f()}}Object(_.a)(Object(s.a)(t.prototype),"emit",this).apply(this,e)}},{key:"ack",value:function(e){var t=this,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t.packet({type:V.ACK,id:e,data:o})}}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"===typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}},{key:"onconnect",value:function(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var e=this;this.receiveBuffer.forEach(function(t){return e.emitEvent(t)}),this.receiveBuffer=[],this.sendBuffer.forEach(function(t){e.notifyOutgoingListeners(t),e.packet(t)}),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach(function(e){return e()}),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:V.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"timeout",value:function(e){return this.flags.timeout=e,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}},{key:"onAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}},{key:"prependAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}},{key:"offAnyOutgoing",value:function(e){if(!this._anyOutgoingListeners)return this;if(e){for(var t=this._anyOutgoingListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}},{key:"listenersAnyOutgoing",value:function(){return this._anyOutgoingListeners||[]}},{key:"notifyOutgoingListeners",value:function(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){var t,n=G(this._anyOutgoingListeners.slice());try{for(n.s();!(t=n.n()).done;){t.value.apply(this,e.data)}}catch(ee){n.e(ee)}finally{n.f()}}}},{key:"disconnected",get:function(){return!this.connected}},{key:"active",get:function(){return!!this.subs}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}}]),t}(y.a);function Y(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Y.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Y.prototype.reset=function(){this.attempts=0},Y.prototype.setMin=function(e){this.ms=e},Y.prototype.setMax=function(e){this.max=e},Y.prototype.setJitter=function(e){this.jitter=e};var J=function(e){function t(e,n){var i,u;Object(o.a)(this,t),(i=Object(a.a)(this,Object(s.a)(t).call(this))).nsps={},i.subs=[],e&&"object"===typeof e&&(n=e,e=void 0),(n=n||{}).path=n.path||"/socket.io",i.opts=n,Object(b.b)(Object(c.a)(Object(c.a)(i)),n),i.reconnection(!1!==n.reconnection),i.reconnectionAttempts(n.reconnectionAttempts||1/0),i.reconnectionDelay(n.reconnectionDelay||1e3),i.reconnectionDelayMax(n.reconnectionDelayMax||5e3),i.randomizationFactor(null!==(u=n.randomizationFactor)&&void 0!==u?u:.5),i.backoff=new Y({min:i.reconnectionDelay(),max:i.reconnectionDelayMax(),jitter:i.randomizationFactor()}),i.timeout(null==n.timeout?2e4:n.timeout),i._readyState="closed",i.uri=e;var l=n.parser||r;return i.encoder=new l.Encoder,i.decoder=new l.Decoder,i._autoConnect=!1!==n.autoConnect,i._autoConnect&&i.open(),i}return Object(u.a)(t,e),Object(i.a)(t,[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(e){var t=this;if(~this._readyState.indexOf("open"))return this;this.engine=new T(this.uri,this.opts);var n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;var o=q(n,"open",function(){r.onopen(),e&&e()}),i=q(n,"error",function(n){r.cleanup(),r._readyState="closed",t.emitReserved("error",n),e?e(n):r.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;0===a&&o();var s=this.setTimeoutFn(function(){o(),n.close(),n.emit("error",new Error("timeout"))},a);this.opts.autoUnref&&s.unref(),this.subs.push(function(){clearTimeout(s)})}return this.subs.push(o),this.subs.push(i),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(q(e,"ping",this.onping.bind(this)),q(e,"data",this.ondata.bind(this)),q(e,"error",this.onerror.bind(this)),q(e,"close",this.onclose.bind(this)),q(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(e){this.decoder.add(e)}},{key:"ondecoded",value:function(e){this.emitReserved("packet",e)}},{key:"onerror",value:function(e){this.emitReserved("error",e)}},{key:"socket",value:function(e,t){var n=this.nsps[e];return n||(n=new X(this,e,t),this.nsps[e]=n),n}},{key:"_destroy",value:function(e){for(var t=0,n=Object.keys(this.nsps);t<n.length;t++){var r=n[t];if(this.nsps[r].active)return}this._close()}},{key:"_packet",value:function(e){for(var t=this.encoder.encode(e),n=0;n<t.length;n++)this.engine.write(t[n],e.options)}},{key:"cleanup",value:function(){this.subs.forEach(function(e){return e()}),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();this._reconnecting=!0;var r=this.setTimeoutFn(function(){t.skipReconnect||(e.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open(function(n){n?(t._reconnecting=!1,t.reconnect(),e.emitReserved("reconnect_error",n)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}]),t}(y.a);n.d(t,"a",function(){return Z});var Q={};function Z(e,t){"object"===typeof e&&(t=e,e=void 0);var n,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=P(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),o=r.source,i=r.id,a=r.path,s=Q[i]&&a in Q[i].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?n=new J(o,t):(Q[i]||(Q[i]=new J(o,t)),n=Q[i]),r.query&&!t.query&&(t.query=r.queryKey),n.socket(r.path,t)}Object.assign(Z,{Manager:J,Socket:X,io:Z,connect:Z})},,function(e,t,n){"use strict";var r=n(7);function o(e){return e}function i(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function a(e){var t=e.x,n=e.y;return{top:n.min,bottom:n.max,left:t.min,right:t.max}}function s(e,t){var n=e.top,r=e.left,i=e.bottom,a=e.right;void 0===t&&(t=o);var s=t({x:r,y:n}),u=t({x:a,y:i});return{top:s.y,left:s.x,bottom:u.y,right:u.x}}function u(){return{x:{min:0,max:1},y:{min:0,max:1}}}function c(e){return{x:Object(r.a)({},e.x),y:Object(r.a)({},e.y)}}n.d(t,"a",function(){return u}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return f}),n.d(t,"f",function(){return s});var l={translate:0,scale:1,origin:0,originPoint:0};function f(){return{x:Object(r.a)({},l),y:Object(r.a)({},l)}}},,,function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(233)},function(e,t,n){(function(e){(function(){"use strict";var t;function n(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype?e:(e[t]=n.value,e)};var o=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof e&&e];for(var n=0;n<t.length;++n){var r=t[n];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function i(e,t){if(t)e:{var n=o;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in n))break e;n=n[a]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function a(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function s(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:n(e)}}function u(e){if(!(e instanceof Array)){e=s(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}i("Symbol",function(e){function t(e,t){this.g=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",o=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+o++,r)}}),i("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),i=0;i<t.length;i++){var s=o[t[i]];"function"===typeof s&&"function"!=typeof s.prototype[e]&&r(s.prototype,e,{configurable:!0,writable:!0,value:function(){return a(n(this))}})}return e});var c,l="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)c=Object.setPrototypeOf;else{var f;e:{var d={};try{d.__proto__={a:!0},f=d.a;break e}catch(vt){}f=!1}c=f?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var p=c;function h(e,t){if(e.prototype=l(t.prototype),e.prototype.constructor=e,p)p(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n];e.ea=t.prototype}function v(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function m(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function g(e,t){e.j={U:t,V:!0},e.g=e.m||e.s}function y(e,t,n){return e.g=n,{value:t}}function b(e){this.g=new v,this.h=e}function w(e,t,n,r){try{var o=t.call(e.g.i,n);if(!(o instanceof Object))throw new TypeError("Iterator result "+o+" is not an object");if(!o.done)return e.g.l=!1,o;var i=o.value}catch(a){return e.g.i=null,g(e.g,a),x(e)}return e.g.i=null,r.call(e.g,i),x(e)}function x(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,g(e.g,n)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.V)throw t.U;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function O(e){this.next=function(t){return m(e.g),e.g.i?t=w(e,e.g.i.next,t,e.g.o):(e.g.o(t),t=x(e)),t},this.throw=function(t){return m(e.g),e.g.i?t=w(e,e.g.i.throw,t,e.g.o):(g(e.g,t),t=x(e)),t},this.return=function(t){return function(e,t){m(e.g);var n=e.g.i;return n?w(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),x(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function E(e,t){return t=new O(new b(t)),p&&e.prototype&&p(t,e.prototype),t}v.prototype.o=function(e){this.h=e},v.prototype.return=function(e){this.j={return:e},this.g=this.s};var S="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};i("Object.assign",function(e){return e||S}),i("Promise",function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.g=null}function r(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i(function(){t.l()})}this.g.push(e)};var i=o.setTimeout;n.prototype.i=function(e){i(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.j(r)}}}this.g=null},n.prototype.j=function(e){this.i(function(){throw e})},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.C),reject:e(this.l)}},t.prototype.C=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.F(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.u(e):this.m(e)}},t.prototype.u=function(e){var t=void 0;try{t=e.then}catch(n){return void this.l(n)}"function"==typeof t?this.G(t,e):this.m(e)},t.prototype.l=function(e){this.s(2,e)},t.prototype.m=function(e){this.s(1,e)},t.prototype.s=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.D(),this.A()},t.prototype.D=function(){var e=this;i(function(){if(e.B()){var t=o.console;"undefined"!==typeof t&&t.error(e.i)}},1)},t.prototype.B=function(){if(this.o)return!1;var e=o.CustomEvent,t=o.Event,n=o.dispatchEvent;return"undefined"===typeof n||("function"===typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"===typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=o.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.A=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)a.h(this.g[e]);this.g=null}};var a=new n;return t.prototype.F=function(e){var t=this.j();e.J(t.resolve,t.reject)},t.prototype.G=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{o(e(t))}catch(n){i(n)}}:t}var o,i,a=new t(function(e,t){o=e,i=t});return this.J(r(e,o),r(n,i)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.J=function(e,t){function n(){switch(r.h){case 1:e(r.i);break;case 2:t(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?a.h(n):this.g.push(n),this.o=!0},t.resolve=r,t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var o=s(e),i=o.next();!i.done;i=o.next())r(i.value).J(t,n)})},t.all=function(e){var n=s(e),o=n.next();return o.done?r([]):new t(function(e,t){function i(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(o.value).J(i(a.length-1),t),o=n.next()}while(!o.done)})},t}),i("Object.is",function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}}),i("Array.prototype.includes",function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(t=t||0)&&(t=Math.max(t+r,0));t<r;t++){var o=n[t];if(o===e||Object.is(o,e))return!0}return!1}}),i("String.prototype.includes",function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}}),i("Array.prototype.keys",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,o={next:function(){if(!r&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return r=!0,{done:!0,value:void 0}}};return o[Symbol.iterator]=function(){return o},o}(this,function(e){return e})}});var C=this||self;function k(e,t){e=e.split(".");var n,r=C;e[0]in r||"undefined"==typeof r.execScript||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}function R(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var j,P,T="undefined"!==typeof TextDecoder,_="undefined"!==typeof TextEncoder;function I(e){if(_)e=(P||(P=new TextEncoder)).encode(e);else{var t=void 0;t=void 0!==t&&t;for(var n=0,r=new Uint8Array(3*e.length),o=0;o<e.length;o++){var i=e.charCodeAt(o);if(128>i)r[n++]=i;else{if(2048>i)r[n++]=i>>6|192;else{if(55296<=i&&57343>=i){if(56319>=i&&o<e.length){var a=e.charCodeAt(++o);if(56320<=a&&57343>=a){i=1024*(i-55296)+a-56320+65536,r[n++]=i>>18|240,r[n++]=i>>12&63|128,r[n++]=i>>6&63|128,r[n++]=63&i|128;continue}o--}if(t)throw Error("Found an unpaired surrogate");i=65533}r[n++]=i>>12|224,r[n++]=i>>6&63|128}r[n++]=63&i|128}}e=r.subarray(0,n)}return e}var A={},N=null;function M(e,t){void 0===t&&(t=0),L(),t=A[t];for(var n=Array(Math.floor(e.length/3)),r=t[64]||"",o=0,i=0;o<e.length-2;o+=3){var a=e[o],s=e[o+1],u=e[o+2],c=t[a>>2];a=t[(3&a)<<4|s>>4],s=t[(15&s)<<2|u>>6],u=t[63&u],n[i++]=c+a+s+u}switch(c=0,u=r,e.length-o){case 2:u=t[(15&(c=e[o+1]))<<2]||r;case 1:e=e[o],n[i]=t[e>>2]+t[(3&e)<<4|c>>4]+u+r}return n.join("")}function D(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var r=new Uint8Array(n),o=0;return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),o=N[n];if(null!=o)return o;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}L();for(var r=0;;){var o=n(-1),i=n(0),a=n(64),s=n(64);if(64===s&&-1===o)break;t(o<<2|i>>4),64!=a&&(t(i<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,function(e){r[o++]=e}),r.subarray(0,o)}function L(){if(!N){N={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var r=e.concat(t[n].split(""));A[n]=r;for(var o=0;o<r.length;o++){var i=r[o];void 0===N[i]&&(N[i]=o)}}}}var F,B="function"===typeof Uint8Array.prototype.slice;function V(e,t,n){return t===n?F||(F=new Uint8Array(0)):B?e.slice(t,n):new Uint8Array(e.subarray(t,n))}var U=0;function W(e,t){t=void 0!==(t=void 0===t?{}:t).v&&t.v,this.h=null,this.g=this.j=this.l=0,this.m=!1,this.v=t,e&&z(this,e)}function z(e,t){t=t.constructor===Uint8Array?t:t.constructor===ArrayBuffer?new Uint8Array(t):t.constructor===Array?new Uint8Array(t):t.constructor===String?D(t):t instanceof Uint8Array?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e.h=t,e.l=0,e.j=e.h.length,e.g=e.l}function H(e){for(var t=128,n=0,r=0,o=0;4>o&&128<=t;o++)n|=(127&(t=e.h[e.g++]))<<7*o;if(128<=t&&(n|=(127&(t=e.h[e.g++]))<<28,r|=(127&t)>>4),128<=t)for(o=0;5>o&&128<=t;o++)r|=(127&(t=e.h[e.g++]))<<7*o+3;if(128>t)return e=n>>>0,(r=2147483648&(t=r>>>0))&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0)),e=4294967296*t+(e>>>0),r?-e:e;e.m=!0}W.prototype.reset=function(){this.g=this.l},W.prototype.i=function(){var e=this.h,t=e[this.g],n=127&t;return 128>t?(this.g+=1,n):(n|=(127&(t=e[this.g+1]))<<7,128>t?(this.g+=2,n):(n|=(127&(t=e[this.g+2]))<<14,128>t?(this.g+=3,n):(n|=(127&(t=e[this.g+3]))<<21,128>t?(this.g+=4,n):(n|=(15&(t=e[this.g+4]))<<28,128>t?(this.g+=5,n>>>0):(this.g+=5,128<=e[this.g++]&&128<=e[this.g++]&&128<=e[this.g++]&&128<=e[this.g++]&&this.g++,n)))))},W.prototype.o=function(){var e=this.h[this.g],t=this.h[this.g+1],n=this.h[this.g+2],r=this.h[this.g+3];return this.g+=4,e=2*((n=(e<<0|t<<8|n<<16|r<<24)>>>0)>>31)+1,t=n>>>23&255,n&=8388607,255==t?n?NaN:1/0*e:0==t?e*Math.pow(2,-149)*n:e*Math.pow(2,t-150)*(n+Math.pow(2,23))};var q=[];function G(){this.g=new Uint8Array(64),this.h=0}function K(e,t){for(;127<t;)e.push(127&t|128),t>>>=7;e.push(t)}function $(e){var t={},n=void 0!==t.N&&t.N;this.o={v:void 0!==t.v&&t.v},this.N=n,t=this.o,q.length?(n=q.pop(),t&&(n.v=t.v),e&&z(n,e),e=n):e=new W(e,t),this.g=e,this.m=this.g.g,this.h=this.i=this.l=-1,this.j=!1}function X(e){var t=e.g;if((t=t.g==t.j)||(t=e.j)||(t=(t=e.g).m||0>t.g||t.g>t.j),t)return!1;e.m=e.g.g;var n=7&(t=e.g.i());return 0!=n&&5!=n&&1!=n&&2!=n&&3!=n&&4!=n?(e.j=!0,!1):(e.i=t,e.l=t>>>3,e.h=n,!0)}function Y(e,t,n){var r=e.g.j,o=e.g.i(),i=e.g.g+o;if(e.g.j=i,n(t,e),0!==(n=i-e.g.g))throw Error("Message parsing ended unexpectedly. Expected to read "+o+" bytes, instead read "+(o-n)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.g.g=i,e.g.j=r,t}function J(e){return e.g.o()}function Q(e){var t,n=e.g.i(),r=(e=e.g).g;if(e.g+=n,e=e.h,T)(t=j)||(t=j=new TextDecoder("utf-8",{fatal:!1})),t=t.decode(e.subarray(r,r+n));else{n=r+n;for(var o,i,a,s=[],u=null;r<n;)128>(o=e[r++])?s.push(o):224>o?r>=n?s.push(65533):(i=e[r++],194>o||128!==(192&i)?(r--,s.push(65533)):s.push((31&o)<<6|63&i)):240>o?r>=n-1?s.push(65533):128!==(192&(i=e[r++]))||224===o&&160>i||237===o&&160<=i||128!==(192&(t=e[r++]))?(r--,s.push(65533)):s.push((15&o)<<12|(63&i)<<6|63&t):244>=o?r>=n-2?s.push(65533):128!==(192&(i=e[r++]))||0!==i-144+(o<<28)>>30||128!==(192&(t=e[r++]))||128!==(192&(a=e[r++]))?(r--,s.push(65533)):(o=(7&o)<<18|(63&i)<<12|(63&t)<<6|63&a,o-=65536,s.push(55296+(o>>10&1023),56320+(1023&o))):s.push(65533),8192<=s.length&&(u=R(u,s),s.length=0);t=R(u,s)}return t}function Z(e,t,n){var r=e.g.i();for(r=e.g.g+r;e.g.g<r;)n.push(t.call(e.g))}function ee(e,t){2==e.h?Z(e,W.prototype.o,t):t.push(J(e))}function te(){this.h=[],this.i=0,this.g=new G}function ne(e,t){0!==t.length&&(e.h.push(t),e.i+=t.length)}function re(e){var t=e.i+e.g.length();if(0===t)return new Uint8Array(0);t=new Uint8Array(t);for(var n=e.h,r=n.length,o=0,i=0;i<r;i++){var a=n[i];0!==a.length&&(t.set(a,o),o+=a.length)}return 0!==(r=(n=e.g).h)&&(t.set(n.g.subarray(0,r),o),n.h=0),e.h=[t],t}function oe(e,t,n){if(null!=n){K(e.g,8*t+5),e=e.g;var r=n;0===(r=(n=0>r?1:0)?-r:r)?0<1/r?U=0:(0,U=2147483648):isNaN(r)?(0,U=2147483647):3.4028234663852886e38<r?(0,U=(n<<31|2139095040)>>>0):1.1754943508222875e-38>r?(r=Math.round(r/Math.pow(2,-149)),0,U=(n<<31|r)>>>0):(t=Math.floor(Math.log(r)/Math.LN2),r*=Math.pow(2,-t),16777216<=(r=Math.round(8388608*r))&&++t,0,U=(n<<31|t+127<<23|8388607&r)>>>0),n=U,e.push(n>>>0&255),e.push(n>>>8&255),e.push(n>>>16&255),e.push(n>>>24&255)}}G.prototype.push=function(e){if(!(this.h+1<this.g.length)){var t=this.g;this.g=new Uint8Array(Math.ceil(1+2*this.g.length)),this.g.set(t)}this.g[this.h++]=e},G.prototype.length=function(){return this.h},G.prototype.end=function(){var e=this.g,t=this.h;return this.h=0,V(e,0,t)},$.prototype.reset=function(){this.g.reset(),this.h=this.l=-1};var ie="function"===typeof Uint8Array;function ae(e,t,n){if(null!=e)return"object"===typeof e?ie&&e instanceof Uint8Array?n(e):se(e,t,n):t(e)}function se(e,t,n){if(Array.isArray(e)){for(var r=Array(e.length),o=0;o<e.length;o++)r[o]=ae(e[o],t,n);return Array.isArray(e)&&e.W&&fe(r),r}for(o in r={},e)r[o]=ae(e[o],t,n);return r}function ue(e){return"number"===typeof e?isFinite(e)?e:String(e):e}var ce,le={W:{value:!0,configurable:!0}};function fe(e){return Array.isArray(e)&&!Object.isFrozen(e)&&Object.defineProperties(e,le),e}function de(e,t,n){var r=ce;if(ce=null,e||(e=r),r=this.constructor.ca,e||(e=r?[r]:[]),this.j=r?0:-1,this.m=this.g=null,this.h=e,e=(r=this.h.length)-1,!r||(null===(r=this.h[e])||"object"!=typeof r||Array.isArray(r)||ie&&r instanceof Uint8Array)?void 0!==t&&-1<t?(this.l=Math.max(t,e+1-this.j),this.i=null):this.l=Number.MAX_VALUE:(this.l=e-this.j,this.i=r),n)for(t=0;t<n.length;t++)(e=n[t])<this.l?(e+=this.j,(r=this.h[e])?fe(r):this.h[e]=pe):(he(this),(r=this.i[e])?fe(r):this.i[e]=pe)}var pe=Object.freeze(fe([]));function he(e){var t=e.l+e.j;e.h[t]||(e.i=e.h[t]={})}function ve(e,t,n){return-1===t?null:void 0!==n&&n||t>=e.l?e.i?e.i[t]:void 0:e.h[t+e.j]}function me(e,t){var n=void 0!==n&&n,r=ve(e,t,n);return null==r&&(r=pe),r===pe&&we(e,t,r=fe([]),n),r}function ge(e){var t=me(e,3);if(e.m||(e.m={}),!e.m[3]){for(var n=0;n<t.length;n++)t[n]=+t[n];e.m[3]=!0}return t}function ye(e,t,n){return null==(e=ve(e,t))?n:e}function be(e,t,n){return null==(e=null==(e=ve(e,t))?e:+e)?void 0===n?0:n:e}function we(e,t,n,r){void 0!==r&&r||t>=e.l?(he(e),e.i[t]=n):e.h[t+e.j]=n}function xe(e,t,n){if(-1===n)return null;if(e.g||(e.g={}),!e.g[n]){var r=ve(e,n,!1);r&&(e.g[n]=new t(r))}return e.g[n]}function Oe(e,t){e.g||(e.g={});var n=e.g[1];if(!n){var r=me(e,1);n=[];for(var o=0;o<r.length;o++)n[o]=new t(r[o]);e.g[1]=n}return n}function Ee(e,t,n){var r=void 0!==r&&r;e.g||(e.g={});var o=n?Ce(n,!1):n;e.g[t]=n,we(e,t,o,r)}function Se(e,t,n,r){var o=Oe(e,n);t=t||new n,e=me(e,1),void 0!=r?(o.splice(r,0,t),e.splice(r,0,Ce(t,!1))):(o.push(t),e.push(Ce(t,!1)))}function Ce(e,t){if(e.g)for(var n in e.g){var r=e.g[n];if(Array.isArray(r))for(var o=0;o<r.length;o++)r[o]&&Ce(r[o],t);else r&&Ce(r,t)}return e.h}function ke(e,t){if(e=e.o){ne(t,t.g.end());for(var n=0;n<e.length;n++)ne(t,e[n])}}function Re(e,t){if(4==t.h)return!1;var n=t.m;return function e(t){switch(t.h){case 0:if(0!=t.h)e(t);else{for(t=t.g;128&t.h[t.g];)t.g++;t.g++}break;case 1:1!=t.h?e(t):(t=t.g).g+=8;break;case 2:if(2!=t.h)e(t);else{var n=t.g.i();(t=t.g).g+=n}break;case 5:5!=t.h?e(t):(t=t.g).g+=4;break;case 3:for(n=t.l;;){if(!X(t)){t.j=!0;break}if(4==t.h){t.l!=n&&(t.j=!0);break}e(t)}break;default:t.j=!0}}(t),t.N||(t=V(t.g.h,n,t.g.g),(n=e.o)?n.push(t):e.o=[t]),!0}function je(e){de.call(this,e,-1,Te)}function Pe(e,t){for(;X(t);)switch(t.i){case 8:var n=t.g.i();we(e,1,n);break;case 16:we(e,2,n=t.g.i());break;case 29:case 26:ee(t,e.getPackedDataList());break;case 32:we(e,4,n=H(t.g));break;default:if(!Re(e,t))return e}return e}de.prototype.toJSON=function(){return se(Ce(this,!1),ue,M)},de.prototype.toString=function(){return Ce(this,!1).toString()},h(je,de),je.prototype.getRows=function(){return ve(this,1)},je.prototype.getCols=function(){return ve(this,2)},je.prototype.getPackedDataList=function(){return ge(this)},je.prototype.getLayout=function(){return ye(this,4,0)};var Te=[3];function _e(e,t){var n=void 0;return new(n||(n=Promise))(function(r,o){function i(e){try{s(t.next(e))}catch(n){o(n)}}function a(e){try{s(t.throw(e))}catch(n){o(n)}}function s(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(i,a)}s((t=t.apply(e,void 0)).next())})}function Ie(e){de.call(this,e)}function Ae(e,t){for(;X(t);)switch(t.i){case 8:var n=t.g.i();we(e,1,n);break;case 21:we(e,2,n=J(t));break;case 26:we(e,3,n=Q(t));break;case 34:we(e,4,n=Q(t));break;default:if(!Re(e,t))return e}return e}function Ne(e){de.call(this,e,-1,Me)}h(Ie,de),h(Ne,de),Ne.prototype.addClassification=function(e,t){return Se(this,e,Ie,t),this};var Me=[1];function De(e){de.call(this,e)}function Le(e,t){for(;X(t);)switch(t.i){case 13:var n=J(t);we(e,1,n);break;case 21:we(e,2,n=J(t));break;case 29:we(e,3,n=J(t));break;case 37:we(e,4,n=J(t));break;case 45:we(e,5,n=J(t));break;default:if(!Re(e,t))return e}return e}function Fe(e){de.call(this,e,-1,Ve)}function Be(e){e:{var t=new Fe;for(e=new $(e);X(e);)switch(e.i){case 10:Se(t,Y(e,new De,Le),De,void 0);break;default:if(!Re(t,e))break e}}return t}h(De,de),h(Fe,de);var Ve=[1];function Ue(e){de.call(this,e)}function We(e){de.call(this,e,-1,He)}function ze(e,t){for(;X(t);)switch(t.i){case 8:var n=H(t.g);we(e,1,n);break;case 16:we(e,2,n=H(t.g));break;case 29:case 26:ee(t,e.getVertexBufferList());break;case 32:case 34:n=t;var r=e.getIndexBufferList();2==n.h?Z(n,W.prototype.i,r):r.push(n.g.i());break;default:if(!Re(e,t))return e}return e}h(Ue,de),h(We,de),We.prototype.getVertexType=function(){return ye(this,1,0)},We.prototype.getPrimitiveType=function(){return ye(this,2,0)},We.prototype.getVertexBufferList=function(){return ge(this)},We.prototype.getIndexBufferList=function(){return me(this,4)};var He=[3,4];function qe(e){de.call(this,e)}function Ge(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function Ke(e){return{x:be(e,1),y:be(e,2),z:be(e,3),visibility:null!=ve(e,4)?be(e,4):void 0}}function $e(e,t){this.h=e,this.g=t,this.l=0}function Xe(e,t,n){return function(e,t){var n=e.g;if(void 0===e.m){var r=Ge(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),o=Ge(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),i=n.createProgram();if(n.attachShader(i,r),n.attachShader(i,o),n.linkProgram(i),!n.getProgramParameter(i,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(i));r=e.m=i,n.useProgram(r),o=n.getUniformLocation(r,"sampler0"),e.j={I:n.getAttribLocation(r,"aVertex"),H:n.getAttribLocation(r,"aTex"),da:o},e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.I),n.vertexAttribPointer(e.j.I,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.o=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.enableVertexAttribArray(e.j.H),n.vertexAttribPointer(e.j.H,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(o,0)}r=e.j,n.useProgram(e.m),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(r.I),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(r.I,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r.H),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.vertexAttribPointer(r.H,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(r.I),n.disableVertexAttribArray(r.H),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(e,t),"function"===typeof e.g.canvas.transferToImageBitmap?Promise.resolve(e.g.canvas.transferToImageBitmap()):n?Promise.resolve(e.g.canvas):"function"===typeof createImageBitmap?createImageBitmap(e.g.canvas):(void 0===e.i&&(e.i=document.createElement("canvas")),new Promise(function(t){e.i.height=e.g.canvas.height,e.i.width=e.g.canvas.width,e.i.getContext("2d",{}).drawImage(e.g.canvas,0,0,e.g.canvas.width,e.g.canvas.height),t(e.i)}))}function Ye(e){this.g=e}h(qe,de),qe.prototype.getMesh=function(){return xe(this,We,1)},qe.prototype.getPoseTransformMatrix=function(){return xe(this,je,2)};var Je=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Qe(e,t){return t+e}function Ze(e,t){window[e]=t}function et(e){if(this.g=e,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=Promise.resolve(),this.P="",this.B={},this.locateFile=e&&e.locateFile||Qe,"object"===typeof window)var t=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if("undefined"===typeof location)throw Error("solutions can only be loaded on a web page or in a web worker");t=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.S=t,e.options)for(var n=(t=s(Object.keys(e.options))).next();!n.done;n=t.next()){n=n.value;var r=e.options[n].default;void 0!==r&&(this.j[n]="function"===typeof r?r():r)}}function tt(e){return _e(e,function e(){var t,n,r,o,i,a,s,c,l,f,d,p=this;return E(e,function(e){switch(e.g){case 1:return t=p,p.R?(h=p,v=p.j,n=void 0===h.g.files?[]:"function"===typeof h.g.files?h.g.files(v):h.g.files,y(e,function(){return _e(this,function e(){return E(e,function(e){switch(e.g){case 1:return e.m=2,y(e,WebAssembly.instantiate(Je),4);case 4:e.g=3,e.m=0;break;case 2:return e.m=0,e.j=null,e.return(!1);case 3:return e.return(!0)}})})}(),2)):e.return();case 2:if(r=e.h,"object"===typeof window)return Ze("createMediapipeSolutionsWasm",{locateFile:p.locateFile}),Ze("createMediapipeSolutionsPackedAssets",{locateFile:p.locateFile}),a=n.filter(function(e){return void 0!==e.data}),s=n.filter(function(e){return void 0===e.data}),c=Promise.all(a.map(function(e){var n=nt(t,e.url);if(void 0!==e.path){var r=e.path;n=n.then(function(e){return t.overrideFile(r,e),Promise.resolve(e)})}return n})),l=Promise.all(s.map(function(e){return void 0===e.simd||e.simd&&r||!e.simd&&!r?function(e){var t=document.createElement("script");return t.setAttribute("src",e),t.setAttribute("crossorigin","anonymous"),new Promise(function(e){t.addEventListener("load",function(){e()},!1),t.addEventListener("error",function(){e()},!1),document.body.appendChild(t)})}(t.locateFile(e.url,t.S)):Promise.resolve()})).then(function(){return _e(t,function e(){var t,n,r=this;return E(e,function(e){if(1==e.g)return t=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,y(e,t(n),2);r.h=e.h,e.g=0})})}),f=_e(t,function e(){var t=this;return E(e,function(e){return t.g.graph&&t.g.graph.url?e=y(e,nt(t,t.g.graph.url),0):(e.g=0,e=void 0),e})}),y(e,Promise.all([l,c,f]),7);if("function"!==typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return o=n.filter(function(e){return void 0===e.simd||e.simd&&r||!e.simd&&!r}).map(function(e){return t.locateFile(e.url,t.S)}),importScripts.apply(null,u(o)),y(e,createMediapipeSolutionsWasm(Module),6);case 6:p.h=e.h,p.l=new OffscreenCanvas(1,1),p.h.canvas=p.l,i=p.h.GL.createContext(p.l,{antialias:!1,alpha:!1,ba:"undefined"!==typeof WebGL2RenderingContext?2:1}),p.h.GL.makeContextCurrent(i),e.g=4;break;case 7:if(p.l=document.createElement("canvas"),!(d=p.l.getContext("webgl2",{}))&&!(d=p.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),e.return();p.D=d,p.h.canvas=p.l,p.h.createContext(p.l,!0,!0,{});case 4:p.i=new p.h.SolutionWasm,p.R=!1,e.g=0}var h,v})})}function nt(e,t){return _e(e,function e(){var n,r,o=this;return E(e,function(e){return t in o.F?e.return(o.F[t]):(n=o.locateFile(t,""),r=fetch(n).then(function(e){return e.arrayBuffer()}),o.F[t]=r,e.return(r))})})}function rt(e,t,n){return _e(e,function e(){var r,o,i,a,u,c,l,f,d,p,h,v,m,g,b=this;return E(e,function(e){switch(e.g){case 1:if(!n)return e.return(t);for(r={},o=0,i=s(Object.keys(n)),a=i.next();!a.done;a=i.next())u=a.value,"string"!==typeof(c=n[u])&&"texture"===c.type&&void 0!==t[c.stream]&&++o;1<o&&(b.G=!1),l=s(Object.keys(n)),a=l.next();case 2:if(a.done){e.g=4;break}if(f=a.value,"string"===typeof(d=n[f]))return m=r,g=f,y(e,function(e,t,n){return _e(e,function e(){var r,o=this;return E(e,function(e){return"number"===typeof n||n instanceof Uint8Array||n instanceof o.h.Uint8BlobList?e.return(n):n instanceof o.h.Texture2dDataOut?((r=o.s[t])||(r=new $e(o.h,o.D),o.s[t]=r),e.return(Xe(r,n,o.G))):e.return(void 0)})})}(b,f,t[d]),14);if(p=t[d.stream],"detection_list"===d.type){if(p){for(var w=p.getRectList(),x=p.getLandmarksList(),O=p.getClassificationsList(),S=[],C=0;C<w.size();++C){var k=w.get(C);e:{var R=new Ue;for(k=new $(k);X(k);)switch(k.i){case 13:var j=J(k);we(R,1,j);break;case 21:we(R,2,j=J(k));break;case 29:we(R,3,j=J(k));break;case 37:we(R,4,j=J(k));break;case 45:we(R,5,j=J(k));break;case 48:we(R,6,j=H(k.g));break;default:if(!Re(R,k))break e}}R={Z:be(R,1),$:be(R,2),height:be(R,3),width:be(R,4),rotation:be(R,5,0),X:ye(R,6,0)},k=Oe(Be(x.get(C)),De).map(Ke);var P=O.get(C);e:for(j=new Ne,P=new $(P);X(P);)switch(P.i){case 10:j.addClassification(Y(P,new Ie,Ae));break;default:if(!Re(j,P))break e}R={T:R,O:k,M:(T=j,Oe(T,Ie).map(function(e){return{index:ye(e,1,0),Y:be(e,2),label:null!=ve(e,3)?ye(e,3,""):void 0,displayName:null!=ve(e,4)?ye(e,4,""):void 0}}))},S.push(R)}w=S}else w=[];r[f]=w,e.g=7;break}if("proto_list"===d.type){if(p){for(w=Array(p.size()),x=0;x<p.size();x++)w[x]=p.get(x);p.delete()}else w=[];r[f]=w,e.g=7;break}if(void 0===p){e.g=3;break}if("float_list"===d.type){r[f]=p,e.g=7;break}if("proto"===d.type){r[f]=p,e.g=7;break}if("texture"!==d.type)throw Error("Unknown output config type: '"+d.type+"'");return(h=b.s[f])||(h=new $e(b.h,b.D),b.s[f]=h),y(e,Xe(h,p,b.G),13);case 13:v=e.h,r[f]=v;case 7:d.transform&&r[f]&&(r[f]=d.transform(r[f])),e.g=3;break;case 14:m[g]=e.h;case 3:a=l.next(),e.g=2;break;case 4:return e.return(r)}var T})})}function ot(e,t){for(var n=t.name||"$",r=[].concat(u(t.wants)),o=new e.h.StringList,i=s(t.wants),a=i.next();!a.done;a=i.next())o.push_back(a.value);i=e.h.PacketListener.implement({onResults:function(o){for(var i={},a=0;a<t.wants.length;++a)i[r[a]]=o.get(a);var s=e.listeners[n];s&&(e.C=rt(e,i,t.outs).then(function(n){n=s(n);for(var o=0;o<t.wants.length;++o){var a=i[r[o]];"object"===typeof a&&a.hasOwnProperty&&a.hasOwnProperty("delete")&&a.delete()}n&&(e.C=n)}))}}),e.i.attachMultiListener(o,i),o.delete()}function it(e){var t=(e=function(e){e:{var t=new qe;for(e=new $(e);X(e);)switch(e.i){case 10:var n=Y(e,new We,ze);Ee(t,1,n);break;case 18:Ee(t,2,n=Y(e,new je,Pe));break;default:if(!Re(t,e))break e}}return t}(e)).getMesh();if(!t)return e;var n=new Float32Array(t.getVertexBufferList());t.getVertexBufferList=function(){return n};var r=new Uint32Array(t.getIndexBufferList());return t.getIndexBufferList=function(){return r},e}(t=et.prototype).close=function(){return this.i&&this.i.delete(),Promise.resolve()},t.reset=function(){return _e(this,function e(){var t=this;return E(e,function(e){t.i&&(t.i.reset(),t.m={},t.s={}),e.g=0})})},t.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var r=[],o=[],i={},a=s(Object.keys(e)),u=a.next();!u.done;i={K:i.K,L:i.L},u=a.next()){var c=u.value;c in this.j&&this.j[c]===e[c]||(this.j[c]=e[c],void 0!==(u=t[c])&&(u.onChange&&(i.K=u.onChange,i.L=e[c],r.push(function(e){return function(){return _e(n,function t(){var n=this;return E(t,function(t){if(1==t.g)return y(t,e.K(e.L),2);!0===t.h&&(n.o=!0),t.g=0})})}}(i))),u.graphOptionXref&&(c={valueNumber:1===u.type?e[c]:0,valueBoolean:0===u.type&&e[c],valueString:2===u.type?e[c]:""},u=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),u.graphOptionXref),c),o.push(u))))}0===r.length&&0===o.length||(this.o=!0,this.A=(void 0===this.A?[]:this.A).concat(o),this.u=(void 0===this.u?[]:this.u).concat(r))}},t.initialize=function(){return _e(this,function e(){var t=this;return E(e,function(e){return 1==e.g?y(e,tt(t),2):3!=e.g?y(e,_e(t,function e(){var t,n,r,o,i,a,u,c,l=this;return E(e,function(e){if(1==e.g)return l.g.graph&&l.g.graph.url&&l.P===l.g.graph.url?e.return():(l.o=!0,l.g.graph&&l.g.graph.url?(l.P=l.g.graph.url,y(e,nt(l,l.g.graph.url),3)):void(e.g=2));for(2!=e.g&&(t=e.h,l.i.loadGraph(t)),n=s(Object.keys(l.B)),r=n.next();!r.done;r=n.next())o=r.value,l.i.overrideFile(o,l.B[o]);if(l.B={},l.g.listeners)for(i=s(l.g.listeners),a=i.next();!a.done;a=i.next())u=a.value,ot(l,u);c=l.j,l.j={},l.setOptions(c),e.g=0})}),3):y(e,function(e){return _e(e,function e(){var t,n,r,o,i,a,u=this;return E(e,function(e){switch(e.g){case 1:if(!u.o)return e.return();if(!u.u){e.g=2;break}t=s(u.u),n=t.next();case 3:if(n.done){e.g=5;break}return y(e,(0,n.value)(),4);case 4:n=t.next(),e.g=3;break;case 5:u.u=void 0;case 2:if(u.A){for(r=new u.h.GraphOptionChangeRequestList,o=s(u.A),i=o.next();!i.done;i=o.next())a=i.value,r.push_back(a);u.i.changeOptions(r),r.delete(),u.A=void 0}u.o=!1,e.g=0}})})}(t),0)})})},t.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.B[e]=t},t.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},t.send=function(e,t){return _e(this,function n(){var r,o,i,a,u,c,l,f,d,p=this;return E(n,function(n){switch(n.g){case 1:return p.g.inputs?(r=1e3*(void 0===t||null===t?performance.now():t),y(n,p.C,2)):n.return();case 2:return y(n,p.initialize(),3);case 3:for(o=new p.h.PacketDataList,i=s(Object.keys(e)),a=i.next();!a.done;a=i.next())if(u=a.value,c=p.g.inputs[u]){e:{var h=p,v=e[u];switch(c.type){case"video":var m=h.m[c.stream];if(m||(m=new $e(h.h,h.D),h.m[c.stream]=m),0===(h=m).l&&(h.l=h.h.createTexture()),"undefined"!==typeof HTMLVideoElement&&v instanceof HTMLVideoElement){var g=v.videoWidth;m=v.videoHeight}else"undefined"!==typeof HTMLImageElement&&v instanceof HTMLImageElement?(g=v.naturalWidth,m=v.naturalHeight):(g=v.width,m=v.height);m={glName:h.l,width:g,height:m},(g=h.g).canvas.width=m.width,g.canvas.height=m.height,g.activeTexture(g.TEXTURE0),h.h.bindTexture2d(h.l),g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,v),h.h.bindTexture2d(0),h=m;break e;case"detections":for((m=h.m[c.stream])||(m=new Ye(h.h),h.m[c.stream]=m),(h=m).data||(h.data=new h.g.DetectionListData),h.data.reset(v.length),m=0;m<v.length;++m){g=v[m];var b=h.data,w=b.setBoundingBox,x=m,O=g.T,E=new Ue;we(E,1,O.Z),we(E,2,O.$),we(E,3,O.height),we(E,4,O.width),we(E,5,O.rotation),we(E,6,O.X);var S=O=new te;oe(S,1,ve(E,1)),oe(S,2,ve(E,2)),oe(S,3,ve(E,3)),oe(S,4,ve(E,4)),oe(S,5,ve(E,5));var C=ve(E,6);if(null!=C&&null!=C){K(S.g,48);var k=S.g,R=C;C=0>R;var j=(R=Math.abs(R))>>>0;for(R=Math.floor((R-j)/4294967296),R>>>=0,C&&(R=~R>>>0,4294967295<(j=1+(~j>>>0))&&(j=0,4294967295<++R&&(R=0))),C=U=j,j=R;0<j||127<C;)k.push(127&C|128),C=(C>>>7|j<<25)>>>0,j>>>=7;k.push(C)}if(ke(E,S),O=re(O),w.call(b,x,O),g.O)for(b=0;b<g.O.length;++b)S=!!(E=g.O[b]).visibility,x=(w=h.data).addNormalizedLandmark,O=m,E=Object.assign(Object.assign({},E),{visibility:S?E.visibility:0}),we(S=new De,1,E.x),we(S,2,E.y),we(S,3,E.z),E.visibility&&we(S,4,E.visibility),oe(k=E=new te,1,ve(S,1)),oe(k,2,ve(S,2)),oe(k,3,ve(S,3)),oe(k,4,ve(S,4)),oe(k,5,ve(S,5)),ke(S,k),E=re(E),x.call(w,O,E);if(g.M)for(b=0;b<g.M.length;++b){if(x=(w=h.data).addClassification,O=m,E=g.M[b],we(S=new Ie,2,E.Y),E.index&&we(S,1,E.index),E.label&&we(S,3,E.label),E.displayName&&we(S,4,E.displayName),k=E=new te,null!=(j=ve(S,1))&&null!=j)if(K(k.g,8),C=k.g,0<=j)K(C,j);else{for(R=0;9>R;R++)C.push(127&j|128),j>>=7;C.push(1)}oe(k,2,ve(S,2)),null!=(C=ve(S,3))&&(C=I(C),K(k.g,26),K(k.g,C.length),ne(k,k.g.end()),ne(k,C)),null!=(C=ve(S,4))&&(C=I(C),K(k.g,34),K(k.g,C.length),ne(k,k.g.end()),ne(k,C)),ke(S,k),E=re(E),x.call(w,O,E)}}h=h.data;break e;default:h={}}}switch(l=h,f=c.stream,c.type){case"video":o.pushTexture2d(Object.assign(Object.assign({},l),{stream:f,timestamp:r}));break;case"detections":(d=l).stream=f,d.timestamp=r,o.pushDetectionList(d);break;default:throw Error("Unknown input config type: '"+c.type+"'")}}return p.i.send(o),y(n,p.C,4);case 4:o.delete(),n.g=0}})})},t.onResults=function(e,t){this.listeners[t||"$"]=e},k("Solution",et),k("OptionType",{BOOL:0,NUMBER:1,aa:2,0:"BOOL",1:"NUMBER",2:"STRING"});var at={files:[{url:"face_mesh_solution_packed_assets_loader.js"},{simd:!0,url:"face_mesh_solution_simd_wasm_bin.js"},{simd:!1,url:"face_mesh_solution_wasm_bin.js"}],graph:{url:"face_mesh.binarypb"},listeners:[{wants:["multi_face_geometry","image_transformed","multi_face_landmarks"],outs:{image:"image_transformed",multiFaceGeometry:{type:"proto_list",stream:"multi_face_geometry",transform:function(e){return e.map(it)}},multiFaceLandmarks:{type:"proto_list",stream:"multi_face_landmarks",transform:function(e){return e.map(function(e){return Oe(Be(e),De).map(Ke)})}}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},enableFaceGeometry:{type:0,graphOptionXref:{calculatorName:"EnableFaceGeometryConstant",calculatorType:"ConstantSidePacketCalculator",fieldName:"bool_value"}},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumFaces:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorNumFaces",fieldName:"int_value"}},refineLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorRefineLandmarks",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facelandmarkfrontgpu__facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"facelandmarkfrontgpu__facelandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}},cameraNear:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"near"}},cameraFar:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"far"}},cameraVerticalFovDegrees:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"vertical_fov_degrees"}}}},st=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],ut=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],ct=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],lt=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],ft=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],dt=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],pt=[].concat(u(st),u(ut),u(ct),u(lt),u(ft),u(dt));function ht(e){e=e||{},e=Object.assign(Object.assign({},at),e),this.g=new et(e)}(t=ht.prototype).close=function(){return this.g.close(),Promise.resolve()},t.onResults=function(e){this.g.onResults(e)},t.initialize=function(){return _e(this,function e(){var t=this;return E(e,function(e){return y(e,t.g.initialize(),0)})})},t.reset=function(){this.g.reset()},t.send=function(e){return _e(this,function t(){var n=this;return E(t,function(t){return y(t,n.g.send(e),0)})})},t.setOptions=function(e){this.g.setOptions(e)},k("FACE_GEOMETRY",{Layout:{COLUMN_MAJOR:0,ROW_MAJOR:1,0:"COLUMN_MAJOR",1:"ROW_MAJOR"},PrimitiveType:{TRIANGLE:0,0:"TRIANGLE"},VertexType:{VERTEX_PT:0,0:"VERTEX_PT"},DEFAULT_CAMERA_PARAMS:{verticalFovDegrees:63,near:1,far:1e4}}),k("FaceMesh",ht),k("FACEMESH_LIPS",st),k("FACEMESH_LEFT_EYE",ut),k("FACEMESH_LEFT_EYEBROW",ct),k("FACEMESH_LEFT_IRIS",[[474,475],[475,476],[476,477],[477,474]]),k("FACEMESH_RIGHT_EYE",lt),k("FACEMESH_RIGHT_EYEBROW",ft),k("FACEMESH_RIGHT_IRIS",[[469,470],[470,471],[471,472],[472,469]]),k("FACEMESH_FACE_OVAL",dt),k("FACEMESH_CONTOURS",pt),k("FACEMESH_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),k("matrixDataToMatrix",function(e){for(var t=e.getCols(),n=e.getRows(),r=e.getPackedDataList(),o=[],i=0;i<n;i++)o.push(Array(t));for(i=0;i<n;i++)for(var a=0;a<t;a++){var s=1===e.getLayout()?i*t+a:a*n+i;o[i][a]=r[s]}return o}),k("VERSION","0.4.1633559619")}).call(this)}).call(this,n(78))},,function(e,t,n){"use strict";var r=n(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(35)),i=n(4),a=(0,o.default)((0,i.jsx)("path",{d:"m21 6.5-4 4V7c0-.55-.45-1-1-1H9.82L21 17.18V6.5zM3.27 2 2 3.27 4.73 6H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.21 0 .39-.08.54-.18L19.73 21 21 19.73 3.27 2z"}),"VideocamOff");t.default=a},function(e,t,n){"use strict";var r=n(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(35)),i=n(4),a=(0,o.default)((0,i.jsx)("path",{d:"M19 11h-1.7c0 .74-.16 1.43-.43 2.05l1.23 1.23c.56-.98.9-2.09.9-3.28zm-4.02.17c0-.06.02-.11.02-.17V5c0-1.66-1.34-3-3-3S9 3.34 9 5v.18l5.98 5.99zM4.27 3 3 4.27l6.01 6.01V11c0 1.66 1.33 3 2.99 3 .22 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c.91-.13 1.77-.45 2.54-.9L19.73 21 21 19.73 4.27 3z"}),"MicOff");t.default=a},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return m}),n.d(t,"f",function(){return g});var r,o=n(1);!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));var i=function(e){return e};var a="beforeunload",s="hashchange",u="popstate";function c(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,s=n.history;function c(){var e=n.location,t=e.pathname,r=e.search,o=e.hash,a=s.state||{};return[a.idx,i({pathname:t,search:r,hash:o,state:a.usr||null,key:a.key||"default"})]}var l=null;n.addEventListener(u,function(){if(l)x.call(l),l=null;else{var e=r.Pop,t=c(),n=t[0],o=t[1];if(x.length){if(null!=n){var i=y-n;i&&(l={action:e,location:o,retry:function(){R(-1*i)}},R(i))}}else k(e)}});var f=r.Pop,d=c(),y=d[0],b=d[1],w=h(),x=h();function O(e){return"string"===typeof e?e:m(e)}function E(e,t){return void 0===t&&(t=null),i(Object(o.a)({pathname:b.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:v()}))}function S(e,t){return[{usr:e.state,key:e.key,idx:t},O(e)]}function C(e,t,n){return!x.length||(x.call({action:e,location:t,retry:n}),!1)}function k(e){f=e;var t=c();y=t[0],b=t[1],w.call({action:f,location:b})}function R(e){s.go(e)}return null==y&&(y=0,s.replaceState(Object(o.a)({},s.state,{idx:y}),"")),{get action(){return f},get location(){return b},createHref:O,push:function e(t,o){var i=r.Push,a=E(t,o);if(C(i,a,function(){e(t,o)})){var u=S(a,y+1),c=u[0],l=u[1];try{s.pushState(c,"",l)}catch(f){n.location.assign(l)}k(i)}},replace:function e(t,n){var o=r.Replace,i=E(t,n);if(C(o,i,function(){e(t,n)})){var a=S(i,y),u=a[0],c=a[1];s.replaceState(u,"",c),k(o)}},go:R,back:function(){R(-1)},forward:function(){R(1)},listen:function(e){return w.push(e)},block:function(e){var t=x.push(e);return 1===x.length&&n.addEventListener(a,p),function(){t(),x.length||n.removeEventListener(a,p)}}}}function l(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,c=n.history;function l(){var e=g(n.location.hash.substr(1)),t=e.pathname,r=void 0===t?"/":t,o=e.search,a=void 0===o?"":o,s=e.hash,u=void 0===s?"":s,l=c.state||{};return[l.idx,i({pathname:r,search:a,hash:u,state:l.usr||null,key:l.key||"default"})]}var f=null;function d(){if(f)E.call(f),f=null;else{var e=r.Pop,t=l(),n=t[0],o=t[1];if(E.length){if(null!=n){var i=w-n;i&&(f={action:e,location:o,retry:function(){P(-1*i)}},P(i))}}else j(e)}}n.addEventListener(u,d),n.addEventListener(s,function(){m(l()[1])!==m(x)&&d()});var y=r.Pop,b=l(),w=b[0],x=b[1],O=h(),E=h();function S(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var r=n.location.href,o=r.indexOf("#");t=-1===o?r:r.slice(0,o)}return t}()+"#"+("string"===typeof e?e:m(e))}function C(e,t){return void 0===t&&(t=null),i(Object(o.a)({pathname:x.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:v()}))}function k(e,t){return[{usr:e.state,key:e.key,idx:t},S(e)]}function R(e,t,n){return!E.length||(E.call({action:e,location:t,retry:n}),!1)}function j(e){y=e;var t=l();w=t[0],x=t[1],O.call({action:y,location:x})}function P(e){c.go(e)}return null==w&&(w=0,c.replaceState(Object(o.a)({},c.state,{idx:w}),"")),{get action(){return y},get location(){return x},createHref:S,push:function e(t,o){var i=r.Push,a=C(t,o);if(R(i,a,function(){e(t,o)})){var s=k(a,w+1),u=s[0],l=s[1];try{c.pushState(u,"",l)}catch(f){n.location.assign(l)}j(i)}},replace:function e(t,n){var o=r.Replace,i=C(t,n);if(R(o,i,function(){e(t,n)})){var a=k(i,w),s=a[0],u=a[1];c.replaceState(s,"",u),j(o)}},go:P,back:function(){P(-1)},forward:function(){P(1)},listen:function(e){return O.push(e)},block:function(e){var t=E.push(e);return 1===E.length&&n.addEventListener(a,p),function(){t(),E.length||n.removeEventListener(a,p)}}}}function f(e){void 0===e&&(e={});var t=e,n=t.initialEntries,a=void 0===n?["/"]:n,s=t.initialIndex,u=a.map(function(e){return i(Object(o.a)({pathname:"/",search:"",hash:"",state:null,key:v()},"string"===typeof e?g(e):e))}),c=d(null==s?u.length-1:s,0,u.length-1),l=r.Pop,f=u[c],p=h(),y=h();function b(e,t){return void 0===t&&(t=null),i(Object(o.a)({pathname:f.pathname,search:"",hash:""},"string"===typeof e?g(e):e,{state:t,key:v()}))}function w(e,t,n){return!y.length||(y.call({action:e,location:t,retry:n}),!1)}function x(e,t){l=e,f=t,p.call({action:l,location:f})}function O(e){var t=d(c+e,0,u.length-1),n=r.Pop,o=u[t];w(n,o,function(){O(e)})&&(c=t,x(n,o))}return{get index(){return c},get action(){return l},get location(){return f},createHref:function(e){return"string"===typeof e?e:m(e)},push:function e(t,n){var o=r.Push,i=b(t,n);w(o,i,function(){e(t,n)})&&(c+=1,u.splice(c,u.length,i),x(o,i))},replace:function e(t,n){var o=r.Replace,i=b(t,n);w(o,i,function(){e(t,n)})&&(u[c]=i,x(o,i))},go:O,back:function(){O(-1)},forward:function(){O(1)},listen:function(e){return p.push(e)},block:function(e){return y.push(e)}}}function d(e,t,n){return Math.min(Math.max(e,t),n)}function p(e){e.preventDefault(),e.returnValue=""}function h(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter(function(e){return e!==t})}},call:function(t){e.forEach(function(e){return e&&e(t)})}}}function v(){return Math.random().toString(36).substr(2,8)}function m(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,o=void 0===r?"":r,i=e.hash,a=void 0===i?"":i;return o&&"?"!==o&&(n+="?"===o.charAt(0)?o:"?"+o),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function g(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}},,function(e,t,n){"use strict";var r,o=n(201),i=Object.prototype.toString,a=(r=Object.create(null),function(e){var t=i.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function s(e){return e=e.toLowerCase(),function(t){return a(t)===e}}function u(e){return Array.isArray(e)}function c(e){return"undefined"===typeof e}var l=s("ArrayBuffer");function f(e){return null!==e&&"object"===typeof e}function d(e){if("object"!==a(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var p=s("Date"),h=s("File"),v=s("Blob"),m=s("FileList");function g(e){return"[object Function]"===i.call(e)}var y=s("URLSearchParams");function b(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),u(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var w,x=(w="undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return w&&e instanceof w});e.exports={isArray:u,isArrayBuffer:l,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return e&&("function"===typeof FormData&&e instanceof FormData||"[object FormData]"===i.call(e)||g(e.toString)&&"[object FormData]"===e.toString())},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:f,isPlainObject:d,isUndefined:c,isDate:p,isFile:h,isBlob:v,isFunction:g,isStream:function(e){return f(e)&&g(e.pipe)},isURLSearchParams:y,isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!==typeof window&&"undefined"!==typeof document},forEach:b,merge:function e(){var t={};function n(n,r){d(t[r])&&d(n)?t[r]=e(t[r],n):d(n)?t[r]=e({},n):u(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)b(arguments[r],n);return t},extend:function(e,t,n){return b(t,function(t,r){e[r]=n&&"function"===typeof t?o(t,n):t}),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,o,i,a={};t=t||{};do{for(o=(r=Object.getOwnPropertyNames(e)).length;o-- >0;)a[i=r[o]]||(t[i]=e[i],a[i]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:a,kindOfTest:s,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:x,isFileList:m}},function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return h}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return c});var r=n(0),o=n(177),i=(n(1),n(125),n(174),n(59)),a=n(89),s={}.hasOwnProperty,u=Object(r.createContext)("undefined"!==typeof HTMLElement?Object(o.a)({key:"css"}):null);u.Provider;var c=function(e){return Object(r.forwardRef)(function(t,n){var o=Object(r.useContext)(u);return e(t,o,n)})},l=Object(r.createContext)({});var f=r.useInsertionEffect?r.useInsertionEffect:function(e){e()};function d(e){f(e)}var p="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",h=function(e,t){var n={};for(var r in t)s.call(t,r)&&(n[r]=t[r]);return n[p]=e,n},v=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;Object(i.c)(t,n,r);d(function(){return Object(i.b)(t,n,r)});return null},m=c(function(e,t,n){var o=e.css;"string"===typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var u=e[p],c=[o],f="";"string"===typeof e.className?f=Object(i.a)(t.registered,c,e.className):null!=e.className&&(f=e.className+" ");var d=Object(a.a)(c,void 0,Object(r.useContext)(l));f+=t.key+"-"+d.name;var h={};for(var m in e)s.call(e,m)&&"css"!==m&&m!==p&&(h[m]=e[m]);return h.ref=n,h.className=f,Object(r.createElement)(r.Fragment,null,Object(r.createElement)(v,{cache:t,serialized:d,isStringTag:"string"===typeof u}),Object(r.createElement)(u,h))})},function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return u});n(25),n(1),n(187),n(80);var r={xs:0,sm:600,md:900,lg:1200,xl:1536},o={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function i(e,t,n){var i=e.theme||{};if(Array.isArray(t)){var a=i.breakpoints||o;return t.reduce(function(e,r,o){return e[a.up(a.keys[o])]=n(t[o]),e},{})}if("object"===typeof t){var s=i.breakpoints||o;return Object.keys(t).reduce(function(e,o){if(-1!==Object.keys(s.values||r).indexOf(o)){e[s.up(o)]=n(t[o],o)}else{var i=o;e[i]=t[i]}return e},{})}return n(t)}function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce(function(e,n){return e[t.up(n)]={},e},{}))||{}}function s(e,t){return e.reduce(function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e},t)}function u(e){var t,n=e.values,r=e.breakpoints,o=e.base||function(e,t){if("object"!==typeof e)return{};var n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(function(t,r){r<e.length&&(n[t]=!0)}):r.forEach(function(t){null!=e[t]&&(n[t]=!0)}),n}(n,r),i=Object.keys(o);return 0===i.length?n:i.reduce(function(e,r,o){return Array.isArray(n)?(e[r]=null!=n[o]?n[o]:n[t],t=o):"object"===typeof n?(e[r]=null!=n[r]?n[r]:n[t],t=r):e[r]=n,e},{})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenViduLogger=void 0;var r=n(210),o=n(327),i=n(213),a=function(){function e(){this.JSNLOG_URL="/openvidu/elk/openvidu-browser-logs",this.MAX_JSNLOG_BATCH_LOG_MESSAGES=100,this.MAX_MSECONDS_BATCH_MESSAGES=5e3,this.MAX_LENGTH_STRING_JSON=1e3,this.defaultConsoleLogger=new o.ConsoleLogger(window.console),this.isProdMode=!1,this.isJSNLogSetup=!1}return e.configureJSNLog=function(e,t){var n=this;try{if(window.LOG_JSNLOG_RESULTS||this.instance&&e.isAtLeastPro&&this.instance.isOpenViduBrowserLogsDebugActive(e)&&this.instance.canConfigureJSNLog(e,this.instance)){e.sendBrowserLogs===i.OpenViduLoggerConfiguration.debug_app&&this.instance.replaceWindowConsole(),this.instance.isJSNLogSetup=!1,this.instance.info("Configuring JSNLogs.");var o=e.finalUserId,a=e.session.sessionId;this.instance.currentAppender=r.JL.createAjaxAppender("appender-".concat(o,"-").concat(a)),this.instance.currentAppender.setOptions({beforeSend:function(e){var r=e.onreadystatechange;e.onreadystatechange=function(){n.isInvalidResponse(e)&&(Object.defineProperty(e,"readyState",{value:4}),Object.defineProperty(e,"status",{value:200}),n.instance.disableLogger()),r()},e.setRequestHeader("Authorization","Basic "+btoa("".concat(o,"%/%").concat(a)+":"+t)),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("OV-Final-User-Id",o),e.setRequestHeader("OV-Session-Id",a),e.setRequestHeader("OV-Token",t)},maxBatchSize:1e3,batchSize:this.instance.MAX_JSNLOG_BATCH_LOG_MESSAGES,batchTimeout:this.instance.MAX_MSECONDS_BATCH_MESSAGES});r.JL.setOptions({defaultAjaxUrl:e.httpUri+this.instance.JSNLOG_URL,serialize:function(e){var t=JSON.stringify(e,function(){var e=new WeakSet;return function(t,n){if("object"===typeof n&&null!=n){if(e.has(n)||HTMLElement&&n instanceof HTMLElement)return;e.add(n)}return n}}());return t.length>n.instance.MAX_LENGTH_STRING_JSON&&(t="".concat(t.substring(0,n.instance.MAX_LENGTH_STRING_JSON),"...")),window.LOG_JSNLOG_RESULTS&&console.log(t),t},enabled:!0}),(0,r.JL)().setOptions({appenders:[this.instance.currentAppender]}),this.instance.isJSNLogSetup=!0,this.instance.loggingSessionId=a,this.instance.info("JSNLog configured.")}}catch(s){console.error("Error configuring JSNLog: "),console.error(s),this.instance.disableLogger()}},e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.isInvalidResponse=function(e){return 401==e.status||403==e.status||404==e.status||0==e.status},e.prototype.canConfigureJSNLog=function(e,t){return e.session.sessionId!=t.loggingSessionId},e.prototype.isOpenViduBrowserLogsDebugActive=function(e){return e.sendBrowserLogs===i.OpenViduLoggerConfiguration.debug||e.sendBrowserLogs===i.OpenViduLoggerConfiguration.debug_app},e.prototype.getConsoleWithJSNLog=function(){return e=this,{log:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.defaultConsoleLogger.log.apply(e.defaultConsoleLogger.logger,arguments),e.isJSNLogSetup&&(0,r.JL)().info(arguments)},info:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.defaultConsoleLogger.info.apply(e.defaultConsoleLogger.logger,arguments),e.isJSNLogSetup&&(0,r.JL)().info(arguments)},debug:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.defaultConsoleLogger.debug.apply(e.defaultConsoleLogger.logger,arguments)},warn:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.defaultConsoleLogger.warn.apply(e.defaultConsoleLogger.logger,arguments),e.isJSNLogSetup&&(0,r.JL)().warn(arguments)},error:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.defaultConsoleLogger.error.apply(e.defaultConsoleLogger.logger,arguments),e.isJSNLogSetup&&(0,r.JL)().error(arguments)}};var e},e.prototype.replaceWindowConsole=function(){window.console=this.defaultConsoleLogger.logger,window.console.log=this.getConsoleWithJSNLog().log,window.console.info=this.getConsoleWithJSNLog().info,window.console.debug=this.getConsoleWithJSNLog().debug,window.console.warn=this.getConsoleWithJSNLog().warn,window.console.error=this.getConsoleWithJSNLog().error},e.prototype.disableLogger=function(){r.JL.setOptions({enabled:!1}),this.isJSNLogSetup=!1,this.loggingSessionId=void 0,this.currentAppender=void 0,window.console=this.defaultConsoleLogger.logger,window.console.log=this.defaultConsoleLogger.log,window.console.info=this.defaultConsoleLogger.info,window.console.debug=this.defaultConsoleLogger.debug,window.console.warn=this.defaultConsoleLogger.warn,window.console.error=this.defaultConsoleLogger.error},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isProdMode||this.defaultConsoleLogger.log.apply(this.defaultConsoleLogger.logger,arguments),this.isJSNLogSetup&&(0,r.JL)().info(arguments)},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isProdMode||this.defaultConsoleLogger.debug.apply(this.defaultConsoleLogger.logger,arguments)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isProdMode||this.defaultConsoleLogger.info.apply(this.defaultConsoleLogger.logger,arguments),this.isJSNLogSetup&&(0,r.JL)().info(arguments)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.defaultConsoleLogger.warn.apply(this.defaultConsoleLogger.logger,arguments),this.isJSNLogSetup&&(0,r.JL)().warn(arguments)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.defaultConsoleLogger.error.apply(this.defaultConsoleLogger.logger,arguments),this.isJSNLogSetup&&(0,r.JL)().error(arguments)},e.prototype.flush=function(){this.isJSNLogSetup&&null!=this.currentAppender&&this.currentAppender.sendBatch()},e.prototype.enableProdMode=function(){this.isProdMode=!0},e}();t.OpenViduLogger=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseStartTime=function(e){return d(e,u)},t.parseEndTime=function(e){return d(e,c)},t.randomString=function(){return Math.random().toString(36).substr(2,5)},t.queryString=function(e){return Object.keys(e).map(function(t){return"".concat(t,"=").concat(e[t])}).join("&")},t.getSDK=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.default,a=p(t);if(a&&o(a))return Promise.resolve(a);return new Promise(function(r,o){if(h[e])h[e].push({resolve:r,reject:o});else{h[e]=[{resolve:r,reject:o}];var a=function(t){h[e].forEach(function(e){return e.resolve(t)})};if(n){var s=window[n];window[n]=function(){s&&s(),a(p(t))}}i(e,function(r){r?(h[e].forEach(function(e){return e.reject(r)}),h[e]=null):n||a(p(t))})}})},t.getConfig=function(e,t){return(0,o.default)(t.config,e.config)},t.omit=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(var i=(t=[]).concat.apply(t,r),a={},s=Object.keys(e),u=0,c=s;u<c.length;u++){var l=c[u];-1===i.indexOf(l)&&(a[l]=e[l])}return a},t.callPlayer=function(e){var t;if(!this.player||!this.player[e]){var n="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(e,"%c \u2013 ");return this.player?this.player[e]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return(t=this.player)[e].apply(t,o)},t.isMediaStream=function(e){return"undefined"!==typeof window&&"undefined"!==typeof window.MediaStream&&e instanceof window.MediaStream},t.isBlobUrl=function(e){return/^blob:/.test(e)},t.supportsWebKitPresentationMode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("video"),t=!1===/iPhone|iPod/.test(navigator.userAgent);return e.webkitSupportsPresentationMode&&"function"===typeof e.webkitSetPresentationMode&&t};var r=i(n(370)),o=i(n(229));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=/[?&#](?:start|t)=([0-9hms]+)/,c=/[?&#]end=([0-9hms]+)/,l=/(\d+)(h|m|s)/g,f=/^\d+$/;function d(e,t){if(!(e instanceof Array)){var n=e.match(t);if(n){var r=n[1];if(r.match(l))return function(e){var t=0,n=l.exec(e);for(;null!==n;){var r=n,o=a(r,3),i=o[1],s=o[2];"h"===s&&(t+=60*parseInt(i,10)*60),"m"===s&&(t+=60*parseInt(i,10)),"s"===s&&(t+=parseInt(i,10)),n=l.exec(e)}return t}(r);if(f.test(r))return parseInt(r)}}}function p(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}var h={}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),o=n(116);function i(){return r.useContext(o.a)}},function(e,t,n){"use strict";function r(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce(function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e},{})}n.d(t,"a",function(){return r})},function(e,t,n){var r;!function(t,n){"use strict";"object"===typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!==typeof window?window:this,function(n,o){"use strict";var i=[],a=Object.getPrototypeOf,s=i.slice,u=i.flat?function(e){return i.flat.call(e)}:function(e){return i.concat.apply([],e)},c=i.push,l=i.indexOf,f={},d=f.toString,p=f.hasOwnProperty,h=p.toString,v=h.call(Object),m={},g=function(e){return"function"===typeof e&&"number"!==typeof e.nodeType&&"function"!==typeof e.item},y=function(e){return null!=e&&e===e.window},b=n.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function x(e,t,n){var r,o,i=(n=n||b).createElement("script");if(i.text=e,t)for(r in w)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function O(e){return null==e?e+"":"object"===typeof e||"function"===typeof e?f[d.call(e)]||"object":typeof e}var E=function e(t,n){return new e.fn.init(t,n)};function S(e){var t=!!e&&"length"in e&&e.length,n=O(e);return!g(e)&&!y(e)&&("array"===n||0===t||"number"===typeof t&&t>0&&t-1 in e)}E.fn=E.prototype={jquery:"3.6.0",constructor:E,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return E.each(this,e)},map:function(e){return this.pushStack(E.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:i.sort,splice:i.splice},E.extend=E.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"===typeof a&&(c=a,a=arguments[s]||{},s++),"object"===typeof a||g(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(c&&r&&(E.isPlainObject(r)||(o=Array.isArray(r)))?(n=a[t],i=o&&!Array.isArray(n)?[]:o||E.isPlainObject(n)?n:{},o=!1,a[t]=E.extend(c,i,r)):void 0!==r&&(a[t]=r));return a},E.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e))&&(!(t=a(e))||"function"===typeof(n=p.call(t,"constructor")&&t.constructor)&&h.call(n)===v)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){x(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(S(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(S(Object(e))?E.merge(n,"string"===typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,o,i=0,a=[];if(S(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&a.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&a.push(o);return u(a)},guid:1,support:m}),"function"===typeof Symbol&&(E.fn[Symbol.iterator]=i[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){f["[object "+t+"]"]=t.toLowerCase()});var C=function(e){var t,n,r,o,i,a,s,u,c,l,f,d,p,h,v,m,g,y,b,w="sizzle"+1*new Date,x=e.document,O=0,E=0,S=ue(),C=ue(),k=ue(),R=ue(),j=function(e,t){return e===t&&(f=!0),0},P={}.hasOwnProperty,T=[],_=T.pop,I=T.push,A=T.push,N=T.slice,M=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},D="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",F="(?:\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",B="\\["+L+"*("+F+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+L+"*\\]",V=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",U=new RegExp(L+"+","g"),W=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),z=new RegExp("^"+L+"*,"+L+"*"),H=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),q=new RegExp(L+"|>"),G=new RegExp(V),K=new RegExp("^"+F+"$"),$={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+D+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/HTML$/i,Y=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){d()},ae=we(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{A.apply(T=N.call(x.childNodes),x.childNodes),T[x.childNodes.length].nodeType}catch(Ce){A={apply:T.length?function(e,t){I.apply(e,N.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,r,o){var i,s,c,l,f,h,g,y=t&&t.ownerDocument,x=t?t.nodeType:9;if(r=r||[],"string"!==typeof e||!e||1!==x&&9!==x&&11!==x)return r;if(!o&&(d(t),t=t||p,v)){if(11!==x&&(f=Z.exec(e)))if(i=f[1]){if(9===x){if(!(c=t.getElementById(i)))return r;if(c.id===i)return r.push(c),r}else if(y&&(c=y.getElementById(i))&&b(t,c)&&c.id===i)return r.push(c),r}else{if(f[2])return A.apply(r,t.getElementsByTagName(e)),r;if((i=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return A.apply(r,t.getElementsByClassName(i)),r}if(n.qsa&&!R[e+" "]&&(!m||!m.test(e))&&(1!==x||"object"!==t.nodeName.toLowerCase())){if(g=e,y=t,1===x&&(q.test(e)||H.test(e))){for((y=ee.test(e)&&ge(t.parentNode)||t)===t&&n.scope||((l=t.getAttribute("id"))?l=l.replace(re,oe):t.setAttribute("id",l=w)),s=(h=a(e)).length;s--;)h[s]=(l?"#"+l:":scope")+" "+be(h[s]);g=h.join(",")}try{return A.apply(r,y.querySelectorAll(g)),r}catch(O){R(e,!0)}finally{l===w&&t.removeAttribute("id")}}}return u(e.replace(W,"$1"),t,r,o)}function ue(){var e=[];return function t(n,o){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=o}}function ce(e){return e[w]=!0,e}function le(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(Ce){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){for(var n=e.split("|"),o=n.length;o--;)r.attrHandle[n[o]]=t}function de(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ve(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return ce(function(t){return t=+t,ce(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function ge(e){return e&&"undefined"!==typeof e.getElementsByTagName&&e}for(t in n=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!X.test(t||n&&n.nodeName||"HTML")},d=se.setDocument=function(e){var t,o,a=e?e.ownerDocument||e:x;return a!=p&&9===a.nodeType&&a.documentElement?(h=(p=a).documentElement,v=!i(p),x!=p&&(o=p.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",ie,!1):o.attachEvent&&o.attachEvent("onunload",ie)),n.scope=le(function(e){return h.appendChild(e).appendChild(p.createElement("div")),"undefined"!==typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),n.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=le(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(p.getElementsByClassName),n.getById=le(function(e){return h.appendChild(e).id=w,!p.getElementsByName||!p.getElementsByName(w).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if("undefined"!==typeof t.getElementById&&v){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n="undefined"!==typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if("undefined"!==typeof t.getElementById&&v){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return"undefined"!==typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(e,t){if("undefined"!==typeof t.getElementsByClassName&&v)return t.getElementsByClassName(e)},g=[],m=[],(n.qsa=Q.test(p.querySelectorAll))&&(le(function(e){var t;h.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+L+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+L+"*(?:value|"+D+")"),e.querySelectorAll("[id~="+w+"-]").length||m.push("~="),(t=p.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\["+L+"*name"+L+"*="+L+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+L+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Q.test(y=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&le(function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),g.push("!=",V)}),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=Q.test(h.compareDocumentPosition),b=t||Q.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==p||e.ownerDocument==x&&b(x,e)?-1:t==p||t.ownerDocument==x&&b(x,t)?1:l?M(l,e)-M(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!o||!i)return e==p?-1:t==p?1:o?-1:i?1:l?M(l,e)-M(l,t):0;if(o===i)return de(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?de(a[r],s[r]):a[r]==x?-1:s[r]==x?1:0},p):p},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(d(e),n.matchesSelector&&v&&!R[t+" "]&&(!g||!g.test(t))&&(!m||!m.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(Ce){R(t,!0)}return se(t,p,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=p&&d(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=p&&d(e);var o=r.attrHandle[t.toLowerCase()],i=o&&P.call(r.attrHandle,t.toLowerCase())?o(e,t,!v):void 0;return void 0!==i?i:n.attributes||!v?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},se.escape=function(e){return(e+"").replace(re,oe)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],o=0,i=0;if(f=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(j),f){for(;t=e[i++];)t===e[i]&&(o=r.push(i));for(;o--;)e.splice(r[o],1)}return l=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"===typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(r=se.selectors={cacheLength:50,createPseudo:ce,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return $.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&G.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+L+")"+e+"("+L+"|$)"))&&S(e,function(e){return t.test("string"===typeof e.className&&e.className||"undefined"!==typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var o=se.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(U," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,u){var c,l,f,d,p,h,v=i!==a?"nextSibling":"previousSibling",m=t.parentNode,g=s&&t.nodeName.toLowerCase(),y=!u&&!s,b=!1;if(m){if(i){for(;v;){for(d=t;d=d[v];)if(s?d.nodeName.toLowerCase()===g:1===d.nodeType)return!1;h=v="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&y){for(b=(p=(c=(l=(f=(d=m)[w]||(d[w]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===O&&c[1])&&c[2],d=p&&m.childNodes[p];d=++p&&d&&d[v]||(b=p=0)||h.pop();)if(1===d.nodeType&&++b&&d===t){l[e]=[O,p,b];break}}else if(y&&(b=p=(c=(l=(f=(d=t)[w]||(d[w]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===O&&c[1]),!1===b)for(;(d=++p&&d&&d[v]||(b=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==g:1!==d.nodeType)||!++b||(y&&((l=(f=d[w]||(d[w]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]=[O,b]),d!==t)););return(b-=o)===r||b%r===0&&b/r>=0}}},PSEUDO:function(e,t){var n,o=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return o[w]?o(t):o.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ce(function(e,n){for(var r,i=o(e,t),a=i.length;a--;)e[r=M(e,i[a])]=!(n[r]=i[a])}):function(e){return o(e,0,n)}):o}},pseudos:{not:ce(function(e){var t=[],n=[],r=s(e.replace(W,"$1"));return r[w]?ce(function(e,t,n,o){for(var i,a=r(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}}),has:ce(function(e){return function(t){return se(e,t).length>0}}),contains:ce(function(e){return e=e.replace(te,ne),function(t){return(t.textContent||o(t)).indexOf(e)>-1}}),lang:ce(function(e){return K.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ve(!1),disabled:ve(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me(function(){return[0]}),last:me(function(e,t){return[t-1]}),eq:me(function(e,t,n){return[n<0?n+t:n]}),even:me(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:me(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:me(function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:me(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=he(t);function ye(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function we(e,t,n){var r=t.dir,o=t.next,i=o||r,a=n&&"parentNode"===i,s=E++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,u){var c,l,f,d=[O,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(l=(f=t[w]||(t[w]={}))[t.uniqueID]||(f[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[i])&&c[0]===O&&c[1]===s)return d[2]=c[2];if(l[i]=d,d[2]=e(t,n,u))return!0}return!1}}function xe(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function Oe(e,t,n,r,o){for(var i,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(s)));return a}function Ee(e,t,n,r,o,i){return r&&!r[w]&&(r=Ee(r)),o&&!o[w]&&(o=Ee(o,i)),ce(function(i,a,s,u){var c,l,f,d=[],p=[],h=a.length,v=i||function(e,t,n){for(var r=0,o=t.length;r<o;r++)se(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),m=!e||!i&&t?v:Oe(v,d,e,s,u),g=n?o||(i?e:h||r)?[]:a:m;if(n&&n(m,g,s,u),r)for(c=Oe(g,p),r(c,[],s,u),l=c.length;l--;)(f=c[l])&&(g[p[l]]=!(m[p[l]]=f));if(i){if(o||e){if(o){for(c=[],l=g.length;l--;)(f=g[l])&&c.push(m[l]=f);o(null,g=[],c,u)}for(l=g.length;l--;)(f=g[l])&&(c=o?M(i,f):d[l])>-1&&(i[c]=!(a[c]=f))}}else g=Oe(g===a?g.splice(h,g.length):g),o?o(null,a,g,u):A.apply(a,g)})}function Se(e){for(var t,n,o,i=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,l=we(function(e){return e===t},s,!0),f=we(function(e){return M(t,e)>-1},s,!0),d=[function(e,n,r){var o=!a&&(r||n!==c)||((t=n).nodeType?l(e,n,r):f(e,n,r));return t=null,o}];u<i;u++)if(n=r.relative[e[u].type])d=[we(xe(d),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[w]){for(o=++u;o<i&&!r.relative[e[o].type];o++);return Ee(u>1&&xe(d),u>1&&be(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(W,"$1"),n,u<o&&Se(e.slice(u,o)),o<i&&Se(e=e.slice(o)),o<i&&be(e))}d.push(n)}return xe(d)}return ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,a=se.tokenize=function(e,t){var n,o,i,a,s,u,c,l=C[e+" "];if(l)return t?0:l.slice(0);for(s=e,u=[],c=r.preFilter;s;){for(a in n&&!(o=z.exec(s))||(o&&(s=s.slice(o[0].length)||s),u.push(i=[])),n=!1,(o=H.exec(s))&&(n=o.shift(),i.push({value:n,type:o[0].replace(W," ")}),s=s.slice(n.length)),r.filter)!(o=$[a].exec(s))||c[a]&&!(o=c[a](o))||(n=o.shift(),i.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):C(e,u).slice(0)},s=se.compile=function(e,t){var n,o=[],i=[],s=k[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=Se(t[n]))[w]?o.push(s):i.push(s);(s=k(e,function(e,t){var n=t.length>0,o=e.length>0,i=function(i,a,s,u,l){var f,h,m,g=0,y="0",b=i&&[],w=[],x=c,E=i||o&&r.find.TAG("*",l),S=O+=null==x?1:Math.random()||.1,C=E.length;for(l&&(c=a==p||a||l);y!==C&&null!=(f=E[y]);y++){if(o&&f){for(h=0,a||f.ownerDocument==p||(d(f),s=!v);m=e[h++];)if(m(f,a||p,s)){u.push(f);break}l&&(O=S)}n&&((f=!m&&f)&&g--,i&&b.push(f))}if(g+=y,n&&y!==g){for(h=0;m=t[h++];)m(b,w,a,s);if(i){if(g>0)for(;y--;)b[y]||w[y]||(w[y]=_.call(u));w=Oe(w)}A.apply(u,w),l&&!i&&w.length>0&&g+t.length>1&&se.uniqueSort(u)}return l&&(O=S,c=x),b};return n?ce(i):i}(i,o))).selector=e}return s},u=se.select=function(e,t,n,o){var i,u,c,l,f,d="function"===typeof e&&e,p=!o&&a(e=d.selector||e);if(n=n||[],1===p.length){if((u=p[0]=p[0].slice(0)).length>2&&"ID"===(c=u[0]).type&&9===t.nodeType&&v&&r.relative[u[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(u.shift().value.length)}for(i=$.needsContext.test(e)?0:u.length;i--&&(c=u[i],!r.relative[l=c.type]);)if((f=r.find[l])&&(o=f(c.matches[0].replace(te,ne),ee.test(u[0].type)&&ge(t.parentNode)||t))){if(u.splice(i,1),!(e=o.length&&be(u)))return A.apply(n,o),n;break}}return(d||s(e,p))(o,t,!v,n,!t||ee.test(e)&&ge(t.parentNode)||t),n},n.sortStable=w.split("").sort(j).join("")===w,n.detectDuplicates=!!f,d(),n.sortDetached=le(function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||fe(D,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(n);E.find=C,E.expr=C.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=C.uniqueSort,E.text=C.getText,E.isXMLDoc=C.isXML,E.contains=C.contains,E.escapeSelector=C.escape;var k=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&E(e).is(n))break;r.push(e)}return r},R=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},j=E.expr.match.needsContext;function P(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var T=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function _(e,t,n){return g(t)?E.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?E.grep(e,function(e){return e===t!==n}):"string"!==typeof t?E.grep(e,function(e){return l.call(t,e)>-1!==n}):E.filter(t,e,n)}E.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?E.find.matchesSelector(r,e)?[r]:[]:E.find.matches(e,E.grep(t,function(e){return 1===e.nodeType}))},E.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!==typeof e)return this.pushStack(E(e).filter(function(){for(t=0;t<r;t++)if(E.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)E.find(e,o[t],n);return r>1?E.uniqueSort(n):n},filter:function(e){return this.pushStack(_(this,e||[],!1))},not:function(e){return this.pushStack(_(this,e||[],!0))},is:function(e){return!!_(this,"string"===typeof e&&j.test(e)?E(e):e||[],!1).length}});var I,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||I,"string"===typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:A.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),T.test(r[1])&&E.isPlainObject(t))for(r in t)g(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=b.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(E):E.makeArray(e,this)}).prototype=E.fn,I=E(b);var N=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function D(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t=E(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(E.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,o=this.length,i=[],a="string"!==typeof e&&E(e);if(!j.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&E.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?E.uniqueSort(i):i)},index:function(e){return e?"string"===typeof e?l.call(E(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,n){return k(e,"parentNode",n)},next:function(e){return D(e,"nextSibling")},prev:function(e){return D(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,n){return k(e,"nextSibling",n)},prevUntil:function(e,t,n){return k(e,"previousSibling",n)},siblings:function(e){return R((e.parentNode||{}).firstChild,e)},children:function(e){return R(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(P(e,"template")&&(e=e.content||e),E.merge([],e.childNodes))}},function(e,t){E.fn[e]=function(n,r){var o=E.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"===typeof r&&(o=E.filter(r,o)),this.length>1&&(M[e]||E.uniqueSort(o),N.test(e)&&o.reverse()),this.pushStack(o)}});var L=/[^\x20\t\r\n\f]+/g;function F(e){return e}function B(e){throw e}function V(e,t,n,r){var o;try{e&&g(o=e.promise)?o.call(e).done(t).fail(n):e&&g(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}E.Callbacks=function(e){e="string"===typeof e?function(e){var t={};return E.each(e.match(L)||[],function(e,n){t[n]=!0}),t}(e):E.extend({},e);var t,n,r,o,i=[],a=[],s=-1,u=function(){for(o=o||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<i.length;)!1===i[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},c={add:function(){return i&&(n&&!t&&(s=i.length-1,a.push(n)),function t(n){E.each(n,function(n,r){g(r)?e.unique&&c.has(r)||i.push(r):r&&r.length&&"string"!==O(r)&&t(r)})}(arguments),n&&!t&&u()),this},remove:function(){return E.each(arguments,function(e,t){for(var n;(n=E.inArray(t,i,n))>-1;)i.splice(n,1),n<=s&&s--}),this},has:function(e){return e?E.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||t||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},E.extend({Deferred:function(e){var t=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return E.Deferred(function(n){E.each(t,function(t,r){var o=g(e[r[4]])&&e[r[4]];i[r[1]](function(){var e=o&&o.apply(this,arguments);e&&g(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(e,r,o){var i=0;function a(e,t,r,o){return function(){var s=this,u=arguments,c=function(){var n,c;if(!(e<i)){if((n=r.apply(s,u))===t.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"===typeof n||"function"===typeof n)&&n.then,g(c)?o?c.call(n,a(i,t,F,o),a(i,t,B,o)):(i++,c.call(n,a(i,t,F,o),a(i,t,B,o),a(i,t,F,t.notifyWith))):(r!==F&&(s=void 0,u=[n]),(o||t.resolveWith)(s,u))}},l=o?c:function(){try{c()}catch(n){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(n,l.stackTrace),e+1>=i&&(r!==B&&(s=void 0,u=[n]),t.rejectWith(s,u))}};e?l():(E.Deferred.getStackHook&&(l.stackTrace=E.Deferred.getStackHook()),n.setTimeout(l))}}return E.Deferred(function(n){t[0][3].add(a(0,n,g(o)?o:F,n.notifyWith)),t[1][3].add(a(0,n,g(e)?e:F)),t[2][3].add(a(0,n,g(r)?r:B))}).promise()},promise:function(e){return null!=e?E.extend(e,o):o}},i={};return E.each(t,function(e,n){var a=n[2],s=n[5];o[n[1]]=a.add,s&&a.add(function(){r=s},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(n[3].fire),i[n[0]]=function(){return i[n[0]+"With"](this===i?void 0:this,arguments),this},i[n[0]+"With"]=a.fireWith}),o.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),o=s.call(arguments),i=E.Deferred(),a=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?s.call(arguments):n,--t||i.resolveWith(r,o)}};if(t<=1&&(V(e,i.done(a(n)).resolve,i.reject,!t),"pending"===i.state()||g(o[n]&&o[n].then)))return i.then();for(;n--;)V(o[n],a(n),i.reject);return i.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&U.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},E.readyException=function(e){n.setTimeout(function(){throw e})};var W=E.Deferred();function z(){b.removeEventListener("DOMContentLoaded",z),n.removeEventListener("load",z),E.ready()}E.fn.ready=function(e){return W.then(e).catch(function(e){E.readyException(e)}),this},E.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==e&&--E.readyWait>0||W.resolveWith(b,[E]))}}),E.ready.then=W.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?n.setTimeout(E.ready):(b.addEventListener("DOMContentLoaded",z),n.addEventListener("load",z));var H=function e(t,n,r,o,i,a,s){var u=0,c=t.length,l=null==r;if("object"===O(r))for(u in i=!0,r)e(t,n,u,r[u],!0,a,s);else if(void 0!==o&&(i=!0,g(o)||(s=!0),l&&(s?(n.call(t,o),n=null):(l=n,n=function(e,t,n){return l.call(E(e),n)})),n))for(;u<c;u++)n(t[u],r,s?o:o.call(t[u],u,n(t[u],r)));return i?t:l?n.call(t):c?n(t[0],r):a},q=/^-ms-/,G=/-([a-z])/g;function K(e,t){return t.toUpperCase()}function $(e){return e.replace(q,"ms-").replace(G,K)}var X=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Y(){this.expando=E.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},X(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"===typeof t)o[$(t)]=n;else for(r in t)o[$(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][$(t)]},access:function(e,t,n){return void 0===t||t&&"string"===typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map($):(t=$(t))in r?[t]:t.match(L)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||E.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!E.isEmptyObject(t)}};var J=new Y,Q=new Y,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ee=/[A-Z]/g;function te(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ee,"-$&").toLowerCase(),"string"===typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Z.test(e)?JSON.parse(e):e)}(n)}catch(o){}Q.set(e,t,n)}else n=void 0;return n}E.extend({hasData:function(e){return Q.hasData(e)||J.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),E.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=Q.get(i),1===i.nodeType&&!J.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=$(r.slice(5)),te(i,r,o[r]));J.set(i,"hasDataAttrs",!0)}return o}return"object"===typeof e?this.each(function(){Q.set(this,e)}):H(this,function(t){var n;if(i&&void 0===t)return void 0!==(n=Q.get(i,e))?n:void 0!==(n=te(i,e))?n:void 0;this.each(function(){Q.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),E.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=J.get(e,t),n&&(!r||Array.isArray(n)?r=J.access(e,t,E.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=E.queue(e,t),r=n.length,o=n.shift(),i=E._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,function(){E.dequeue(e,t)},i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:E.Callbacks("once memory").add(function(){J.remove(e,[t+"queue",n])})})}}),E.fn.extend({queue:function(e,t){var n=2;return"string"!==typeof e&&(t=e,e="fx",n--),arguments.length<n?E.queue(this[0],e):void 0===t?this:this.each(function(){var n=E.queue(this,e,t);E._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&E.dequeue(this,e)})},dequeue:function(e){return this.each(function(){E.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=E.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!==typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=J.get(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var ne=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,re=new RegExp("^(?:([+-])=|)("+ne+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ie=b.documentElement,ae=function(e){return E.contains(e.ownerDocument,e)},se={composed:!0};ie.getRootNode&&(ae=function(e){return E.contains(e.ownerDocument,e)||e.getRootNode(se)===e.ownerDocument});var ue=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ae(e)&&"none"===E.css(e,"display")};function ce(e,t,n,r){var o,i,a=20,s=r?function(){return r.cur()}:function(){return E.css(e,t,"")},u=s(),c=n&&n[3]||(E.cssNumber[t]?"":"px"),l=e.nodeType&&(E.cssNumber[t]||"px"!==c&&+u)&&re.exec(E.css(e,t));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;a--;)E.style(e,t,l+c),(1-i)*(1-(i=s()/u||.5))<=0&&(a=0),l/=i;l*=2,E.style(e,t,l+c),n=n||[]}return n&&(l=+l||+u||0,o=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=o)),o}var le={};function fe(e){var t,n=e.ownerDocument,r=e.nodeName,o=le[r];return o||(t=n.body.appendChild(n.createElement(r)),o=E.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),le[r]=o,o)}function de(e,t){for(var n,r,o=[],i=0,a=e.length;i<a;i++)(r=e[i]).style&&(n=r.style.display,t?("none"===n&&(o[i]=J.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&ue(r)&&(o[i]=fe(r))):"none"!==n&&(o[i]="none",J.set(r,"display",n)));for(i=0;i<a;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}E.fn.extend({show:function(){return de(this,!0)},hide:function(){return de(this)},toggle:function(e){return"boolean"===typeof e?e?this.show():this.hide():this.each(function(){ue(this)?E(this).show():E(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,he=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ve=/^$|^module$|\/(?:java|ecma)script/i;!function(){var e=b.createDocumentFragment().appendChild(b.createElement("div")),t=b.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),m.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,e.innerHTML="<option></option>",m.option=!!e.lastChild}();var me={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ge(e,t){var n;return n="undefined"!==typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!==typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&P(e,t)?E.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td,m.option||(me.optgroup=me.option=[1,"<select multiple='multiple'>","</select>"]);var be=/<|&#?\w+;/;function we(e,t,n,r,o){for(var i,a,s,u,c,l,f=t.createDocumentFragment(),d=[],p=0,h=e.length;p<h;p++)if((i=e[p])||0===i)if("object"===O(i))E.merge(d,i.nodeType?[i]:i);else if(be.test(i)){for(a=a||f.appendChild(t.createElement("div")),s=(he.exec(i)||["",""])[1].toLowerCase(),u=me[s]||me._default,a.innerHTML=u[1]+E.htmlPrefilter(i)+u[2],l=u[0];l--;)a=a.lastChild;E.merge(d,a.childNodes),(a=f.firstChild).textContent=""}else d.push(t.createTextNode(i));for(f.textContent="",p=0;i=d[p++];)if(r&&E.inArray(i,r)>-1)o&&o.push(i);else if(c=ae(i),a=ge(f.appendChild(i),"script"),c&&ye(a),n)for(l=0;i=a[l++];)ve.test(i.type||"")&&n.push(i);return f}var xe=/^([^.]*)(?:\.(.+)|)/;function Oe(){return!0}function Ee(){return!1}function Se(e,t){return e===function(){try{return b.activeElement}catch(e){}}()===("focus"===t)}function Ce(e,t,n,r,o,i){var a,s;if("object"===typeof t){for(s in"string"!==typeof n&&(r=r||n,n=void 0),t)Ce(e,s,n,r,t[s],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"===typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=Ee;else if(!o)return e;return 1===i&&(a=o,(o=function(e){return E().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=E.guid++)),e.each(function(){E.event.add(this,t,o,r,n)})}function ke(e,t,n){n?(J.set(e,t,!1),E.event.add(e,t,{namespace:!1,handler:function(e){var r,o,i=J.get(this,t);if(1&e.isTrigger&&this[t]){if(i.length)(E.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=s.call(arguments),J.set(this,t,i),r=n(this,t),this[t](),i!==(o=J.get(this,t))||r?J.set(this,t,!1):o={},i!==o)return e.stopImmediatePropagation(),e.preventDefault(),o&&o.value}else i.length&&(J.set(this,t,{value:E.event.trigger(E.extend(i[0],E.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===J.get(e,t)&&E.event.add(e,t,Oe)}E.event={global:{},add:function(e,t,n,r,o){var i,a,s,u,c,l,f,d,p,h,v,m=J.get(e);if(X(e))for(n.handler&&(n=(i=n).handler,o=i.selector),o&&E.find.matchesSelector(ie,o),n.guid||(n.guid=E.guid++),(u=m.events)||(u=m.events=Object.create(null)),(a=m.handle)||(a=m.handle=function(t){return"undefined"!==typeof E&&E.event.triggered!==t.type?E.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(L)||[""]).length;c--;)p=v=(s=xe.exec(t[c])||[])[1],h=(s[2]||"").split(".").sort(),p&&(f=E.event.special[p]||{},p=(o?f.delegateType:f.bindType)||p,f=E.event.special[p]||{},l=E.extend({type:p,origType:v,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&E.expr.match.needsContext.test(o),namespace:h.join(".")},i),(d=u[p])||((d=u[p]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(p,a)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,l):d.push(l),E.event.global[p]=!0)},remove:function(e,t,n,r,o){var i,a,s,u,c,l,f,d,p,h,v,m=J.hasData(e)&&J.get(e);if(m&&(u=m.events)){for(c=(t=(t||"").match(L)||[""]).length;c--;)if(p=v=(s=xe.exec(t[c])||[])[1],h=(s[2]||"").split(".").sort(),p){for(f=E.event.special[p]||{},d=u[p=(r?f.delegateType:f.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=d.length;i--;)l=d[i],!o&&v!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(d.splice(i,1),l.selector&&d.delegateCount--,f.remove&&f.remove.call(e,l));a&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,h,m.handle)||E.removeEvent(e,p,m.handle),delete u[p])}else for(p in u)E.event.remove(e,p+t[c],n,r,!0);E.isEmptyObject(u)&&J.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,a,s=new Array(arguments.length),u=E.event.fix(e),c=(J.get(this,"events")||Object.create(null))[u.type]||[],l=E.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,u)){for(a=E.event.handlers.call(this,u,c),t=0;(o=a[t++])&&!u.isPropagationStopped();)for(u.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==i.namespace&&!u.rnamespace.test(i.namespace)||(u.handleObj=i,u.data=i.data,void 0!==(r=((E.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,o,i,a,s=[],u=t.delegateCount,c=e.target;if(u&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],a={},n=0;n<u;n++)void 0===a[o=(r=t[n]).selector+" "]&&(a[o]=r.needsContext?E(o,this).index(c)>-1:E.find(o,this,null,[c]).length),a[o]&&i.push(r);i.length&&s.push({elem:c,handlers:i})}return c=this,u<t.length&&s.push({elem:c,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(E.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&P(t,"input")&&ke(t,"click",Oe),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&P(t,"input")&&ke(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&P(t,"input")&&J.get(t,"click")||P(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Oe:Ee,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Ee,isPropagationStopped:Ee,isImmediatePropagationStopped:Ee,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Oe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Oe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Oe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(e,t){E.event.special[e]={setup:function(){return ke(this,e,Se),!1},trigger:function(){return ke(this,e),!0},_default:function(){return!0},delegateType:t}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){E.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,o=e.handleObj;return r&&(r===this||E.contains(this,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),E.fn.extend({on:function(e,t,n,r){return Ce(this,e,t,n,r)},one:function(e,t,n,r){return Ce(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,E(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!==typeof t||(n=t,t=void 0),!1===n&&(n=Ee),this.each(function(){E.event.remove(this,e,n,t)})}});var Re=/<script|<style|<link/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,Pe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Te(e,t){return P(e,"table")&&P(11!==t.nodeType?t:t.firstChild,"tr")&&E(e).children("tbody")[0]||e}function _e(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ie(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ae(e,t){var n,r,o,i,a,s;if(1===t.nodeType){if(J.hasData(e)&&(s=J.get(e).events))for(o in J.remove(t,"handle events"),s)for(n=0,r=s[o].length;n<r;n++)E.event.add(t,o,s[o][n]);Q.hasData(e)&&(i=Q.access(e),a=E.extend({},i),Q.set(t,a))}}function Ne(e,t){var n=t.nodeName.toLowerCase();"input"===n&&pe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Me(e,t,n,r){t=u(t);var o,i,a,s,c,l,f=0,d=e.length,p=d-1,h=t[0],v=g(h);if(v||d>1&&"string"===typeof h&&!m.checkClone&&je.test(h))return e.each(function(o){var i=e.eq(o);v&&(t[0]=h.call(this,o,i.html())),Me(i,t,n,r)});if(d&&(i=(o=we(t,e[0].ownerDocument,!1,e,r)).firstChild,1===o.childNodes.length&&(o=i),i||r)){for(s=(a=E.map(ge(o,"script"),_e)).length;f<d;f++)c=o,f!==p&&(c=E.clone(c,!0,!0),s&&E.merge(a,ge(c,"script"))),n.call(e[f],c,f);if(s)for(l=a[a.length-1].ownerDocument,E.map(a,Ie),f=0;f<s;f++)c=a[f],ve.test(c.type||"")&&!J.access(c,"globalEval")&&E.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?E._evalUrl&&!c.noModule&&E._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},l):x(c.textContent.replace(Pe,""),c,l))}return e}function De(e,t,n){for(var r,o=t?E.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||E.cleanData(ge(r)),r.parentNode&&(n&&ae(r)&&ye(ge(r,"script")),r.parentNode.removeChild(r));return e}E.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,o,i,a,s=e.cloneNode(!0),u=ae(e);if(!m.noCloneChecked&&(1===e.nodeType||11===e.nodeType)&&!E.isXMLDoc(e))for(a=ge(s),r=0,o=(i=ge(e)).length;r<o;r++)Ne(i[r],a[r]);if(t)if(n)for(i=i||ge(e),a=a||ge(s),r=0,o=i.length;r<o;r++)Ae(i[r],a[r]);else Ae(e,s);return(a=ge(s,"script")).length>0&&ye(a,!u&&ge(e,"script")),s},cleanData:function(e){for(var t,n,r,o=E.event.special,i=0;void 0!==(n=e[i]);i++)if(X(n)){if(t=n[J.expando]){if(t.events)for(r in t.events)o[r]?E.event.remove(n,r):E.removeEvent(n,r,t.handle);n[J.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),E.fn.extend({detach:function(e){return De(this,e,!0)},remove:function(e){return De(this,e)},text:function(e){return H(this,function(e){return void 0===e?E.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Me(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Te(this,e).appendChild(e)})},prepend:function(){return Me(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Te(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Me(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Me(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(ge(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return E.clone(this,e,t)})},html:function(e){return H(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"===typeof e&&!Re.test(e)&&!me[(he.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(E.cleanData(ge(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Me(this,arguments,function(t){var n=this.parentNode;E.inArray(this,e)<0&&(E.cleanData(ge(this)),n&&n.replaceChild(t,this))},e)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){E.fn[e]=function(e){for(var n,r=[],o=E(e),i=o.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),E(o[a])[t](n),c.apply(r,n.get());return this.pushStack(r)}});var Le=new RegExp("^("+ne+")(?!px)[a-z%]+$","i"),Fe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},Be=function(e,t,n){var r,o,i={};for(o in t)i[o]=e.style[o],e.style[o]=t[o];for(o in r=n.call(e),t)e.style[o]=i[o];return r},Ve=new RegExp(oe.join("|"),"i");function Ue(e,t,n){var r,o,i,a,s=e.style;return(n=n||Fe(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ae(e)||(a=E.style(e,t)),!m.pixelBoxStyles()&&Le.test(a)&&Ve.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i)),void 0!==a?a+"":a}function We(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(c).appendChild(l);var e=n.getComputedStyle(l);r="1%"!==e.top,u=12===t(e.marginLeft),l.style.right="60%",a=36===t(e.right),o=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),ie.removeChild(c),l=null}}function t(e){return Math.round(parseFloat(e))}var r,o,i,a,s,u,c=b.createElement("div"),l=b.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===l.style.backgroundClip,E.extend(m,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),u},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,r,o;return null==s&&(e=b.createElement("table"),t=b.createElement("tr"),r=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",r.style.height="9px",r.style.display="block",ie.appendChild(e).appendChild(t).appendChild(r),o=n.getComputedStyle(t),s=parseInt(o.height,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10)===t.offsetHeight,ie.removeChild(e)),s}}))}();var ze=["Webkit","Moz","ms"],He=b.createElement("div").style,qe={};function Ge(e){var t=E.cssProps[e]||qe[e];return t||(e in He?e:qe[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=ze.length;n--;)if((e=ze[n]+t)in He)return e}(e)||e)}var Ke=/^(none|table(?!-c[ea]).+)/,$e=/^--/,Xe={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"};function Je(e,t,n){var r=re.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Qe(e,t,n,r,o,i){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=E.css(e,n+oe[a],!0,o)),r?("content"===n&&(u-=E.css(e,"padding"+oe[a],!0,o)),"margin"!==n&&(u-=E.css(e,"border"+oe[a]+"Width",!0,o))):(u+=E.css(e,"padding"+oe[a],!0,o),"padding"!==n?u+=E.css(e,"border"+oe[a]+"Width",!0,o):s+=E.css(e,"border"+oe[a]+"Width",!0,o));return!r&&i>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-u-s-.5))||0),u}function Ze(e,t,n){var r=Fe(e),o=(!m.boxSizingReliable()||n)&&"border-box"===E.css(e,"boxSizing",!1,r),i=o,a=Ue(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Le.test(a)){if(!n)return a;a="auto"}return(!m.boxSizingReliable()&&o||!m.reliableTrDimensions()&&P(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===E.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===E.css(e,"boxSizing",!1,r),(i=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Qe(e,t,n||(o?"border":"content"),i,r,a)+"px"}function et(e,t,n,r,o){return new et.prototype.init(e,t,n,r,o)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ue(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=$(t),u=$e.test(t),c=e.style;if(u||(t=Ge(s)),a=E.cssHooks[t]||E.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:c[t];"string"===(i=typeof n)&&(o=re.exec(n))&&o[1]&&(n=ce(e,t,o),i="number"),null!=n&&n===n&&("number"!==i||u||(n+=o&&o[3]||(E.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var o,i,a,s=$(t);return $e.test(t)||(t=Ge(s)),(a=E.cssHooks[t]||E.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=Ue(e,t,r)),"normal"===o&&t in Ye&&(o=Ye[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),E.each(["height","width"],function(e,t){E.cssHooks[t]={get:function(e,n,r){if(n)return!Ke.test(E.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,t,r):Be(e,Xe,function(){return Ze(e,t,r)})},set:function(e,n,r){var o,i=Fe(e),a=!m.scrollboxSize()&&"absolute"===i.position,s=(a||r)&&"border-box"===E.css(e,"boxSizing",!1,i),u=r?Qe(e,t,r,s,i):0;return s&&a&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-Qe(e,t,"border",!1,i)-.5)),u&&(o=re.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=E.css(e,t)),Je(0,n,u)}}}),E.cssHooks.marginLeft=We(m.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ue(e,"marginLeft"))||e.getBoundingClientRect().left-Be(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(e,t){E.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"===typeof n?n.split(" "):[n];r<4;r++)o[e+oe[r]+t]=i[r]||i[r-2]||i[0];return o}},"margin"!==e&&(E.cssHooks[e+t].set=Je)}),E.fn.extend({css:function(e,t){return H(this,function(e,t,n){var r,o,i={},a=0;if(Array.isArray(t)){for(r=Fe(e),o=t.length;a<o;a++)i[t[a]]=E.css(e,t[a],!1,r);return i}return void 0!==n?E.style(e,t,n):E.css(e,t)},e,t,arguments.length>1)}}),E.Tween=et,et.prototype={constructor:et,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(E.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):et.propHooks._default.set(this),this}},et.prototype.init.prototype=et.prototype,et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=E.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||!E.cssHooks[e.prop]&&null==e.elem.style[Ge(e.prop)]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}},et.propHooks.scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},E.fx=et.prototype.init,E.fx.step={};var tt,nt,rt=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function it(){nt&&(!1===b.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(it):n.setTimeout(it,E.fx.interval),E.fx.tick())}function at(){return n.setTimeout(function(){tt=void 0}),tt=Date.now()}function st(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=oe[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function ut(e,t,n){for(var r,o=(ct.tweeners[t]||[]).concat(ct.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function ct(e,t,n){var r,o,i=0,a=ct.prefilters.length,s=E.Deferred().always(function(){delete u.elem}),u=function(){if(o)return!1;for(var t=tt||at(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),i=0,a=c.tweens.length;i<a;i++)c.tweens[i].run(r);return s.notifyWith(e,[c,r,n]),r<1&&a?n:(a||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:E.extend({},t),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},n),originalProperties:t,originalOptions:n,startTime:tt||at(),duration:n.duration,tweens:[],createTween:function(t,n){var r=E.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),l=c.props;for(!function(e,t){var n,r,o,i,a;for(n in e)if(o=t[r=$(n)],i=e[n],Array.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(a=E.cssHooks[r])&&"expand"in a)for(n in i=a.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=o);else t[r]=o}(l,c.opts.specialEasing);i<a;i++)if(r=ct.prefilters[i].call(c,e,l,c.opts))return g(r.stop)&&(E._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return E.map(l,ut,c),g(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),E.fx.timer(E.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c}E.Animation=E.extend(ct,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ce(n.elem,e,re.exec(t),n),n}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match(L);for(var n,r=0,o=e.length;r<o;r++)n=e[r],ct.tweeners[n]=ct.tweeners[n]||[],ct.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,o,i,a,s,u,c,l,f="width"in t||"height"in t,d=this,p={},h=e.style,v=e.nodeType&&ue(e),m=J.get(e,"fxshow");for(r in n.queue||(null==(a=E._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,E.queue(e,"fx").length||a.empty.fire()})})),t)if(o=t[r],rt.test(o)){if(delete t[r],i=i||"toggle"===o,o===(v?"hide":"show")){if("show"!==o||!m||void 0===m[r])continue;v=!0}p[r]=m&&m[r]||E.style(e,r)}if((u=!E.isEmptyObject(t))||!E.isEmptyObject(p))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(c=m&&m.display)&&(c=J.get(e,"display")),"none"===(l=E.css(e,"display"))&&(c?l=c:(de([e],!0),c=e.style.display||c,l=E.css(e,"display"),de([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===E.css(e,"float")&&(u||(d.done(function(){h.display=c}),null==c&&(l=h.display,c="none"===l?"":l)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,p)u||(m?"hidden"in m&&(v=m.hidden):m=J.access(e,"fxshow",{display:c}),i&&(m.hidden=!v),v&&de([e],!0),d.done(function(){for(r in v||de([e]),J.remove(e,"fxshow"),p)E.style(e,r,p[r])})),u=ut(v?m[r]:0,r,d),r in m||(m[r]=u.start,v&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?ct.prefilters.unshift(e):ct.prefilters.push(e)}}),E.speed=function(e,t,n){var r=e&&"object"===typeof e?E.extend({},e):{complete:n||!n&&t||g(e)&&e,duration:e,easing:n&&t||t&&!g(t)&&t};return E.fx.off?r.duration=0:"number"!==typeof r.duration&&(r.duration in E.fx.speeds?r.duration=E.fx.speeds[r.duration]:r.duration=E.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){g(r.old)&&r.old.call(this),r.queue&&E.dequeue(this,r.queue)},r},E.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ue).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=E.isEmptyObject(e),i=E.speed(t,n,r),a=function(){var t=ct(this,E.extend({},e),i);(o||J.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!==typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=E.timers,a=J.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&ot.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||E.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=J.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=E.timers,a=r?r.length:0;for(n.finish=!0,E.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),E.each(["toggle","show","hide"],function(e,t){var n=E.fn[t];E.fn[t]=function(e,r,o){return null==e||"boolean"===typeof e?n.apply(this,arguments):this.animate(st(t,!0),e,r,o)}}),E.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){E.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),E.timers=[],E.fx.tick=function(){var e,t=0,n=E.timers;for(tt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||E.fx.stop(),tt=void 0},E.fx.timer=function(e){E.timers.push(e),E.fx.start()},E.fx.interval=13,E.fx.start=function(){nt||(nt=!0,it())},E.fx.stop=function(){nt=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(e,t){return e=E.fx&&E.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,r){var o=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(o)}})},function(){var e=b.createElement("input"),t=b.createElement("select").appendChild(b.createElement("option"));e.type="checkbox",m.checkOn=""!==e.value,m.optSelected=t.selected,(e=b.createElement("input")).value="t",e.type="radio",m.radioValue="t"===e.value}();var lt,ft=E.expr.attrHandle;E.fn.extend({attr:function(e,t){return H(this,E.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){E.removeAttr(this,e)})}}),E.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return"undefined"===typeof e.getAttribute?E.prop(e,t,n):(1===i&&E.isXMLDoc(e)||(o=E.attrHooks[t.toLowerCase()]||(E.expr.match.bool.test(t)?lt:void 0)),void 0!==n?null===n?void E.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=E.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&P(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(L);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),lt={set:function(e,t,n){return!1===t?E.removeAttr(e,n):e.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ft[t]||E.find.attr;ft[t]=function(e,t,r){var o,i,a=t.toLowerCase();return r||(i=ft[a],ft[a]=o,o=null!=n(e,t,r)?a:null,ft[a]=i),o}});var dt=/^(?:input|select|textarea|button)$/i,pt=/^(?:a|area)$/i;function ht(e){return(e.match(L)||[]).join(" ")}function vt(e){return e.getAttribute&&e.getAttribute("class")||""}function mt(e){return Array.isArray(e)?e:"string"===typeof e&&e.match(L)||[]}E.fn.extend({prop:function(e,t){return H(this,E.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[E.propFix[e]||e]})}}),E.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&E.isXMLDoc(e)||(t=E.propFix[t]||t,o=E.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):dt.test(e.nodeName)||pt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(e){var t,n,r,o,i,a,s,u=0;if(g(e))return this.each(function(t){E(this).addClass(e.call(this,t,vt(this)))});if((t=mt(e)).length)for(;n=this[u++];)if(o=vt(n),r=1===n.nodeType&&" "+ht(o)+" "){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o!==(s=ht(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,o,i,a,s,u=0;if(g(e))return this.each(function(t){E(this).removeClass(e.call(this,t,vt(this)))});if(!arguments.length)return this.attr("class","");if((t=mt(e)).length)for(;n=this[u++];)if(o=vt(n),r=1===n.nodeType&&" "+ht(o)+" "){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");o!==(s=ht(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"===typeof t&&r?t?this.addClass(e):this.removeClass(e):g(e)?this.each(function(n){E(this).toggleClass(e.call(this,n,vt(this),t),t)}):this.each(function(){var t,o,i,a;if(r)for(o=0,i=E(this),a=mt(e);t=a[o++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=vt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+ht(vt(n))+" ").indexOf(t)>-1)return!0;return!1}});var gt=/\r/g;E.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=g(e),this.each(function(n){var o;1===this.nodeType&&(null==(o=r?e.call(this,n,E(this).val()):e)?o="":"number"===typeof o?o+="":Array.isArray(o)&&(o=E.map(o,function(e){return null==e?"":e+""})),(t=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=E.valHooks[o.type]||E.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"===typeof(n=o.value)?n.replace(gt,""):null==n?"":n:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:ht(E.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?i+1:o.length;for(r=i<0?u:a?i:0;r<u;r++)if(((n=o[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!P(n.parentNode,"optgroup"))){if(t=E(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,o=e.options,i=E.makeArray(t),a=o.length;a--;)((r=o[a]).selected=E.inArray(E.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=E.inArray(E(e).val(),t)>-1}},m.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),m.focusin="onfocusin"in n;var yt=/^(?:focusinfocus|focusoutblur)$/,bt=function(e){e.stopPropagation()};E.extend(E.event,{trigger:function(e,t,r,o){var i,a,s,u,c,l,f,d,h=[r||b],v=p.call(e,"type")?e.type:e,m=p.call(e,"namespace")?e.namespace.split("."):[];if(a=d=s=r=r||b,3!==r.nodeType&&8!==r.nodeType&&!yt.test(v+E.event.triggered)&&(v.indexOf(".")>-1&&(m=v.split("."),v=m.shift(),m.sort()),c=v.indexOf(":")<0&&"on"+v,(e=e[E.expando]?e:new E.Event(v,"object"===typeof e&&e)).isTrigger=o?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:E.makeArray(t,[e]),f=E.event.special[v]||{},o||!f.trigger||!1!==f.trigger.apply(r,t))){if(!o&&!f.noBubble&&!y(r)){for(u=f.delegateType||v,yt.test(u+v)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(r.ownerDocument||b)&&h.push(s.defaultView||s.parentWindow||n)}for(i=0;(a=h[i++])&&!e.isPropagationStopped();)d=a,e.type=i>1?u:f.bindType||v,(l=(J.get(a,"events")||Object.create(null))[e.type]&&J.get(a,"handle"))&&l.apply(a,t),(l=c&&a[c])&&l.apply&&X(a)&&(e.result=l.apply(a,t),!1===e.result&&e.preventDefault());return e.type=v,o||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(h.pop(),t)||!X(r)||c&&g(r[v])&&!y(r)&&((s=r[c])&&(r[c]=null),E.event.triggered=v,e.isPropagationStopped()&&d.addEventListener(v,bt),r[v](),e.isPropagationStopped()&&d.removeEventListener(v,bt),E.event.triggered=void 0,s&&(r[c]=s)),e.result}},simulate:function(e,t,n){var r=E.extend(new E.Event,n,{type:e,isSimulated:!0});E.event.trigger(r,null,t)}}),E.fn.extend({trigger:function(e,t){return this.each(function(){E.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return E.event.trigger(e,t,n,!0)}}),m.focusin||E.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){E.event.simulate(t,e.target,E.event.fix(e))};E.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,o=J.access(r,t);o||r.addEventListener(e,n,!0),J.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,o=J.access(r,t)-1;o?J.access(r,t,o):(r.removeEventListener(e,n,!0),J.remove(r,t))}}});var wt=n.location,xt={guid:Date.now()},Ot=/\?/;E.parseXML=function(e){var t,r;if(!e||"string"!==typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(o){}return r=t&&t.getElementsByTagName("parsererror")[0],t&&!r||E.error("Invalid XML: "+(r?E.map(r.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Et=/\[\]$/,St=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function Rt(e,t,n,r){var o;if(Array.isArray(t))E.each(t,function(t,o){n||Et.test(e)?r(e,o):Rt(e+"["+("object"===typeof o&&null!=o?t:"")+"]",o,n,r)});else if(n||"object"!==O(t))r(e,t);else for(o in t)Rt(e+"["+o+"]",t[o],n,r)}E.param=function(e,t){var n,r=[],o=function(e,t){var n=g(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,function(){o(this.name,this.value)});else for(n in e)Rt(n,e[n],t,o);return r.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&kt.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,function(e){return{name:t.name,value:e.replace(St,"\r\n")}}):{name:t.name,value:n.replace(St,"\r\n")}}).get()}});var jt=/%20/g,Pt=/#.*$/,Tt=/([?&])_=[^&]*/,_t=/^(.*?):[ \t]*([^\r\n]*)$/gm,It=/^(?:GET|HEAD)$/,At=/^\/\//,Nt={},Mt={},Dt="*/".concat("*"),Lt=b.createElement("a");function Ft(e){return function(t,n){"string"!==typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(L)||[];if(g(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Bt(e,t,n,r){var o={},i=e===Mt;function a(s){var u;return o[s]=!0,E.each(e[s]||[],function(e,s){var c=s(t,n,r);return"string"!==typeof c||i||o[c]?i?!(u=c):void 0:(t.dataTypes.unshift(c),a(c),!1)}),u}return a(t.dataTypes[0])||!o["*"]&&a("*")}function Vt(e,t){var n,r,o=E.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&E.extend(!0,e,r),e}Lt.href=wt.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Vt(Vt(e,E.ajaxSettings),t):Vt(E.ajaxSettings,e)},ajaxPrefilter:Ft(Nt),ajaxTransport:Ft(Mt),ajax:function(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var r,o,i,a,s,u,c,l,f,d,p=E.ajaxSetup({},t),h=p.context||p,v=p.context&&(h.nodeType||h.jquery)?E(h):E.event,m=E.Deferred(),g=E.Callbacks("once memory"),y=p.statusCode||{},w={},x={},O="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=_t.exec(i);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?i:null},setRequestHeader:function(e,t){return null==c&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)S.always(e[S.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||O;return r&&r.abort(t),C(0,t),this}};if(m.promise(S),p.url=((e||p.url||wt.href)+"").replace(At,wt.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(L)||[""],null==p.crossDomain){u=b.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=Lt.protocol+"//"+Lt.host!==u.protocol+"//"+u.host}catch(k){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!==typeof p.data&&(p.data=E.param(p.data,p.traditional)),Bt(Nt,p,t,S),c)return S;for(f in(l=E.event&&p.global)&&0===E.active++&&E.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!It.test(p.type),o=p.url.replace(Pt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(jt,"+")):(d=p.url.slice(o.length),p.data&&(p.processData||"string"===typeof p.data)&&(o+=(Ot.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Tt,"$1"),d=(Ot.test(o)?"&":"?")+"_="+xt.guid+++d),p.url=o+d),p.ifModified&&(E.lastModified[o]&&S.setRequestHeader("If-Modified-Since",E.lastModified[o]),E.etag[o]&&S.setRequestHeader("If-None-Match",E.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Dt+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(h,S,p)||c))return S.abort();if(O="abort",g.add(p.complete),S.done(p.success),S.fail(p.error),r=Bt(Mt,p,t,S)){if(S.readyState=1,l&&v.trigger("ajaxSend",[S,p]),c)return S;p.async&&p.timeout>0&&(s=n.setTimeout(function(){S.abort("timeout")},p.timeout));try{c=!1,r.send(w,C)}catch(k){if(c)throw k;C(-1,k)}}else C(-1,"No Transport");function C(e,t,a,u){var f,d,b,w,x,O=t;c||(c=!0,s&&n.clearTimeout(s),r=void 0,i=u||"",S.readyState=e>0?4:0,f=e>=200&&e<300||304===e,a&&(w=function(e,t,n){for(var r,o,i,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){u.unshift(o);break}if(u[0]in n)i=u[0];else{for(o in n){if(!u[0]||e.converters[o+" "+u[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==u[0]&&u.unshift(i),n[i]}(p,S,a)),!f&&E.inArray("script",p.dataTypes)>-1&&E.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),w=function(e,t,n,r){var o,i,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(i=l.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=i,i=l.shift())if("*"===i)i=u;else if("*"!==u&&u!==i){if(!(a=c[u+" "+i]||c["* "+i]))for(o in c)if((s=o.split(" "))[1]===i&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(i=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(k){return{state:"parsererror",error:a?k:"No conversion from "+u+" to "+i}}}return{state:"success",data:t}}(p,w,S,f),f?(p.ifModified&&((x=S.getResponseHeader("Last-Modified"))&&(E.lastModified[o]=x),(x=S.getResponseHeader("etag"))&&(E.etag[o]=x)),204===e||"HEAD"===p.type?O="nocontent":304===e?O="notmodified":(O=w.state,d=w.data,f=!(b=w.error))):(b=O,!e&&O||(O="error",e<0&&(e=0))),S.status=e,S.statusText=(t||O)+"",f?m.resolveWith(h,[d,O,S]):m.rejectWith(h,[S,O,b]),S.statusCode(y),y=void 0,l&&v.trigger(f?"ajaxSuccess":"ajaxError",[S,p,f?d:b]),g.fireWith(h,[S,O]),l&&(v.trigger("ajaxComplete",[S,p]),--E.active||E.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],function(e,t){E[t]=function(e,n,r,o){return g(n)&&(o=o||r,r=n,n=void 0),E.ajax(E.extend({url:e,type:t,dataType:o,data:n,success:r},E.isPlainObject(e)&&e))}}),E.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),E._evalUrl=function(e,t,n){return E.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){E.globalEval(e,t,n)}})},E.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=E(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return g(e)?this.each(function(t){E(this).wrapInner(e.call(this,t))}):this.each(function(){var t=E(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=g(e);return this.each(function(n){E(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(e){return!E.expr.pseudos.visible(e)},E.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Ut={0:200,1223:204},Wt=E.ajaxSettings.xhr();m.cors=!!Wt&&"withCredentials"in Wt,m.ajax=Wt=!!Wt,E.ajaxTransport(function(e){var t,r;if(m.cors||Wt&&!e.crossDomain)return{send:function(o,i){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);t=function(e){return function(){t&&(t=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!==typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Ut[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!==typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),r=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){t&&r()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(u){if(t)throw u}},abort:function(){t&&t()}}}),E.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),E.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,o){t=E("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),b.head.appendChild(t[0])},abort:function(){n&&n()}}});var zt=[],Ht=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||E.expando+"_"+xt.guid++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",function(e,t,r){var o,i,a,s=!1!==e.jsonp&&(Ht.test(e.url)?"url":"string"===typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ht.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=g(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Ht,"$1"+o):!1!==e.jsonp&&(e.url+=(Ot.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||E.error(o+" was not called"),a[0]},e.dataTypes[0]="json",i=n[o],n[o]=function(){a=arguments},r.always(function(){void 0===i?E(n).removeProp(o):n[o]=i,e[o]&&(e.jsonpCallback=t.jsonpCallback,zt.push(o)),a&&g(i)&&i(a[0]),a=i=void 0}),"script"}),m.createHTMLDocument=function(){var e=b.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),E.parseHTML=function(e,t,n){return"string"!==typeof e?[]:("boolean"===typeof t&&(n=t,t=!1),t||(m.createHTMLDocument?((r=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(r)):t=b),i=!n&&[],(o=T.exec(e))?[t.createElement(o[1])]:(o=we([e],t,i),i&&i.length&&E(i).remove(),E.merge([],o.childNodes)));var r,o,i},E.fn.load=function(e,t,n){var r,o,i,a=this,s=e.indexOf(" ");return s>-1&&(r=ht(e.slice(s)),e=e.slice(0,s)),g(t)?(n=t,t=void 0):t&&"object"===typeof t&&(o="POST"),a.length>0&&E.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?E("<div>").append(E.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},E.expr.pseudos.animated=function(e){return E.grep(E.timers,function(t){return e===t.elem}).length},E.offset={setOffset:function(e,t,n){var r,o,i,a,s,u,c=E.css(e,"position"),l=E(e),f={};"static"===c&&(e.style.position="relative"),s=l.offset(),i=E.css(e,"top"),u=E.css(e,"left"),("absolute"===c||"fixed"===c)&&(i+u).indexOf("auto")>-1?(a=(r=l.position()).top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(u)||0),g(t)&&(t=t.call(e,n,E.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+o),"using"in t?t.using.call(e,f):l.css(f)}},E.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){E.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===E.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===E.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((o=E(e).offset()).top+=E.css(e,"borderTopWidth",!0),o.left+=E.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-E.css(r,"marginTop",!0),left:t.left-o.left-E.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===E.css(e,"position");)e=e.offsetParent;return e||ie})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;E.fn[e]=function(r){return H(this,function(e,r,o){var i;if(y(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o},e,r,arguments.length)}}),E.each(["top","left"],function(e,t){E.cssHooks[t]=We(m.pixelPosition,function(e,n){if(n)return n=Ue(e,t),Le.test(n)?E(e).position()[t]+"px":n})}),E.each({Height:"height",Width:"width"},function(e,t){E.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){E.fn[r]=function(o,i){var a=arguments.length&&(n||"boolean"!==typeof o),s=n||(!0===o||!0===i?"margin":"border");return H(this,function(t,n,o){var i;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?E.css(t,n,s):E.style(t,n,o,s)},t,a?o:void 0,a)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){E.fn[t]=function(e){return this.on(t,e)}}),E.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){E.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});var qt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;E.proxy=function(e,t){var n,r,o;if("string"===typeof t&&(n=e[t],t=e,e=n),g(e))return r=s.call(arguments,2),(o=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||E.guid++,o},E.holdReady=function(e){e?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=P,E.isFunction=g,E.isWindow=y,E.camelCase=$,E.type=O,E.now=Date.now,E.isNumeric=function(e){var t=E.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},E.trim=function(e){return null==e?"":(e+"").replace(qt,"")},void 0===(r=function(){return E}.apply(t,[]))||(e.exports=r);var Gt=n.jQuery,Kt=n.$;return E.noConflict=function(e){return n.$===E&&(n.$=Kt),e&&n.jQuery===E&&(n.jQuery=Gt),E},"undefined"===typeof o&&(n.jQuery=n.$=E),E})},function(e,t,n){"use strict";var r=n(5),o=n(6),i=n(8),a=n(1),s=n(153),u=n(0),c=n(11),l=n(472),f=n(63),d=n(268),p=n(431),h=n(430),v=n(135),m=n(4),g=["onChange","maxRows","minRows","style","value"];function y(e,t){return parseInt(e[t],10)||0}var b={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function w(e){return void 0===e||null===e||0===Object.keys(e).length}var x=u.forwardRef(function(e,t){var n=e.onChange,o=e.maxRows,s=e.minRows,c=void 0===s?1:s,l=e.style,x=e.value,O=Object(i.a)(e,g),E=u.useRef(null!=x).current,S=u.useRef(null),C=Object(d.a)(t,S),k=u.useRef(null),R=u.useRef(0),j=u.useState({}),P=Object(r.a)(j,2),T=P[0],_=P[1],I=u.useCallback(function(){var t=S.current,n=Object(p.a)(t).getComputedStyle(t);if("0px"===n.width)return{};var r=k.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],a=y(n,"padding-bottom")+y(n,"padding-top"),s=y(n,"border-bottom-width")+y(n,"border-top-width"),u=r.scrollHeight;r.value="x";var l=r.scrollHeight,f=u;return c&&(f=Math.max(Number(c)*l,f)),o&&(f=Math.min(Number(o)*l,f)),{outerHeightStyle:(f=Math.max(f,l))+("border-box"===i?a+s:0),overflow:Math.abs(f-u)<=1}},[o,c,e.placeholder]),A=function(e,t){var n=t.outerHeightStyle,r=t.overflow;return R.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(R.current+=1,{overflow:r,outerHeightStyle:n}):e},N=u.useCallback(function(){var e=I();w(e)||_(function(t){return A(t,e)})},[I]);u.useEffect(function(){var e,t=Object(h.a)(function(){R.current=0,S.current&&function(){var e=I();w(e)||Object(f.flushSync)(function(){_(function(t){return A(t,e)})})}()}),n=Object(p.a)(S.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(S.current),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),Object(v.a)(function(){N()}),u.useEffect(function(){R.current=0},[x]);return Object(m.jsxs)(u.Fragment,{children:[Object(m.jsx)("textarea",Object(a.a)({value:x,onChange:function(e){R.current=0,E||N(),n&&n(e)},ref:C,rows:c,style:Object(a.a)({height:T.outerHeightStyle,overflow:T.overflow?"hidden":null},l)},O)),Object(m.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:k,tabIndex:-1,style:Object(a.a)({},b,l,{padding:0})})]})}),O=n(243),E=n(48),S=n(116),C=n(47),k=n(9),R=n(14),j=n(12),P=n(24),T=n(94),_=n(434),I=n(102),A=n(136);n.d(t,"e",function(){return M}),n.d(t,"d",function(){return D}),n.d(t,"b",function(){return L}),n.d(t,"a",function(){return F});var N=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],M=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(Object(j.a)(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},D=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},L=Object(k.a)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:M})(function(e){var t=e.theme,n=e.ownerState;return Object(a.a)({},t.typography.body1,Object(o.a)({color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(A.a.disabled),{color:(t.vars||t).palette.text.disabled,cursor:"default"}),n.multiline&&Object(a.a)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})}),F=Object(k.a)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:D})(function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,s=Object(a.a)({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),u={opacity:"0 !important"},c=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return Object(a.a)((t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},Object(o.a)(t,"label[data-shrink=false] + .".concat(A.a.formControl," &"),{"&::-webkit-input-placeholder":u,"&::-moz-placeholder":u,"&:-ms-input-placeholder":u,"&::-ms-input-placeholder":u,"&:focus::-webkit-input-placeholder":c,"&:focus::-moz-placeholder":c,"&:focus:-ms-input-placeholder":c,"&:focus::-ms-input-placeholder":c}),Object(o.a)(t,"&.".concat(A.a.disabled),{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled}),Object(o.a)(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})}),B=Object(m.jsx)(_.a,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),V=u.forwardRef(function(e,t){var n=Object(R.a)({props:e,name:"MuiInputBase"}),o=n["aria-describedby"],f=n.autoComplete,d=n.autoFocus,p=n.className,h=n.components,v=void 0===h?{}:h,g=n.componentsProps,y=void 0===g?{}:g,b=n.defaultValue,w=n.disabled,k=n.disableInjectingGlobalStyles,_=n.endAdornment,M=n.fullWidth,D=void 0!==M&&M,V=n.id,U=n.inputComponent,W=void 0===U?"input":U,z=n.inputProps,H=void 0===z?{}:z,q=n.inputRef,G=n.maxRows,K=n.minRows,$=n.multiline,X=void 0!==$&&$,Y=n.name,J=n.onBlur,Q=n.onChange,Z=n.onClick,ee=n.onFocus,te=n.onKeyDown,ne=n.onKeyUp,re=n.placeholder,oe=n.readOnly,ie=n.renderSuffix,ae=n.rows,se=n.startAdornment,ue=n.type,ce=void 0===ue?"text":ue,le=n.value,fe=Object(i.a)(n,N),de=null!=H.value?H.value:le,pe=u.useRef(null!=de).current,he=u.useRef(),ve=u.useCallback(function(e){0},[]),me=Object(P.a)(H.ref,ve),ge=Object(P.a)(q,me),ye=Object(P.a)(he,ge),be=u.useState(!1),we=Object(r.a)(be,2),xe=we[0],Oe=we[1],Ee=Object(C.a)();var Se=Object(E.a)({props:n,muiFormControl:Ee,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Se.focused=Ee?Ee.focused:xe,u.useEffect(function(){!Ee&&w&&xe&&(Oe(!1),J&&J())},[Ee,w,xe,J]);var Ce=Ee&&Ee.onFilled,ke=Ee&&Ee.onEmpty,Re=u.useCallback(function(e){Object(I.b)(e)?Ce&&Ce():ke&&ke()},[Ce,ke]);Object(T.a)(function(){pe&&Re({value:de})},[de,Re,pe]);u.useEffect(function(){Re(he.current)},[]);var je=W,Pe=H;X&&"input"===je&&(Pe=ae?Object(a.a)({type:void 0,minRows:ae,maxRows:ae},Pe):Object(a.a)({type:void 0,maxRows:G,minRows:K},Pe),je=x);u.useEffect(function(){Ee&&Ee.setAdornedStart(Boolean(se))},[Ee,se]);var Te=Object(a.a)({},n,{color:Se.color||"primary",disabled:Se.disabled,endAdornment:_,error:Se.error,focused:Se.focused,formControl:Ee,fullWidth:D,hiddenLabel:Se.hiddenLabel,multiline:X,size:Se.size,startAdornment:se,type:ce}),_e=function(e){var t=e.classes,n=e.color,r=e.disabled,o=e.error,i=e.endAdornment,a=e.focused,s=e.formControl,u=e.fullWidth,c=e.hiddenLabel,f=e.multiline,d=e.readOnly,p=e.size,h=e.startAdornment,v=e.type,m={root:["root","color".concat(Object(j.a)(n)),r&&"disabled",o&&"error",u&&"fullWidth",a&&"focused",s&&"formControl","small"===p&&"sizeSmall",f&&"multiline",h&&"adornedStart",i&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===v&&"inputTypeSearch",f&&"inputMultiline","small"===p&&"inputSizeSmall",c&&"inputHiddenLabel",h&&"inputAdornedStart",i&&"inputAdornedEnd",d&&"readOnly"]};return Object(l.a)(m,A.b,t)}(Te),Ie=v.Root||L,Ae=y.root||{},Ne=v.Input||F;return Pe=Object(a.a)({},Pe,y.input),Object(m.jsxs)(u.Fragment,{children:[!k&&B,Object(m.jsxs)(Ie,Object(a.a)({},Ae,!Object(O.a)(Ie)&&{ownerState:Object(a.a)({},Te,Ae.ownerState)},{ref:t,onClick:function(e){he.current&&e.currentTarget===e.target&&he.current.focus(),Z&&Z(e)}},fe,{className:Object(c.a)(_e.root,Ae.className,p),children:[se,Object(m.jsx)(S.a.Provider,{value:null,children:Object(m.jsx)(Ne,Object(a.a)({ownerState:Te,"aria-invalid":Se.error,"aria-describedby":o,autoComplete:f,autoFocus:d,defaultValue:b,disabled:Se.disabled,id:V,onAnimationStart:function(e){Re("mui-auto-fill-cancel"===e.animationName?he.current:{value:"x"})},name:Y,placeholder:re,readOnly:oe,required:Se.required,rows:ae,value:de,onKeyDown:te,onKeyUp:ne,type:ce},Pe,!Object(O.a)(Ne)&&{as:je,ownerState:Object(a.a)({},Te,Pe.ownerState)},{ref:ye,className:Object(c.a)(_e.input,Pe.className),onBlur:function(e){J&&J(e),H.onBlur&&H.onBlur(e),Ee&&Ee.onBlur?Ee.onBlur(e):Oe(!1)},onChange:function(e){if(!pe){var t=e.target||he.current;if(null==t)throw new Error(Object(s.a)(1));Re({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];H.onChange&&H.onChange.apply(H,[e].concat(r)),Q&&Q.apply(void 0,[e].concat(r))},onFocus:function(e){Se.disabled?e.stopPropagation():(ee&&ee(e),H.onFocus&&H.onFocus(e),Ee&&Ee.onFocus?Ee.onFocus(e):Oe(!0))}}))}),_,ie?ie(Object(a.a)({},Se,{startAdornment:se})):null]}))]})});t.c=V},function(e,t,n){"use strict";n.d(t,"a",function(){return i});n(0);var r=n(128),o=n(97);function i(){return Object(r.a)(o.a)}},function(e,t,n){"use strict";var r=n(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(35)),i=n(4),a=(0,o.default)((0,i.jsx)("path",{d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4 9.91 6.09 12 8.18V4z"}),"VolumeOff");t.default=a},function(e,t,n){"use strict";var r=n(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(35)),i=n(4),a=(0,o.default)((0,i.jsx)("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"}),"VolumeUp");t.default=a},function(e,t,n){"use strict";var r=n(5),o=n(44),i=n(13),a=n(80);n.d(t,"b",function(){return h}),n.d(t,"a",function(){return v}),n.d(t,"d",function(){return m});var s={m:"margin",p:"padding"},u={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){if(e.length>2){if(!c[e])return[e];e=c[e]}var t=e.split(""),n=Object(r.a)(t,2),o=n[0],i=n[1],a=s[o],l=u[i]||"";return Array.isArray(l)?l.map(function(e){return a+e}):[a+l]}),f=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],p=[].concat(f,d);function h(e,t,n,r){var o,a=null!=(o=Object(i.b)(e,t,!1))?o:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function v(e){return h(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function g(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce(function(e,r){return e[r]=m(t,n),e},{})}}(l(n),r),a=e[n];return Object(o.b)(e,a,i)}function y(e,t){var n=v(e.theme);return Object.keys(e).map(function(r){return g(e,t,r,n)}).reduce(a.a,{})}function b(e){return y(e,f)}function w(e){return y(e,d)}function x(e){return y(e,p)}b.propTypes={},b.filterProps=f,w.propTypes={},w.filterProps=d,x.propTypes={},x.filterProps=p;t.c=x},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0;var r=function(){function e(e,t,n){this.hasBeenPrevented=!1,this.cancelable=e,this.target=t,this.type=n}return e.prototype.isDefaultPrevented=function(){return this.hasBeenPrevented},e.prototype.preventDefault=function(){this.callDefaultBehavior=function(){},this.hasBeenPrevented=!0},e}();t.Event=r},,function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,u,"next",e)}function u(e){r(a,o,i,s,u,"throw",e)}s(void 0)})}}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o});function r(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "}),r}var o=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},i=function(e,t,n){o(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canPlay=t.FLV_EXTENSIONS=t.DASH_EXTENSIONS=t.HLS_EXTENSIONS=t.VIDEO_EXTENSIONS=t.AUDIO_EXTENSIONS=t.MATCH_URL_KALTURA=t.MATCH_URL_VIDYARD=t.MATCH_URL_MIXCLOUD=t.MATCH_URL_DAILYMOTION=t.MATCH_URL_TWITCH_CHANNEL=t.MATCH_URL_TWITCH_VIDEO=t.MATCH_URL_WISTIA=t.MATCH_URL_STREAMABLE=t.MATCH_URL_FACEBOOK_WATCH=t.MATCH_URL_FACEBOOK=t.MATCH_URL_VIMEO=t.MATCH_URL_SOUNDCLOUD=t.MATCH_URL_YOUTUBE=void 0;var r=n(46);function o(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;t.MATCH_URL_YOUTUBE=a;var s=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;t.MATCH_URL_SOUNDCLOUD=s;var u=/vimeo\.com\/(?!progressive_redirect).+/;t.MATCH_URL_VIMEO=u;var c=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;t.MATCH_URL_FACEBOOK=c;var l=/^https?:\/\/fb\.watch\/.+$/;t.MATCH_URL_FACEBOOK_WATCH=l;var f=/streamable\.com\/([a-z0-9]+)$/;t.MATCH_URL_STREAMABLE=f;var d=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?(.*)$/;t.MATCH_URL_WISTIA=d;var p=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;t.MATCH_URL_TWITCH_VIDEO=p;var h=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;t.MATCH_URL_TWITCH_CHANNEL=h;var v=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?$/;t.MATCH_URL_DAILYMOTION=v;var m=/mixcloud\.com\/([^\/]+\/[^\/]+)/;t.MATCH_URL_MIXCLOUD=m;var g=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/;t.MATCH_URL_VIDYARD=g;var y=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/;t.MATCH_URL_KALTURA=y;var b=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;t.AUDIO_EXTENSIONS=b;var w=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i;t.VIDEO_EXTENSIONS=w;var x=/\.(m3u8)($|\?)/i;t.HLS_EXTENSIONS=x;var O=/\.(mpd)($|\?)/i;t.DASH_EXTENSIONS=O;var E=/\.(flv)($|\?)/i;t.FLV_EXTENSIONS=E;var S={youtube:function(e){return e instanceof Array?e.every(function(e){return a.test(e)}):a.test(e)},soundcloud:function(e){return s.test(e)&&!b.test(e)},vimeo:function(e){return u.test(e)&&!w.test(e)&&!x.test(e)},facebook:function(e){return c.test(e)||l.test(e)},streamable:function(e){return f.test(e)},wistia:function(e){return d.test(e)},twitch:function(e){return p.test(e)||h.test(e)},dailymotion:function(e){return v.test(e)},mixcloud:function(e){return m.test(e)},vidyard:function(e){return g.test(e)},kaltura:function(e){return y.test(e)},file:function e(t){if(t instanceof Array){var n,i=o(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if("string"===typeof a&&e(a))return!0;if(e(a.src))return!0}}catch(s){i.e(s)}finally{i.f()}return!1}return!(!(0,r.isMediaStream)(t)&&!(0,r.isBlobUrl)(t))||b.test(t)||w.test(t)||x.test(t)||O.test(t)||E.test(t)}};t.canPlay=S},function(e,t,n){"use strict";var r=n(5),o=n(0);t.a=function(e){var t=e.controlled,n=e.default,i=(e.name,e.state,o.useRef(void 0!==t).current),a=o.useState(n),s=Object(r.a)(a,2),u=s[0],c=s[1];return[i?t:u,o.useCallback(function(e){i||c(e)},[])]}},function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return f});var r=n(5),o=n(0),i=n(40),a=n(21);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var c=["onClick","reloadDocument","replace","state","target","to"];function l(e){var t=e.basename,n=e.children,s=e.window,u=Object(o.useRef)();null==u.current&&(u.current=Object(i.b)({window:s}));var c=u.current,l=Object(o.useState)({action:c.action,location:c.location}),f=Object(r.a)(l,2),d=f[0],p=f[1];return Object(o.useLayoutEffect)(function(){return c.listen(p)},[c]),Object(o.createElement)(a.b,{basename:t,children:n,location:d.location,navigationType:d.action,navigator:c})}var f=Object(o.forwardRef)(function(e,t){var n=e.onClick,r=e.reloadDocument,l=e.replace,f=void 0!==l&&l,d=e.state,p=e.target,h=e.to,v=u(e,c),m=Object(a.d)(h),g=function(e,t){var n=void 0===t?{}:t,r=n.target,s=n.replace,u=n.state,c=Object(a.f)(),l=Object(a.e)(),f=Object(a.h)(e);return Object(o.useCallback)(function(t){if(0===t.button&&(!r||"_self"===r)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!s||Object(i.e)(l)===Object(i.e)(f);c(e,{replace:n,state:u})}},[l,c,f,s,u,r,e])}(h,{replace:f,state:d,target:p});return Object(o.createElement)("a",s({},v,{href:m,onClick:function(e){n&&n(e),e.defaultPrevented||r||g(e)},ref:t,target:p}))})},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(293)},function(e,t,n){"use strict";function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}n.d(t,"a",function(){return r}),r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t)}return this},r.prototype.emitReserved=r.prototype.emit,r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var r=n(66);function o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t},{})}var i=setTimeout,a=clearTimeout;function s(e,t){t.useNativeTimers?(e.setTimeoutFn=i.bind(r.a),e.clearTimeoutFn=a.bind(r.a)):(e.setTimeoutFn=setTimeout.bind(r.a),e.clearTimeoutFn=clearTimeout.bind(r.a))}var u=1.33;function c(e){return"string"===typeof e?function(e){for(var t=0,n=0,r=0,o=e.length;r<o;r++)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil((e.byteLength||e.size)*u)}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")()},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var r=function(e){return e.scrollTop};function o(e,t){var n,r,o=e.timeout,i=e.easing,a=e.style,s=void 0===a?{}:a;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof o?o:o[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof i?i[t.mode]:i,delay:s.transitionDelay}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(6);function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){Object(r.a)(e,t,n[t])})}return e}},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return c});var r=n(27),o=n(31),i=n(115);function a(e){return e.projection.isEnabled||e.shouldResetTransform()}function s(e,t){void 0===t&&(t=[]);var n=e.parent;return n&&s(n,t),a(e)&&t.push(e),t}function u(e){var t=[];return e.children.forEach(function e(n){a(n)&&t.push(n),n.children.forEach(e)}),t.sort(i.a)}function c(e){if(!e.shouldResetTransform()){var t=e.getLayoutState();e.notifyBeforeLayoutMeasure(t.layout),t.isHydrated=!0,t.layout=e.measureViewportBox(),t.layoutCorrected=Object(o.d)(t.layout),e.notifyLayoutMeasure(t.layout,e.prevViewportBox||t.layout),r.b.update(function(){return e.rebaseProjectionTarget()})}}function l(e){e.shouldResetTransform()||(e.prevViewportBox=e.measureViewportBox(!1),e.rebaseProjectionTarget(!1,e.prevViewportBox))}},function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(27),a=n(69),s=n(99),u=n(115),c=n(101),l={layoutReady:function(e){return e.notifyLayoutReady()}};function f(){var e=new Set;return{add:function(t){return e.add(t)},flush:function(t){var n=void 0===t?l:t,r=n.layoutReady,f=n.parent;Object(s.a)(function(t,n){var s=Array.from(e).sort(u.a),l=f?Object(a.a)(f):[];n(function(){Object(o.e)(Object(o.e)([],Object(o.c)(l)),Object(o.c)(s)).forEach(function(e){return e.resetTransform()})}),t(function(){s.forEach(a.d)}),n(function(){l.forEach(function(e){return e.restoreTransform()}),s.forEach(r)}),t(function(){s.forEach(function(e){e.isPresent&&(e.presence=c.a.Present)})}),n(function(){i.c.preRender(),i.c.render()}),t(function(){i.b.postRender(function(){return s.forEach(d)}),e.clear()})}),Object(s.b)()}}}function d(e){e.prevViewportBox=e.projection.target}n.d(t,"a",function(){return h}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return v});var p=Object(r.createContext)(f()),h=Object(r.createContext)(f());function v(e){return!!e.forceUpdate}},,,function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),o=Object(r.createContext)(null)},function(e,t,n){"use strict";var r=n(18);function o(e,t,n){return(o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}n.d(t,"a",function(){return o})},,,,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(178);t.a=r.a},function(e,t,n){"use strict";var r=n(187);t.a=function(e,t){return t?Object(r.a)(e,t,{clone:!1}):e}},function(e,t,n){"use strict";var r=Object.create(null);r.open="0",r.close="1",r.ping="2",r.pong="3",r.message="4",r.upgrade="5",r.noop="6";var o=Object.create(null);Object.keys(r).forEach(function(e){o[r[e]]=e});for(var i={type:"error",data:"parser error"},a="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),s="function"===typeof ArrayBuffer,u=function(e,t){var n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)},c=function(e,t,n){var o,i=e.type,c=e.data;return a&&c instanceof Blob?t?n(c):u(c,n):s&&(c instanceof ArrayBuffer||(o=c,"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(o):o&&o.buffer instanceof ArrayBuffer))?t?n(c):u(new Blob([c]),n):n(r[i]+(c||""))},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="undefined"===typeof Uint8Array?[]:new Uint8Array(256),d=0;d<l.length;d++)f[l.charCodeAt(d)]=d;var p="function"===typeof ArrayBuffer,h=function(e,t){if(p){var n=function(e){var t,n,r,o,i,a=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),l=new Uint8Array(c);for(t=0;t<s;t+=4)n=f[e.charCodeAt(t)],r=f[e.charCodeAt(t+1)],o=f[e.charCodeAt(t+2)],i=f[e.charCodeAt(t+3)],l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|o>>2,l[u++]=(3&o)<<6|63&i;return c}(e);return v(n,t)}return{base64:!0,data:e}},v=function(e,t){switch(t){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}},m=function(e,t){if("string"!==typeof e)return{type:"message",data:v(e,t)};var n=e.charAt(0);return"b"===n?{type:"message",data:h(e.substring(1),t)}:o[n]?e.length>1?{type:o[n],data:e.substring(1)}:{type:o[n]}:i};n.d(t,"e",function(){return w}),n.d(t,"d",function(){return y}),n.d(t,"b",function(){return b}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return m});var g=String.fromCharCode(30),y=function(e,t){var n=e.length,r=new Array(n),o=0;e.forEach(function(e,i){c(e,!1,function(e){r[i]=e,++o===n&&t(r.join(g))})})},b=function(e,t){for(var n=e.split(g),r=[],o=0;o<n.length;o++){var i=m(n[o],t);if(r.push(i),"error"===i.type)break}return r},w=4},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return s});var r=n(66),o="function"===typeof Promise&&"function"===typeof Promise.resolve?function(e){return Promise.resolve().then(e)}:function(e,t){return t(e,0)},i=r.a.WebSocket||r.a.MozWebSocket,a=!0,s="arraybuffer"},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"drawContour",function(){return i}),n.d(r,"drawDetections",function(){return Q}),n.d(r,"drawFaceExpressions",function(){return Fe}),n.d(r,"DrawBoxOptions",function(){return Y}),n.d(r,"DrawBox",function(){return J}),n.d(r,"DrawFaceLandmarksOptions",function(){return Ue}),n.d(r,"DrawFaceLandmarks",function(){return We}),n.d(r,"drawFaceLandmarks",function(){return ze}),n.d(r,"AnchorPosition",function(){return H}),n.d(r,"DrawTextFieldOptions",function(){return $}),n.d(r,"DrawTextField",function(){return X});var o=n(2);function i(e,t,n){if(void 0===n&&(n=!1),e.beginPath(),t.slice(1).forEach(function(n,r){var o=n.x,i=n.y,a=t[r];e.moveTo(a.x,a.y),e.lineTo(o,i)}),n){var r=t[t.length-1],o=t[0];if(!r||!o)return;e.moveTo(r.x,r.y),e.lineTo(o.x,o.y)}e.stroke()}var a=n(3),s=function(){function e(e,t){if(!m(e)||!m(t))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:e,height:t}));this._width=e,this._height=t}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.reverse=function(){return new e(1/this.width,1/this.height)},e}();function u(e,t){return e instanceof o.a&&e.shape.length===t}function c(e){return u(e,3)}function l(e){return u(e,4)}function f(e){return e%2===0}function d(e,t){void 0===t&&(t=2);var n=Math.pow(10,t);return Math.floor(e*n)/n}function p(e){return e&&e.width&&e.height}function h(e){return e.reduce(function(e,t){return e.add(t)},new y(0,0)).div(new y(e.length,e.length))}function v(e,t,n){return Array(e).fill(0).map(function(e,r){return t+r*n})}function m(e){return!!e&&e!==1/0&&e!==-1/0&&!isNaN(e)||0===e}function g(e){return m(e)&&0<=e&&e<=1}var y=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.sub=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.mul=function(t){return new e(this.x*t.x,this.y*t.y)},e.prototype.div=function(t){return new e(this.x/t.x,this.y/t.y)},e.prototype.abs=function(){return new e(Math.abs(this.x),Math.abs(this.y))},e.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},e.prototype.floor=function(){return new e(Math.floor(this.x),Math.floor(this.y))},e}(),b=function(){function e(t,n){void 0===n&&(n=!0);var r=t||{},o=[r.left,r.top,r.right,r.bottom].every(m),i=[r.x,r.y,r.width,r.height].every(m);if(!i&&!o)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(r));var a=i?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top],s=a[0],u=a[1],c=a[2],l=a[3];e.assertIsValidBox({x:s,y:u,width:c,height:l},"Box.constructor",n),this._x=s,this._y=u,this._width=c,this._height=l}return e.isRect=function(e){return!!e&&[e.x,e.y,e.width,e.height].every(m)},e.assertIsValidBox=function(t,n,r){if(void 0===r&&(r=!1),!e.isRect(t))throw new Error(n+" - invalid box: "+JSON.stringify(t)+", expected object with properties x, y, width, height");if(!r&&(t.width<0||t.height<0))throw new Error(n+" - width ("+t.width+") and height ("+t.height+") must be positive numbers")},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return new y(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRight",{get:function(){return new y(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeft",{get:function(){return new y(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRight",{get:function(){return new y(this.right,this.bottom)},enumerable:!0,configurable:!0}),e.prototype.round=function(){var t=[this.x,this.y,this.width,this.height].map(function(e){return Math.round(e)});return new e({x:t[0],y:t[1],width:t[2],height:t[3]})},e.prototype.floor=function(){var t=[this.x,this.y,this.width,this.height].map(function(e){return Math.floor(e)});return new e({x:t[0],y:t[1],width:t[2],height:t[3]})},e.prototype.toSquare=function(){var t=this.x,n=this.y,r=this.width,o=this.height,i=Math.abs(r-o);return r<o&&(t-=i/2,r+=i),o<r&&(n-=i/2,o+=i),new e({x:t,y:n,width:r,height:o})},e.prototype.rescale=function(t){var n=p(t)?t.width:t,r=p(t)?t.height:t;return new e({x:this.x*n,y:this.y*r,width:this.width*n,height:this.height*r})},e.prototype.pad=function(t,n){var r=[this.x-t/2,this.y-n/2,this.width+t,this.height+n];return new e({x:r[0],y:r[1],width:r[2],height:r[3]})},e.prototype.clipAtImageBorders=function(t,n){var r=this.x,o=this.y,i=this.right,a=this.bottom,s=Math.max(r,0),u=Math.max(o,0),c=i-s,l=a-u;return new e({x:s,y:u,width:Math.min(c,t-s),height:Math.min(l,n-u)}).floor()},e.prototype.shift=function(t,n){var r=this.width,o=this.height;return new e({x:this.x+t,y:this.y+n,width:r,height:o})},e.prototype.padAtBorders=function(e,t){var n=this.width+1,r=this.height+1,o=n,i=r,a=this.left,s=this.top,u=this.right,c=this.bottom;return u>t&&(o=-u+t+n,u=t),c>e&&(i=-c+e+r,c=e),a<1&&(i=2-a,a=1),s<1&&(i=2-s,s=1),{dy:1,edy:i,dx:1,edx:o,y:s,ey:c,x:a,ex:u,w:n,h:r}},e.prototype.calibrate=function(t){return new e({left:this.left+t.left*this.width,top:this.top+t.top*this.height,right:this.right+t.right*this.width,bottom:this.bottom+t.bottom*this.height}).toSquare().round()},e}(),w=function(e){function t(t,n,r,o,i){return void 0===i&&(i=!1),e.call(this,{left:t,top:n,right:r,bottom:o},i)||this}return Object(a.c)(t,e),t}(b),x=function(){function e(e,t,n,r,o){this._imageDims=new s(o.width,o.height),this._score=e,this._classScore=t,this._className=n,this._box=new b(r).rescale(this._imageDims)}return Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeBox",{get:function(){return new b(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),e.prototype.forSize=function(t,n){return new e(this.score,this.classScore,this.className,this.relativeBox,{width:t,height:n})},e}(),O=function(e){function t(t,n,r){return e.call(this,t,t,"",n,r)||this}return Object(a.c)(t,e),t.prototype.forSize=function(n,r){var o=e.prototype.forSize.call(this,n,r);return new t(o.score,o.relativeBox,o.imageDims)},t}(x);function E(e,t,n){void 0===n&&(n=!0);var r=Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left))*Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top));return n?r/(e.area+t.area-r):r/Math.min(e.area,t.area)}function S(e,t,n,r){void 0===r&&(r=!0);for(var o=t.map(function(e,t){return{score:e,boxIndex:t}}).sort(function(e,t){return e.score-t.score}).map(function(e){return e.boxIndex}),i=[],a=function(){var t=o.pop();i.push(t);for(var a=o,s=[],u=0;u<a.length;u++){var c=a[u],l=e[t],f=e[c];s.push(E(l,f,r))}o=o.filter(function(e,t){return s[t]<=n})};o.length>0;)a();return i}function C(e,t){return o.L(function(){var n=t[0],r=t[1],i=t[2],s=o.n(Object(a.e)(e.shape.slice(0,3),[1]),n),u=o.n(Object(a.e)(e.shape.slice(0,3),[1]),r),c=o.n(Object(a.e)(e.shape.slice(0,3),[1]),i),l=o.h([s,u,c],3);return o.F(e,l)})}function k(e){return 1/(1+Math.exp(-e))}var R=function(e){function t(t,n,r,o,i){return void 0===i&&(i=!1),e.call(this,{x:t,y:n,width:r,height:o},i)||this}return Object(a.c)(t,e),t}(b),j=function(){function e(e,t,n){void 0===n&&(n=new y(0,0));var r=t.width,o=t.height;this._imgDims=new s(r,o),this._shift=n,this._positions=e.map(function(e){return e.mul(new y(r,o)).add(n)})}return Object.defineProperty(e.prototype,"shift",{get:function(){return new y(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePositions",{get:function(){var e=this;return this._positions.map(function(t){return t.sub(e._shift).div(new y(e.imageWidth,e.imageHeight))})},enumerable:!0,configurable:!0}),e.prototype.forSize=function(e,t){return new this.constructor(this.relativePositions,{width:e,height:t})},e.prototype.shiftBy=function(e,t){return new this.constructor(this.relativePositions,this._imgDims,new y(e,t))},e.prototype.shiftByPoint=function(e){return this.shiftBy(e.x,e.y)},e.prototype.align=function(e,t){if(void 0===t&&(t={}),e){var n=e instanceof O?e.box.floor():new b(e);return this.shiftBy(n.x,n.y).align(null,t)}var r=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},t),o=r.useDlibAlignment,i=r.minBoxPadding;return o?this.alignDlib():this.alignMinBbox(i)},e.prototype.alignDlib=function(){var e=this.getRefPointsForAlignment(),t=e[0],n=e[1],r=e[2],o=function(e){return r.sub(e).magnitude()},i=(o(t)+o(n))/2,a=Math.floor(i/.45),s=h(e),u=Math.floor(Math.max(0,s.x-.5*a)),c=Math.floor(Math.max(0,s.y-.43*a));return new R(u,c,Math.min(a,this.imageWidth+u),Math.min(a,this.imageHeight+c))},e.prototype.alignMinBbox=function(e){var t=function(e){var t=e.map(function(e){return e.x}),n=e.map(function(e){return e.y}),r=t.reduce(function(e,t){return t<e?t:e},1/0),o=n.reduce(function(e,t){return t<e?t:e},1/0),i=t.reduce(function(e,t){return e<t?t:e},0),a=n.reduce(function(e,t){return e<t?t:e},0);return new w(r,o,i,a)}(this.positions);return t.pad(t.width*e,t.height*e)},e.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},e}(),P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype.getRefPointsForAlignment=function(){var e=this.positions;return[e[0],e[1],h([e[3],e[4]])]},t}(j),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype.getJawOutline=function(){return this.positions.slice(0,17)},t.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},t.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},t.prototype.getNose=function(){return this.positions.slice(27,36)},t.prototype.getLeftEye=function(){return this.positions.slice(36,42)},t.prototype.getRightEye=function(){return this.positions.slice(42,48)},t.prototype.getMouth=function(){return this.positions.slice(48,68)},t.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(h)},t}(j),_=function(){function e(e,t){this._label=e,this._distance=t}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),e.prototype.toString=function(e){return void 0===e&&(e=!0),this.label+(e?" ("+d(this.distance)+")":"")},e}(),I=function(e){function t(t,n){var r=e.call(this,t)||this;return r._label=n,r}return Object(a.c)(t,e),t.assertIsValidLabeledBox=function(e,t){if(b.assertIsValidBox(e,t),!m(e.label))throw new Error(t+" - expected property label ("+e.label+") to be a number")},Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),t}(b),A=function(){function e(e,t){if("string"!==typeof e)throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(t)||t.some(function(e){return!(e instanceof Float32Array)}))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=e,this._descriptors=t}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map(function(e){return Array.from(e)})}},e.fromJSON=function(t){var n=t.descriptors.map(function(e){return new Float32Array(e)});return new e(t.label,n)},e}();!function(e){function t(t,n,r,o){var i=e.call(this,t,n)||this;return i._score=r,i._classScore=o,i}Object(a.c)(t,e),t.assertIsValidPredictedBox=function(e,t){if(I.assertIsValidLabeledBox(e,t),!g(e.score)||!g(e.classScore))throw new Error(t+" - expected properties score ("+e.score+") and ("+e.classScore+") to be a number between [0, 1]")},Object.defineProperty(t.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0})}(I);function N(e){return e.detection instanceof O}function M(e,t){var n={detection:t};return Object.assign({},e,n)}function D(){var e=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D:CanvasRenderingContext2D,Image:HTMLImageElement,ImageData:ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:e,readFile:function(){throw new Error("readFile - filesystem not available for browser environment")}}}var L=n(146),F=n(179);function B(){return"object"===typeof window&&"undefined"!==typeof document&&"undefined"!==typeof HTMLImageElement&&"undefined"!==typeof HTMLCanvasElement&&"undefined"!==typeof HTMLVideoElement&&"undefined"!==typeof ImageData&&"undefined"!==typeof CanvasRenderingContext2D}var V,U=n(180);function W(e){V=e}function z(){B()&&W(D()),Object(U.a)()&&W(Object(F.a)())}var H,q={getEnv:function(){if(!V)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return V},setEnv:W,initialize:z,createBrowserEnv:D,createFileSystem:L.a,createNodejsEnv:F.a,monkeyPatch:function(e){if(V||z(),!V)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var t=e.Canvas,n=void 0===t?V.Canvas:t,r=e.Image,o=void 0===r?V.Image:r;V.Canvas=n,V.Image=o,V.createCanvasElement=e.createCanvasElement||function(){return new n},V.createImageElement=e.createImageElement||function(){return new o},V.ImageData=e.ImageData||V.ImageData,V.Video=e.Video||V.Video,V.fetch=e.fetch||V.fetch,V.readFile=e.readFile||V.readFile},isBrowser:B,isNodejs:U.a};function G(e){return q.isNodejs()||"string"!==typeof e?e:document.getElementById(e)}function K(e){var t=q.getEnv(),n=t.Canvas;if(e instanceof t.CanvasRenderingContext2D)return e;var r=G(e);if(!(r instanceof n))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var o=r.getContext("2d");if(!o)throw new Error("resolveContext2d - canvas 2d context is null");return o}z(),function(e){e.TOP_LEFT="TOP_LEFT",e.TOP_RIGHT="TOP_RIGHT",e.BOTTOM_LEFT="BOTTOM_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT"}(H||(H={}));var $=function(){return function(e){void 0===e&&(e={});var t=e.anchorPosition,n=e.backgroundColor,r=e.fontColor,o=e.fontSize,i=e.fontStyle,a=e.padding;this.anchorPosition=t||H.TOP_LEFT,this.backgroundColor=n||"rgba(0, 0, 0, 0.5)",this.fontColor=r||"rgba(255, 255, 255, 1)",this.fontSize=o||14,this.fontStyle=i||"Georgia",this.padding=a||4}}(),X=function(){function e(t,n,r){void 0===r&&(r={}),this.text="string"===typeof t?[t]:t instanceof e?t.text:t,this.anchor=n,this.options=new $(r)}return e.prototype.measureWidth=function(e){var t=this.options.padding;return this.text.map(function(t){return e.measureText(t).width}).reduce(function(e,t){return e<t?t:e},0)+2*t},e.prototype.measureHeight=function(){var e=this.options,t=e.fontSize,n=e.padding;return this.text.length*t+2*n},e.prototype.getUpperLeft=function(e,t){var n=this.options.anchorPosition,r=n===H.BOTTOM_RIGHT||n===H.TOP_RIGHT,o=n===H.BOTTOM_LEFT||n===H.BOTTOM_RIGHT,i=this.measureWidth(e),a=this.measureHeight(),s=r?this.anchor.x-i:this.anchor.x,u=o?this.anchor.y-a:this.anchor.y;if(t){var c=t.width,l=t.height;return{x:Math.max(Math.min(s,c-i),0),y:Math.max(Math.min(u,l-a),0)}}return{x:s,y:u}},e.prototype.draw=function(e){var t=G(e),n=K(t),r=this.options,o=r.backgroundColor,i=r.fontColor,a=r.fontSize,s=r.fontStyle,u=r.padding;n.font=a+"px "+s;var c=this.measureWidth(n),l=this.measureHeight();n.fillStyle=o;var f=this.getUpperLeft(n,t);n.fillRect(f.x,f.y,c,l),n.fillStyle=i,this.text.forEach(function(e,t){var r=u+f.x,o=u+f.y+(t+1)*a;n.fillText(e,r,o)})},e}(),Y=function(){return function(e){void 0===e&&(e={});var t=e.boxColor,n=e.lineWidth,r=e.label,o=e.drawLabelOptions;this.boxColor=t||"rgba(0, 0, 255, 1)",this.lineWidth=n||2,this.label=r;var i={anchorPosition:H.BOTTOM_LEFT,backgroundColor:this.boxColor};this.drawLabelOptions=new $(Object.assign({},i,o))}}(),J=function(){function e(e,t){void 0===t&&(t={}),this.box=new b(e),this.options=new Y(t)}return e.prototype.draw=function(e){var t=K(e),n=this.options,r=n.boxColor,o=n.lineWidth,i=this.box,a=i.x,s=i.y,u=i.width,c=i.height;t.strokeStyle=r,t.lineWidth=o,t.strokeRect(a,s,u,c);var l=this.options.label;l&&new X([l],{x:a-o/2,y:s},this.options.drawLabelOptions).draw(e)},e}();function Q(e,t){(Array.isArray(t)?t:[t]).forEach(function(t){var n=t instanceof O?t.score:N(t)?t.detection.score:void 0,r=t instanceof O?t.box:N(t)?t.detection.box:new b(t),o=n?""+d(n):void 0;new J(r,{label:o}).draw(e)})}function Z(e){var t=q.getEnv(),n=t.Image,r=t.Video;return e instanceof n&&e.complete||e instanceof r&&e.readyState>=3}function ee(e){var t=q.getEnv(),n=t.Image,r=t.Video;return e instanceof n?new s(e.naturalWidth,e.naturalHeight):e instanceof r?new s(e.videoWidth,e.videoHeight):new s(e.width,e.height)}function te(e){var t=e.width,n=e.height,r=(0,q.getEnv().createCanvasElement)();return r.width=t,r.height=n,r}function ne(e,t){var n=q.getEnv().ImageData;if(!(e instanceof n)&&!Z(e))throw new Error("createCanvasFromMedia - media has not finished loading yet");var r=t||ee(e),o=r.width,i=r.height,a=te({width:o,height:i});return e instanceof n?K(a).putImageData(e,0,0):K(a).drawImage(e,0,0,o,i),a}function re(e,t){return Object(a.b)(this,void 0,void 0,function(){var n,r,i,s,u,c;return Object(a.d)(this,function(a){switch(a.label){case 0:return n=t||q.getEnv().createCanvasElement(),r=e.shape.slice(l(e)?1:0),i=r[0],s=r[1],u=r[2],c=o.L(function(){return e.as3D(i,s,u).toInt()}),[4,o.f.toPixels(c,n)];case 1:return a.sent(),c.dispose(),[2,n]}})})}function oe(e){var t=q.getEnv(),n=t.Image,r=t.Canvas,o=t.Video;return e instanceof n||e instanceof r||e instanceof o}var ie=function(){function e(e,t){var n=this;if(void 0===t&&(t=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(e))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+e);this._treatAsBatchInput=t,this._batchSize=e.length,e.forEach(function(e,t){if(c(e))return n._imageTensors[t]=e,void(n._inputDimensions[t]=e.shape);if(l(e)){var r=e.shape[0];if(1!==r)throw new Error("NetInput - tf.Tensor4D with batchSize "+r+" passed, but not supported in input array");return n._imageTensors[t]=e,void(n._inputDimensions[t]=e.shape.slice(1))}var o=e instanceof q.getEnv().Canvas?e:ne(e);n._canvases[t]=o,n._inputDimensions[t]=[o.height,o.width,3]})}return Object.defineProperty(e.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reshapedInputDimensions",{get:function(){var e=this;return v(this.batchSize,0,1).map(function(t,n){return e.getReshapedInputDimensions(n)})},enumerable:!0,configurable:!0}),e.prototype.getInput=function(e){return this.canvases[e]||this.imageTensors[e]},e.prototype.getInputDimensions=function(e){return this._inputDimensions[e]},e.prototype.getInputHeight=function(e){return this._inputDimensions[e][0]},e.prototype.getInputWidth=function(e){return this._inputDimensions[e][1]},e.prototype.getReshapedInputDimensions=function(e){if("number"!==typeof this.inputSize)throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");return function(e,t){var n=e.width,r=e.height,o=t/Math.max(r,n);return new s(Math.round(n*o),Math.round(r*o))}({width:this.getInputWidth(e),height:this.getInputHeight(e)},this.inputSize)},e.prototype.toBatchTensor=function(e,t){var n=this;return void 0===t&&(t=!0),this._inputSize=e,o.L(function(){var r=v(n.batchSize,0,1).map(function(r){var i=n.getInput(r);if(i instanceof o.a){var a=l(i)?i:i.expandDims();return(a=function(e,t){return void 0===t&&(t=!1),o.L(function(){var n=e.shape.slice(1),r=n[0],i=n[1];if(r===i)return e;var a=Math.abs(r-i),s=Math.round(a*(t?.5:1)),u=r>i?2:1,c=function(t){var n=e.shape.slice();return n[u]=t,o.n(n,0)},l=c(s),f=a-l.shape[u],d=[t&&f?c(f):null,e,l].filter(function(e){return!!e}).map(function(e){return e.toFloat()});return o.h(d,u)})}(a,t)).shape[1]===e&&a.shape[2]===e||(a=o.o.resizeBilinear(a,[e,e])),a.as3D(e,e,3)}if(i instanceof q.getEnv().Canvas)return o.f.fromPixels(function(e,t,n){void 0===n&&(n=!1);var r=q.getEnv(),o=r.Image,i=r.Canvas;if(!(e instanceof o||e instanceof i))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var a=ee(e),s=t/Math.max(a.height,a.width),u=s*a.width,c=s*a.height,l=te({width:t,height:t}),f=e instanceof i?e:ne(e),d=Math.abs(u-c)/2,p=n&&u<c?d:0,h=n&&c<u?d:0;return K(l).drawImage(f,p,h,u,c),l}(i,e,t));throw new Error("toBatchTensor - at batchIdx "+r+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+i)});return o.E(r.map(function(e){return e.toFloat()})).as4D(n.batchSize,e,e,3)})},e}();function ae(e){return Object(a.b)(this,void 0,void 0,function(){var t,n,r;return Object(a.d)(this,function(o){switch(o.label){case 0:if(e instanceof ie)return[2,e];if(!(t=Array.isArray(e)?e:[e]).length)throw new Error("toNetInput - empty array passed as input");return n=function(t){return Array.isArray(e)?" at input index "+t+":":""},(r=t.map(G)).forEach(function(e,r){if(!oe(e)&&!c(e)&&!l(e)){if("string"===typeof t[r])throw new Error("toNetInput -"+n(r)+" string passed, but could not resolve HTMLElement for element id "+t[r]);throw new Error("toNetInput -"+n(r)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id")}if(l(e)){var o=e.shape[0];if(1!==o)throw new Error("toNetInput -"+n(r)+" tf.Tensor4D with batchSize "+o+" passed, but not supported in input array")}}),[4,Promise.all(r.map(function(e){return oe(e)&&(t=e,new Promise(function(e,n){if(t instanceof q.getEnv().Canvas||Z(t))return e();function r(t){t.currentTarget&&(t.currentTarget.removeEventListener("load",r),t.currentTarget.removeEventListener("error",o),e(t))}function o(e){e.currentTarget&&(e.currentTarget.removeEventListener("load",r),e.currentTarget.removeEventListener("error",o),n(e))}t.addEventListener("load",r),t.addEventListener("error",o)}));var t}))];case 1:return o.sent(),[2,new ie(r,Array.isArray(e))]}})})}function se(e,t){return Object(a.b)(this,void 0,void 0,function(){var n,r,o,i,s,u;return Object(a.d)(this,function(a){switch(a.label){case 0:return n=q.getEnv().Canvas,r=e,e instanceof n?[3,5]:[4,ae(e)];case 1:if((o=a.sent()).batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return(i=o.getInput(0))instanceof n?(s=i,[3,4]):[3,2];case 2:return[4,re(i)];case 3:s=a.sent(),a.label=4;case 4:r=s,a.label=5;case 5:return u=K(r),[2,t.map(function(e){return e instanceof O?e.forSize(r.width,r.height).box.floor():e}).map(function(e){return e.clipAtImageBorders(r.width,r.height)}).map(function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=te({width:r,height:o});return K(i).putImageData(u.getImageData(t,n,r,o),0,0),i})]}})})}function ue(e,t){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(n){if(!c(e)&&!l(e))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(l(e)&&e.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,o.L(function(){var n=e.shape.slice(l(e)?1:0),r=n[0],i=n[1],a=n[2];return t.map(function(e){return e instanceof O?e.forSize(i,r).box:e}).map(function(e){return e.clipAtImageBorders(i,r)}).map(function(t){var n=t.x,s=t.y,u=t.width,c=t.height;return o.C(e.as3D(r,i,a),[s,n,0],[c,u,a])})})]})})}function ce(e,t){return Object(a.b)(this,void 0,void 0,function(){var n;return Object(a.d)(this,function(r){switch(r.label){case 0:return[4,(0,q.getEnv().fetch)(e,t)];case 1:if(!((n=r.sent()).status<400))throw new Error("failed to fetch: ("+n.status+") "+n.statusText+", from url: "+n.url);return[2,n]}})})}function le(e){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(t){switch(t.label){case 0:return[4,ce(e)];case 1:return[2,t.sent().json()]}})})}function fe(e,t){var n=t+"-weights_manifest.json";if(!e)return{modelBaseUri:"",manifestUri:n};if("/"===e)return{modelBaseUri:"/",manifestUri:"/"+n};var r=e.startsWith("http://")?"http://":e.startsWith("https://")?"https://":"",o=(e=e.replace(r,"")).split("/").filter(function(e){return e}),i=e.endsWith(".json")?o[o.length-1]:n,a=r+(e.endsWith(".json")?o.slice(0,o.length-1):o).join("/");return{modelBaseUri:a=e.startsWith("/")?"/"+a:a,manifestUri:"/"===a?"/"+i:a+"/"+i}}function de(e,t){return Object(a.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(a.d)(this,function(a){switch(a.label){case 0:return n=fe(e,t),r=n.manifestUri,i=n.modelBaseUri,[4,le(r)];case 1:return s=a.sent(),[2,o.p.loadWeights(s,i)]}})})}function pe(e,t,n){void 0===n&&(n=!1);var r=n?ee(t):t,o=r.width,i=r.height;return e.width=o,e.height=i,{width:o,height:i}}var he=function(){function e(e){this._name=e,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(e.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),e.prototype.getParamFromPath=function(e){var t=this.traversePropertyPath(e);return t.obj[t.objProp]},e.prototype.reassignParamFromPath=function(e,t){var n=this.traversePropertyPath(e),r=n.obj,o=n.objProp;r[o].dispose(),r[o]=t},e.prototype.getParamList=function(){var e=this;return this._paramMappings.map(function(t){var n=t.paramPath;return{path:n,tensor:e.getParamFromPath(n)}})},e.prototype.getTrainableParams=function(){return this.getParamList().filter(function(e){return e.tensor instanceof o.b})},e.prototype.getFrozenParams=function(){return this.getParamList().filter(function(e){return!(e.tensor instanceof o.b)})},e.prototype.variable=function(){var e=this;this.getFrozenParams().forEach(function(t){var n=t.path,r=t.tensor;e.reassignParamFromPath(n,r.variable())})},e.prototype.freeze=function(){var e=this;this.getTrainableParams().forEach(function(t){var n=t.path,r=t.tensor,i=o.G(r.dataSync());r.dispose(),e.reassignParamFromPath(n,i)})},e.prototype.dispose=function(e){void 0===e&&(e=!0),this.getParamList().forEach(function(t){if(e&&t.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+t.path);t.tensor.dispose()}),this._params=void 0},e.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map(function(e){var t=e.tensor;return Array.from(t.dataSync())}).reduce(function(e,t){return e.concat(t)}))},e.prototype.load=function(e){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(t){switch(t.label){case 0:return e instanceof Float32Array?(this.extractWeights(e),[2]):[4,this.loadFromUri(e)];case 1:return t.sent(),[2]}})})},e.prototype.loadFromUri=function(e){return Object(a.b)(this,void 0,void 0,function(){var t;return Object(a.d)(this,function(n){switch(n.label){case 0:if(e&&"string"!==typeof e)throw new Error(this._name+".loadFromUri - expected model uri");return[4,de(e,this.getDefaultModelName())];case 1:return t=n.sent(),this.loadFromWeightMap(t),[2]}})})},e.prototype.loadFromDisk=function(e){return Object(a.b)(this,void 0,void 0,function(){var t,n,r,i,s,u,c,l,f,d;return Object(a.d)(this,function(a){switch(a.label){case 0:if(e&&"string"!==typeof e)throw new Error(this._name+".loadFromDisk - expected model file path");return t=q.getEnv().readFile,n=fe(e,this.getDefaultModelName()),r=n.manifestUri,i=n.modelBaseUri,s=function(e){return Promise.all(e.map(function(e){return t(e).then(function(e){return e.buffer})}))},u=o.p.weightsLoaderFactory(s),f=(l=JSON).parse,[4,t(r)];case 1:return c=f.apply(l,[a.sent().toString()]),[4,u(c,i)];case 2:return d=a.sent(),this.loadFromWeightMap(d),[2]}})})},e.prototype.loadFromWeightMap=function(e){var t=this.extractParamsFromWeigthMap(e),n=t.paramMappings,r=t.params;this._paramMappings=n,this._params=r},e.prototype.extractWeights=function(e){var t=this.extractParams(e),n=t.paramMappings,r=t.params;this._paramMappings=n,this._params=r},e.prototype.traversePropertyPath=function(e){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var t=e.split("/").reduce(function(t,n){if(!t.nextObj.hasOwnProperty(n))throw new Error("traversePropertyPath - object does not have property "+n+", for path "+e);return{obj:t.nextObj,objProp:n,nextObj:t.nextObj[n]}},{nextObj:this.params}),n=t.obj,r=t.objProp;if(!n||!r||!(n[r]instanceof o.a))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+e);return{obj:n,objProp:r}},e}();function ve(e,t,n){return o.L(function(){var r=o.z(e,t.depthwise_filter,t.pointwise_filter,n,"same");return r=o.c(r,t.bias)})}function me(e,t,n){return void 0===n&&(n=!1),o.L(function(){var r=o.w(n?o.c(o.i(e,t.conv0.filters,[2,2],"same"),t.conv0.bias):ve(e,t.conv0,[2,2])),i=ve(r,t.conv1,[1,1]),a=ve(o.w(o.c(r,i)),t.conv2,[1,1]);return o.w(o.c(r,o.c(i,a)))})}function ge(e,t,n,r){return void 0===n&&(n=!1),void 0===r&&(r=!0),o.L(function(){var i=o.w(n?o.c(o.i(e,t.conv0.filters,r?[2,2]:[1,1],"same"),t.conv0.bias):ve(e,t.conv0,r?[2,2]:[1,1])),a=ve(i,t.conv1,[1,1]),s=ve(o.w(o.c(i,a)),t.conv2,[1,1]),u=ve(o.w(o.c(i,o.c(a,s))),t.conv3,[1,1]);return o.w(o.c(i,o.c(a,o.c(s,u))))})}function ye(e,t,n,r){return void 0===n&&(n="same"),void 0===r&&(r=!1),o.L(function(){var i=o.c(o.i(e,t.filters,[1,1],n),t.bias);return r?o.w(i):i})}function be(e,t){Object.keys(e).forEach(function(n){t.some(function(e){return e.originalPath===n})||e[n].dispose()})}function we(e,t){return function(n,r,i,a){var s=o.K(e(n*r*i*i),[i,i,n,r]),u=o.H(e(r));return t.push({paramPath:a+"/filters"},{paramPath:a+"/bias"}),{filters:s,bias:u}}}function xe(e,t){return function(n,r,i){var a=o.I(e(n*r),[n,r]),s=o.H(e(r));return t.push({paramPath:i+"/weights"},{paramPath:i+"/bias"}),{weights:a,bias:s}}}var Oe=function(){return function(e,t,n){this.depthwise_filter=e,this.pointwise_filter=t,this.bias=n}}();function Ee(e,t){return function(n,r,i){var a=o.K(e(9*n),[3,3,n,1]),s=o.K(e(n*r),[1,1,n,r]),u=o.H(e(r));return t.push({paramPath:i+"/depthwise_filter"},{paramPath:i+"/pointwise_filter"},{paramPath:i+"/bias"}),new Oe(a,s,u)}}function Se(e){return function(t){var n=e(t+"/depthwise_filter",4),r=e(t+"/pointwise_filter",4),o=e(t+"/bias",1);return new Oe(n,r,o)}}function Ce(e,t){return function(n,r,o){var i=e[n];if(!u(i,r))throw new Error("expected weightMap["+n+"] to be a Tensor"+r+"D, instead have "+i);return t.push({originalPath:n,paramPath:o||n}),i}}function ke(e){var t=e;return{extractWeights:function(e){var n=t.slice(0,e);return t=t.slice(e),n},getRemainingWeights:function(){return t}}}function Re(e,t){var n=we(e,t),r=Ee(e,t);function o(e,t,o,i){return void 0===i&&(i=!1),{conv0:i?n(e,t,3,o+"/conv0"):r(e,t,o+"/conv0"),conv1:r(t,t,o+"/conv1"),conv2:r(t,t,o+"/conv2")}}return{extractDenseBlock3Params:o,extractDenseBlock4Params:function(e,t,n,i){void 0===i&&(i=!1);var a=o(e,t,n,i);return{conv0:a.conv0,conv1:a.conv1,conv2:a.conv2,conv3:r(t,t,n+"/conv3")}}}}function je(e){return function(t){return{filters:e(t+"/filters",4),bias:e(t+"/bias",1)}}}function Pe(e,t){var n=Ce(e,t),r=je(n),o=Se(n);return{extractDenseBlock3Params:function(e,t){return void 0===t&&(t=!1),{conv0:t?r(e+"/conv0"):o(e+"/conv0"),conv1:o(e+"/conv1"),conv2:o(e+"/conv2")}},extractDenseBlock4Params:function(e,t){return void 0===t&&(t=!1),{conv0:t?r(e+"/conv0"):o(e+"/conv0"),conv1:o(e+"/conv1"),conv2:o(e+"/conv2"),conv3:o(e+"/conv3")}}}}var Te=function(e){function t(){return e.call(this,"FaceFeatureExtractor")||this}return Object(a.c)(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("FaceFeatureExtractor - load model before inference");return o.L(function(){var n=ge(C(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(o.y(255)),t.dense0,!0);return n=ge(n,t.dense1),n=ge(n,t.dense2),n=ge(n,t.dense3),n=o.d(n,[7,7],[2,2],"valid")})},t.prototype.forward=function(e){return Object(a.b)(this,void 0,void 0,function(){var t;return Object(a.d)(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,ae(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},t.prototype.extractParamsFromWeigthMap=function(e){return function(e){var t=[],n=Pe(e,t).extractDenseBlock4Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2"),dense3:n("dense3")};return be(e,t),{params:r,paramMappings:t}}(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=ke(e),r=n.extractWeights,o=n.getRemainingWeights,i=Re(r,t).extractDenseBlock4Params,a=i(3,32,"dense0",!0),s=i(32,64,"dense1"),u=i(64,128,"dense2"),c=i(128,256,"dense3");if(0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{dense0:a,dense1:s,dense2:u,dense3:c}}}(e)},t}(he);function _e(e,t){return o.L(function(){return o.c(o.q(e,t.weights),t.bias)})}function Ie(e){var t={},n={};return Object.keys(e).forEach(function(r){(r.startsWith("fc")?n:t)[r]=e[r]}),{featureExtractorMap:t,classifierMap:n}}var Ae=function(e){function t(t,n){var r=e.call(this,t)||this;return r._faceFeatureExtractor=n,r}return Object(a.c)(t,e),Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(e){var t=this,n=this.params;if(!n)throw new Error(this._name+" - load model before inference");return o.L(function(){var r=e instanceof ie?t.faceFeatureExtractor.forwardInput(e):e;return _e(r.as2D(r.shape[0],-1),n.fc)})},t.prototype.dispose=function(t){void 0===t&&(t=!0),this.faceFeatureExtractor.dispose(t),e.prototype.dispose.call(this,t)},t.prototype.loadClassifierParams=function(e){var t=this.extractClassifierParams(e),n=t.params,r=t.paramMappings;this._params=n,this._paramMappings=r},t.prototype.extractClassifierParams=function(e){return function(e,t,n){var r=[],o=ke(e),i=o.extractWeights,a=o.getRemainingWeights,s=xe(i,r)(t,n,"fc");if(0!==a().length)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:r,params:{fc:s}}}(e,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},t.prototype.extractParamsFromWeigthMap=function(e){var t=Ie(e),n=t.featureExtractorMap,r=t.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(n),function(e){var t,n=[],r=Ce(e,n),o={fc:(t="fc",{weights:r(t+"/weights",2),bias:r(t+"/bias",1)})};return be(e,n),{params:o,paramMappings:n}}(r)},t.prototype.extractParams=function(e){var t=this.getClassifierChannelsIn(),n=this.getClassifierChannelsOut(),r=n*t+n,o=e.slice(0,e.length-r),i=e.slice(e.length-r);return this.faceFeatureExtractor.extractWeights(o),this.extractClassifierParams(i)},t}(he),Ne=["neutral","happy","sad","angry","fearful","disgusted","surprised"],Me=function(){function e(e){var t=this;if(7!==e.length)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+e.length);Ne.forEach(function(n,r){t[n]=e[r]})}return e.prototype.asSortedArray=function(){var e=this;return Ne.map(function(t){return{expression:t,probability:e[t]}}).sort(function(e,t){return t.probability-e.probability})},e}(),De=function(e){function t(t){return void 0===t&&(t=new Te),e.call(this,"FaceExpressionNet",t)||this}return Object(a.c)(t,e),t.prototype.forwardInput=function(e){var t=this;return o.L(function(){return o.D(t.runNet(e))})},t.prototype.forward=function(e){return Object(a.b)(this,void 0,void 0,function(){var t;return Object(a.d)(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,ae(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.predictExpressions=function(e){return Object(a.b)(this,void 0,void 0,function(){var t,n,r,i,s=this;return Object(a.d)(this,function(u){switch(u.label){case 0:return[4,ae(e)];case 1:return t=u.sent(),[4,this.forwardInput(t)];case 2:return n=u.sent(),[4,Promise.all(o.O(n).map(function(e){return Object(a.b)(s,void 0,void 0,function(){var t;return Object(a.d)(this,function(n){switch(n.label){case 0:return[4,e.data()];case 1:return t=n.sent(),e.dispose(),[2,t]}})})}))];case 3:return r=u.sent(),n.dispose(),i=r.map(function(e){return new Me(e)}),[2,t.isBatchInput?i:i[0]]}})})},t.prototype.getDefaultModelName=function(){return"face_expression_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t.prototype.getClassifierChannelsOut=function(){return 7},t}(Ae);function Le(e,t){var n={expressions:t};return Object.assign({},e,n)}function Fe(e,t,n,r){void 0===n&&(n=.1),(Array.isArray(t)?t:[t]).forEach(function(t){var o=t instanceof Me?t:t.expressions instanceof Me?t.expressions:void 0;if(!o)throw new Error("drawFaceExpressions - expected faceExpressions to be FaceExpressions | WithFaceExpressions<{}> or array thereof");var i=o.asSortedArray().filter(function(e){return e.probability>n}),a=N(t)?t.detection.box.bottomLeft:r||new y(0,0);new X(i.map(function(e){return e.expression+" ("+d(e.probability)+")"}),a).draw(e)})}function Be(e){return N(e)&&e.landmarks instanceof j&&e.unshiftedLandmarks instanceof j&&e.alignedRect instanceof O}function Ve(e,t){var n=e.detection.box,r=t.shiftBy(n.x,n.y),o=r.align(),i=e.detection.imageDims,a={landmarks:r,unshiftedLandmarks:t,alignedRect:new O(e.detection.score,o.rescale(i.reverse()),i)};return Object.assign({},e,a)}var Ue=function(){return function(e){void 0===e&&(e={});var t=e.drawLines,n=void 0===t||t,r=e.drawPoints,o=void 0===r||r,i=e.lineWidth,a=e.lineColor,s=e.pointSize,u=e.pointColor;this.drawLines=n,this.drawPoints=o,this.lineWidth=i||1,this.pointSize=s||2,this.lineColor=a||"rgba(0, 255, 255, 1)",this.pointColor=u||"rgba(255, 0, 255, 1)"}}(),We=function(){function e(e,t){void 0===t&&(t={}),this.faceLandmarks=e,this.options=new Ue(t)}return e.prototype.draw=function(e){var t=K(e),n=this.options,r=n.drawLines,o=n.drawPoints,a=n.lineWidth,s=n.lineColor,u=n.pointSize,c=n.pointColor;if(r&&this.faceLandmarks instanceof T&&(t.strokeStyle=s,t.lineWidth=a,i(t,this.faceLandmarks.getJawOutline()),i(t,this.faceLandmarks.getLeftEyeBrow()),i(t,this.faceLandmarks.getRightEyeBrow()),i(t,this.faceLandmarks.getNose()),i(t,this.faceLandmarks.getLeftEye(),!0),i(t,this.faceLandmarks.getRightEye(),!0),i(t,this.faceLandmarks.getMouth(),!0)),o){t.strokeStyle=c,t.fillStyle=c;this.faceLandmarks.positions.forEach(function(e){t.beginPath(),t.arc(e.x,e.y,u,0,2*Math.PI),t.fill()})}},e}();function ze(e,t){(Array.isArray(t)?t:[t]).forEach(function(t){var n=t instanceof j?t:Be(t)?t.landmarks:void 0;if(!n)throw new Error("drawFaceLandmarks - expected faceExpressions to be FaceLandmarks | WithFaceLandmarks<WithFaceDetection<{}>> or array thereof");new We(n).draw(e)})}function He(e,t){var n=[],r=ke(e),o=r.extractWeights,i=r.getRemainingWeights,a=function(e,t){var n=we(e,t),r=Ee(e,t);return{extractConvParams:n,extractSeparableConvParams:r,extractReductionBlockParams:function(e,t,o){return{separable_conv0:r(e,t,o+"/separable_conv0"),separable_conv1:r(t,t,o+"/separable_conv1"),expansion_conv:n(e,t,1,o+"/expansion_conv")}},extractMainBlockParams:function(e,t){return{separable_conv0:r(e,e,t+"/separable_conv0"),separable_conv1:r(e,e,t+"/separable_conv1"),separable_conv2:r(e,e,t+"/separable_conv2")}}}}(o,n),s=a.extractConvParams,u=a.extractSeparableConvParams,c=a.extractReductionBlockParams,l=a.extractMainBlockParams,f={conv_in:s(3,32,3,"entry_flow/conv_in"),reduction_block_0:c(32,64,"entry_flow/reduction_block_0"),reduction_block_1:c(64,128,"entry_flow/reduction_block_1")},d={};v(t,0,1).forEach(function(e){d["main_block_"+e]=l(128,"middle_flow/main_block_"+e)});var p={reduction_block:c(128,256,"exit_flow/reduction_block"),separable_conv:u(256,512,"exit_flow/separable_conv")};if(0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:n,params:{entry_flow:f,middle_flow:d,exit_flow:p}}}function qe(e,t){var n=[],r=function(e,t){var n=Ce(e,t),r=je(n),o=Se(n);return{extractConvParams:r,extractSeparableConvParams:o,extractReductionBlockParams:function(e){return{separable_conv0:o(e+"/separable_conv0"),separable_conv1:o(e+"/separable_conv1"),expansion_conv:r(e+"/expansion_conv")}},extractMainBlockParams:function(e){return{separable_conv0:o(e+"/separable_conv0"),separable_conv1:o(e+"/separable_conv1"),separable_conv2:o(e+"/separable_conv2")}}}}(e,n),o=r.extractConvParams,i=r.extractSeparableConvParams,a=r.extractReductionBlockParams,s=r.extractMainBlockParams,u={conv_in:o("entry_flow/conv_in"),reduction_block_0:a("entry_flow/reduction_block_0"),reduction_block_1:a("entry_flow/reduction_block_1")},c={};v(t,0,1).forEach(function(e){c["main_block_"+e]=s("middle_flow/main_block_"+e)});var l={reduction_block:a("exit_flow/reduction_block"),separable_conv:i("exit_flow/separable_conv")};return be(e,n),{params:{entry_flow:u,middle_flow:c,exit_flow:l},paramMappings:n}}function Ge(e,t,n){return o.c(o.i(e,t.filters,n,"same"),t.bias)}function Ke(e,t,n){void 0===n&&(n=!0);var r=n?o.w(e):e;return r=ve(r,t.separable_conv0,[1,1]),r=ve(o.w(r),t.separable_conv1,[1,1]),r=o.s(r,[3,3],[2,2],"same"),r=o.c(r,Ge(e,t.expansion_conv,[2,2]))}var $e,Xe=function(e){function t(t){var n=e.call(this,"TinyXception")||this;return n._numMainBlocks=t,n}return Object(a.c)(t,e),t.prototype.forwardInput=function(e){var t=this,n=this.params;if(!n)throw new Error("TinyXception - load model before inference");return o.L(function(){var r=C(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(o.y(256)),i=o.w(Ge(r,n.entry_flow.conv_in,[2,2]));return i=Ke(i,n.entry_flow.reduction_block_0,!1),i=Ke(i,n.entry_flow.reduction_block_1),v(t._numMainBlocks,0,1).forEach(function(e){i=function(e,t){var n=ve(o.w(e),t.separable_conv0,[1,1]);return n=ve(o.w(n),t.separable_conv1,[1,1]),n=ve(o.w(n),t.separable_conv2,[1,1]),n=o.c(n,e)}(i,n.middle_flow["main_block_"+e])}),i=Ke(i,n.exit_flow.reduction_block),i=o.w(ve(i,n.exit_flow.separable_conv,[1,1]))})},t.prototype.forward=function(e){return Object(a.b)(this,void 0,void 0,function(){var t;return Object(a.d)(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,ae(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"tiny_xception_model"},t.prototype.extractParamsFromWeigthMap=function(e){return qe(e,this._numMainBlocks)},t.prototype.extractParams=function(e){return He(e,this._numMainBlocks)},t}(he);!function(e){e.FEMALE="female",e.MALE="male"}($e||($e={}));var Ye=function(e){function t(t){void 0===t&&(t=new Xe(2));var n=e.call(this,"AgeGenderNet")||this;return n._faceFeatureExtractor=t,n}return Object(a.c)(t,e),Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(e){var t=this,n=this.params;if(!n)throw new Error(this._name+" - load model before inference");return o.L(function(){var r=e instanceof ie?t.faceFeatureExtractor.forwardInput(e):e,i=o.d(r,[7,7],[2,2],"valid").as2D(r.shape[0],-1);return{age:_e(i,n.fc.age).as1D(),gender:_e(i,n.fc.gender)}})},t.prototype.forwardInput=function(e){var t=this;return o.L(function(){var n=t.runNet(e),r=n.age,i=n.gender;return{age:r,gender:o.D(i)}})},t.prototype.forward=function(e){return Object(a.b)(this,void 0,void 0,function(){var t;return Object(a.d)(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,ae(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.predictAgeAndGender=function(e){return Object(a.b)(this,void 0,void 0,function(){var t,n,r,i,s,u,c=this;return Object(a.d)(this,function(l){switch(l.label){case 0:return[4,ae(e)];case 1:return t=l.sent(),[4,this.forwardInput(t)];case 2:return n=l.sent(),r=o.O(n.age),i=o.O(n.gender),s=r.map(function(e,t){return{ageTensor:e,genderTensor:i[t]}}),[4,Promise.all(s.map(function(e){var t=e.ageTensor,n=e.genderTensor;return Object(a.b)(c,void 0,void 0,function(){var e,r,o,i,s;return Object(a.d)(this,function(a){switch(a.label){case 0:return[4,t.data()];case 1:return e=a.sent()[0],[4,n.data()];case 2:return r=a.sent()[0],i=(o=r>.5)?$e.MALE:$e.FEMALE,s=o?r:1-r,t.dispose(),n.dispose(),[2,{age:e,gender:i,genderProbability:s}]}})})}))];case 3:return u=l.sent(),n.age.dispose(),n.gender.dispose(),[2,t.isBatchInput?u:u[0]]}})})},t.prototype.getDefaultModelName=function(){return"age_gender_model"},t.prototype.dispose=function(t){void 0===t&&(t=!0),this.faceFeatureExtractor.dispose(t),e.prototype.dispose.call(this,t)},t.prototype.loadClassifierParams=function(e){var t=this.extractClassifierParams(e),n=t.params,r=t.paramMappings;this._params=n,this._paramMappings=r},t.prototype.extractClassifierParams=function(e){return function(e){var t=[],n=ke(e),r=n.extractWeights,o=n.getRemainingWeights,i=xe(r,t),a=i(512,1,"fc/age"),s=i(512,2,"fc/gender");if(0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{fc:{age:a,gender:s}}}}(e)},t.prototype.extractParamsFromWeigthMap=function(e){var t=Ie(e),n=t.featureExtractorMap,r=t.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(n),function(e){var t=[],n=Ce(e,t);function r(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}var o={fc:{age:r("fc/age"),gender:r("fc/gender")}};return be(e,t),{params:o,paramMappings:t}}(r)},t.prototype.extractParams=function(e){var t=e.slice(0,e.length-1539),n=e.slice(e.length-1539);return this.faceFeatureExtractor.extractWeights(t),this.extractClassifierParams(n)},t}(he),Je=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype.postProcess=function(e,t,n){var r=n.map(function(e){var n=e.width,r=e.height,o=t/Math.max(r,n);return{width:n*o,height:r*o}}),i=r.length;return o.L(function(){var n=function(e,t){return o.E([o.n([68],e),o.n([68],t)],1).as2D(1,136).as1D()},a=function(e,t){var n=r[e],o=n.width,i=n.height;return t(o,i)?Math.abs(o-i)/2:0};return e.mul(o.n([i,136],t)).sub(o.E(Array.from(Array(i),function(e,t){return n(function(e){return a(e,function(e,t){return e<t})}(t),function(e){return a(e,function(e,t){return t<e})}(t))}))).div(o.E(Array.from(Array(i),function(e,t){return n(r[t].width,r[t].height)})))})},t.prototype.forwardInput=function(e){var t=this;return o.L(function(){var n=t.runNet(e);return t.postProcess(n,e.inputSize,e.inputDimensions.map(function(e){return{height:e[0],width:e[1]}}))})},t.prototype.forward=function(e){return Object(a.b)(this,void 0,void 0,function(){var t;return Object(a.d)(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,ae(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.detectLandmarks=function(e){return Object(a.b)(this,void 0,void 0,function(){var t,n,r,i=this;return Object(a.d)(this,function(s){switch(s.label){case 0:return[4,ae(e)];case 1:return t=s.sent(),n=o.L(function(){return o.O(i.forwardInput(t))}),[4,Promise.all(n.map(function(e,n){return Object(a.b)(i,void 0,void 0,function(){var r,o,i,s,u;return Object(a.d)(this,function(a){switch(a.label){case 0:return i=(o=Array).from,[4,e.data()];case 1:return r=i.apply(o,[a.sent()]),s=r.filter(function(e,t){return f(t)}),u=r.filter(function(e,t){return!f(t)}),[2,new T(Array(68).fill(0).map(function(e,t){return new y(s[t],u[t])}),{height:t.getInputHeight(n),width:t.getInputWidth(n)})]}})})}))];case 2:return r=s.sent(),n.forEach(function(e){return e.dispose()}),[2,t.isBatchInput?r:r[0]]}})})},t.prototype.getClassifierChannelsOut=function(){return 136},t}(Ae),Qe=function(e){function t(t){return void 0===t&&(t=new Te),e.call(this,"FaceLandmark68Net",t)||this}return Object(a.c)(t,e),t.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t}(Je);var Ze=function(e){function t(){return e.call(this,"TinyFaceFeatureExtractor")||this}return Object(a.c)(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("TinyFaceFeatureExtractor - load model before inference");return o.L(function(){var n=me(C(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(o.y(255)),t.dense0,!0);return n=me(n,t.dense1),n=me(n,t.dense2),n=o.d(n,[14,14],[2,2],"valid")})},t.prototype.forward=function(e){return Object(a.b)(this,void 0,void 0,function(){var t;return Object(a.d)(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,ae(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},t.prototype.extractParamsFromWeigthMap=function(e){return function(e){var t=[],n=Pe(e,t).extractDenseBlock3Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2")};return be(e,t),{params:r,paramMappings:t}}(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=ke(e),r=n.extractWeights,o=n.getRemainingWeights,i=Re(r,t).extractDenseBlock3Params,a=i(3,32,"dense0",!0),s=i(32,64,"dense1"),u=i(64,128,"dense2");if(0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{dense0:a,dense1:s,dense2:u}}}(e)},t}(he),et=function(e){function t(t){return void 0===t&&(t=new Ze),e.call(this,"FaceLandmark68TinyNet",t)||this}return Object(a.c)(t,e),t.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},t.prototype.getClassifierChannelsIn=function(){return 128},t}(Je);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(a.c)(t,e)}(Qe);function tt(e,t,n,r,i){void 0===i&&(i="same");var a=t.conv,s=a.filters,u=a.bias,c=o.i(e,s,n,i);return c=function(e,t){return o.c(o.t(e,t.weights),t.biases)}(c=o.c(c,u),t.scale),r?o.w(c):c}function nt(e,t){return tt(e,t,[1,1],!1)}function rt(e,t){return tt(e,t,[2,2],!0,"valid")}function ot(e,t){function n(n,r,i,a){var s=function(t,n,r){var i=e(t),a=i.length/(n*r*r);if(a%1!==0)throw new Error("depth has to be an integer: "+a+", weights.length: "+i.length+", numFilters: "+n+", filterSize: "+r);return o.L(function(){return o.N(o.K(i,[n,a,r,r]),[2,3,1,0])})}(n,r,i),u=o.H(e(r));return t.push({paramPath:a+"/filters"},{paramPath:a+"/bias"}),{filters:s,bias:u}}function r(r,i,a,s){return{conv:n(r,i,a,s+"/conv"),scale:function(n,r){var i=o.H(e(n)),a=o.H(e(n));return t.push({paramPath:r+"/weights"},{paramPath:r+"/biases"}),{weights:i,biases:a}}(i,s+"/scale")}}return{extractConvLayerParams:r,extractResidualLayerParams:function(e,t,n,o,i){return void 0===i&&(i=!1),{conv1:r((i?.5:1)*e,t,n,o+"/conv1"),conv2:r(e,t,n,o+"/conv2")}}}}function it(e,t){var n=Ce(e,t);function r(e){return{conv:{filters:n(e+"/conv/filters",4),bias:n(e+"/conv/bias",1)},scale:function(e){return{weights:n(e+"/scale/weights",1),biases:n(e+"/scale/biases",1)}}(e)}}return{extractConvLayerParams:r,extractResidualLayerParams:function(e){return{conv1:r(e+"/conv1"),conv2:r(e+"/conv2")}}}}function at(e){var t=[],n=it(e,t),r=n.extractConvLayerParams,o=n.extractResidualLayerParams,i=r("conv32_down"),a=o("conv32_1"),s=o("conv32_2"),c=o("conv32_3"),l=o("conv64_down"),f=o("conv64_1"),d=o("conv64_2"),p=o("conv64_3"),h=o("conv128_down"),v=o("conv128_1"),m=o("conv128_2"),g=o("conv256_down"),y=o("conv256_1"),b=o("conv256_2"),w=o("conv256_down_out"),x=e.fc;if(t.push({originalPath:"fc",paramPath:"fc"}),!u(x,2))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+x);var O={conv32_down:i,conv32_1:a,conv32_2:s,conv32_3:c,conv64_down:l,conv64_1:f,conv64_2:d,conv64_3:p,conv128_down:h,conv128_1:v,conv128_2:m,conv256_down:g,conv256_1:y,conv256_2:b,conv256_down_out:w,fc:x};return be(e,t),{params:O,paramMappings:t}}function st(e,t){var n=function(e,t){return tt(e,t,[1,1],!0)}(e,t.conv1);return n=nt(n,t.conv2),n=o.c(n,e),n=o.w(n)}function ut(e,t){var n=rt(e,t.conv1);n=nt(n,t.conv2);var r=o.d(e,2,2,"valid"),i=o.P(r.shape),s=r.shape[3]!==n.shape[3];if(r.shape[1]!==n.shape[1]||r.shape[2]!==n.shape[2]){var u=Object(a.e)(n.shape);u[1]=1;var c=o.P(u);n=o.h([n,c],1);var l=Object(a.e)(n.shape);l[2]=1;var f=o.P(l);n=o.h([n,f],2)}return r=s?o.h([r,i],3):r,n=o.c(r,n),n=o.w(n)}var ct=function(e){function t(){return e.call(this,"FaceRecognitionNet")||this}return Object(a.c)(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("FaceRecognitionNet - load model before inference");return o.L(function(){var n=rt(C(e.toBatchTensor(150,!0).toFloat(),[122.782,117.001,104.298]).div(o.y(256)),t.conv32_down);n=st(n=o.s(n,3,2,"valid"),t.conv32_1),n=st(n,t.conv32_2),n=st(n,t.conv32_3),n=st(n=ut(n,t.conv64_down),t.conv64_1),n=st(n,t.conv64_2),n=st(n,t.conv64_3),n=st(n=ut(n,t.conv128_down),t.conv128_1),n=st(n,t.conv128_2),n=st(n=ut(n,t.conv256_down),t.conv256_1);var r=(n=ut(n=st(n,t.conv256_2),t.conv256_down_out)).mean([1,2]);return o.q(r,t.fc)})},t.prototype.forward=function(e){return Object(a.b)(this,void 0,void 0,function(){var t;return Object(a.d)(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,ae(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.computeFaceDescriptor=function(e){return Object(a.b)(this,void 0,void 0,function(){var t,n,r,i=this;return Object(a.d)(this,function(a){switch(a.label){case 0:return[4,ae(e)];case 1:return t=a.sent(),n=o.L(function(){return o.O(i.forwardInput(t))}),[4,Promise.all(n.map(function(e){return e.data()}))];case 2:return r=a.sent(),n.forEach(function(e){return e.dispose()}),[2,t.isBatchInput?r:r[0]]}})})},t.prototype.getDefaultModelName=function(){return"face_recognition_model"},t.prototype.extractParamsFromWeigthMap=function(e){return at(e)},t.prototype.extractParams=function(e){return function(e){var t=ke(e),n=t.extractWeights,r=t.getRemainingWeights,i=[],a=ot(n,i),s=a.extractConvLayerParams,u=a.extractResidualLayerParams,c=s(4704,32,7,"conv32_down"),l=u(9216,32,3,"conv32_1"),f=u(9216,32,3,"conv32_2"),d=u(9216,32,3,"conv32_3"),p=u(36864,64,3,"conv64_down",!0),h=u(36864,64,3,"conv64_1"),v=u(36864,64,3,"conv64_2"),m=u(36864,64,3,"conv64_3"),g=u(147456,128,3,"conv128_down",!0),y=u(147456,128,3,"conv128_1"),b=u(147456,128,3,"conv128_2"),w=u(589824,256,3,"conv256_down",!0),x=u(589824,256,3,"conv256_1"),O=u(589824,256,3,"conv256_2"),E=u(589824,256,3,"conv256_down_out"),S=o.L(function(){return o.N(o.I(n(32768),[128,256]),[1,0])});if(i.push({paramPath:"fc"}),0!==r().length)throw new Error("weights remaing after extract: "+r().length);return{params:{conv32_down:c,conv32_1:l,conv32_2:f,conv32_3:d,conv64_down:p,conv64_1:h,conv64_2:v,conv64_3:m,conv128_down:g,conv128_1:y,conv128_2:b,conv256_down:w,conv256_1:x,conv256_2:O,conv256_down_out:E,fc:S},paramMappings:i}}(e)},t}(he);function lt(e,t){var n={descriptor:t};return Object.assign({},e,n)}function ft(e,t){var n={age:t};return Object.assign({},e,n)}function dt(e,t,n){var r={gender:t,genderProbability:n};return Object.assign({},e,r)}var pt=function(){function e(e){var t=void 0===e?{}:e,n=t.minFaceSize,r=t.scaleFactor,o=t.maxNumScales,i=t.scoreThresholds,a=t.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=n||20,this._scaleFactor=r||.709,this._maxNumScales=o||10,this._scoreThresholds=i||[.6,.7,.7],this._scaleSteps=a,"number"!==typeof this._minFaceSize||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if("number"!==typeof this._scaleFactor||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if("number"!==typeof this._maxNumScales||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||3!==this._scoreThresholds.length||this._scoreThresholds.some(function(e){return"number"!==typeof e}))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some(function(e){return"number"!==typeof e})))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(e.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),e}();function ht(e,t){function n(n,r,i,a,s){var u=o.K(e(n*r*i*i),[i,i,n,r]),c=o.H(e(r));return t.push({paramPath:a+"/filters"},{paramPath:a+"/"+(s?"batch_norm_offset":"bias")}),{filters:u,bias:c}}function r(e,t,r,o){var i=n(e,t,r,o,!0);return{filters:i.filters,batch_norm_offset:i.bias}}function i(n,i,a){return{depthwise_conv:function(n,r){var i=o.K(e(9*n),[3,3,n,1]),a=o.H(e(n)),s=o.H(e(n)),u=o.H(e(n)),c=o.H(e(n));return t.push({paramPath:r+"/filters"},{paramPath:r+"/batch_norm_scale"},{paramPath:r+"/batch_norm_offset"},{paramPath:r+"/batch_norm_mean"},{paramPath:r+"/batch_norm_variance"}),{filters:i,batch_norm_scale:a,batch_norm_offset:s,batch_norm_mean:u,batch_norm_variance:c}}(n,a+"/depthwise_conv"),pointwise_conv:r(n,i,1,a+"/pointwise_conv")}}return{extractMobilenetV1Params:function(){return{conv_0:r(3,32,3,"mobilenetv1/conv_0"),conv_1:i(32,64,"mobilenetv1/conv_1"),conv_2:i(64,128,"mobilenetv1/conv_2"),conv_3:i(128,128,"mobilenetv1/conv_3"),conv_4:i(128,256,"mobilenetv1/conv_4"),conv_5:i(256,256,"mobilenetv1/conv_5"),conv_6:i(256,512,"mobilenetv1/conv_6"),conv_7:i(512,512,"mobilenetv1/conv_7"),conv_8:i(512,512,"mobilenetv1/conv_8"),conv_9:i(512,512,"mobilenetv1/conv_9"),conv_10:i(512,512,"mobilenetv1/conv_10"),conv_11:i(512,512,"mobilenetv1/conv_11"),conv_12:i(512,1024,"mobilenetv1/conv_12"),conv_13:i(1024,1024,"mobilenetv1/conv_13")}},extractPredictionLayerParams:function(){return{conv_0:r(1024,256,1,"prediction_layer/conv_0"),conv_1:r(256,512,3,"prediction_layer/conv_1"),conv_2:r(512,128,1,"prediction_layer/conv_2"),conv_3:r(128,256,3,"prediction_layer/conv_3"),conv_4:r(256,128,1,"prediction_layer/conv_4"),conv_5:r(128,256,3,"prediction_layer/conv_5"),conv_6:r(256,64,1,"prediction_layer/conv_6"),conv_7:r(64,128,3,"prediction_layer/conv_7"),box_predictor_0:{box_encoding_predictor:n(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),class_predictor:n(512,9,1,"prediction_layer/box_predictor_0/class_predictor")},box_predictor_1:{box_encoding_predictor:n(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),class_predictor:n(1024,18,1,"prediction_layer/box_predictor_1/class_predictor")},box_predictor_2:{box_encoding_predictor:n(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),class_predictor:n(512,18,1,"prediction_layer/box_predictor_2/class_predictor")},box_predictor_3:{box_encoding_predictor:n(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),class_predictor:n(256,18,1,"prediction_layer/box_predictor_3/class_predictor")},box_predictor_4:{box_encoding_predictor:n(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),class_predictor:n(256,18,1,"prediction_layer/box_predictor_4/class_predictor")},box_predictor_5:{box_encoding_predictor:n(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),class_predictor:n(128,18,1,"prediction_layer/box_predictor_5/class_predictor")}}}}}function vt(e){var t=[],n=function(e,t){var n=Ce(e,t);function r(e,t,r){return{filters:n(e+"/Conv2d_"+t+"_pointwise/weights",4,r+"/filters"),batch_norm_offset:n(e+"/Conv2d_"+t+"_pointwise/convolution_bn_offset",1,r+"/batch_norm_offset")}}function o(e){var t="mobilenetv1/conv_"+e,o="MobilenetV1/Conv2d_"+e+"_depthwise",i=t+"/depthwise_conv",a=t+"/pointwise_conv";return{depthwise_conv:{filters:n(o+"/depthwise_weights",4,i+"/filters"),batch_norm_scale:n(o+"/BatchNorm/gamma",1,i+"/batch_norm_scale"),batch_norm_offset:n(o+"/BatchNorm/beta",1,i+"/batch_norm_offset"),batch_norm_mean:n(o+"/BatchNorm/moving_mean",1,i+"/batch_norm_mean"),batch_norm_variance:n(o+"/BatchNorm/moving_variance",1,i+"/batch_norm_variance")},pointwise_conv:r("MobilenetV1",e,a)}}function i(e,t){return{filters:n(e+"/weights",4,t+"/filters"),bias:n(e+"/biases",1,t+"/bias")}}function a(e){return{box_encoding_predictor:i("Prediction/BoxPredictor_"+e+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+e+"/box_encoding_predictor"),class_predictor:i("Prediction/BoxPredictor_"+e+"/ClassPredictor","prediction_layer/box_predictor_"+e+"/class_predictor")}}return{extractMobilenetV1Params:function(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:o(1),conv_2:o(2),conv_3:o(3),conv_4:o(4),conv_5:o(5),conv_6:o(6),conv_7:o(7),conv_8:o(8),conv_9:o(9),conv_10:o(10),conv_11:o(11),conv_12:o(12),conv_13:o(13)}},extractPredictionLayerParams:function(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:a(0),box_predictor_1:a(1),box_predictor_2:a(2),box_predictor_3:a(3),box_predictor_4:a(4),box_predictor_5:a(5)}}}}(e,t),r=n.extractMobilenetV1Params,o=n.extractPredictionLayerParams,i=e["Output/extra_dim"];if(t.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!c(i))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+i);var a={mobilenetv1:r(),prediction_layer:o(),output_layer:{extra_dim:i}};return be(e,t),{params:a,paramMappings:t}}function mt(e,t,n){return o.L(function(){var r=o.i(e,t.filters,n,"same");return r=o.c(r,t.batch_norm_offset),o.g(r,0,6)})}var gt=.0010000000474974513;function yt(e,t){return o.L(function(){var n=null,r=mt(e,t.conv_0,[2,2]);if([t.conv_1,t.conv_2,t.conv_3,t.conv_4,t.conv_5,t.conv_6,t.conv_7,t.conv_8,t.conv_9,t.conv_10,t.conv_11,t.conv_12,t.conv_13].forEach(function(e,t){var i,a,s,u=t+1,c=function(e){return[2,4,6,12].some(function(t){return t===e})?[2,2]:[1,1]}(u);i=r,a=e.depthwise_conv,s=c,r=mt(r=o.L(function(){var e=o.j(i,a.filters,s,"same");return e=o.e(e,a.batch_norm_mean,a.batch_norm_variance,a.batch_norm_offset,a.batch_norm_scale,gt),o.g(e,0,6)}),e.pointwise_conv,[1,1]),11===u&&(n=r)}),null===n)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:r,conv11:n}})}function bt(e,t,n){var r=e.arraySync(),o=Math.min(r[t][0],r[t][2]),i=Math.min(r[t][1],r[t][3]),a=Math.max(r[t][0],r[t][2]),s=Math.max(r[t][1],r[t][3]),u=Math.min(r[n][0],r[n][2]),c=Math.min(r[n][1],r[n][3]),l=Math.max(r[n][0],r[n][2]),f=Math.max(r[n][1],r[n][3]),d=(a-o)*(s-i),p=(l-u)*(f-c);if(d<=0||p<=0)return 0;var h=Math.max(o,u),v=Math.max(i,c),m=Math.min(a,l),g=Math.min(s,f),y=Math.max(m-h,0)*Math.max(g-v,0);return y/(d+p-y)}function wt(e,t){var n=function(e){var t=o.O(o.N(e,[1,0])),n=[o.F(t[2],t[0]),o.F(t[3],t[1])];return{sizes:n,centers:[o.c(t[0],o.k(n[0],o.y(2))),o.c(t[1],o.k(n[1],o.y(2)))]}}(e),r=n.sizes,i=n.centers,a=o.O(o.N(t,[1,0])),s=o.k(o.t(o.l(o.k(a[2],o.y(5))),r[0]),o.y(2)),u=o.c(o.t(o.k(a[0],o.y(10)),r[0]),i[0]),c=o.k(o.t(o.l(o.k(a[3],o.y(5))),r[1]),o.y(2)),l=o.c(o.t(o.k(a[1],o.y(10)),r[1]),i[1]);return o.N(o.E([o.F(u,s),o.F(l,c),o.c(u,s),o.c(l,c)]),[1,0])}function xt(e,t){return o.L(function(){var n=e.shape[0];return{boxPredictionEncoding:o.x(ye(e,t.box_encoding_predictor),[n,-1,1,4]),classPrediction:o.x(ye(e,t.class_predictor),[n,-1,3])}})}var Ot=function(){function e(e){var t=void 0===e?{}:e,n=t.minConfidence,r=t.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=n||.5,this._maxResults=r||100,"number"!==typeof this._minConfidence||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if("number"!==typeof this._maxResults)throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(e.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),e}(),Et=function(e){function t(){return e.call(this,"SsdMobilenetv1")||this}return Object(a.c)(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("SsdMobilenetv1 - load model before inference");return o.L(function(){var n=e.toBatchTensor(512,!1).toFloat(),r=yt(o.F(o.t(n,o.y(.007843137718737125)),o.y(1)),t.mobilenetv1),i=function(e,t,n){return o.L(function(){var r=mt(e,n.conv_0,[1,1]),i=mt(r,n.conv_1,[2,2]),a=mt(i,n.conv_2,[1,1]),s=mt(a,n.conv_3,[2,2]),u=mt(s,n.conv_4,[1,1]),c=mt(u,n.conv_5,[2,2]),l=mt(c,n.conv_6,[1,1]),f=mt(l,n.conv_7,[2,2]),d=xt(t,n.box_predictor_0),p=xt(e,n.box_predictor_1),h=xt(i,n.box_predictor_2),v=xt(s,n.box_predictor_3),m=xt(c,n.box_predictor_4),g=xt(f,n.box_predictor_5);return{boxPredictions:o.h([d.boxPredictionEncoding,p.boxPredictionEncoding,h.boxPredictionEncoding,v.boxPredictionEncoding,m.boxPredictionEncoding,g.boxPredictionEncoding],1),classPredictions:o.h([d.classPrediction,p.classPrediction,h.classPrediction,v.classPrediction,m.classPrediction,g.classPrediction],1)}})}(r.out,r.conv11,t.prediction_layer);return function(e,t,n){return o.L(function(){var r=e.shape[0],i=wt(o.x(o.M(n.extra_dim,[r,1,1]),[-1,4]),o.x(e,[-1,4]));i=o.x(i,[r,i.shape[0]/r,4]);var a=o.A(o.B(t,[0,0,1],[-1,-1,-1])),s=o.B(a,[0,0,0],[-1,-1,1]);return s=o.x(s,[r,s.shape[1]]),{boxes:o.O(i),scores:o.O(s)}})}(i.boxPredictions,i.classPredictions,t.output_layer)})},t.prototype.forward=function(e){return Object(a.b)(this,void 0,void 0,function(){var t;return Object(a.d)(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,ae(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.locateFaces=function(e,t){return void 0===t&&(t={}),Object(a.b)(this,void 0,void 0,function(){var n,r,o,i,s,u,c,l,f,d,p,h,v,m,g,y,b,w,x,E;return Object(a.d)(this,function(a){switch(a.label){case 0:return n=new Ot(t),r=n.maxResults,o=n.minConfidence,[4,ae(e)];case 1:for(i=a.sent(),s=this.forwardInput(i),u=s.boxes,c=s.scores,l=u[0],f=c[0],d=1;d<u.length;d++)u[d].dispose(),c[d].dispose();return v=(h=Array).from,[4,f.data()];case 2:return p=v.apply(h,[a.sent()]),.5,m=function(e,t,n,r,o){var i=e.shape[0],a=Math.min(n,i),s=t.map(function(e,t){return{score:e,boxIndex:t}}).filter(function(e){return e.score>o}).sort(function(e,t){return t.score-e.score}),u=[];return s.forEach(function(t){if(!(u.length>=a)){for(var n=t.score,i=u.length-1;i>=0;--i){var s=bt(e,t.boxIndex,u[i]);if(0!==s&&(t.score*=s<=r?1:0,t.score<=o))break}n===t.score&&u.push(t.boxIndex)}}),u}(l,p,r,.5,o),g=i.getReshapedInputDimensions(0),y=i.inputSize,b=y/g.width,w=y/g.height,x=l.arraySync(),E=m.map(function(e){var t=[Math.max(0,x[e][0]),Math.min(1,x[e][2])].map(function(e){return e*w}),n=t[0],r=t[1],o=[Math.max(0,x[e][1]),Math.min(1,x[e][3])].map(function(e){return e*b}),a=o[0],s=o[1];return new O(p[e],new R(a,n,s-a,r-n),{height:i.getInputHeight(0),width:i.getInputWidth(0)})}),l.dispose(),f.dispose(),[2,E]}})})},t.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},t.prototype.extractParamsFromWeigthMap=function(e){return vt(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=ke(e),r=n.extractWeights,i=n.getRemainingWeights,a=ht(r,t),s=a.extractMobilenetV1Params,u=a.extractPredictionLayerParams,c=s(),l=u(),f={extra_dim:o.J(r(20472),[1,5118,4])};if(t.push({paramPath:"output_layer/extra_dim"}),0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{params:{mobilenetv1:c,prediction_layer:l,output_layer:f},paramMappings:t}}(e)},t}(he);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(a.c)(t,e)}(Et);var St,Ct=.4,kt=[new y(.738768,.874946),new y(2.42204,2.65704),new y(4.30971,7.04493),new y(10.246,4.59428),new y(12.6868,11.8741)],Rt=[new y(1.603231,2.094468),new y(6.041143,7.080126),new y(2.882459,3.518061),new y(4.266906,5.178857),new y(9.041765,10.66308)],jt=[117.001,114.697,97.404],Pt=function(e){return"number"===typeof e};function Tt(e){return o.L(function(){var t=o.t(e,o.y(.10000000149011612));return o.c(o.w(o.F(e,t)),t)})}function _t(e,t){return o.L(function(){var n=o.v(e,[[0,0],[1,1],[1,1],[0,0]]);return n=o.i(n,t.conv.filters,[1,1],"valid"),n=o.F(n,t.bn.sub),n=o.t(n,t.bn.truediv),Tt(n=o.c(n,t.conv.bias))})}function It(e,t){return o.L(function(){var n=o.v(e,[[0,0],[1,1],[1,1],[0,0]]);return n=o.z(n,t.depthwise_filter,t.pointwise_filter,[1,1],"valid"),Tt(n=o.c(n,t.bias))})}function At(e,t){var n=we(e,t);var r=Ee(e,t);return{extractConvParams:n,extractConvWithBatchNormParams:function(r,i,a){return{conv:n(r,i,3,a+"/conv"),bn:function(n,r){var i=o.H(e(n)),a=o.H(e(n));return t.push({paramPath:r+"/sub"},{paramPath:r+"/truediv"}),{sub:i,truediv:a}}(i,a+"/bn")}},extractSeparableConvParams:r}}function Nt(e,t){var n=Ce(e,t);function r(e){return{filters:n(e+"/filters",4),bias:n(e+"/bias",1)}}return{extractConvParams:r,extractConvWithBatchNormParams:function(e){return{conv:r(e+"/conv"),bn:function(e){return{sub:n(e+"/sub",1),truediv:n(e+"/truediv",1)}}(e+"/bn")}},extractSeparableConvParams:Se(n)}}!function(e){e[e.XS=224]="XS",e[e.SM=320]="SM",e[e.MD=416]="MD",e[e.LG=608]="LG"}(St||(St={}));var Mt=function(){function e(e){var t=void 0===e?{}:e,n=t.inputSize,r=t.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=n||416,this._scoreThreshold=r||.5,"number"!==typeof this._inputSize||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if("number"!==typeof this._scoreThreshold||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),e}(),Dt=function(e){function t(t){var n=e.call(this,"TinyYolov2")||this;return function(e){if(!e)throw new Error("invalid config: "+e);if("boolean"!==typeof e.withSeparableConvs)throw new Error("config.withSeparableConvs has to be a boolean, have: "+e.withSeparableConvs);if(!Pt(e.iouThreshold)||e.iouThreshold<0||e.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+e.iouThreshold);if(!Array.isArray(e.classes)||!e.classes.length||!e.classes.every(function(e){return"string"===typeof e}))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(e.classes));if(!Array.isArray(e.anchors)||!e.anchors.length||!e.anchors.map(function(e){return e||{}}).every(function(e){return Pt(e.x)&&Pt(e.y)}))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(e.anchors));if(e.meanRgb&&(!Array.isArray(e.meanRgb)||3!==e.meanRgb.length||!e.meanRgb.every(Pt)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(e.meanRgb))}(t),n._config=t,n}return Object(a.c)(t,e),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),t.prototype.runTinyYolov2=function(e,t){var n=_t(e,t.conv0);return n=_t(n=o.s(n,[2,2],[2,2],"same"),t.conv1),n=_t(n=o.s(n,[2,2],[2,2],"same"),t.conv2),n=_t(n=o.s(n,[2,2],[2,2],"same"),t.conv3),n=_t(n=o.s(n,[2,2],[2,2],"same"),t.conv4),n=_t(n=o.s(n,[2,2],[2,2],"same"),t.conv5),n=_t(n=o.s(n,[2,2],[1,1],"same"),t.conv6),ye(n=_t(n,t.conv7),t.conv8,"valid",!1)},t.prototype.runMobilenet=function(e,t){var n=this.config.isFirstLayerConv2d?Tt(ye(e,t.conv0,"valid",!1)):It(e,t.conv0);return n=It(n=o.s(n,[2,2],[2,2],"same"),t.conv1),n=It(n=o.s(n,[2,2],[2,2],"same"),t.conv2),n=It(n=o.s(n,[2,2],[2,2],"same"),t.conv3),n=It(n=o.s(n,[2,2],[2,2],"same"),t.conv4),n=It(n=o.s(n,[2,2],[2,2],"same"),t.conv5),n=o.s(n,[2,2],[1,1],"same"),n=t.conv6?It(n,t.conv6):n,ye(n=t.conv7?It(n,t.conv7):n,t.conv8,"valid",!1)},t.prototype.forwardInput=function(e,t){var n=this,r=this.params;if(!r)throw new Error("TinyYolov2 - load model before inference");return o.L(function(){var i=e.toBatchTensor(t,!1).toFloat();return i=(i=n.config.meanRgb?C(i,n.config.meanRgb):i).div(o.y(256)),n.config.withSeparableConvs?n.runMobilenet(i,r):n.runTinyYolov2(i,r)})},t.prototype.forward=function(e,t){return Object(a.b)(this,void 0,void 0,function(){var n;return Object(a.d)(this,function(r){switch(r.label){case 0:return n=this.forwardInput,[4,ae(e)];case 1:return[4,n.apply(this,[r.sent(),t])];case 2:return[2,r.sent()]}})})},t.prototype.detect=function(e,t){return void 0===t&&(t={}),Object(a.b)(this,void 0,void 0,function(){var n,r,i,s,u,c,l,f,d,p,h,v,m,g=this;return Object(a.d)(this,function(a){switch(a.label){case 0:return n=new Mt(t),r=n.inputSize,i=n.scoreThreshold,[4,ae(e)];case 1:return s=a.sent(),[4,this.forwardInput(s,r)];case 2:return u=a.sent(),c=o.L(function(){return o.O(u)[0].expandDims()}),l={width:s.getInputWidth(0),height:s.getInputHeight(0)},[4,this.extractBoxes(c,s.getReshapedInputDimensions(0),i)];case 3:return f=a.sent(),u.dispose(),c.dispose(),d=f.map(function(e){return e.box}),p=f.map(function(e){return e.score}),h=f.map(function(e){return e.classScore}),v=f.map(function(e){return g.config.classes[e.label]}),m=S(d.map(function(e){return e.rescale(r)}),p,this.config.iouThreshold,!0),[2,m.map(function(e){return new x(p[e],h[e],v[e],d[e],l)})]}})})},t.prototype.getDefaultModelName=function(){return""},t.prototype.extractParamsFromWeigthMap=function(e){return function(e,t){var n,r=[],o=Nt(e,r),i=o.extractConvParams,a=o.extractConvWithBatchNormParams,s=o.extractSeparableConvParams;if(t.withSeparableConvs){var u=t.filterSizes&&t.filterSizes.length||9;n={conv0:t.isFirstLayerConv2d?i("conv0"):s("conv0"),conv1:s("conv1"),conv2:s("conv2"),conv3:s("conv3"),conv4:s("conv4"),conv5:s("conv5"),conv6:u>7?s("conv6"):void 0,conv7:u>8?s("conv7"):void 0,conv8:i("conv8")}}else n={conv0:a("conv0"),conv1:a("conv1"),conv2:a("conv2"),conv3:a("conv3"),conv4:a("conv4"),conv5:a("conv5"),conv6:a("conv6"),conv7:a("conv7"),conv8:i("conv8")};return be(e,r),{params:n,paramMappings:r}}(e,this.config)},t.prototype.extractParams=function(e){var n=this.config.filterSizes||t.DEFAULT_FILTER_SIZES,r=n?n.length:void 0;if(7!==r&&8!==r&&9!==r)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+r+" filterSizes in config");return function(e,t,n,r){var o,i=ke(e),a=i.extractWeights,s=i.getRemainingWeights,u=[],c=At(a,u),l=c.extractConvParams,f=c.extractConvWithBatchNormParams,d=c.extractSeparableConvParams;if(t.withSeparableConvs){var p=r[0],h=r[1],v=r[2],m=r[3],g=r[4],y=r[5],b=r[6],w=r[7],x=r[8];o={conv0:t.isFirstLayerConv2d?l(p,h,3,"conv0"):d(p,h,"conv0"),conv1:d(h,v,"conv1"),conv2:d(v,m,"conv2"),conv3:d(m,g,"conv3"),conv4:d(g,y,"conv4"),conv5:d(y,b,"conv5"),conv6:w?d(b,w,"conv6"):void 0,conv7:x?d(w,x,"conv7"):void 0,conv8:l(x||w||b,5*n,1,"conv8")}}else p=r[0],h=r[1],v=r[2],m=r[3],g=r[4],y=r[5],b=r[6],w=r[7],x=r[8],o={conv0:f(p,h,"conv0"),conv1:f(h,v,"conv1"),conv2:f(v,m,"conv2"),conv3:f(m,g,"conv3"),conv4:f(g,y,"conv4"),conv5:f(y,b,"conv5"),conv6:f(b,w,"conv6"),conv7:f(w,x,"conv7"),conv8:l(x,5*n,1,"conv8")};if(0!==s().length)throw new Error("weights remaing after extract: "+s().length);return{params:o,paramMappings:u}}(e,this.config,this.boxEncodingSize,n)},t.prototype.extractBoxes=function(e,t,n){return Object(a.b)(this,void 0,void 0,function(){var r,i,s,u,c,l,f,d,p,h,v,m,g,y,b,x,O,E,S,C,R,j,P,T,_,I,A,N,M,D=this;return Object(a.d)(this,function(L){switch(L.label){case 0:return r=t.width,i=t.height,s=Math.max(r,i),u=s/r,c=s/i,l=e.shape[1],f=this.config.anchors.length,d=o.L(function(){var t=e.reshape([l,l,f,D.boxEncodingSize]);return[t.slice([0,0,0,0],[l,l,f,4]),t.slice([0,0,0,4],[l,l,f,1]),D.withClassScores?o.D(t.slice([0,0,0,5],[l,l,f,D.config.classes.length]),3):o.y(0)]}),p=d[0],h=d[1],v=d[2],m=[],[4,h.array()];case 1:return g=L.sent(),[4,p.array()];case 2:y=L.sent(),b=0,L.label=3;case 3:if(!(b<l))return[3,12];x=0,L.label=4;case 4:if(!(x<l))return[3,11];O=0,L.label=5;case 5:return O<f?(E=k(g[b][x][O][0]),!n||E>n?(S=(x+k(y[b][x][O][0]))/l*u,C=(b+k(y[b][x][O][1]))/l*c,R=Math.exp(y[b][x][O][2])*this.config.anchors[O].x/l*u,j=Math.exp(y[b][x][O][3])*this.config.anchors[O].y/l*c,P=S-R/2,T=C-j/2,_={row:b,col:x,anchor:O},this.withClassScores?[4,this.extractPredictedClass(v,_)]:[3,7]):[3,9]):[3,10];case 6:return M=L.sent(),[3,8];case 7:M={classScore:1,label:0},L.label=8;case 8:A=(I=M).classScore,N=I.label,m.push(Object(a.a)({box:new w(P,T,P+R,T+j),score:E,classScore:E*A,label:N},_)),L.label=9;case 9:return O++,[3,5];case 10:return x++,[3,4];case 11:return b++,[3,3];case 12:return p.dispose(),h.dispose(),v.dispose(),[2,m]}})})},t.prototype.extractPredictedClass=function(e,t){return Object(a.b)(this,void 0,void 0,function(){var n,r,o,i;return Object(a.d)(this,function(a){switch(a.label){case 0:return n=t.row,r=t.col,o=t.anchor,[4,e.array()];case 1:return i=a.sent(),[2,Array(this.config.classes.length).fill(0).map(function(e,t){return i[n][r][o][t]}).map(function(e,t){return{classScore:e,label:t}}).reduce(function(e,t){return e.classScore>t.classScore?e:t})]}})})},t.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],t}(he),Lt=function(e){function t(t){void 0===t&&(t=!0);var n=Object.assign({},{withSeparableConvs:t,iouThreshold:Ct,classes:["face"]},t?{anchors:Rt,meanRgb:jt}:{anchors:kt,withClassScores:!0});return e.call(this,n)||this}return Object(a.c)(t,e),Object.defineProperty(t.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(e,t){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(n){switch(n.label){case 0:return[4,this.detect(e,t)];case 1:return[2,n.sent().map(function(e){return new O(e.score,e.relativeBox,{width:e.imageWidth,height:e.imageHeight})})]}})})},t.prototype.getDefaultModelName=function(){return this.withSeparableConvs?"tiny_yolov2_separable_conv_model":"tiny_yolov2_model"},t.prototype.extractParamsFromWeigthMap=function(t){return e.prototype.extractParamsFromWeigthMap.call(this,t)},t}(Dt);var Ft=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="TinyFaceDetectorOptions",t}return Object(a.c)(t,e),t}(Mt),Bt=function(){function e(){}return e.prototype.then=function(e){return Object(a.b)(this,void 0,void 0,function(){var t;return Object(a.d)(this,function(n){switch(n.label){case 0:return t=e,[4,this.run()];case 1:return[2,t.apply(void 0,[n.sent()])]}})})},e.prototype.run=function(){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(e){throw new Error("ComposableTask - run is not implemented")})})},e}();function Vt(e,t,n,r,i){return void 0===i&&(i=function(e){return e.alignedRect}),Object(a.b)(this,void 0,void 0,function(){var s,u,c,l,f;return Object(a.d)(this,function(a){switch(a.label){case 0:return s=e.map(function(e){return Be(e)?i(e):e.detection}),(c=r)?[3,5]:t instanceof o.a?[4,ue(t,s)]:[3,2];case 1:return l=a.sent(),[3,4];case 2:return[4,se(t,s)];case 3:l=a.sent(),a.label=4;case 4:c=l,a.label=5;case 5:return[4,n(u=c)];case 6:return f=a.sent(),u.forEach(function(e){return e instanceof o.a&&e.dispose()}),[2,f]}})})}function Ut(e,t,n,r,o){return Object(a.b)(this,void 0,void 0,function(){var i=this;return Object(a.d)(this,function(s){return[2,Vt([e],t,function(e){return Object(a.b)(i,void 0,void 0,function(){return Object(a.d)(this,function(t){return[2,n(e[0])]})})},r,o)]})})}var Wt=2,zt=12;function Ht(e){var t=ke(e),n=t.extractWeights,r=t.getRemainingWeights,i=[],s=function(e,t){var n=we(e,t),r=xe(e,t);function i(n,r){var i=o.H(e(n));return t.push({paramPath:r}),i}function s(e,t,r){return void 0===r&&(r=!1),{conv1:n(e[0],e[1],3,t+"/conv1"),prelu1_alpha:i(e[1],t+"/prelu1_alpha"),conv2:n(e[1],e[2],3,t+"/conv2"),prelu2_alpha:i(e[2],t+"/prelu2_alpha"),conv3:n(e[2],e[3],r?2:3,t+"/conv3"),prelu3_alpha:i(e[3],t+"/prelu3_alpha")}}return{extractPNetParams:function(){var e=s([3,10,16,32],"pnet"),t=n(32,2,1,"pnet/conv4_1"),r=n(32,4,1,"pnet/conv4_2");return Object(a.a)(Object(a.a)({},e),{conv4_1:t,conv4_2:r})},extractRNetParams:function(){var e=s([3,28,48,64],"rnet",!0),t=r(576,128,"rnet/fc1"),n=i(128,"rnet/prelu4_alpha"),o=r(128,2,"rnet/fc2_1"),u=r(128,4,"rnet/fc2_2");return Object(a.a)(Object(a.a)({},e),{fc1:t,prelu4_alpha:n,fc2_1:o,fc2_2:u})},extractONetParams:function(){var e=s([3,32,64,64],"onet"),t=n(64,128,2,"onet/conv4"),o=i(128,"onet/prelu4_alpha"),u=r(1152,256,"onet/fc1"),c=i(256,"onet/prelu5_alpha"),l=r(256,2,"onet/fc2_1"),f=r(256,4,"onet/fc2_2"),d=r(256,10,"onet/fc2_3");return Object(a.a)(Object(a.a)({},e),{conv4:t,prelu4_alpha:o,fc1:u,prelu5_alpha:c,fc2_1:l,fc2_2:f,fc2_3:d})}}}(n,i),u=s.extractPNetParams,c=s.extractRNetParams,l=s.extractONetParams,f=u(),d=c(),p=l();if(0!==r().length)throw new Error("weights remaing after extract: "+r().length);return{params:{pnet:f,rnet:d,onet:p},paramMappings:i}}function qt(e){var t=[],n=function(e,t){var n=Ce(e,t);function r(e){return{filters:n(e+"/weights",4,e+"/filters"),bias:n(e+"/bias",1)}}function o(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}function i(e){return n(e,1)}function s(e){return{conv1:r(e+"/conv1"),prelu1_alpha:i(e+"/prelu1_alpha"),conv2:r(e+"/conv2"),prelu2_alpha:i(e+"/prelu2_alpha"),conv3:r(e+"/conv3"),prelu3_alpha:i(e+"/prelu3_alpha")}}return{extractPNetParams:function(){var e=s("pnet"),t=r("pnet/conv4_1"),n=r("pnet/conv4_2");return Object(a.a)(Object(a.a)({},e),{conv4_1:t,conv4_2:n})},extractRNetParams:function(){var e=s("rnet"),t=o("rnet/fc1"),n=i("rnet/prelu4_alpha"),r=o("rnet/fc2_1"),u=o("rnet/fc2_2");return Object(a.a)(Object(a.a)({},e),{fc1:t,prelu4_alpha:n,fc2_1:r,fc2_2:u})},extractONetParams:function(){var e=s("onet"),t=r("onet/conv4"),n=i("onet/prelu4_alpha"),u=o("onet/fc1"),c=i("onet/prelu5_alpha"),l=o("onet/fc2_1"),f=o("onet/fc2_2"),d=o("onet/fc2_3");return Object(a.a)(Object(a.a)({},e),{conv4:t,prelu4_alpha:n,fc1:u,prelu5_alpha:c,fc2_1:l,fc2_2:f,fc2_3:d})}}}(e,t),r=n.extractPNetParams,o=n.extractRNetParams,i=n.extractONetParams,s=r(),u=o(),c=i();return be(e,t),{params:{pnet:s,rnet:u,onet:c},paramMappings:t}}function Gt(e,t){var n=t[0],r=t[1];return{height:Math.floor(n*e),width:Math.floor(r*e)}}var Kt=function(e){function t(t,n,r,o){return e.call(this,{left:t,top:n,right:r,bottom:o},!0)||this}return Object(a.c)(t,e),t}(b);function $t(e){return o.L(function(){return o.t(o.F(e,o.y(127.5)),o.y(.0078125))})}function Xt(e,t){return o.L(function(){return o.c(o.w(e),o.t(t,o.u(o.w(o.u(e)))))})}function Yt(e,t,n){return void 0===n&&(n=!1),o.L(function(){var r=ye(e,t.conv1,"valid");return r=Xt(r,t.prelu1_alpha),r=Xt(r=ye(r=o.s(r,n?[2,2]:[3,3],[2,2],"same"),t.conv2,"valid"),t.prelu2_alpha),r=Xt(r=ye(r=n?r:o.s(r,[3,3],[2,2],"valid"),t.conv3,"valid"),t.prelu3_alpha)})}function Jt(e,t,n,r,i){i.stage1=[];var a=t.map(function(t){return o.L(function(){var n={scale:t},i=function(e,t){return o.L(function(){var n=Gt(t,e.shape.slice(1)),r=n.height,i=n.width,a=$t(o.o.resizeBilinear(e,[r,i]));return o.N(a,[0,2,1,3])})}(e,t),a=Date.now(),s=function(e,t){return o.L(function(){var n=Yt(e,t,!0),r=ye(n,t.conv4_1,"valid"),i=o.m(o.r(r,3),3);return{prob:o.D(o.F(r,i),3),regions:ye(n,t.conv4_2,"valid")}})}(i,r),u=s.prob,c=s.regions;return n.pnet=Date.now()-a,{scoresTensor:o.O(o.O(u,3)[1])[0],regionsTensor:o.O(c)[0],scale:t,statsForScale:n}})}).map(function(e){var t=e.scoresTensor,r=e.regionsTensor,o=e.scale,a=e.statsForScale,s=function(e,t,n,r){for(var o=[],i=e.arraySync(),a=0;a<e.shape[0];a++)for(var s=0;s<e.shape[1];s++)i[a][s]>=r&&o.push(new y(s,a));return o.map(function(e){var r=new w(Math.round((e.y*Wt+1)/n),Math.round((e.x*Wt+1)/n),Math.round((e.y*Wt+zt)/n),Math.round((e.x*Wt+zt)/n)),o=i[e.y][e.x],a=t.arraySync();return{cell:r,score:o,region:new Kt(a[e.y][e.x][0],a[e.y][e.x][1],a[e.y][e.x][2],a[e.y][e.x][3])}})}(t,r,o,n);if(t.dispose(),r.dispose(),!s.length)return i.stage1.push(a),[];var u=Date.now(),c=S(s.map(function(e){return e.cell}),s.map(function(e){return e.score}),.5);return a.nms=Date.now()-u,a.numBoxes=c.length,i.stage1.push(a),c.map(function(e){return s[e]})}).reduce(function(e,t){return e.concat(t)},[]),s=[],u=[];if(a.length>0){var c=Date.now(),l=S(a.map(function(e){return e.cell}),a.map(function(e){return e.score}),.7);i.stage1_nms=Date.now()-c,u=l.map(function(e){return a[e].score}),s=l.map(function(e){return a[e]}).map(function(e){var t=e.cell,n=e.region;return new w(t.left+n.left*t.width,t.top+n.top*t.height,t.right+n.right*t.width,t.bottom+n.bottom*t.height).toSquare().round()})}return{boxes:s,scores:u}}function Qt(e,t,n){var r=n.width,i=n.height;return Object(a.b)(this,void 0,void 0,function(){var n,s,u,c=this;return Object(a.d)(this,function(l){switch(l.label){case 0:return n=K(e),[4,Promise.all(t.map(function(t){return Object(a.b)(c,void 0,void 0,function(){var r,o,i,s,u,c,l,f;return Object(a.d)(this,function(a){return r=t.padAtBorders(e.height,e.width),o=r.y,i=r.ey,s=r.x,u=r.ex,c=s-1,l=o-1,f=n.getImageData(c,l,u-c,i-l),[2,q.isNodejs()?ne(f):createImageBitmap(f)]})})}))];case 1:return s=l.sent(),u=[],s.forEach(function(e){var t=K(te({width:r,height:i}));t.drawImage(e,0,0,r,i);for(var n=t.getImageData(0,0,r,i).data,o=[],a=0;a<n.length;a+=4)o.push(n[a+2]),o.push(n[a+1]),o.push(n[a]);u.push(o)}),[2,u.map(function(e){return o.L(function(){return $t(o.N(o.K(e,[1,r,i,3]),[0,2,1,3]).toFloat())})})]}})})}function Zt(e,t,n,r,i){return Object(a.b)(this,void 0,void 0,function(){var s,u,c,l,f,d,p,h,v,m,g,y,b,w;return Object(a.d)(this,function(a){switch(a.label){case 0:return s=Date.now(),[4,Qt(e,t,{width:24,height:24})];case 1:return u=a.sent(),i.stage2_extractImagePatches=Date.now()-s,s=Date.now(),c=u.map(function(e){var t=function(e,t){return o.L(function(){var n=Yt(e,t),r=Xt(_e(o.x(n,[n.shape[0],t.fc1.weights.shape[0]]),t.fc1),t.prelu4_alpha),i=_e(r,t.fc2_1),a=o.m(o.r(i,1),1),s=o.D(o.F(i,a),1),u=_e(r,t.fc2_2);return{scores:o.O(s,1)[1],regions:u}})}(e,r);return e.dispose(),t}),i.stage2_rnet=Date.now()-s,l=c.length>1?o.h(c.map(function(e){return e.scores})):c[0].scores,p=(d=Array).from,[4,l.data()];case 2:return f=p.apply(d,[a.sent()]),l.dispose(),h=f.map(function(e,t){return{score:e,idx:t}}).filter(function(e){return e.score>n}).map(function(e){return e.idx}),v=h.map(function(e){return t[e]}),m=h.map(function(e){return f[e]}),g=[],y=[],v.length>0&&(s=Date.now(),b=S(v,m,.7),i.stage2_nms=Date.now()-s,w=b.map(function(e){var t=c[h[e]].regions.arraySync();return new Kt(t[0][0],t[0][1],t[0][2],t[0][3])}),y=b.map(function(e){return m[e]}),g=b.map(function(e,t){return v[e].calibrate(w[t])})),c.forEach(function(e){e.regions.dispose(),e.scores.dispose()}),[2,{boxes:g,scores:y}]}})})}function en(e,t,n,r,i){return Object(a.b)(this,void 0,void 0,function(){var s,u,c,l,f,d,p,h,v,m,g,b,w,x,O;return Object(a.d)(this,function(a){switch(a.label){case 0:return s=Date.now(),[4,Qt(e,t,{width:48,height:48})];case 1:return u=a.sent(),i.stage3_extractImagePatches=Date.now()-s,s=Date.now(),c=u.map(function(e){var t=function(e,t){return o.L(function(){var n=Yt(e,t);n=Xt(n=ye(n=o.s(n,[2,2],[2,2],"same"),t.conv4,"valid"),t.prelu4_alpha);var r=Xt(_e(o.x(n,[n.shape[0],t.fc1.weights.shape[0]]),t.fc1),t.prelu5_alpha),i=_e(r,t.fc2_1),a=o.m(o.r(i,1),1),s=o.D(o.F(i,a),1),u=_e(r,t.fc2_2),c=_e(r,t.fc2_3);return{scores:o.O(s,1)[1],regions:u,points:c}})}(e,r);return e.dispose(),t}),i.stage3_onet=Date.now()-s,l=c.length>1?o.h(c.map(function(e){return e.scores})):c[0].scores,p=(d=Array).from,[4,l.data()];case 2:return f=p.apply(d,[a.sent()]),l.dispose(),h=f.map(function(e,t){return{score:e,idx:t}}).filter(function(e){return e.score>n}).map(function(e){return e.idx}),v=h.map(function(e){var t=c[e].regions.arraySync();return new Kt(t[0][0],t[0][1],t[0][2],t[0][3])}),m=h.map(function(e,n){return t[e].calibrate(v[n])}),g=h.map(function(e){return f[e]}),b=[],w=[],x=[],m.length>0&&(s=Date.now(),O=S(m,g,.7,!1),i.stage3_nms=Date.now()-s,b=O.map(function(e){return m[e]}),w=O.map(function(e){return g[e]}),x=O.map(function(e,t){return Array(5).fill(0).map(function(n,r){var o=c[e].points.arraySync();return new y(o[0][r]*(b[t].width+1)+b[t].left,o[0][r+5]*(b[t].height+1)+b[t].top)})})),c.forEach(function(e){e.regions.dispose(),e.scores.dispose(),e.points.dispose()}),[2,{boxes:b,scores:w,points:x}]}})})}var tn=function(e){function t(){return e.call(this,"Mtcnn")||this}return Object(a.c)(t,e),t.prototype.load=function(t){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.load.call(this,t)]})})},t.prototype.loadFromDisk=function(t){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.loadFromDisk.call(this,t)]})})},t.prototype.forwardInput=function(e,t){return void 0===t&&(t={}),Object(a.b)(this,void 0,void 0,function(){var n,r,i,s,u,c,l,f,d,p,h,v,m,g,b,w,x,E,S,C,k;return Object(a.d)(this,function(a){switch(a.label){case 0:if(!(n=this.params))throw new Error("Mtcnn - load model before inference");if(!(r=e.canvases[0]))throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return i={},s=Date.now(),u=o.L(function(){return e=o.m(o.f.fromPixels(r)).toFloat(),o.L(function(){return o.E(o.O(e,3).reverse(),3)});var e}),c=function(e){return u.dispose(),i.total=Date.now()-s,e},l=u.shape.slice(1),f=l[0],d=l[1],p=new pt(t),h=p.minFaceSize,v=p.scaleFactor,m=p.maxNumScales,g=p.scoreThresholds,b=p.scaleSteps,w=(b||function(e,t,n){for(var r=n[0],o=n[1],i=zt/e,a=[],s=Math.min(r,o)*i,u=0;s>=12;)a.push(i*Math.pow(t,u)),s*=t,u+=1;return a}(h,v,[f,d])).filter(function(e){var t=Gt(e,[f,d]);return Math.min(t.width,t.height)>zt}).slice(0,m),i.scales=w,i.pyramid=w.map(function(e){return Gt(e,[f,d])}),x=Date.now(),[4,Jt(u,w,g[0],n.pnet,i)];case 1:return E=a.sent(),i.total_stage1=Date.now()-x,E.boxes.length?(i.stage2_numInputBoxes=E.boxes.length,x=Date.now(),[4,Zt(r,E.boxes,g[1],n.rnet,i)]):[2,c({results:[],stats:i})];case 2:return S=a.sent(),i.total_stage2=Date.now()-x,S.boxes.length?(i.stage3_numInputBoxes=S.boxes.length,x=Date.now(),[4,en(r,S.boxes,g[2],n.onet,i)]):[2,c({results:[],stats:i})];case 3:return C=a.sent(),i.total_stage3=Date.now()-x,k=C.boxes.map(function(e,t){return Ve(M({},new O(C.scores[t],new R(e.left/d,e.top/f,e.width/d,e.height/f),{height:f,width:d})),new P(C.points[t].map(function(t){return t.sub(new y(e.left,e.top)).div(new y(e.width,e.height))}),{width:e.width,height:e.height}))}),[2,c({results:k,stats:i})]}})})},t.prototype.forward=function(e,t){return void 0===t&&(t={}),Object(a.b)(this,void 0,void 0,function(){var n;return Object(a.d)(this,function(r){switch(r.label){case 0:return n=this.forwardInput,[4,ae(e)];case 1:return[4,n.apply(this,[r.sent(),t])];case 2:return[2,r.sent().results]}})})},t.prototype.forwardWithStats=function(e,t){return void 0===t&&(t={}),Object(a.b)(this,void 0,void 0,function(){var n;return Object(a.d)(this,function(r){switch(r.label){case 0:return n=this.forwardInput,[4,ae(e)];case 1:return[2,n.apply(this,[r.sent(),t])]}})})},t.prototype.getDefaultModelName=function(){return"mtcnn_model"},t.prototype.extractParamsFromWeigthMap=function(e){return qt(e)},t.prototype.extractParams=function(e){return Ht(e)},t}(he),nn=.4,rn=[new y(1.603231,2.094468),new y(6.041143,7.080126),new y(2.882459,3.518061),new y(4.266906,5.178857),new y(9.041765,10.66308)],on=[117.001,114.697,97.404],an=function(e){function t(){var t={withSeparableConvs:!0,iouThreshold:nn,classes:["face"],anchors:rn,meanRgb:on,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return e.call(this,t)||this}return Object(a.c)(t,e),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(e,t){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(n){switch(n.label){case 0:return[4,this.detect(e,t)];case 1:return[2,n.sent().map(function(e){return new O(e.score,e.relativeBox,{width:e.imageWidth,height:e.imageHeight})})]}})})},t.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},t.prototype.extractParamsFromWeigthMap=function(t){return e.prototype.extractParamsFromWeigthMap.call(this,t)},t}(Dt),sn={ssdMobilenetv1:new Et,tinyFaceDetector:new an,tinyYolov2:new Lt,mtcnn:new tn,faceLandmark68Net:new Qe,faceLandmark68TinyNet:new et,faceRecognitionNet:new ct,faceExpressionNet:new De,ageGenderNet:new Ye},un=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parentTask=t,o.input=n,o.extractedFaces=r,o}return Object(a.c)(t,e),t}(Bt),cn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype.run=function(){return Object(a.b)(this,void 0,void 0,function(){var e,t,n=this;return Object(a.d)(this,function(r){switch(r.label){case 0:return[4,this.parentTask];case 1:return[4,Vt(e=r.sent(),this.input,function(e){return Object(a.b)(n,void 0,void 0,function(){return Object(a.d)(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(e){return sn.faceExpressionNet.predictExpressions(e)}))];case 1:return[2,t.sent()]}})})},this.extractedFaces)];case 2:return t=r.sent(),[2,e.map(function(e,n){return Le(e,t[n])})]}})})},t.prototype.withAgeAndGender=function(){return new hn(this,this.input)},t}(un),ln=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype.run=function(){return Object(a.b)(this,void 0,void 0,function(){var e,t;return Object(a.d)(this,function(n){switch(n.label){case 0:return[4,this.parentTask];case 1:return(e=n.sent())?[4,Ut(e,this.input,function(e){return sn.faceExpressionNet.predictExpressions(e)},this.extractedFaces)]:[2];case 2:return t=n.sent(),[2,Le(e,t)]}})})},t.prototype.withAgeAndGender=function(){return new vn(this,this.input)},t}(un),fn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype.withAgeAndGender=function(){return new mn(this,this.input)},t.prototype.withFaceDescriptors=function(){return new bn(this,this.input)},t}(cn),dn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype.withAgeAndGender=function(){return new gn(this,this.input)},t.prototype.withFaceDescriptor=function(){return new wn(this,this.input)},t}(ln),pn=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parentTask=t,o.input=n,o.extractedFaces=r,o}return Object(a.c)(t,e),t}(Bt),hn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype.run=function(){return Object(a.b)(this,void 0,void 0,function(){var e,t,n=this;return Object(a.d)(this,function(r){switch(r.label){case 0:return[4,this.parentTask];case 1:return[4,Vt(e=r.sent(),this.input,function(e){return Object(a.b)(n,void 0,void 0,function(){return Object(a.d)(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(e){return sn.ageGenderNet.predictAgeAndGender(e)}))];case 1:return[2,t.sent()]}})})},this.extractedFaces)];case 2:return t=r.sent(),[2,e.map(function(e,n){var r=t[n],o=r.age;return ft(dt(e,r.gender,r.genderProbability),o)})]}})})},t.prototype.withFaceExpressions=function(){return new cn(this,this.input)},t}(pn),vn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype.run=function(){return Object(a.b)(this,void 0,void 0,function(){var e,t,n,r,o;return Object(a.d)(this,function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return(e=i.sent())?[4,Ut(e,this.input,function(e){return sn.ageGenderNet.predictAgeAndGender(e)},this.extractedFaces)]:[2];case 2:return t=i.sent(),n=t.age,r=t.gender,o=t.genderProbability,[2,ft(dt(e,r,o),n)]}})})},t.prototype.withFaceExpressions=function(){return new ln(this,this.input)},t}(pn),mn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype.withFaceExpressions=function(){return new fn(this,this.input)},t.prototype.withFaceDescriptors=function(){return new bn(this,this.input)},t}(hn),gn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype.withFaceExpressions=function(){return new dn(this,this.input)},t.prototype.withFaceDescriptor=function(){return new wn(this,this.input)},t}(vn),yn=function(e){function t(t,n){var r=e.call(this)||this;return r.parentTask=t,r.input=n,r}return Object(a.c)(t,e),t}(Bt),bn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype.run=function(){return Object(a.b)(this,void 0,void 0,function(){var e;return Object(a.d)(this,function(t){switch(t.label){case 0:return[4,this.parentTask];case 1:return[4,Vt(e=t.sent(),this.input,function(e){return Promise.all(e.map(function(e){return sn.faceRecognitionNet.computeFaceDescriptor(e)}))},null,function(e){return e.landmarks.align(null,{useDlibAlignment:!0})})];case 2:return[2,t.sent().map(function(t,n){return lt(e[n],t)})]}})})},t.prototype.withFaceExpressions=function(){return new fn(this,this.input)},t.prototype.withAgeAndGender=function(){return new mn(this,this.input)},t}(yn),wn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype.run=function(){return Object(a.b)(this,void 0,void 0,function(){var e,t;return Object(a.d)(this,function(n){switch(n.label){case 0:return[4,this.parentTask];case 1:return(e=n.sent())?[4,Ut(e,this.input,function(e){return sn.faceRecognitionNet.computeFaceDescriptor(e)},null,function(e){return e.landmarks.align(null,{useDlibAlignment:!0})})]:[2];case 2:return t=n.sent(),[2,lt(e,t)]}})})},t.prototype.withFaceExpressions=function(){return new dn(this,this.input)},t.prototype.withAgeAndGender=function(){return new gn(this,this.input)},t}(yn),xn=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parentTask=t,o.input=n,o.useTinyLandmarkNet=r,o}return Object(a.c)(t,e),Object.defineProperty(t.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?sn.faceLandmark68TinyNet:sn.faceLandmark68Net},enumerable:!0,configurable:!0}),t}(Bt),On=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype.run=function(){return Object(a.b)(this,void 0,void 0,function(){var e,t,n,r,i,s=this;return Object(a.d)(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return e=a.sent(),t=e.map(function(e){return e.detection}),this.input instanceof o.a?[4,ue(this.input,t)]:[3,3];case 2:return r=a.sent(),[3,5];case 3:return[4,se(this.input,t)];case 4:r=a.sent(),a.label=5;case 5:return n=r,[4,Promise.all(n.map(function(e){return s.landmarkNet.detectLandmarks(e)}))];case 6:return i=a.sent(),n.forEach(function(e){return e instanceof o.a&&e.dispose()}),[2,e.map(function(e,t){return Ve(e,i[t])})]}})})},t.prototype.withFaceExpressions=function(){return new fn(this,this.input)},t.prototype.withAgeAndGender=function(){return new mn(this,this.input)},t.prototype.withFaceDescriptors=function(){return new bn(this,this.input)},t}(xn),En=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype.run=function(){return Object(a.b)(this,void 0,void 0,function(){var e,t,n,r,i;return Object(a.d)(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return(e=a.sent())?(t=e.detection,this.input instanceof o.a?[4,ue(this.input,[t])]:[3,3]):[2];case 2:return r=a.sent(),[3,5];case 3:return[4,se(this.input,[t])];case 4:r=a.sent(),a.label=5;case 5:return n=r,[4,this.landmarkNet.detectLandmarks(n[0])];case 6:return i=a.sent(),n.forEach(function(e){return e instanceof o.a&&e.dispose()}),[2,Ve(e,i)]}})})},t.prototype.withFaceExpressions=function(){return new dn(this,this.input)},t.prototype.withAgeAndGender=function(){return new gn(this,this.input)},t.prototype.withFaceDescriptor=function(){return new wn(this,this.input)},t}(xn),Sn=function(e){function t(t,n){void 0===n&&(n=new Ot);var r=e.call(this)||this;return r.input=t,r.options=n,r}return Object(a.c)(t,e),t}(Bt),Cn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype.run=function(){return Object(a.b)(this,void 0,void 0,function(){var e,t,n,r;return Object(a.d)(this,function(o){switch(o.label){case 0:return t=(e=this).input,(n=e.options)instanceof pt?[4,sn.mtcnn.forward(t,n)]:[3,2];case 1:return[2,o.sent().map(function(e){return e.detection})];case 2:if(!(r=n instanceof Ft?function(e){return sn.tinyFaceDetector.locateFaces(e,n)}:n instanceof Ot?function(e){return sn.ssdMobilenetv1.locateFaces(e,n)}:n instanceof Mt?function(e){return sn.tinyYolov2.locateFaces(e,n)}:null))throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,r(t)]}})})},t.prototype.runAndExtendWithFaceDetections=function(){var e=this;return new Promise(function(t){return Object(a.b)(e,void 0,void 0,function(){var e;return Object(a.d)(this,function(n){switch(n.label){case 0:return[4,this.run()];case 1:return e=n.sent(),[2,t(e.map(function(e){return M({},e)}))]}})})})},t.prototype.withFaceLandmarks=function(e){return void 0===e&&(e=!1),new On(this.runAndExtendWithFaceDetections(),this.input,e)},t.prototype.withFaceExpressions=function(){return new cn(this.runAndExtendWithFaceDetections(),this.input)},t.prototype.withAgeAndGender=function(){return new hn(this.runAndExtendWithFaceDetections(),this.input)},t}(Sn);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(a.c)(t,e),t.prototype.run=function(){return Object(a.b)(this,void 0,void 0,function(){var e,t;return Object(a.d)(this,function(n){switch(n.label){case 0:return[4,new Cn(this.input,this.options)];case 1:return e=n.sent(),t=e[0],e.forEach(function(e){e.score>t.score&&(t=e)}),[2,t]}})})},t.prototype.runAndExtendWithFaceDetection=function(){var e=this;return new Promise(function(t){return Object(a.b)(e,void 0,void 0,function(){var e;return Object(a.d)(this,function(n){switch(n.label){case 0:return[4,this.run()];case 1:return e=n.sent(),[2,t(e?M({},e):void 0)]}})})})},t.prototype.withFaceLandmarks=function(e){return void 0===e&&(e=!1),new En(this.runAndExtendWithFaceDetection(),this.input,e)},t.prototype.withFaceExpressions=function(){return new ln(this.runAndExtendWithFaceDetection(),this.input)},t.prototype.withAgeAndGender=function(){return new vn(this.runAndExtendWithFaceDetection(),this.input)}}(Sn);function kn(e,t){return void 0===t&&(t=new Ot),new Cn(e,t)}!function(){function e(e,t){void 0===t&&(t=.6),this._distanceThreshold=t;var n=Array.isArray(e)?e:[e];if(!n.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var r=1,o=function(){return"person "+r++};this._labeledDescriptors=n.map(function(e){if(e instanceof A)return e;if(e instanceof Float32Array)return new A(o(),[e]);if(e.descriptor&&e.descriptor instanceof Float32Array)return new A(o(),[e.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")})}Object.defineProperty(e.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),e.prototype.computeMeanDistance=function(e,t){return t.map(function(t){return function(e,t){if(e.length!==t.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var n=Array.from(e),r=Array.from(t);return Math.sqrt(n.map(function(e,t){return e-r[t]}).reduce(function(e,t){return e+Math.pow(t,2)},0))}(t,e)}).reduce(function(e,t){return e+t},0)/(t.length||1)},e.prototype.matchDescriptor=function(e){var t=this;return this.labeledDescriptors.map(function(n){var r=n.descriptors,o=n.label;return new _(o,t.computeMeanDistance(e,r))}).reduce(function(e,t){return e.distance<t.distance?e:t})},e.prototype.findBestMatch=function(e){var t=this.matchDescriptor(e);return t.distance<this.distanceThreshold?t:new _("unknown",t.distance)},e.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map(function(e){return e.toJSON()})}},e.fromJSON=function(t){return new e(t.labeledDescriptors.map(function(e){return A.fromJSON(e)}),t.distanceThreshold)}}();function Rn(e,t){var n=new s(t.width,t.height),r=n.width,o=n.height;if(r<=0||o<=0)throw new Error("resizeResults - invalid dimensions: "+JSON.stringify({width:r,height:o}));if(Array.isArray(e))return e.map(function(e){return Rn(e,{width:r,height:o})});if(Be(e)){var i=e.detection.forSize(r,o),a=e.unshiftedLandmarks.forSize(i.box.width,i.box.height);return Ve(M(e,i),a)}return N(e)?M(e,e.detection.forSize(r,o)):e instanceof j||e instanceof O?e.forSize(r,o):e}n.d(t,"c",function(){return r}),n.d(t,"d",function(){return pe}),n.d(t,"b",function(){return kn}),n.d(t,"e",function(){return sn}),n.d(t,"a",function(){return Ft}),n.d(t,"f",function(){return Rn})},,function(e,t,n){"use strict";e.exports=n(303)},function(e,t,n){"use strict";var r=n(301),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var o=p(n);o&&o!==h&&e(t,o,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<a.length;++m){var g=a[m];if(!i[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=d(n,g);try{c(t,g,y)}catch(b){}}}}return t}},function(e,t,n){"use strict";var r=n(428);t.a=r.a},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0);function o(e){var t=Object(r.useRef)(null);return null===t.current&&(t.current=e()),t.current}},function(e,t,n){"use strict";var r=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},o={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i=n(124);n.d(t,"a",function(){return v});var a=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},l=Object(i.a)(function(e){return u(e)?e:e.replace(a,"-$&").toLowerCase()}),f=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,function(e,t,n){return p={name:t,styles:n,next:p},t})}return 1===o[e]||u(e)||"number"!==typeof t||0===t?t:t+"px"};function d(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return p={name:n.name,styles:n.styles,next:p},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)p={name:r.name,styles:r.styles,next:p},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=d(e,t,n[o])+";";else for(var i in n){var a=n[i];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=i+"{"+t[a]+"}":c(a)&&(r+=l(i)+":"+f(i,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=d(e,t,a);switch(i){case"animation":case"animationName":r+=l(i)+":"+s+";";break;default:r+=i+"{"+s+"}"}}else for(var u=0;u<a.length;u++)c(a[u])&&(r+=l(i)+":"+f(i,a[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=p,i=n(e);return p=o,d(e,t,i)}break;case"string":}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var p,h=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var o=!0,i="";p=void 0;var a=e[0];null==a||void 0===a.raw?(o=!1,i+=d(n,t,a)):i+=a[0];for(var s=1;s<e.length;s++)i+=d(n,t,e[s]),o&&(i+=a[s]);h.lastIndex=0;for(var u,c="";null!==(u=h.exec(i));)c+="-"+u[1];return{name:r(i)+c,styles:i,next:p}}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformUtils=void 0;var r=n(328),o=function(){function e(){}return e.getInstance=function(){return this.instance||(this.instance=new e),e.instance},e.prototype.isChromeBrowser=function(){return"Chrome"===r.name},e.prototype.isSafariBrowser=function(){return"Safari"===r.name},e.prototype.isChromeMobileBrowser=function(){return"Chrome Mobile"===r.name},e.prototype.isFirefoxBrowser=function(){return"Firefox"===r.name},e.prototype.isFirefoxMobileBrowser=function(){return"Firefox Mobile"===r.name||"Firefox for iOS"===r.name},e.prototype.isOperaBrowser=function(){return"Opera"===r.name},e.prototype.isOperaMobileBrowser=function(){return"Opera Mobile"===r.name},e.prototype.isEdgeBrowser=function(){var e=(null===r||void 0===r?void 0:r.version)?parseFloat(r.version):-1;return"Microsoft Edge"===r.name&&e>=80},e.prototype.isEdgeMobileBrowser=function(){var e,t,n=(null===r||void 0===r?void 0:r.version)?parseFloat(r.version):-1;return"Microsoft Edge"===r.name&&("Android"===(null===(e=r.os)||void 0===e?void 0:e.family)||"iOS"===(null===(t=r.os)||void 0===t?void 0:t.family))&&n>45},e.prototype.isAndroidBrowser=function(){return"Android Browser"===r.name},e.prototype.isElectron=function(){return"Electron"===r.name},e.prototype.isSamsungBrowser=function(){return"Samsung Internet Mobile"===r.name||"Samsung Internet"===r.name},e.prototype.isIPhoneOrIPad=function(){var e=r.ua?r.ua:navigator.userAgent,t="ontouchend"in document,n=/\b(\w*Macintosh\w*)\b/.test(e)&&t,o=/\b(\w*iPhone\w*)\b/.test(e)&&/\b(\w*Mobile\w*)\b/.test(e)&&t;return n||o},e.prototype.isIOSWithSafari=function(){var e=r.ua?r.ua:navigator.userAgent;return this.isIPhoneOrIPad()&&/\b(\w*Apple\w*)\b/.test(navigator.vendor)&&/\b(\w*Safari\w*)\b/.test(e)&&!/\b(\w*CriOS\w*)\b/.test(e)&&!/\b(\w*FxiOS\w*)\b/.test(e)},e.prototype.isIonicIos=function(){return this.isIPhoneOrIPad()&&-1===r.ua.indexOf("Safari")},e.prototype.isIonicAndroid=function(){return"Android"===r.os.family&&"Android Browser"==r.name},e.prototype.isMobileDevice=function(){return"iOS"===r.os.family||"Android"===r.os.family},e.prototype.isReactNative=function(){return!1},e.prototype.isChromium=function(){return this.isChromeBrowser()||this.isChromeMobileBrowser()||this.isOperaBrowser()||this.isOperaMobileBrowser()||this.isEdgeBrowser()||this.isEdgeMobileBrowser()||this.isSamsungBrowser()||this.isIonicAndroid()||this.isIonicIos()||this.isElectron()},e.prototype.canScreenShare=function(){var e=(null===r||void 0===r?void 0:r.version)?parseFloat(r.version):-1;return!this.isMobileDevice()&&(this.isChromeBrowser()||this.isFirefoxBrowser()||this.isOperaBrowser()||this.isElectron()||this.isEdgeBrowser()||this.isSafariBrowser()&&e>=13)},e.prototype.getName=function(){return r.name||""},e.prototype.getVersion=function(){return r.version||""},e.prototype.getFamily=function(){return r.os.family||""},e.prototype.getDescription=function(){return r.description||""},e}();t.PlatformUtils=o},function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return c});var r=n(0),o=(n(177),n(43)),i=(n(228),n(125),n(86),n(59)),a=n(89),s=r.useInsertionEffect?r.useInsertionEffect:r.useLayoutEffect,u=Object(o.f)(function(e,t){var n=e.styles,u=Object(a.a)([n],void 0,Object(r.useContext)(o.b)),c=Object(r.useRef)();return s(function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+u.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),c.current=[n,r],function(){n.flush()}},[t]),s(function(){var e=c.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==u.next&&Object(i.b)(t,u.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",u,n,!1)}},[t,u.name]),null});var c=function(){var e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(a.a)(t)}.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},function(e,t,n){"use strict";var r=n(135);t.a=r.a},function(e,t,n){"use strict";var r=n(1),o=n(0),i=n(8),a=n(11),s=n(472),u=n(12),c=n(14),l=n(9),f=n(267),d=n(426);function p(e){return Object(f.a)("MuiSvgIcon",e)}Object(d.a)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var h=n(4),v=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],m=Object(l.a)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(Object(u.a)(n.color))],t["fontSize".concat(Object(u.a)(n.fontSize))]]}})(function(e){var t,n,r,o,i,a,s,u,c,l,f,d,p,h,v,m,g,y=e.theme,b=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=y.transitions)?void 0:null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=y.transitions)?void 0:null==(o=r.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(i=y.typography)?void 0:null==(a=i.pxToRem)?void 0:a.call(i,20))||"1.25rem",medium:(null==(s=y.typography)?void 0:null==(u=s.pxToRem)?void 0:u.call(s,24))||"1.5rem",large:(null==(c=y.typography)?void 0:null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875"}[b.fontSize],color:null!=(f=null==(d=(y.vars||y).palette)?void 0:null==(p=d[b.color])?void 0:p.main)?f:{action:null==(h=(y.vars||y).palette)?void 0:null==(v=h.action)?void 0:v.active,disabled:null==(m=(y.vars||y).palette)?void 0:null==(g=m.action)?void 0:g.disabled,inherit:void 0}[b.color]}}),g=o.forwardRef(function(e,t){var n=Object(c.a)({props:e,name:"MuiSvgIcon"}),o=n.children,l=n.className,f=n.color,d=void 0===f?"inherit":f,g=n.component,y=void 0===g?"svg":g,b=n.fontSize,w=void 0===b?"medium":b,x=n.htmlColor,O=n.inheritViewBox,E=void 0!==O&&O,S=n.titleAccess,C=n.viewBox,k=void 0===C?"0 0 24 24":C,R=Object(i.a)(n,v),j=Object(r.a)({},n,{color:d,component:y,fontSize:w,instanceFontSize:e.fontSize,inheritViewBox:E,viewBox:k}),P={};E||(P.viewBox=k);var T=function(e){var t=e.color,n=e.fontSize,r=e.classes,o={root:["root","inherit"!==t&&"color".concat(Object(u.a)(t)),"fontSize".concat(Object(u.a)(n))]};return Object(s.a)(o,p,r)}(j);return Object(h.jsxs)(m,Object(r.a)({as:y,className:Object(a.a)(T.root,l),ownerState:j,focusable:"false",color:x,"aria-hidden":!S||void 0,role:S?"img":void 0,ref:t},P,R,{children:[o,S?Object(h.jsx)("title",{children:S}):null]}))});g.muiName="SvgIcon";var y=g;function b(e,t){var n=function(n,o){return Object(h.jsx)(y,Object(r.a)({"data-testid":"".concat(t,"Icon"),ref:o},n,{children:e}))};return n.muiName=y.muiName,o.memo(o.forwardRef(n))}n.d(t,"a",function(){return b})},function(e,t,n){"use strict";var r,o=n(0),i=!0,a=!1,s={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function u(e){e.metaKey||e.altKey||e.ctrlKey||(i=!0)}function c(){i=!1}function l(){"hidden"===this.visibilityState&&a&&(i=!0)}function f(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return i||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!s[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}t.a=function(){var e=o.useCallback(function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",u,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",l,!0))},[]),t=o.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!f(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(a=!0,window.clearTimeout(r),r=window.setTimeout(function(){a=!1},100),t.current=!1,!0)},ref:e}}},function(e,t,n){"use strict";var r=n(264),o=Object(r.a)();t.a=o},function(e,t,n){"use strict";var r=n(0);t.a=function(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var r=new Set;function o(e,t,n){e[n]||(e[n]=[]),e[n].push(t)}function i(e){return r.add(e),function(){return r.delete(e)}}function a(){if(r.size){var e=0,t=[[]],n=[],i=function(n){return o(t,n,e)},a=function(t){o(n,t,e),e++};r.forEach(function(t){t(i,a),e=0}),r.clear();for(var u=n.length,c=0;c<=u;c++)t[c]&&t[c].forEach(s),n[c]&&n[c].forEach(s)}}var s=function(e){return e()}},,function(e,t,n){"use strict";var r,o;n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),function(e){e[e.Entering=0]="Entering",e[e.Present=1]="Present",e[e.Exiting=2]="Exiting"}(r||(r={})),function(e){e[e.Hide=0]="Hide",e[e.Show=1]="Show"}(o||(o={}))},function(e,t,n){"use strict";function r(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(r(e.value)&&""!==e.value||t&&r(e.defaultValue)&&""!==e.defaultValue)}function i(e){return e.startAdornment}n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",function(){return r})},,function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(42);function o(e,t,n,r,o){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}r.inherits(o,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var i=o.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){a[e]={value:e}}),Object.defineProperties(o,a),Object.defineProperty(i,"isAxiosError",{value:!0}),o.from=function(e,t,n,a,s,u){var c=Object.create(i);return r.toFlatObject(e,c,function(e){return e!==Error.prototype}),o.call(c,e.message,t,n,a,s),c.name=e.name,u&&Object.assign(c,u),c},e.exports=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.StreamPropertyChangedEvent=void 0;var o=function(e){function t(t,n,r,o,i,a){var s=e.call(this,!1,t,"streamPropertyChanged")||this;return s.stream=n,s.changedProperty=r,s.newValue=o,s.oldValue=i,s.reason=a,s}return r(t,e),t.prototype.callDefaultBehavior=function(){},t}(n(56).Event);t.StreamPropertyChangedEvent=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenViduError=t.OpenViduErrorName=void 0,function(e){e.BROWSER_NOT_SUPPORTED="BROWSER_NOT_SUPPORTED",e.DEVICE_ACCESS_DENIED="DEVICE_ACCESS_DENIED",e.DEVICE_ALREADY_IN_USE="DEVICE_ALREADY_IN_USE",e.SCREEN_CAPTURE_DENIED="SCREEN_CAPTURE_DENIED",e.SCREEN_SHARING_NOT_SUPPORTED="SCREEN_SHARING_NOT_SUPPORTED",e.SCREEN_EXTENSION_NOT_INSTALLED="SCREEN_EXTENSION_NOT_INSTALLED",e.SCREEN_EXTENSION_DISABLED="SCREEN_EXTENSION_DISABLED",e.INPUT_VIDEO_DEVICE_NOT_FOUND="INPUT_VIDEO_DEVICE_NOT_FOUND",e.INPUT_AUDIO_DEVICE_NOT_FOUND="INPUT_AUDIO_DEVICE_NOT_FOUND",e.INPUT_AUDIO_DEVICE_GENERIC_ERROR="INPUT_AUDIO_DEVICE_GENERIC_ERROR",e.NO_INPUT_SOURCE_SET="NO_INPUT_SOURCE_SET",e.PUBLISHER_PROPERTIES_ERROR="PUBLISHER_PROPERTIES_ERROR",e.OPENVIDU_PERMISSION_DENIED="OPENVIDU_PERMISSION_DENIED",e.OPENVIDU_NOT_CONNECTED="OPENVIDU_NOT_CONNECTED",e.VIRTUAL_BACKGROUND_ERROR="VIRTUAL_BACKGROUND_ERROR",e.GENERIC_ERROR="GENERIC_ERROR"}(t.OpenViduErrorName||(t.OpenViduErrorName={}));var r=function(){return function(e,t){this.name=e,this.message=t}}();t.OpenViduError=r},function(e,t,n){"use strict";var r=n(427);t.a=r.a},function(e,t,n){"use strict";var r=n(20),o=n(74),i=n(10),a=n(19),s=n(23),u=n(18),c=n(22),l=n(111);function f(e,t,n){return(f=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Object(l.a)(o,n.prototype),o}).apply(null,arguments)}function d(e){var t="function"===typeof Map?new Map:void 0;return(d=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return f(e,arguments,Object(u.a)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Object(l.a)(r,e)})(e)}var p=n(81),h=n(64),v=n(65);n.d(t,"a",function(){return g});var m=function(e){function t(e,n,r){var o;return Object(a.a)(this,t),(o=Object(s.a)(this,Object(u.a)(t).call(this,e))).description=n,o.context=r,o.type="TransportError",o}return Object(c.a)(t,e),t}(d(Error)),g=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this))).writable=!1,Object(v.b)(Object(i.a)(Object(i.a)(n)),e),n.opts=e,n.query=e.query,n.readyState="",n.socket=e.socket,n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"onError",value:function(e,n,r){return Object(o.a)(Object(u.a)(t.prototype),"emitReserved",this).call(this,"error",new m(e,n,r)),this}},{key:"open",value:function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){"open"===this.readyState&&this.write(e)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,Object(o.a)(Object(u.a)(t.prototype),"emitReserved",this).call(this,"open")}},{key:"onData",value:function(e){var t=Object(p.a)(e,this.socket.binaryType);this.onPacket(t)}},{key:"onPacket",value:function(e){Object(o.a)(Object(u.a)(t.prototype),"emitReserved",this).call(this,"packet",e)}},{key:"onClose",value:function(e){this.readyState="closed",Object(o.a)(Object(u.a)(t.prototype),"emitReserved",this).call(this,"close",e)}}]),t}(h.a)},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function o(e){for(var t={},n=e.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o})},function(e,t,n){"use strict";var r=n(124),o=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=Object(r.a)(function(e){return o.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91});t.a=i},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0);function o(e){return Object(r.useEffect)(function(){return function(){return e()}},[])}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){return e.depth-t.depth}},function(e,t,n){"use strict";var r=n(0),o=r.createContext();t.a=o},function(e,t,n){"use strict";var r=n(0),o=n.n(r);t.a=o.a.createContext(null)},,,,function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ExceptionEvent=t.ExceptionEventName=void 0;var o=n(56);!function(e){e.ICE_CANDIDATE_ERROR="ICE_CANDIDATE_ERROR",e.ICE_CONNECTION_FAILED="ICE_CONNECTION_FAILED",e.ICE_CONNECTION_DISCONNECTED="ICE_CONNECTION_DISCONNECTED",e.NO_STREAM_PLAYING_EVENT="NO_STREAM_PLAYING_EVENT"}(t.ExceptionEventName||(t.ExceptionEventName={}));var i=function(e){function t(t,n,r,o,i){var a=e.call(this,!1,t,"exception")||this;return a.name=n,a.origin=r,a.message=o,a.data=i,a}return r(t,e),t.prototype.callDefaultBehavior=function(){},t}(o.Event);t.ExceptionEvent=i},,,function(e,t,n){"use strict";t.a=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},function(e,t,n){"use strict";t.a=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}}},function(e,t,n){"use strict";var r=n(431);t.a=r.a},function(e,t,n){(function(e){(function(){"use strict";function t(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var n="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype?e:(e[t]=n.value,e)};var r=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof e&&e];for(var n=0;n<t.length;++n){var r=t[n];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function o(e,t){if(t)e:{var o=r;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in o))break e;o=o[a]}(t=t(i=o[e=e[e.length-1]]))!=i&&null!=t&&n(o,e,{configurable:!0,writable:!0,value:t})}}function i(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function a(e){var n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return n?n.call(e):{next:t(e)}}function s(){this.i=!1,this.g=null,this.o=void 0,this.j=1,this.m=0,this.h=null}function u(e){if(e.i)throw new TypeError("Generator is already running");e.i=!0}function c(e,t){e.h={F:t,G:!0},e.j=e.m}function l(e){this.g=new s,this.h=e}function f(e,t,n,r){try{var o=t.call(e.g.g,n);if(!(o instanceof Object))throw new TypeError("Iterator result "+o+" is not an object");if(!o.done)return e.g.i=!1,o;var i=o.value}catch(a){return e.g.g=null,c(e.g,a),d(e)}return e.g.g=null,r.call(e.g,i),d(e)}function d(e){for(;e.g.j;)try{var t=e.h(e.g);if(t)return e.g.i=!1,{value:t.value,done:!1}}catch(n){e.g.o=void 0,c(e.g,n)}if(e.g.i=!1,e.g.h){if(t=e.g.h,e.g.h=null,t.G)throw t.F;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function p(e){this.next=function(t){return u(e.g),e.g.g?t=f(e,e.g.g.next,t,e.g.l):(e.g.l(t),t=d(e)),t},this.throw=function(t){return u(e.g),e.g.g?t=f(e,e.g.g.throw,t,e.g.l):(c(e.g,t),t=d(e)),t},this.return=function(t){return function(e,t){u(e.g);var n=e.g.g;return n?f(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),d(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function h(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise(function(r,o){!function e(i){i.done?r(i.value):Promise.resolve(i.value).then(t,n).then(e,o)}(e.next())})}o("Symbol",function(e){function t(e,t){this.g=e,n(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var r="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",o=0;return function e(n){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(r+(n||"")+"_"+o++,n)}}),o("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var o="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),a=0;a<o.length;a++){var s=r[o[a]];"function"===typeof s&&"function"!=typeof s.prototype[e]&&n(s.prototype,e,{configurable:!0,writable:!0,value:function(){return i(t(this))}})}return e}),s.prototype.l=function(e){this.o=e},s.prototype.return=function(e){this.h={return:e},this.j=this.m},o("Promise",function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.g=null}function o(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i(function(){t.l()})}this.g.push(e)};var i=r.setTimeout;n.prototype.i=function(e){i(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.j(r)}}}this.g=null},n.prototype.j=function(e){this.i(function(){throw e})},t.prototype.j=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.A),reject:e(this.l)}},t.prototype.A=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.C(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.m(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.l(n)}"function"==typeof t?this.D(t,e):this.m(e)},t.prototype.l=function(e){this.u(2,e)},t.prototype.m=function(e){this.u(1,e)},t.prototype.u=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.B(),this.H()},t.prototype.B=function(){var e=this;i(function(){if(e.I()){var t=r.console;"undefined"!==typeof t&&t.error(e.i)}},1)},t.prototype.I=function(){if(this.o)return!1;var e=r.CustomEvent,t=r.Event,n=r.dispatchEvent;return"undefined"===typeof n||("function"===typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"===typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=r.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.H=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)s.h(this.g[e]);this.g=null}};var s=new n;return t.prototype.C=function(e){var t=this.j();e.s(t.resolve,t.reject)},t.prototype.D=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{o(e(t))}catch(n){i(n)}}:t}var o,i,a=new t(function(e,t){o=e,i=t});return this.s(r(e,o),r(n,i)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.s=function(e,t){function n(){switch(r.h){case 1:e(r.i);break;case 2:t(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?s.h(n):this.g.push(n),this.o=!0},t.resolve=o,t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var r=a(e),i=r.next();!i.done;i=r.next())o(i.value).s(t,n)})},t.all=function(e){var n=a(e),r=n.next();return r.done?o([]):new t(function(e,t){function i(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,o(r.value).s(i(a.length-1),t),r=n.next()}while(!r.done)})},t});var v="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};o("Object.assign",function(e){return e||v});var m=this||self,g={facingMode:"user",width:640,height:480};function y(e,t){this.video=e,this.i=0,this.h=Object.assign(Object.assign({},g),t)}function b(e){window.requestAnimationFrame(function(){!function(e){var t=null;e.video.paused||e.video.currentTime===e.i||(e.i=e.video.currentTime,t=e.h.onFrame()),t?t.then(function(){b(e)}):b(e)}(e)})}y.prototype.stop=function(){var e,t,n,r=this;return h(new p(new l(function(o){if(r.g){for(e=r.g.getTracks(),t=a(e),n=t.next();!n.done;n=t.next())n.value.stop();r.g=void 0}o.j=0})))},y.prototype.start=function(){var e,t=this;return h(new p(new l(function(n){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert("No navigator.mediaDevices.getUserMedia exists."),e=t.h,n.return(navigator.mediaDevices.getUserMedia({video:{facingMode:e.facingMode,width:e.width,height:e.height}}).then(function(e){!function(e,t){e.g=t,e.video.srcObject=t,e.video.onloadedmetadata=function(){e.video.play(),b(e)}}(t,e)}).catch(function(e){var t="Failed to acquire camera feed: "+e;throw console.error(t),alert(t),e}))})))};var w,x=["Camera"],O=m;x[0]in O||"undefined"==typeof O.execScript||O.execScript("var "+x[0]);for(;x.length&&(w=x.shift());)x.length||void 0===y?O=O[w]&&O[w]!==Object.prototype[w]?O[w]:O[w]={}:O[w]=y}).call(this)}).call(this,n(78))},function(e,t,n){"use strict";var r=n(432),o=n(265),i=Object(r.a)();t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return Object(o.a)(e)}},function(e,t,n){"use strict";var r=n(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(35)),i=n(4),a=(0,o.default)((0,i.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");t.default=a},function(e,t,n){"use strict";var r=n(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(35)),i=n(4),a=(0,o.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");t.default=a},function(e,t,n){"use strict";var r=n(0),o=r.createContext({});t.a=o},function(e,t,n){"use strict";n(228);var r=n(0),o=n(113),i=n(1),a=n(43),s=n(59),u=n(89),c=o.a,l=function(e){return"theme"!==e},f=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?c:l},d=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},p=r.useInsertionEffect?r.useInsertionEffect:function(e){e()};var h=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;Object(s.c)(t,n,r);p(function(){return Object(s.b)(t,n,r)});return null},v=function e(t,n){var o,c,l=t.__emotion_real===t,p=l&&t.__emotion_base||t;void 0!==n&&(o=n.label,c=n.target);var v=d(t,n,l),m=v||f(p),g=!m("as");return function(){var y=arguments,b=l&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==o&&b.push("label:"+o+";"),null==y[0]||void 0===y[0].raw)b.push.apply(b,y);else{b.push(y[0][0]);for(var w=y.length,x=1;x<w;x++)b.push(y[x],y[0][x])}var O=Object(a.f)(function(e,t,n){var o=g&&e.as||p,i="",l=[],d=e;if(null==e.theme){for(var y in d={},e)d[y]=e[y];d.theme=Object(r.useContext)(a.b)}"string"===typeof e.className?i=Object(s.a)(t.registered,l,e.className):null!=e.className&&(i=e.className+" ");var w=Object(u.a)(b.concat(l),t.registered,d);i+=t.key+"-"+w.name,void 0!==c&&(i+=" "+c);var x=g&&void 0===v?f(o):m,O={};for(var E in e)g&&"as"===E||x(E)&&(O[E]=e[E]);return O.className=i,O.ref=n,Object(r.createElement)(r.Fragment,null,Object(r.createElement)(h,{cache:t,serialized:w,isStringTag:"string"===typeof o}),Object(r.createElement)(o,O))});return O.displayName=void 0!==o?o:"Styled("+("string"===typeof p?p:p.displayName||p.name||"Component")+")",O.defaultProps=t.defaultProps,O.__emotion_real=O,O.__emotion_base=p,O.__emotion_styles=b,O.__emotion_forwardProp=v,Object.defineProperty(O,"toString",{value:function(){return"."+c}}),O.withComponent=function(t,r){return e(t,Object(i.a)({},n,r,{shouldForwardProp:d(O,r,!0)})).apply(void 0,b)},O}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){v[e]=v(e)});var m=v;function g(e,t){return m(e,t)}n.d(t,"a",function(){return g}),n.d(t,"b",function(){return y});var y=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return f});var s="function"===typeof Symbol&&Symbol.observable||"@@observable",u=function(){return Math.random().toString(36).substring(7).split("").join(".")},c={INIT:"@@redux/INIT"+u(),REPLACE:"@@redux/REPLACE"+u(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+u()}};function l(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function f(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(a(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(a(1));return n(f)(e,t)}if("function"!==typeof e)throw new Error(a(2));var o=e,i=t,u=[],d=u,p=!1;function h(){d===u&&(d=u.slice())}function v(){if(p)throw new Error(a(3));return i}function m(e){if("function"!==typeof e)throw new Error(a(4));if(p)throw new Error(a(5));var t=!0;return h(),d.push(e),function(){if(t){if(p)throw new Error(a(6));t=!1,h();var n=d.indexOf(e);d.splice(n,1),u=null}}}function g(e){if(!l(e))throw new Error(a(7));if("undefined"===typeof e.type)throw new Error(a(8));if(p)throw new Error(a(9));try{p=!0,i=o(i,e)}finally{p=!1}for(var t=u=d,n=0;n<t.length;n++){(0,t[n])()}return e}return g({type:c.INIT}),(r={dispatch:g,subscribe:m,getState:v,replaceReducer:function(e){if("function"!==typeof e)throw new Error(a(10));o=e,g({type:c.REPLACE})}})[s]=function(){var e,t=m;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(a(11));function n(){e.next&&e.next(v())}return n(),{unsubscribe:t(n)}}})[s]=function(){return this},e},r}function d(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"===typeof e[o]&&(n[o]=e[o])}var i,s=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:c.INIT}))throw new Error(a(12));if("undefined"===typeof n(void 0,{type:c.PROBE_UNKNOWN_ACTION()}))throw new Error(a(13))})}(n)}catch(u){i=u}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,o={},u=0;u<s.length;u++){var c=s[u],l=n[c],f=e[c],d=l(f,t);if("undefined"===typeof d){t&&t.type;throw new Error(a(14))}o[c]=d,r=r||d!==f}return(r=r||s.length!==Object.keys(e).length)?o:e}}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(a(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},s=t.map(function(e){return e(o)});return r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}.apply(void 0,s)(n.dispatch),i(i({},n),{},{dispatch:r})}}}},function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(0),o="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;t.a=o},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var r=n(267),o=n(426);function i(e){return Object(r.a)("MuiInputBase",e)}var a=Object(o.a)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);t.a=a},function(e,t,n){"use strict";var r=n(25),o=n(5),i=n(8),a=n(1),s=n(132),u=n(432),c=n(266),l=["variant"];function f(e){return 0===e.length}function d(e){var t=e.variant,n=Object(i.a)(e,l),r=t||"";return Object.keys(n).sort().forEach(function(t){r+="color"===t?f(r)?e[t]:Object(c.a)(e[t]):"".concat(f(r)?t:Object(c.a)(t)).concat(Object(c.a)(e[t].toString()))}),r}var p=n(473);n.d(t,"b",function(){return x}),n.d(t,"a",function(){return E});var h=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],v=["theme"],m=["theme"];function g(e){return 0===Object.keys(e).length}var y=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},b=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach(function(e){var t=d(e.props);r[t]=e.style}),r},w=function(e,t,n,r){var o,i,a=e.ownerState,s=void 0===a?{}:a,u=[],c=null==n?void 0:null==(o=n.components)?void 0:null==(i=o[r])?void 0:i.variants;return c&&c.forEach(function(n){var r=!0;Object.keys(n.props).forEach(function(t){s[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)}),r&&u.push(t[d(n.props)])}),u};function x(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var O=Object(u.a)();function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?O:t,u=e.rootShouldForwardProp,c=void 0===u?x:u,l=e.slotShouldForwardProp,f=void 0===l?x:l,d=e.styleFunctionSx,E=void 0===d?p.a:d,S=function(e){var t=g(e.theme)?n:e.theme;return E(Object(a.a)({},e,{theme:t}))};return S.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(s.b)(e,function(e){return e.filter(function(e){return!(null!=e&&e.__mui_systemSx)})});var u=t.name,l=t.slot,d=t.skipVariantsResolver,p=t.skipSx,O=t.overridesResolver,E=Object(i.a)(t,h),C=void 0!==d?d:l&&"Root"!==l||!1,k=p||!1;var R=x;"Root"===l?R=c:l?R=f:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(R=void 0);var j=Object(s.a)(e,Object(a.a)({shouldForwardProp:R,label:void 0},E)),P=function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),c=1;c<t;c++)s[c-1]=arguments[c];var l=s?s.map(function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,o=Object(i.a)(t,v);return e(Object(a.a)({theme:g(r)?n:r},o))}:e}):[],f=e;u&&O&&l.push(function(e){var t=g(e.theme)?n:e.theme,r=y(u,t);if(r){var i={};return Object.entries(r).forEach(function(n){var r=Object(o.a)(n,2),s=r[0],u=r[1];i[s]="function"===typeof u?u(Object(a.a)({},e,{theme:t})):u}),O(e,i)}return null}),u&&!C&&l.push(function(e){var t=g(e.theme)?n:e.theme;return w(e,b(u,t),t,u)}),k||l.push(S);var d=l.length-s.length;if(Array.isArray(e)&&d>0){var p=new Array(d).fill("");(f=[].concat(Object(r.a)(e),Object(r.a)(p))).raw=[].concat(Object(r.a)(e.raw),Object(r.a)(p))}else"function"===typeof e&&e.__emotion_real!==e&&(f=function(t){var r=t.theme,o=Object(i.a)(t,m);return e(Object(a.a)({theme:g(r)?n:r},o))});return j.apply(void 0,[f].concat(Object(r.a)(l)))};return j.withConfig&&(P.withConfig=j.withConfig),P}}},,,function(e,t,n){"use strict";var r=n(106);function o(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(42).inherits(o,r,{__CANCEL__:!0}),e.exports=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Session=void 0;var a,s=n(214),u=n(162),c=n(163),l=n(165),f=n(217),d=n(218),p=n(219),h=n(169),v=n(220),m=n(170),g=n(107),y=n(221),b=n(222),w=n(108),x=n(142),O=n(45),E=n(92),S=n(341),C=n(347),k=O.OpenViduLogger.getInstance(),R=function(e){function t(t){var n=e.call(this)||this;return n.streamManagers=[],n.remoteStreamsCreated=new Map,n.remoteConnections=new Map,a=E.PlatformUtils.getInstance(),n.openvidu=t,n}return r(t,e),t.prototype.connect=function(e,t){var n=this;return new Promise(function(r,o){if(n.processToken(e),!n.openvidu.checkSystemRequirements())return o(new w.OpenViduError(w.OpenViduErrorName.BROWSER_NOT_SUPPORTED,"Browser "+a.getName()+" (version "+a.getVersion()+") for "+a.getFamily()+" is not supported in OpenVidu"));n.options={sessionId:n.sessionId,participantId:e,metadata:t?n.stringClientMetadata(t):""},n.connectAux(e).then(function(){return r()}).catch(function(e){return o(e)})})},t.prototype.disconnect=function(){this.leave(!1,"disconnect")},t.prototype.subscribe=function(e,t,n,r){var o={};o=n&&"function"!==typeof n?{insertMode:"undefined"!==typeof n.insertMode?"string"===typeof n.insertMode?x.VideoInsertMode[n.insertMode]:o.insertMode:x.VideoInsertMode.APPEND,subscribeToAudio:"undefined"===typeof n.subscribeToAudio||n.subscribeToAudio,subscribeToVideo:"undefined"===typeof n.subscribeToVideo||n.subscribeToVideo}:{insertMode:x.VideoInsertMode.APPEND,subscribeToAudio:!0,subscribeToVideo:!0};var i=void 0;if(n&&"function"===typeof n?i=n:r&&(i=r),!this.sessionConnected())throw void 0!==i&&i(this.notConnectedError()),this.notConnectedError();k.info("Subscribing to "+e.connection.connectionId),e.subscribe().then(function(){k.info("Subscribed correctly to "+e.connection.connectionId),void 0!==i&&i(void 0)}).catch(function(e){void 0!==i&&i(e)});var a=new c.Subscriber(e,t,o);return a.targetElement&&e.streamManager.createVideoElement(a.targetElement,o.insertMode),a},t.prototype.subscribeAsync=function(e,t,n){var r=this;return new Promise(function(o,i){if(!r.sessionConnected())return i(r.notConnectedError());var a,s=function(e){return e?i(e):o(a)};a=n?r.subscribe(e,t,n,s):r.subscribe(e,t,s)})},t.prototype.unsubscribe=function(e){var t=this;return new Promise(function(n,r){if(!t.sessionConnected())return r(t.notConnectedError());var o=e.stream.connection.connectionId;k.info("Unsubscribing from "+o),t.openvidu.sendRequest("unsubscribeFromVideo",{sender:e.stream.connection.connectionId},function(t,i){return t?(k.error("Error unsubscribing from "+o),r(t)):(k.info("Unsubscribed correctly from "+o),e.stream.streamManager.removeAllVideos(),e.stream.disposeWebRtcPeer(),e.stream.disposeMediaStream(),n())})})},t.prototype.publish=function(e){var t=this;return new Promise(function(n,r){if(!t.sessionConnected())return r(t.notConnectedError());e.session=t,e.stream.session=t,e.stream.publishedOnce?e.initialize().then(function(){t.connection.addStream(e.stream),e.reestablishStreamPlayingEvent(),e.stream.publish().then(function(){return t.sendVideoData(e,8,!0,5),n()}).catch(function(e){return r(e)})}).catch(function(e){return r(e)}):(t.connection.addStream(e.stream),e.stream.publish().then(function(){return t.sendVideoData(e,8,!0,5),n()}).catch(function(e){return r(e)}))})},t.prototype.unpublish=function(e){var t=this;return new Promise(function(n,r){if(!t.sessionConnected())throw t.notConnectedError();var o=e.stream;return o.connection?o.connection!==t.connection?r(new Error("The associated Connection object of this Publisher is not your local Connection.Only moderators can force unpublish on remote Streams via 'forceUnpublish' method")):(k.info("Unpublishing local media ("+o.connection.connectionId+")"),void t.openvidu.sendRequest("unpublishVideo",function(t,i){if(t)return r(t);k.info("Media unpublished correctly"),o.disposeWebRtcPeer(),o.connection.stream==o&&delete o.connection.stream;var a=new m.StreamEvent(!0,e,"streamDestroyed",e.stream,"unpublish");return e.emitEvent("streamDestroyed",[a]),a.callDefaultBehavior(),n()})):r(new Error("The associated Connection object of this Publisher is null"))})},t.prototype.forceDisconnect=function(e){var t=this;return new Promise(function(n,r){if(!t.sessionConnected())return r(t.notConnectedError());k.info("Forcing disconnect for connection "+e.connectionId),t.openvidu.sendRequest("forceDisconnect",{connectionId:e.connectionId},function(t,o){return t?(k.error("Error forcing disconnect for Connection "+e.connectionId,t),401===t.code?r(new w.OpenViduError(w.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to force a disconnection")):r(t)):(k.info("Forcing disconnect correctly for Connection "+e.connectionId),n())})})},t.prototype.forceUnpublish=function(e){var t=this;return new Promise(function(n,r){if(!t.sessionConnected())return r(t.notConnectedError());k.info("Forcing unpublish for stream "+e.streamId),t.openvidu.sendRequest("forceUnpublish",{streamId:e.streamId},function(t,o){return t?(k.error("Error forcing unpublish for Stream "+e.streamId,t),401===t.code?r(new w.OpenViduError(w.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to force an unpublishing")):r(t)):(k.info("Forcing unpublish correctly for Stream "+e.streamId),n())})})},t.prototype.signal=function(e){var t=this;return new Promise(function(n,r){if(!t.sessionConnected())return r(t.notConnectedError());var o={};if(e.to&&e.to.length>0){var i=[];e.to.forEach(function(e){e.connectionId&&i.push(e.connectionId)}),o.to=i}else o.to=[];o.data=e.data?e.data:"";var a=e.type?e.type:"signal";a&&"signal:"!==a.substring(0,7)&&(a="signal:"+a),o.type=a,t.openvidu.sendRequest("sendMessage",{message:JSON.stringify(o)},function(e,t){return e?r(e):n()})})},t.prototype.on=function(t,n){var r,o,i,a;return e.prototype.onAux.call(this,t,"Event '"+t+"' triggered by 'Session'",n),"publisherStartSpeaking"===t&&(this.remoteConnections.forEach(function(e){var t;(null===(t=e.stream)||void 0===t?void 0:t.hasAudio)&&e.stream.enableHarkSpeakingEvent()}),(null===(o=null===(r=this.connection)||void 0===r?void 0:r.stream)||void 0===o?void 0:o.hasAudio)&&this.connection.stream.enableHarkSpeakingEvent()),"publisherStopSpeaking"===t&&(this.remoteConnections.forEach(function(e){var t;(null===(t=e.stream)||void 0===t?void 0:t.hasAudio)&&e.stream.enableHarkStoppedSpeakingEvent()}),(null===(a=null===(i=this.connection)||void 0===i?void 0:i.stream)||void 0===a?void 0:a.hasAudio)&&this.connection.stream.enableHarkStoppedSpeakingEvent()),this},t.prototype.once=function(t,n){var r,o,i,a;return e.prototype.onceAux.call(this,t,"Event '"+t+"' triggered once by 'Session'",n),"publisherStartSpeaking"===t&&(this.remoteConnections.forEach(function(e){var t;(null===(t=e.stream)||void 0===t?void 0:t.hasAudio)&&e.stream.enableOnceHarkSpeakingEvent()}),(null===(o=null===(r=this.connection)||void 0===r?void 0:r.stream)||void 0===o?void 0:o.hasAudio)&&this.connection.stream.enableOnceHarkSpeakingEvent()),"publisherStopSpeaking"===t&&(this.remoteConnections.forEach(function(e){var t;(null===(t=e.stream)||void 0===t?void 0:t.hasAudio)&&e.stream.enableOnceHarkStoppedSpeakingEvent()}),(null===(a=null===(i=this.connection)||void 0===i?void 0:i.stream)||void 0===a?void 0:a.hasAudio)&&this.connection.stream.enableOnceHarkStoppedSpeakingEvent()),this},t.prototype.off=function(t,n){var r,o,i,a,s=this;return e.prototype.offAux.call(this,t,n),"publisherStartSpeaking"===t&&(this.anySpeechEventListenerEnabled("publisherStartSpeaking",!1)||(this.remoteConnections.forEach(function(e){var t;(null===(t=e.stream)||void 0===t?void 0:t.streamManager)&&(s.anySpeechEventListenerEnabled("publisherStartSpeaking",!1,e.stream.streamManager)||e.stream.disableHarkSpeakingEvent(!1))}),(null===(o=null===(r=this.connection)||void 0===r?void 0:r.stream)||void 0===o?void 0:o.streamManager)&&(this.anySpeechEventListenerEnabled("publisherStartSpeaking",!1,this.connection.stream.streamManager)||this.connection.stream.disableHarkSpeakingEvent(!1)))),"publisherStopSpeaking"===t&&(this.anySpeechEventListenerEnabled("publisherStopSpeaking",!1)||(this.remoteConnections.forEach(function(e){var t;(null===(t=e.stream)||void 0===t?void 0:t.streamManager)&&(s.anySpeechEventListenerEnabled("publisherStopSpeaking",!1,e.stream.streamManager)||e.stream.disableHarkStoppedSpeakingEvent(!1))}),(null===(a=null===(i=this.connection)||void 0===i?void 0:i.stream)||void 0===a?void 0:a.streamManager)&&(this.anySpeechEventListenerEnabled("publisherStopSpeaking",!1,this.connection.stream.streamManager)||this.connection.stream.disableHarkStoppedSpeakingEvent(!1)))),this},t.prototype.onParticipantJoined=function(e){var t=this;this.getConnection(e.id,"").then(function(e){k.warn("Connection "+e.connectionId+" already exists in connections list")}).catch(function(n){var r=new s.Connection(t,e);t.remoteConnections.set(e.id,r),t.ee.emitEvent("connectionCreated",[new f.ConnectionEvent(!1,t,"connectionCreated",r,"")])})},t.prototype.onParticipantLeft=function(e){var t=this;this.getRemoteConnection(e.connectionId,"onParticipantLeft").then(function(n){if(n.stream){var r=n.stream,o=new m.StreamEvent(!0,t,"streamDestroyed",r,e.reason);t.ee.emitEvent("streamDestroyed",[o]),o.callDefaultBehavior(),t.remoteStreamsCreated.delete(r.streamId)}t.remoteConnections.delete(n.connectionId),t.ee.emitEvent("connectionDestroyed",[new f.ConnectionEvent(!1,t,"connectionDestroyed",n,e.reason)])}).catch(function(e){k.error(e)})},t.prototype.onParticipantPublished=function(e){var t,n=this,r=function(e){n.remoteConnections.set(e.connectionId,e),n.remoteStreamsCreated.get(e.stream.streamId)||n.ee.emitEvent("streamCreated",[new m.StreamEvent(!1,n,"streamCreated",e.stream,"")]),n.remoteStreamsCreated.set(e.stream.streamId,!0)};this.getRemoteConnection(e.id,"onParticipantPublished").then(function(n){t=n,e.metadata=n.data,t.remoteOptions=e,t.initRemoteStreams(e.streams),r(t)}).catch(function(o){t=new s.Connection(n,e),r(t)})},t.prototype.onParticipantUnpublished=function(e){var t=this;e.connectionId===this.connection.connectionId?this.stopPublisherStream(e.reason):this.getRemoteConnection(e.connectionId,"onParticipantUnpublished").then(function(n){var r=new m.StreamEvent(!0,t,"streamDestroyed",n.stream,e.reason);t.ee.emitEvent("streamDestroyed",[r]),r.callDefaultBehavior();var o=n.stream.streamId;t.remoteStreamsCreated.delete(o),n.removeStream(o)}).catch(function(e){k.error(e)})},t.prototype.onParticipantEvicted=function(e){e.connectionId===this.connection.connectionId&&this.sessionId&&!this.connection.disposed&&this.leave(!0,e.reason)},t.prototype.onNewMessage=function(e){var t=this;k.info("New signal: "+JSON.stringify(e));var n=e.type?e.type.replace(/^(signal:)/,""):void 0;e.from?this.getConnection(e.from,"Connection '"+e.from+"' unknown when 'onNewMessage'. Existing remote connections: "+JSON.stringify(this.remoteConnections.keys())+". Existing local connection: "+this.connection.connectionId).then(function(r){t.ee.emitEvent("signal",[new v.SignalEvent(t,n,e.data,r)]),e.type&&"signal"!==e.type&&t.ee.emitEvent(e.type,[new v.SignalEvent(t,n,e.data,r)])}).catch(function(e){k.error(e)}):(this.ee.emitEvent("signal",[new v.SignalEvent(this,n,e.data,void 0)]),e.type&&"signal"!==e.type&&this.ee.emitEvent(e.type,[new v.SignalEvent(this,n,e.data,void 0)]))},t.prototype.onStreamPropertyChanged=function(e){var t=this,n=function(n){if(n.stream&&n.stream.streamId===e.streamId){var r=n.stream,o=void 0;switch(e.property){case"audioActive":o=r.audioActive,e.newValue="true"===e.newValue,r.audioActive=e.newValue;break;case"videoActive":o=r.videoActive,e.newValue="true"===e.newValue,r.videoActive=e.newValue;break;case"videoDimensions":o=r.videoDimensions,e.newValue=JSON.parse(JSON.parse(e.newValue)),r.videoDimensions=e.newValue;break;case"filter":o=r.filter,e.newValue=Object.keys(e.newValue).length>0?e.newValue:void 0,void 0!==e.newValue?(r.filter=new u.Filter(e.newValue.type,e.newValue.options),r.filter.stream=r,e.newValue.lastExecMethod&&(r.filter.lastExecMethod=e.newValue.lastExecMethod)):delete r.filter,e.newValue=r.filter}t.ee.emitEvent("streamPropertyChanged",[new g.StreamPropertyChangedEvent(t,r,e.property,e.newValue,o,e.reason)]),r.streamManager&&r.streamManager.emitEvent("streamPropertyChanged",[new g.StreamPropertyChangedEvent(r.streamManager,r,e.property,e.newValue,o,e.reason)])}else k.error("No stream with streamId '"+e.streamId+"' found for connection '"+e.connectionId+"' on 'streamPropertyChanged' event")};e.connectionId===this.connection.connectionId?n(this.connection):this.getRemoteConnection(e.connectionId,"onStreamPropertyChanged").then(function(e){n(e)}).catch(function(e){k.error(e)})},t.prototype.onConnectionPropertyChanged=function(e){var t;switch(e.property){case"role":t=this.connection.role.slice(),this.connection.role=e.newValue,this.connection.localOptions.role=e.newValue;break;case"record":t=this.connection.record,e.newValue="true"===e.newValue,this.connection.record=e.newValue,this.connection.localOptions.record=e.newValue}this.ee.emitEvent("connectionPropertyChanged",[new y.ConnectionPropertyChangedEvent(this,this.connection,e.property,e.newValue,t)])},t.prototype.onNetworkQualityLevelChangedChanged=function(e){var t=this;e.connectionId===this.connection.connectionId?this.ee.emitEvent("networkQualityLevelChanged",[new b.NetworkQualityLevelChangedEvent(this,e.newValue,e.oldValue,this.connection)]):this.getConnection(e.connectionId,"Connection not found for connectionId "+e.connectionId).then(function(n){t.ee.emitEvent("networkQualityLevelChanged",[new b.NetworkQualityLevelChangedEvent(t,e.newValue,e.oldValue,n)])}).catch(function(e){k.error(e)})},t.prototype.recvIceCandidate=function(e){var t={candidate:e.candidate,sdpMLineIndex:e.sdpMLineIndex,sdpMid:e.sdpMid},n=new RTCIceCandidate(t);this.getConnection(e.senderConnectionId,"Connection not found for connectionId "+e.senderConnectionId+" owning endpoint "+e.endpointName+". Ice candidate will be ignored: "+n).then(function(t){var r=t.stream;r.getWebRtcPeer().addIceCandidate(n).catch(function(t){k.error("Error adding candidate for "+r.streamId+" stream of endpoint "+e.endpointName+": "+t)})}).catch(function(e){k.error(e)})},t.prototype.onSessionClosed=function(e){k.info("Session closed: "+JSON.stringify(e));var t=e.sessionId;void 0!==t?this.ee.emitEvent("session-closed",[{session:t}]):k.warn("Session undefined on session closed",e)},t.prototype.onLostConnection=function(e){k.warn("Lost connection in Session "+this.sessionId),this.sessionId&&this.connection&&!this.connection.disposed&&this.leave(!0,e)},t.prototype.onRecoveredConnection=function(){k.info("Recovered connection in Session "+this.sessionId),this.reconnectBrokenStreams(),this.ee.emitEvent("reconnected",[])},t.prototype.onMediaError=function(e){k.error("Media error: "+JSON.stringify(e));var t=e.error;t?this.ee.emitEvent("error-media",[{error:t}]):k.warn("Received undefined media error:",e)},t.prototype.onRecordingStarted=function(e){this.ee.emitEvent("recordingStarted",[new p.RecordingEvent(this,"recordingStarted",e.id,e.name)])},t.prototype.onRecordingStopped=function(e){this.ee.emitEvent("recordingStopped",[new p.RecordingEvent(this,"recordingStopped",e.id,e.name,e.reason)])},t.prototype.onFilterEventDispatched=function(e){var t=this,n=e.connectionId;this.getConnection(n,"No connection found for connectionId "+n).then(function(n){k.info('Filter event of type "'.concat(e.eventType,'" dispatched'));var r=n.stream;if(!r||!r.filter)return k.error('Filter event of type "'.concat(e.eventType,'" dispatched for stream ').concat(r.streamId," but there is no ").concat(r?"filter":"stream"," defined"));var o=r.filter.handlers.get(e.eventType);if(!o||"function"!==typeof o){var i=Array.from(r.filter.handlers.keys());return k.error('Filter event of type "'.concat(e.eventType,'" not handled or not a function! Active filter events: ').concat(i.join(",")))}o.call(t,new d.FilterEvent(r.filter,e.eventType,e.data))})},t.prototype.onForciblyReconnectSubscriber=function(e){var t=this;return new Promise(function(n,r){t.getRemoteConnection(e.connectionId,"onForciblyReconnectSubscriber").then(function(o){if(!o.stream||o.stream.streamId!==e.streamId){var i="No stream with streamId '"+e.streamId+"' found for connection '"+e.connectionId+"' on 'streamPropertyChanged' event";return k.error(i),r(i)}var a=o.stream;if(a.setupReconnectionEventEmitter(n,r)){if(null!=a.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent)return a.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent=e,r("Ongoing forced subscriber reconnection");a.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent=e;var s=function(){var e=a.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent;delete a.reconnectionEventEmitter.onForciblyReconnectSubscriberLastEvent,t.onForciblyReconnectSubscriber(e)};return a.reconnectionEventEmitter.once("success",function(){s()}),void a.reconnectionEventEmitter.once("error",function(){s()})}a.completeWebRtcPeerReceive(!0,!0,e.sdpOffer).then(function(){return a.finalResolveForSubscription(!0,n)}).catch(function(t){return a.finalRejectForSubscription(!0,"Error while forcibly reconnecting remote stream ".concat(e.streamId,": ").concat(t.toString()),r)})}).catch(function(e){return k.error(e),r(e)})})},t.prototype.reconnectBrokenStreams=function(){k.info("Re-establishing media connections...");var e=!1;this.connection.stream&&this.connection.stream.streamIceConnectionStateBroken()&&(k.warn("Re-establishing Publisher "+this.connection.stream.streamId),this.connection.stream.initWebRtcPeerSend(!0),e=!0),this.remoteConnections.forEach(function(t){t.stream&&t.stream.streamIceConnectionStateBroken()&&(k.warn("Re-establishing Subscriber "+t.stream.streamId),t.stream.initWebRtcPeerReceive(!0),e=!0)}),e||k.info("There were no media streams in need of a reconnection")},t.prototype.emitEvent=function(e,t){this.ee.emitEvent(e,t)},t.prototype.leave=function(e,t){var n=this;if(e=!!e,k.info("Leaving Session (forced="+e+")"),this.stopVideoDataIntervals(),this.connection){if(this.connection.disposed||e?this.openvidu.closeWs():this.openvidu.sendRequest("leaveRoom",function(e,t){e&&k.error("leaveRoom error: ".concat(JSON.stringify(e))),n.openvidu.closeWs()}),this.stopPublisherStream(t),!this.connection.disposed){var r=new h.SessionDisconnectedEvent(this,t);this.ee.emitEvent("sessionDisconnected",[r]),r.callDefaultBehavior()}}else k.warn("You were not connected to the session "+this.sessionId);k.flush()},t.prototype.initializeParams=function(e){return{token:e||"",session:this.sessionId,platform:a.getDescription()?a.getDescription():"unknown",sdkVersion:this.openvidu.libraryVersion,metadata:this.options.metadata?this.options.metadata:"",secret:this.openvidu.getSecret(),recorder:this.openvidu.getRecorder()}},t.prototype.sendVideoData=function(e,t,n,r){var s,u,c=this;if(void 0===t&&(t=1),void 0===n&&(n=!1),void 0===r&&(r=1),a.isChromeBrowser()||a.isChromeMobileBrowser()||a.isOperaBrowser()||a.isOperaMobileBrowser()||a.isEdgeBrowser()||a.isEdgeMobileBrowser()||a.isElectron()||a.isSafariBrowser()&&!a.isIonicIos()||a.isAndroidBrowser()||a.isSamsungBrowser()||a.isIonicAndroid()||a.isIOSWithSafari()){var l=function(){return o(c,void 0,void 0,function(){var t,n,r;return i(this,function(o){switch(o.label){case 0:return"connected"!==(t=e.stream.getRTCPeerConnection()).connectionState?[3,2]:[4,t.getStats()];case 1:n=o.sent(),r=[],n.forEach(function(e){"frameWidth"in e&&"frameHeight"in e&&0===r.length&&r.push(e)}),r.length>0&&this.openvidu.sendRequest("videoData",{height:r[0].frameHeight,width:r[0].frameWidth,videoActive:null!=e.stream.videoActive&&e.stream.videoActive,audioActive:null!=e.stream.audioActive&&e.stream.audioActive},function(e,t){e&&k.error("Error sending 'videoData' event",e)}),o.label=2;case 2:return[2]}})})};if(n){var f=1;this.videoDataInterval=setInterval(function(){f<r?(f++,l()):clearInterval(c.videoDataInterval)},1e3*t)}else this.videoDataTimeout=setTimeout(l,1e3*t)}else a.isFirefoxBrowser()||a.isFirefoxMobileBrowser()||a.isIonicIos()||a.isReactNative()?this.openvidu.sendRequest("videoData",{height:(null===(s=e.stream.videoDimensions)||void 0===s?void 0:s.height)||0,width:(null===(u=e.stream.videoDimensions)||void 0===u?void 0:u.width)||0,videoActive:null!=e.stream.videoActive&&e.stream.videoActive,audioActive:null!=e.stream.audioActive&&e.stream.audioActive},function(e,t){e&&k.error("Error sending 'videoData' event",e)}):k.error("Browser "+a.getName()+" (version "+a.getVersion()+") for "+a.getFamily()+" is not supported in OpenVidu for Network Quality")},t.prototype.sessionConnected=function(){return null!=this.connection},t.prototype.notConnectedError=function(){return new w.OpenViduError(w.OpenViduErrorName.OPENVIDU_NOT_CONNECTED,"There is no connection to the session. Method 'Session.connect' must be successfully completed first")},t.prototype.anySpeechEventListenerEnabled=function(e,t,n){var r=this.ee.getListeners(e);if(t&&(r=r.filter(function(e){return e.once})),r.length>0)return!0;var o=0;if(n){var i=n.ee.getListeners(e);t&&(i=i.filter(function(e){return e.once})),o=i.length}return o>0},t.prototype.getTokenParams=function(e){var t=e.match(/^(wss?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);if(t){var n={protocol:t[1],host:t[2],hostname:t[3],port:t[4],pathname:t[5],search:t[6],hash:t[7]},r=e.split("?"),o=decodeURI(r[1]).split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var n=t[0],r=t[1];return e[n]=r,e},{});return{sessionId:o.sessionId,secret:o.secret,recorder:o.recorder,webrtcStatsInterval:o.webrtcStatsInterval,sendBrowserLogs:o.sendBrowserLogs,edition:o.edition,wsUri:"wss://"+n.host+"/openvidu",httpUri:"https://"+n.host}}throw new Error('Token not valid: "'.concat(e,'"'))},t.prototype.connectAux=function(e){var t=this;return new Promise(function(n,r){t.openvidu.startWs(function(o){if(o)return r(o);var i=t.initializeParams(e);t.openvidu.sendRequest("joinRoom",i,function(o,i){if(o)return r(o);t.processJoinRoomResponse(i,e),t.connection=new s.Connection(t,i);var a={connections:new Array,streams:new Array};return i.value.forEach(function(e){var n=new s.Connection(t,e);t.remoteConnections.set(n.connectionId,n),a.connections.push(n),n.stream&&(t.remoteStreamsCreated.set(n.stream.streamId,!0),a.streams.push(n.stream))}),t.ee.emitEvent("connectionCreated",[new f.ConnectionEvent(!1,t,"connectionCreated",t.connection,"")]),a.connections.forEach(function(e){t.ee.emitEvent("connectionCreated",[new f.ConnectionEvent(!1,t,"connectionCreated",e,"")])}),a.streams.forEach(function(e){t.ee.emitEvent("streamCreated",[new m.StreamEvent(!1,t,"streamCreated",e,"")])}),n()})})})},t.prototype.stopPublisherStream=function(e){this.connection.stream&&(this.connection.stream.disposeWebRtcPeer(),this.connection.stream.isLocalStreamPublished&&this.connection.stream.ee.emitEvent("local-stream-destroyed",[e]))},t.prototype.stopVideoDataIntervals=function(){clearInterval(this.videoDataInterval),clearTimeout(this.videoDataTimeout)},t.prototype.stringClientMetadata=function(e){return"string"!==typeof e?JSON.stringify(e):e},t.prototype.getConnection=function(e,t){var n=this;return new Promise(function(r,o){var i=n.remoteConnections.get(e);return i?r(i):n.connection.connectionId===e?r(n.connection):o(new w.OpenViduError(w.OpenViduErrorName.GENERIC_ERROR,t))})},t.prototype.getRemoteConnection=function(e,t){var n=this;return new Promise(function(r,o){var i=n.remoteConnections.get(e);if(i)return r(i);var a="Remote connection "+e+" unknown when '"+t+"'. Existing remote connections: "+JSON.stringify(n.remoteConnections.keys());return o(new w.OpenViduError(w.OpenViduErrorName.GENERIC_ERROR,a))})},t.prototype.processToken=function(e){var t=this.getTokenParams(e);this.sessionId=t.sessionId,t.secret&&(this.openvidu.secret=t.secret),t.recorder&&(this.openvidu.recorder=!0),t.webrtcStatsInterval&&(this.openvidu.webrtcStatsInterval=t.webrtcStatsInterval),t.sendBrowserLogs&&(this.openvidu.sendBrowserLogs=t.sendBrowserLogs),this.openvidu.isAtLeastPro="pro"===t.edition||"enterprise"===t.edition,this.openvidu.isEnterprise="enterprise"===t.edition,this.openvidu.wsUri=t.wsUri,this.openvidu.httpUri=t.httpUri},t.prototype.processJoinRoomResponse=function(e,t){if(this.sessionId=e.session,null!=e.customIceServers&&e.customIceServers.length>0){this.openvidu.iceServers=[];for(var n=0,r=e.customIceServers;n<r.length;n++){var o=r[n],i={urls:[o.url]};k.log("STUN/TURN server IP: "+o.url),null!=o.username&&null!=o.credential&&(i.username=o.username,i.credential=o.credential,k.log("TURN credentials ["+o.username+":"+o.credential+"]")),this.openvidu.iceServers.push(i)}}else if(null!=e.coturnIp&&null!=e.coturnPort&&null!=e.turnUsername&&null!=e.turnCredential){var a="turn:"+e.coturnIp+":"+e.coturnPort;this.openvidu.iceServers=[{urls:[a],username:e.turnUsername,credential:e.turnCredential}],k.log("STUN/TURN server IP: "+e.coturnIp),k.log("TURN temp credentials ["+e.turnUsername+":"+e.turnCredential+"]")}this.openvidu.role=e.role,this.openvidu.finalUserId=e.finalUserId,this.openvidu.mediaServer=e.mediaServer,this.openvidu.videoSimulcast=e.videoSimulcast,this.capabilities={subscribe:!0,publish:"SUBSCRIBER"!==this.openvidu.role,forceUnpublish:"MODERATOR"===this.openvidu.role,forceDisconnect:"MODERATOR"===this.openvidu.role},k.info("openvidu-server version: "+e.version),null!=e.life&&(this.openvidu.life=e.life);var s=C(e.version)-C(this.openvidu.libraryVersion);S(e.version)!==S(this.openvidu.libraryVersion)||0!=s&&1!=s?k.error("openvidu-browser (".concat(this.openvidu.libraryVersion,") and openvidu-server (").concat(e.version,") versions are incompatible. ")+"Errors are likely to occur. openvidu-browser SDK is only compatible with the same version or the immediately following minor version of an OpenVidu deployment"):1==s&&k.warn("openvidu-browser version ".concat(this.openvidu.libraryVersion," does not match openvidu-server version ").concat(e.version,". ")+"These versions are still compatible with each other, but openvidu-browser version must be updated as soon as possible to ".concat(S(e.version),".").concat(C(e.version),".x. ")+"This client using openvidu-browser ".concat(this.openvidu.libraryVersion," will become incompatible with the next release of openvidu-server")),O.OpenViduLogger.configureJSNLog(this.openvidu,t),this.token=t},t}(l.EventDispatcher);t.Session=R},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoInsertMode=void 0,function(e){e.AFTER="AFTER",e.APPEND="APPEND",e.BEFORE="BEFORE",e.PREPEND="PREPEND",e.REPLACE="REPLACE"}(t.VideoInsertMode||(t.VideoInsertMode={}))},function(e,t,n){"use strict";var r=n(429);t.a=r.a},function(e,t,n){"use strict";var r=n(430);t.a=r.a},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i=64,a={},s=0,u=0;function c(e){var t="";do{t=o[e%i]+t,e=Math.floor(e/i)}while(e>0);return t}function l(){var e=c(+new Date);return e!==r?(s=0,r=e):e+"."+c(s++)}for(;u<i;u++)a[o[u]]=u},function(e,t,n){"use strict";function r(e){var t="";if(!e)try{e=n(366)}catch(r){t=r.toString()}return{readFile:e?function(t){return new Promise(function(n,r){e.readFile(t,function(e,t){return e?r(e):n(t)})})}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+t)}}}n.d(t,"a",function(){return r})},,function(e,t,n){"use strict";var r=n(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(35)),i=n(4),a=(0,o.default)((0,i.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");t.default=a},function(e,t,n){"use strict";var r=n(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(35)),i=n(4),a=(0,o.default)((0,i.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder");t.default=a},function(e,t,n){"use strict";var r=n(0),o=r.createContext(void 0);t.a=o},function(e,t,n){"use strict";n(6);var r=n(13),o=n(80);var i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce(function(e,t){return t.filterProps.forEach(function(n){e[n]=t}),e},{}),i=function(e){return Object.keys(e).reduce(function(t,n){return r[n]?Object(o.a)(t,r[n](e)):t},{})};return i.propTypes={},i.filterProps=t.reduce(function(e,t){return e.concat(t.filterProps)},[]),i},a=n(54),s=n(44);function u(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var c=Object(r.a)({prop:"border",themeKey:"borders",transform:u}),l=Object(r.a)({prop:"borderTop",themeKey:"borders",transform:u}),f=Object(r.a)({prop:"borderRight",themeKey:"borders",transform:u}),d=Object(r.a)({prop:"borderBottom",themeKey:"borders",transform:u}),p=Object(r.a)({prop:"borderLeft",themeKey:"borders",transform:u}),h=Object(r.a)({prop:"borderColor",themeKey:"palette"}),v=Object(r.a)({prop:"borderTopColor",themeKey:"palette"}),m=Object(r.a)({prop:"borderRightColor",themeKey:"palette"}),g=Object(r.a)({prop:"borderBottomColor",themeKey:"palette"}),y=Object(r.a)({prop:"borderLeftColor",themeKey:"palette"}),b=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=Object(a.b)(e.theme,"shape.borderRadius",4,"borderRadius");return Object(s.b)(e,e.borderRadius,function(e){return{borderRadius:Object(a.d)(t,e)}})}return null};b.propTypes={},b.filterProps=["borderRadius"];var w=i(c,l,f,d,p,h,v,m,g,y,b),x=i(Object(r.a)({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),Object(r.a)({prop:"display"}),Object(r.a)({prop:"overflow"}),Object(r.a)({prop:"textOverflow"}),Object(r.a)({prop:"visibility"}),Object(r.a)({prop:"whiteSpace"})),O=i(Object(r.a)({prop:"flexBasis"}),Object(r.a)({prop:"flexDirection"}),Object(r.a)({prop:"flexWrap"}),Object(r.a)({prop:"justifyContent"}),Object(r.a)({prop:"alignItems"}),Object(r.a)({prop:"alignContent"}),Object(r.a)({prop:"order"}),Object(r.a)({prop:"flex"}),Object(r.a)({prop:"flexGrow"}),Object(r.a)({prop:"flexShrink"}),Object(r.a)({prop:"alignSelf"}),Object(r.a)({prop:"justifyItems"}),Object(r.a)({prop:"justifySelf"})),E=function(e){if(void 0!==e.gap&&null!==e.gap){var t=Object(a.b)(e.theme,"spacing",8,"gap");return Object(s.b)(e,e.gap,function(e){return{gap:Object(a.d)(t,e)}})}return null};E.propTypes={},E.filterProps=["gap"];var S=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=Object(a.b)(e.theme,"spacing",8,"columnGap");return Object(s.b)(e,e.columnGap,function(e){return{columnGap:Object(a.d)(t,e)}})}return null};S.propTypes={},S.filterProps=["columnGap"];var C=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=Object(a.b)(e.theme,"spacing",8,"rowGap");return Object(s.b)(e,e.rowGap,function(e){return{rowGap:Object(a.d)(t,e)}})}return null};C.propTypes={},C.filterProps=["rowGap"];var k=i(E,S,C,Object(r.a)({prop:"gridColumn"}),Object(r.a)({prop:"gridRow"}),Object(r.a)({prop:"gridAutoFlow"}),Object(r.a)({prop:"gridAutoColumns"}),Object(r.a)({prop:"gridAutoRows"}),Object(r.a)({prop:"gridTemplateColumns"}),Object(r.a)({prop:"gridTemplateRows"}),Object(r.a)({prop:"gridTemplateAreas"}),Object(r.a)({prop:"gridArea"})),R=i(Object(r.a)({prop:"position"}),Object(r.a)({prop:"zIndex",themeKey:"zIndex"}),Object(r.a)({prop:"top"}),Object(r.a)({prop:"right"}),Object(r.a)({prop:"bottom"}),Object(r.a)({prop:"left"})),j=i(Object(r.a)({prop:"color",themeKey:"palette"}),Object(r.a)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),Object(r.a)({prop:"backgroundColor",themeKey:"palette"})),P=Object(r.a)({prop:"boxShadow",themeKey:"shadows"});function T(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var _=Object(r.a)({prop:"width",transform:T}),I=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return Object(s.b)(e,e.maxWidth,function(t){var n,r,o;return{maxWidth:(null==(n=e.theme)?void 0:null==(r=n.breakpoints)?void 0:null==(o=r.values)?void 0:o[t])||s.e[t]||T(t)}})}return null};I.filterProps=["maxWidth"];var A=Object(r.a)({prop:"minWidth",transform:T}),N=Object(r.a)({prop:"height",transform:T}),M=Object(r.a)({prop:"maxHeight",transform:T}),D=Object(r.a)({prop:"minHeight",transform:T}),L=(Object(r.a)({prop:"size",cssProperty:"width",transform:T}),Object(r.a)({prop:"size",cssProperty:"height",transform:T}),i(_,I,A,N,M,D,Object(r.a)({prop:"boxSizing"}))),F=Object(r.a)({prop:"fontFamily",themeKey:"typography"}),B=Object(r.a)({prop:"fontSize",themeKey:"typography"}),V=Object(r.a)({prop:"fontStyle",themeKey:"typography"}),U=Object(r.a)({prop:"fontWeight",themeKey:"typography"}),W=Object(r.a)({prop:"letterSpacing"}),z=Object(r.a)({prop:"textTransform"}),H=Object(r.a)({prop:"lineHeight"}),q=Object(r.a)({prop:"textAlign"}),G=i(Object(r.a)({prop:"typography",cssProperty:!1,themeKey:"typography"}),F,B,V,U,W,H,q,z);n.d(t,"b",function(){return $}),n.d(t,"a",function(){return X});var K={borders:w.filterProps,display:x.filterProps,flexbox:O.filterProps,grid:k.filterProps,positions:R.filterProps,palette:j.filterProps,shadows:P.filterProps,sizing:L.filterProps,spacing:a.c.filterProps,typography:G.filterProps},$={borders:w,display:x,flexbox:O,grid:k,positions:R,palette:j,shadows:P,sizing:L,spacing:a.c,typography:G},X=Object.keys(K).reduce(function(e,t){return K[t].forEach(function(n){e[n]=$[t]}),e},{})},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,"a",function(){return r})},,,,,function(e,t,n){"use strict";(function(t){var r=n(42),o=n(309),i=n(106),a=n(203),s=n(204),u={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l={transitional:a,adapter:function(){var e;return"undefined"!==typeof XMLHttpRequest?e=n(205):"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t)&&(e=n(205)),e}(),transformRequest:[function(e,t){if(o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,i=r.isObject(e),a=t&&t["Content-Type"];if((n=r.isFileList(e))||i&&"multipart/form-data"===a){var u=this.env&&this.env.FormData;return s(n?{"files[]":e}:e,u&&new u)}return i||"application/json"===a?(c(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(o){if("SyntaxError"!==o.name)throw o}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||o&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw i.from(s,i.ERR_BAD_RESPONSE,this,null,this.response);throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(320)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(e){l.headers[e]={}}),r.forEach(["post","put","patch"],function(e){l.headers[e]=r.merge(u)}),e.exports=l}).call(this,n(105))},function(e,t,n){"use strict";(function(e){var r=n(310),o=n(311),i=n(312);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),o=(e=s(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?s(e,0):d(e,t);if("Buffer"===t.type&&i(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,o){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,o);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,o){var i,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var l=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var f=!0,d=0;d<u;d++)if(c(e,i+d)!==c(t,d)){f=!1;break}if(f)return i}return-1}function y(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,r){return W(V(t,e.length-n),e,n,r)}function w(e,t,n,r){return W(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return w(e,t,n,r)}function O(e,t,n,r){return W(U(t),e,n,r)}function E(e,t,n,r){return W(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,u,c=e[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128===(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=e[o+1],a=e[o+2],128===(192&i)&&128===(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128===(192&i)&&128===(192&a)&&128===(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(e){var t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=k));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return R(this,t,n);case"latin1":case"binary":return j(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),c=this.slice(r,o),l=e.slice(t,n),f=0;f<s;++f)if(c[f]!==l[f]){i=c[f],a=l[f];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return O(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function R(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function j(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function P(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=B(e[i]);return o}function T(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function _(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function A(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function N(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function M(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,i){return i||M(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,i){return i||M(e,0,n,8),o.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;n=new u(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||_(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||_(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},u.prototype.readUInt8=function(e,t){return t||_(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||_(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||_(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||_(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||_(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||_(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||_(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||_(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||_(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||_(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||_(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||_(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||_(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||_(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||_(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||_(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);I(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);I(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=u.isBuffer(e)?e:V(new u(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function U(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function W(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(78))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Publisher=void 0;var a,s=n(141),u=n(161),c=n(164),l=n(170),f=n(107),d=n(108),p=n(45),h=n(92),v=n(168),m=p.OpenViduLogger.getInstance(),g=function(e){function t(t,n,r){var o=e.call(this,new u.Stream(r.session?r.session:new s.Session(r),{publisherProperties:n,mediaConstraints:{}}),t)||this;return o.accessAllowed=!1,o.isSubscribedToRemote=!1,o.accessDenied=!1,a=h.PlatformUtils.getInstance(),o.properties=n,o.openvidu=r,o.stream.ee.on("local-stream-destroyed",function(e){o.stream.isLocalStreamPublished=!1;var t=new l.StreamEvent(!0,o,"streamDestroyed",o.stream,e);o.emitEvent("streamDestroyed",[t]),t.callDefaultBehavior()}),o}return r(t,e),t.prototype.publishAudio=function(e){var t=this;this.stream.audioActive!==e&&((this.stream.displayMyRemote()?this.stream.localMediaStreamWhenSubscribedToRemote:this.stream.getMediaStream()).getAudioTracks().forEach(function(t){t.enabled=e}),this.session&&this.stream.streamId&&this.session.openvidu.sendRequest("streamPropertyChanged",{streamId:this.stream.streamId,property:"audioActive",newValue:e,reason:"publishAudio"},function(n,r){n?m.error("Error sending 'streamPropertyChanged' event",n):(t.session.emitEvent("streamPropertyChanged",[new f.StreamPropertyChangedEvent(t.session,t.stream,"audioActive",e,!e,"publishAudio")]),t.emitEvent("streamPropertyChanged",[new f.StreamPropertyChangedEvent(t,t.stream,"audioActive",e,!e,"publishAudio")]),t.session.sendVideoData(t.stream.streamManager))}),this.stream.audioActive=e,m.info("'Publisher' has "+(e?"published":"unpublished")+" its audio stream"))},t.prototype.publishVideo=function(e,t){var n=this;return new Promise(function(r,a){return o(n,void 0,void 0,function(){var n,s,u,c,l,d,p=this;return i(this,function(h){switch(h.label){case 0:return this.stream.videoActive===e?[3,9]:(n=this.stream.displayMyRemote()?this.stream.localMediaStreamWhenSubscribedToRemote:this.stream.getMediaStream(),s=!1,n.getVideoTracks().forEach(function(n){n.enabled=e,e||!0!==t?e&&"ended"===n.readyState&&(s=!0):n.stop()}),!e&&!0===t&&this.stream.filter&&this.stream.filter.type.startsWith("VB:")?(this.stream.lastVBFilter=this.stream.filter,[4,this.stream.removeFilterAux(!0)]):[3,2]);case 1:h.sent(),h.label=2;case 2:return s?(u=n.getVideoTracks()[0],n.removeTrack(u),c=function(e){return o(p,void 0,void 0,function(){var t=this;return i(this,function(r){switch(r.label){case 0:return n.addTrack(e),this.stream.isLocalStreamPublished?[4,this.replaceTrackInRtcRtpSender(e)]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.stream.lastVBFilter&&setTimeout(function(){return o(t,void 0,void 0,function(){var e,t;return i(this,function(n){switch(n.label){case 0:return e=this.stream.lastVBFilter.options,(t=this.stream.lastVBFilter.lastExecMethod)&&"update"===t.method&&(e=Object.assign({},e,t.params)),[4,this.stream.applyFilter(this.stream.lastVBFilter.type,e)];case 1:return n.sent(),delete this.stream.lastVBFilter,[2]}})})},1),[2]}})})},t&&t instanceof MediaStreamTrack?[4,c(t)]:[3,4]):[3,8];case 3:return h.sent(),[3,8];case 4:return h.trys.push([4,7,,8]),[4,navigator.mediaDevices.getUserMedia({audio:!1,video:this.stream.lastVideoTrackConstraints})];case 5:return l=h.sent(),[4,c(l.getVideoTracks()[0])];case 6:return h.sent(),[3,8];case 7:return d=h.sent(),[2,a(d)];case 8:return this.session&&this.stream.streamId&&this.session.openvidu.sendRequest("streamPropertyChanged",{streamId:this.stream.streamId,property:"videoActive",newValue:e,reason:"publishVideo"},function(t,n){t?m.error("Error sending 'streamPropertyChanged' event",t):(p.session.emitEvent("streamPropertyChanged",[new f.StreamPropertyChangedEvent(p.session,p.stream,"videoActive",e,!e,"publishVideo")]),p.emitEvent("streamPropertyChanged",[new f.StreamPropertyChangedEvent(p,p.stream,"videoActive",e,!e,"publishVideo")]),p.session.sendVideoData(p.stream.streamManager))}),this.stream.videoActive=e,m.info("'Publisher' has "+(e?"published":"unpublished")+" its video stream"),[2,r()];case 9:return[2]}})})})},t.prototype.subscribeToRemote=function(e){e=void 0===e||e,this.isSubscribedToRemote=e,this.stream.subscribeToMyRemote(e)},t.prototype.on=function(t,n){var r=this;return e.prototype.on.call(this,t,n),"streamCreated"===t&&(this.stream&&this.stream.isLocalStreamPublished?this.emitEvent("streamCreated",[new l.StreamEvent(!1,this,"streamCreated",this.stream,"")]):this.stream.ee.on("stream-created-by-publisher",function(){r.emitEvent("streamCreated",[new l.StreamEvent(!1,r,"streamCreated",r.stream,"")])})),"accessAllowed"===t&&this.accessAllowed&&this.emitEvent("accessAllowed",[]),"accessDenied"===t&&this.accessDenied&&this.emitEvent("accessDenied",[]),this},t.prototype.once=function(t,n){var r=this;return e.prototype.once.call(this,t,n),"streamCreated"===t&&(this.stream&&this.stream.isLocalStreamPublished?this.emitEvent("streamCreated",[new l.StreamEvent(!1,this,"streamCreated",this.stream,"")]):this.stream.ee.once("stream-created-by-publisher",function(){r.emitEvent("streamCreated",[new l.StreamEvent(!1,r,"streamCreated",r.stream,"")])})),"accessAllowed"===t&&this.accessAllowed&&this.emitEvent("accessAllowed",[]),"accessDenied"===t&&this.accessDenied&&this.emitEvent("accessDenied",[]),this},t.prototype.off=function(t,n){return e.prototype.off.call(this,t,n),this},t.prototype.replaceTrack=function(e){return o(this,void 0,void 0,function(){return i(this,function(t){return[2,this.replaceTrackAux(e,!0)]})})},t.prototype.initialize=function(){var e=this;return new Promise(function(t,n){var r,o={},i={},s=function(t){return e.accessDenied=!0,e.accessAllowed=!1,m.error("Publisher initialization failed. ".concat(t.name,": ").concat(t.message)),n(t)},u=function(n){var r,o;if(e.accessAllowed=!0,e.accessDenied=!1,"undefined"!==typeof MediaStreamTrack&&e.properties.audioSource instanceof MediaStreamTrack&&(n.removeTrack(n.getAudioTracks()[0]),n.addTrack(e.properties.audioSource)),"undefined"!==typeof MediaStreamTrack&&e.properties.videoSource instanceof MediaStreamTrack&&(n.removeTrack(n.getVideoTracks()[0]),n.addTrack(e.properties.videoSource)),n.getAudioTracks()[0]){var i=void 0!==e.stream.audioActive&&null!==e.stream.audioActive?e.stream.audioActive:!!e.stream.outboundStreamOpts.publisherProperties.publishAudio;n.getAudioTracks()[0].enabled=i}if(n.getVideoTracks()[0]){i=void 0!==e.stream.videoActive&&null!==e.stream.videoActive?e.stream.videoActive:!!e.stream.outboundStreamOpts.publisherProperties.publishVideo;n.getVideoTracks()[0].enabled=i}for(var a=0,s=n.getAudioTracks();a<s.length;a++){(null===(r=(l=s[a]).contentHint)||void 0===r?void 0:r.length)||(l.contentHint="",m.info("Audio track Content Hint set: '".concat(l.contentHint,"'")))}for(var u=0,c=n.getVideoTracks();u<c.length;u++){var l;if(!(null===(o=(l=c[u]).contentHint)||void 0===o?void 0:o.length)){switch(e.stream.typeOfVideo){case v.TypeOfVideo.SCREEN:l.contentHint="detail";break;case v.TypeOfVideo.CUSTOM:m.warn("CUSTOM type video track was provided without Content Hint!"),l.contentHint="motion";break;case v.TypeOfVideo.CAMERA:case v.TypeOfVideo.IPCAM:default:l.contentHint="motion"}m.info("Video track Content Hint set: '".concat(l.contentHint,"'"))}}return e.initializeVideoReference(n),e.stream.displayMyRemote()||e.stream.updateMediaStreamInVideos(),delete e.firstVideoElement,e.stream.isSendVideo()?e.getVideoDimensions().then(function(t){e.stream.videoDimensions={width:t.width,height:t.height},e.stream.isSendScreen()&&(e.screenShareResizeInterval=setInterval(function(){var t=n.getVideoTracks()[0].getSettings(),r=t.width,o=t.height,i=null!=r&&r!==e.stream.videoDimensions.width,a=null!=o&&o!==e.stream.videoDimensions.height;e.stream.isLocalStreamPublished&&(i||a)&&e.openvidu.sendVideoDimensionsChangedEvent(e,"screenResized",e.stream.videoDimensions.width,e.stream.videoDimensions.height,r||0,o||0)},650)),e.stream.isLocalStreamReadyToPublish=!0,e.stream.ee.emitEvent("stream-ready-to-publish",[])}):(e.stream.isLocalStreamReadyToPublish=!0,e.stream.ee.emitEvent("stream-ready-to-publish",[])),t()},c=function(t,n){e.clearPermissionDialogTimer(r,2e3),e.stream.isSendScreen()&&e.stream.isSendAudio()?(i.audio=n,i.video=!1,r=Date.now(),e.setPermissionDialogTimer(2e3),navigator.mediaDevices.getUserMedia(i).then(function(n){e.clearPermissionDialogTimer(r,2e3),t.addTrack(n.getAudioTracks()[0]),u(t)}).catch(function(n){e.clearPermissionDialogTimer(r,2e3),t.getAudioTracks().forEach(function(e){e.stop()}),t.getVideoTracks().forEach(function(e){e.stop()}),s(e.openvidu.generateAudioDeviceError(n,o))})):u(t)},l=function(t){var n,i;switch(m.error("getMediaError: ".concat(t.toString())),e.clearPermissionDialogTimer(r,2e3),"Error"===t.name&&(t.name=t.constructor.name),t.name.toLowerCase()){case"notfounderror":navigator.mediaDevices.getUserMedia({audio:!1,video:o.video}).then(function(e){e.getVideoTracks().forEach(function(e){e.stop()}),n=d.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,i=t.toString(),s(new d.OpenViduError(n,i))}).catch(function(e){n=d.OpenViduErrorName.INPUT_VIDEO_DEVICE_NOT_FOUND,i=t.toString(),s(new d.OpenViduError(n,i))});break;case"notallowederror":n=e.stream.isSendScreen()?d.OpenViduErrorName.SCREEN_CAPTURE_DENIED:d.OpenViduErrorName.DEVICE_ACCESS_DENIED,i=t.toString(),s(new d.OpenViduError(n,i));break;case"overconstrainederror":navigator.mediaDevices.getUserMedia({audio:!1,video:o.video}).then(function(e){e.getVideoTracks().forEach(function(e){e.stop()}),"deviceid"===t.constraint.toLowerCase()?(n=d.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,i="Audio input device with deviceId '"+o.audio.deviceId.exact+"' not found"):(n=d.OpenViduErrorName.PUBLISHER_PROPERTIES_ERROR,i="Audio input device doesn't support the value passed for constraint '"+t.constraint+"'"),s(new d.OpenViduError(n,i))}).catch(function(e){"deviceid"===t.constraint.toLowerCase()?(n=d.OpenViduErrorName.INPUT_VIDEO_DEVICE_NOT_FOUND,i="Video input device with deviceId '"+o.video.deviceId.exact+"' not found"):(n=d.OpenViduErrorName.PUBLISHER_PROPERTIES_ERROR,i="Video input device doesn't support the value passed for constraint '"+t.constraint+"'"),s(new d.OpenViduError(n,i))});break;case"aborterror":case"notreadableerror":n=d.OpenViduErrorName.DEVICE_ALREADY_IN_USE,i=t.toString(),s(new d.OpenViduError(n,i));break;default:n=d.OpenViduErrorName.GENERIC_ERROR,i=t.toString(),s(new d.OpenViduError(n,i))}};e.openvidu.generateMediaConstraints(e.properties).then(function(t){var n,s;if(t.videoTrack&&t.audioTrack||t.audioTrack&&!1===(null===(n=t.constraints)||void 0===n?void 0:n.video)||t.videoTrack&&!1===(null===(s=t.constraints)||void 0===s?void 0:s.audio))u(e.openvidu.addAlreadyProvidedTracks(t,new MediaStream,e.stream));else{var f={mediaConstraints:o=t.constraints,publisherProperties:e.properties};e.stream.setOutboundStreamOptions(f);var d=void 0===o.audio||o.audio;i.audio=!e.stream.isSendScreen()&&d,i.video=o.video,r=Date.now(),e.setPermissionDialogTimer(2e3),e.stream.isSendScreen()&&navigator.mediaDevices.getDisplayMedia&&!a.isElectron()?navigator.mediaDevices.getDisplayMedia({video:!0}).then(function(n){e.openvidu.addAlreadyProvidedTracks(t,n),c(n,d)}).catch(function(e){l(e)}):(e.stream.lastVideoTrackConstraints=i.video,navigator.mediaDevices.getUserMedia(i).then(function(n){e.openvidu.addAlreadyProvidedTracks(t,n,e.stream),c(n,d)}).catch(function(e){l(e)}))}}).catch(function(e){s(e)})})},t.prototype.replaceTrackAux=function(e,t){return o(this,void 0,void 0,function(){var n,r;return i(this,function(o){switch(o.label){case 0:n=e.enabled,"video"===e.kind?e.enabled=this.stream.videoActive:"audio"===e.kind&&(e.enabled=this.stream.audioActive),o.label=1;case 1:return o.trys.push([1,7,,8]),this.stream.isLocalStreamPublished?[4,this.replaceTrackInMediaStream(e,t)]:[3,4];case 2:return o.sent(),[4,this.replaceTrackInRtcRtpSender(e)];case 3:return[2,o.sent()];case 4:return[4,this.replaceTrackInMediaStream(e,t)];case 5:return[2,o.sent()];case 6:return[3,8];case 7:throw r=o.sent(),e.enabled=n,r;case 8:return[2]}})})},t.prototype.getVideoDimensions=function(){var e=this;return new Promise(function(t,n){var r,o=a.isIonicIos()||a.isIOSWithSafari(),i=function(){var n,i;if("function"===typeof e.stream.getMediaStream().getVideoTracks()[0].getSettings){var s=e.stream.getMediaStream().getVideoTracks()[0].getSettings();n=s.width||e.videoReference.videoWidth,i=s.height||e.videoReference.videoHeight}else m.warn("MediaStreamTrack does not have getSettings method on "+a.getDescription()),n=e.videoReference.videoWidth,i=e.videoReference.videoHeight;return null!=r&&e.videoReference.removeEventListener("loadedmetadata",r),o&&document.body.removeChild(e.videoReference),t({width:n,height:i})};e.videoReference.readyState>=1?i():(r=function(){if(e.videoReference.videoWidth)i();else var t=setInterval(function(){e.videoReference.videoWidth&&(clearInterval(t),i())},40)},e.videoReference.addEventListener("loadedmetadata",r),o&&document.body.appendChild(e.videoReference))})},t.prototype.reestablishStreamPlayingEvent=function(){this.ee.getListeners("streamPlaying").length>0&&this.addPlayEventToFirstVideo()},t.prototype.initializeVideoReference=function(e){this.videoReference=document.createElement("video"),this.videoReference.setAttribute("muted","true"),this.videoReference.style.display="none",(a.isSafariBrowser()||a.isIPhoneOrIPad()&&(a.isChromeMobileBrowser()||a.isEdgeMobileBrowser()||a.isOperaMobileBrowser()||a.isFirefoxMobileBrowser()))&&this.videoReference.setAttribute("playsinline","true"),this.stream.setMediaStream(e),this.firstVideoElement&&this.createVideoElement(this.firstVideoElement.targetElement,this.properties.insertMode),this.videoReference.srcObject=e},t.prototype.replaceTrackInMediaStream=function(e,t){return o(this,void 0,void 0,function(){var n,r;return i(this,function(o){return n=this.stream.displayMyRemote()?this.stream.localMediaStreamWhenSubscribedToRemote:this.stream.getMediaStream(),"video"===e.kind?(r=n.getVideoTracks()[0],t&&(this.stream.lastVideoTrackConstraints=e.getConstraints())):r=n.getAudioTracks()[0],n.removeTrack(r),r.stop(),n.addTrack(e),"video"===e.kind&&this.stream.isLocalStreamPublished&&t&&(this.openvidu.sendNewVideoDimensionsIfRequired(this,"trackReplaced",50,30),this.session.sendVideoData(this.stream.streamManager,5,!0,5)),[2]})})},t.prototype.setPermissionDialogTimer=function(e){var t=this;this.permissionDialogTimeout=setTimeout(function(){t.emitEvent("accessDialogOpened",[])},e)},t.prototype.clearPermissionDialogTimer=function(e,t){clearTimeout(this.permissionDialogTimeout),Date.now()-e>t&&this.emitEvent("accessDialogClosed",[])},t.prototype.replaceTrackInRtcRtpSender=function(e){return o(this,void 0,void 0,function(){var t,n;return i(this,function(r){switch(r.label){case 0:if(t=this.stream.getRTCPeerConnection().getSenders(),"video"===e.kind){if(!(n=t.find(function(e){return!!e.track&&"video"===e.track.kind})))throw new Error("There's no replaceable track for that kind of MediaStreamTrack in this Publisher object")}else{if("audio"!==e.kind)throw new Error("Unknown track kind "+e.kind);if(!(n=t.find(function(e){return!!e.track&&"audio"===e.track.kind})))throw new Error("There's no replaceable track for that kind of MediaStreamTrack in this Publisher object")}return[4,n.replaceTrack(e)];case 1:return r.sent(),[2]}})})},t}(c.StreamManager);t.Publisher=g},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Stream=void 0;var i,a=n(162),s=n(163),u=n(333),c=n(338),l=n(121),f=n(216),d=n(167),p=n(107),h=n(108),v=n(168),m=n(45),g=n(92),y=n(232),b=n(339),w=n(166),x=m.OpenViduLogger.getInstance(),O=function(){function e(e,t){var n=this;this.isSubscribeToRemote=!1,this.isLocalStreamReadyToPublish=!1,this.isLocalStreamPublished=!1,this.publishedOnce=!1,this.harkSpeakingEnabled=!1,this.harkSpeakingEnabledOnce=!1,this.harkStoppedSpeakingEnabled=!1,this.harkStoppedSpeakingEnabledOnce=!1,this.harkVolumeChangeEnabled=!1,this.harkVolumeChangeEnabledOnce=!1,this.ee=new w,i=g.PlatformUtils.getInstance(),this.session=e,t.hasOwnProperty("id")?(this.inboundStreamOpts=t,this.streamId=this.inboundStreamOpts.id,this.creationTime=this.inboundStreamOpts.createdAt,this.hasAudio=this.inboundStreamOpts.hasAudio,this.hasVideo=this.inboundStreamOpts.hasVideo,this.hasAudio&&(this.audioActive=this.inboundStreamOpts.audioActive),this.hasVideo&&(this.videoActive=this.inboundStreamOpts.videoActive,this.typeOfVideo=this.inboundStreamOpts.typeOfVideo?this.inboundStreamOpts.typeOfVideo:void 0,this.frameRate=-1===this.inboundStreamOpts.frameRate?void 0:this.inboundStreamOpts.frameRate,this.videoDimensions=this.inboundStreamOpts.videoDimensions),this.inboundStreamOpts.filter&&Object.keys(this.inboundStreamOpts.filter).length>0&&(this.inboundStreamOpts.filter.lastExecMethod&&0===Object.keys(this.inboundStreamOpts.filter.lastExecMethod).length&&delete this.inboundStreamOpts.filter.lastExecMethod,this.filter=this.inboundStreamOpts.filter)):(this.outboundStreamOpts=t,this.hasAudio=this.isSendAudio(),this.hasVideo=this.isSendVideo(),this.hasAudio&&(this.audioActive=!!this.outboundStreamOpts.publisherProperties.publishAudio),this.hasVideo&&(this.videoActive=!!this.outboundStreamOpts.publisherProperties.publishVideo,this.frameRate=this.outboundStreamOpts.publisherProperties.frameRate,"undefined"!==typeof MediaStreamTrack&&this.outboundStreamOpts.publisherProperties.videoSource instanceof MediaStreamTrack?this.typeOfVideo=v.TypeOfVideo.CUSTOM:this.typeOfVideo=this.isSendScreen()?v.TypeOfVideo.SCREEN:v.TypeOfVideo.CAMERA),this.outboundStreamOpts.publisherProperties.filter&&(this.filter=this.outboundStreamOpts.publisherProperties.filter)),this.ee.on("mediastream-updated",function(){var e;n.streamManager.updateMediaStream(n.mediaStream),x.debug("Video srcObject ["+(null===(e=n.mediaStream)||void 0===e?void 0:e.id)+"] updated in stream ["+n.streamId+"]")})}return e.prototype.reconnect=function(){return this.reconnectStream("API")},e.prototype.applyFilter=function(e,t){var n=this;return new Promise(function(i,s){return r(n,void 0,void 0,function(){var n,u,c,l,f,d,v=this;return o(this,function(m){if(this.filter)return[2,s(new h.OpenViduError(h.OpenViduErrorName.GENERIC_ERROR,"There is already a filter applied to Stream "+this.streamId))];if(n=function(n,r){if(n)return x.error("Error applying filter for Stream "+v.streamId,n),401===n.code?s(new h.OpenViduError(h.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to apply a filter")):s(n);x.info("Filter successfully applied on Stream "+v.streamId);var o=v.filter;return v.filter=new a.Filter(e,t),v.filter.stream=v,r&&(v.session.emitEvent("streamPropertyChanged",[new p.StreamPropertyChangedEvent(v.session,v,"filter",v.filter,o,"applyFilter")]),v.streamManager.emitEvent("streamPropertyChanged",[new p.StreamPropertyChangedEvent(v.streamManager,v,"filter",v.filter,o,"applyFilter")])),i(v.filter)},e.startsWith("VB:")){if(!this.hasVideo)return[2,s(new h.OpenViduError(h.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"The Virtual Background filter requires a video track to be applied"))];if(!this.mediaStream||0===this.streamManager.videos.length)return[2,s(new h.OpenViduError(h.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"The StreamManager requires some video element to be attached to it in order to apply a Virtual Background filter"))];if(!(u=this.session.token?this.session.token:t.token))return[2,s(new h.OpenViduError(h.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,'Virtual Background requires the client to be connected to a Session or to have a "token" property available in "options" parameter with a valid OpenVidu token'))];if("pro"!==(c=this.session.getTokenParams(u)).edition&&"enterprise"!==c.edition)return[2,s(new h.OpenViduError(h.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"OpenVidu Virtual Background API is available from OpenVidu Pro edition onwards"))];u=encodeURIComponent(btoa(u)),x.info("Applying Virtual Background to stream "+this.streamId),l=function(){return r(v,void 0,void 0,function(){var r,i,a,s,l,f;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,8,,9]),r=this.streamId+"_"+(0,y.v4)(),i=this.mediaStream.clone(),(a=this.streamManager.videos[0].video.cloneNode(!1)).id=VirtualBackground.VirtualBackground.SOURCE_VIDEO_PREFIX+r,a.srcObject=i,a.muted=!0,this.virtualBackgroundSourceElements={videoClone:a,mediaStreamClone:i},VirtualBackground.VirtualBackground.hideHtmlElement(a,!1),VirtualBackground.VirtualBackground.appendHtmlElementToHiddenContainer(a,r),[4,a.play()];case 1:switch(o.sent(),s=new VirtualBackground.VirtualBackground({id:r,openviduServerUrl:new URL(c.httpUri),openviduToken:u,inputVideo:a,inputResolution:"160x96",outputFramerate:24}),l=void 0,e){case"VB:blur":return[3,2];case"VB:image":return[3,4]}return[3,6];case 2:return[4,s.backgroundBlur(t)];case 3:return l=o.sent(),[3,7];case 4:return[4,s.backgroundImage(t)];case 5:return l=o.sent(),[3,7];case 6:throw new Error("Unknown Virtual Background filter: "+e);case 7:return this.virtualBackgroundSinkElements={VB:s,video:l},a.style.display="none",this.streamManager.remote?this.streamManager.replaceTrackInMediaStream(this.virtualBackgroundSinkElements.video.srcObject.getVideoTracks()[0],!1):this.streamManager.replaceTrackAux(this.virtualBackgroundSinkElements.video.srcObject.getVideoTracks()[0],!1),n(void 0,!1),[3,9];case 8:return(f=o.sent()).name===h.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR?n(new h.OpenViduError(h.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,f.message),!1):n(f,!1),[3,9];case 9:return[2]}})})},"undefined"===typeof VirtualBackground?((f=document.createElement("script")).type="text/javascript",f.src=c.httpUri+"/openvidu/virtual-background/openvidu-virtual-background.js?token="+u,f.onload=function(){return r(v,void 0,void 0,function(){var n;return o(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,l()];case 1:return r.sent(),i(new a.Filter(e,t)),[3,3];case 2:return n=r.sent(),s(n),[3,3];case 3:return[2]}})})},document.body.appendChild(f)):l().then(function(){return i(new a.Filter(e,t))}).catch(function(e){return s(e)})}else{if(!this.session.sessionConnected())return[2,s(this.session.notConnectedError())];x.info("Applying server filter to stream "+this.streamId),"string"!==typeof(d=t=null!=t?t:{})&&(d=JSON.stringify(d)),this.session.openvidu.sendRequest("applyFilter",{streamId:this.streamId,type:e,options:d},function(e,t){n(e,!0)})}return[2]})})})},e.prototype.removeFilter=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,this.removeFilterAux(!1)];case 1:return[2,e.sent()]}})})},e.prototype.getRTCPeerConnection=function(){return this.webRtcPeer.pc},e.prototype.getMediaStream=function(){return this.mediaStream},e.prototype.removeFilterAux=function(e){var t=this;return new Promise(function(n,i){return r(t,void 0,void 0,function(){var t,r,a,s,u=this;return o(this,function(o){switch(o.label){case 0:if(t=function(e,t){if(e)return delete u.filter,x.error("Error removing filter for Stream "+u.streamId,e),401===e.code?i(new h.OpenViduError(h.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to remove a filter")):i(e);x.info("Filter successfully removed from Stream "+u.streamId);var r=u.filter;return delete u.filter,t&&(u.session.emitEvent("streamPropertyChanged",[new p.StreamPropertyChangedEvent(u.session,u,"filter",u.filter,r,"applyFilter")]),u.streamManager.emitEvent("streamPropertyChanged",[new p.StreamPropertyChangedEvent(u.streamManager,u,"filter",u.filter,r,"applyFilter")])),n()},!this.filter)return[3,12];if(!(null===(s=this.filter)||void 0===s?void 0:s.type.startsWith("VB:")))return[3,10];o.label=1;case 1:return o.trys.push([1,8,,9]),r=this.virtualBackgroundSourceElements.mediaStreamClone,e?[3,6]:this.streamManager.remote?[4,this.streamManager.replaceTrackInMediaStream(r.getVideoTracks()[0],!1)]:[3,3];case 2:return o.sent(),[3,5];case 3:return[4,this.streamManager.replaceTrackAux(r.getVideoTracks()[0],!1)];case 4:o.sent(),o.label=5;case 5:return[3,7];case 6:r.getTracks().forEach(function(e){return e.stop()}),o.label=7;case 7:return this.virtualBackgroundSinkElements.VB.cleanUp(),delete this.virtualBackgroundSinkElements,delete this.virtualBackgroundSourceElements,[2,t(void 0,!1)];case 8:return a=o.sent(),[2,t(a,!1)];case 9:return[3,11];case 10:if(!this.session.sessionConnected())return[2,i(this.session.notConnectedError())];x.info("Removing filter of stream "+this.streamId),this.session.openvidu.sendRequest("removeFilter",{streamId:this.streamId},function(e,n){return t(e,!0)}),o.label=11;case 11:return[3,13];case 12:return[2,i(new h.OpenViduError(h.OpenViduErrorName.GENERIC_ERROR,"Stream "+this.streamId+" has no filter applied"))];case 13:return[2]}})})})},e.prototype.setMediaStream=function(e){this.mediaStream=e},e.prototype.updateMediaStreamInVideos=function(){this.ee.emitEvent("mediastream-updated",[])},e.prototype.getWebRtcPeer=function(){return this.webRtcPeer},e.prototype.subscribeToMyRemote=function(e){this.isSubscribeToRemote=e},e.prototype.setOutboundStreamOptions=function(e){this.outboundStreamOpts=e},e.prototype.subscribe=function(){var e=this;return new Promise(function(t,n){e.initWebRtcPeerReceive(!1).then(function(){return t()}).catch(function(e){return n(e)})})},e.prototype.publish=function(){var e=this;return new Promise(function(t,n){e.isLocalStreamReadyToPublish?e.initWebRtcPeerSend(!1).then(function(){return t()}).catch(function(e){return n(e)}):e.ee.once("stream-ready-to-publish",function(){e.publish().then(function(){return t()}).catch(function(e){return n(e)})})})},e.prototype.disposeWebRtcPeer=function(){var e;this.webRtcPeer&&(this.webRtcPeer.dispose(),e=this.webRtcPeer.getId()),this.stopWebRtcStats(),x.info((this.outboundStreamOpts?"Outbound ":"Inbound ")+"RTCPeerConnection with id ["+e+"] from 'Stream' with id ["+this.streamId+"] is now closed")},e.prototype.disposeMediaStream=function(){return r(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:if(!this.filter||!this.filter.type.startsWith("VB:"))return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.removeFilterAux(!0)];case 2:return t.sent(),console.debug("Success removing Virtual Background filter for stream ".concat(this.streamId)),[3,4];case 3:return e=t.sent(),console.error("Error removing Virtual Background filter for stream ".concat(this.streamId),e),[3,4];case 4:return this.mediaStream&&(this.mediaStream.getAudioTracks().forEach(function(e){e.stop()}),this.mediaStream.getVideoTracks().forEach(function(e){e.stop()}),delete this.mediaStream),this.localMediaStreamWhenSubscribedToRemote&&(this.localMediaStreamWhenSubscribedToRemote.getAudioTracks().forEach(function(e){e.stop()}),this.localMediaStreamWhenSubscribedToRemote.getVideoTracks().forEach(function(e){e.stop()}),delete this.localMediaStreamWhenSubscribedToRemote),this.speechEvent&&(this.speechEvent.stop&&this.speechEvent.stop(),delete this.speechEvent),x.info((this.outboundStreamOpts?"Local ":"Remote ")+"MediaStream from 'Stream' with id ["+this.streamId+"] is now disposed"),[2]}})})},e.prototype.displayMyRemote=function(){return this.isSubscribeToRemote},e.prototype.isSendAudio=function(){return!!this.outboundStreamOpts&&null!==this.outboundStreamOpts.publisherProperties.audioSource&&!1!==this.outboundStreamOpts.publisherProperties.audioSource},e.prototype.isSendVideo=function(){return!!this.outboundStreamOpts&&null!==this.outboundStreamOpts.publisherProperties.videoSource&&!1!==this.outboundStreamOpts.publisherProperties.videoSource},e.prototype.isSendScreen=function(){var e="screen"===this.outboundStreamOpts.publisherProperties.videoSource;return i.isElectron()&&(e="string"===typeof this.outboundStreamOpts.publisherProperties.videoSource&&this.outboundStreamOpts.publisherProperties.videoSource.startsWith("screen:")),!!this.outboundStreamOpts&&e},e.prototype.enableHarkSpeakingEvent=function(){var e=this;this.setHarkListenerIfNotExists(),!this.harkSpeakingEnabled&&this.speechEvent&&(this.harkSpeakingEnabled=!0,this.speechEvent.on("speaking",function(){e.session.emitEvent("publisherStartSpeaking",[new f.PublisherSpeakingEvent(e.session,"publisherStartSpeaking",e.connection,e.streamId)]),e.streamManager.emitEvent("publisherStartSpeaking",[new f.PublisherSpeakingEvent(e.streamManager,"publisherStartSpeaking",e.connection,e.streamId)]),e.harkSpeakingEnabledOnce=!1}))},e.prototype.enableOnceHarkSpeakingEvent=function(){var e=this;this.setHarkListenerIfNotExists(),!this.harkSpeakingEnabledOnce&&this.speechEvent&&(this.harkSpeakingEnabledOnce=!0,this.speechEvent.once("speaking",function(){e.harkSpeakingEnabledOnce&&(e.session.emitEvent("publisherStartSpeaking",[new f.PublisherSpeakingEvent(e.session,"publisherStartSpeaking",e.connection,e.streamId)]),e.streamManager.emitEvent("publisherStartSpeaking",[new f.PublisherSpeakingEvent(e.streamManager,"publisherStartSpeaking",e.connection,e.streamId)])),e.disableHarkSpeakingEvent(!0)}))},e.prototype.disableHarkSpeakingEvent=function(e){if(this.speechEvent){if(this.harkSpeakingEnabledOnce=!1,e){if(this.harkSpeakingEnabled)return}else this.harkSpeakingEnabled=!1;this.harkVolumeChangeEnabled||this.harkVolumeChangeEnabledOnce||this.harkStoppedSpeakingEnabled||this.harkStoppedSpeakingEnabledOnce?this.speechEvent.off("speaking"):(this.speechEvent.stop(),delete this.speechEvent)}},e.prototype.enableHarkStoppedSpeakingEvent=function(){var e=this;this.setHarkListenerIfNotExists(),!this.harkStoppedSpeakingEnabled&&this.speechEvent&&(this.harkStoppedSpeakingEnabled=!0,this.speechEvent.on("stopped_speaking",function(){e.session.emitEvent("publisherStopSpeaking",[new f.PublisherSpeakingEvent(e.session,"publisherStopSpeaking",e.connection,e.streamId)]),e.streamManager.emitEvent("publisherStopSpeaking",[new f.PublisherSpeakingEvent(e.streamManager,"publisherStopSpeaking",e.connection,e.streamId)]),e.harkStoppedSpeakingEnabledOnce=!1}))},e.prototype.enableOnceHarkStoppedSpeakingEvent=function(){var e=this;this.setHarkListenerIfNotExists(),!this.harkStoppedSpeakingEnabledOnce&&this.speechEvent&&(this.harkStoppedSpeakingEnabledOnce=!0,this.speechEvent.once("stopped_speaking",function(){e.harkStoppedSpeakingEnabledOnce&&(e.session.emitEvent("publisherStopSpeaking",[new f.PublisherSpeakingEvent(e.session,"publisherStopSpeaking",e.connection,e.streamId)]),e.streamManager.emitEvent("publisherStopSpeaking",[new f.PublisherSpeakingEvent(e.streamManager,"publisherStopSpeaking",e.connection,e.streamId)])),e.disableHarkStoppedSpeakingEvent(!0)}))},e.prototype.disableHarkStoppedSpeakingEvent=function(e){if(this.speechEvent){if(this.harkStoppedSpeakingEnabledOnce=!1,e){if(this.harkStoppedSpeakingEnabled)return}else this.harkStoppedSpeakingEnabled=!1;this.harkVolumeChangeEnabled||this.harkVolumeChangeEnabledOnce||this.harkSpeakingEnabled||this.harkSpeakingEnabledOnce?this.speechEvent.off("stopped_speaking"):(this.speechEvent.stop(),delete this.speechEvent)}},e.prototype.enableHarkVolumeChangeEvent=function(e){var t=this;this.setHarkListenerIfNotExists()?this.harkVolumeChangeEnabled&&!e||(this.harkVolumeChangeEnabled=!0,this.speechEvent.on("volume_change",function(e){var n={newValue:e,oldValue:t.speechEvent.oldVolumeValue};t.speechEvent.oldVolumeValue=e,t.streamManager.emitEvent("streamAudioVolumeChange",[new d.StreamManagerEvent(t.streamManager,"streamAudioVolumeChange",n)])})):this.harkVolumeChangeEnabled=!0},e.prototype.enableOnceHarkVolumeChangeEvent=function(e){var t=this;this.setHarkListenerIfNotExists()?this.harkVolumeChangeEnabledOnce&&!e||(this.harkVolumeChangeEnabledOnce=!0,this.speechEvent.once("volume_change",function(e){var n={newValue:e,oldValue:t.speechEvent.oldVolumeValue};t.speechEvent.oldVolumeValue=e,t.disableHarkVolumeChangeEvent(!0),t.streamManager.emitEvent("streamAudioVolumeChange",[new d.StreamManagerEvent(t.streamManager,"streamAudioVolumeChange",n)])})):this.harkVolumeChangeEnabledOnce=!0},e.prototype.disableHarkVolumeChangeEvent=function(e){if(this.speechEvent){if(this.harkVolumeChangeEnabledOnce=!1,e){if(this.harkVolumeChangeEnabled)return}else this.harkVolumeChangeEnabled=!1;this.harkSpeakingEnabled||this.harkSpeakingEnabledOnce||this.harkStoppedSpeakingEnabled||this.harkStoppedSpeakingEnabledOnce?this.speechEvent.off("volume_change"):(this.speechEvent.stop(),delete this.speechEvent)}},e.prototype.isLocal=function(){return!this.inboundStreamOpts&&!!this.outboundStreamOpts},e.prototype.getSelectedIceCandidate=function(){var e=this;return new Promise(function(t,n){e.webRtcStats.getSelectedIceCandidateInfo().then(function(e){return t(e)}).catch(function(e){return n(e)})})},e.prototype.getRemoteIceCandidateList=function(){return this.webRtcPeer.remoteCandidatesQueue},e.prototype.getLocalIceCandidateList=function(){return this.webRtcPeer.localCandidatesQueue},e.prototype.streamIceConnectionStateBroken=function(){if(!this.getWebRtcPeer()||!this.getRTCPeerConnection())return!1;if(this.isLocal()&&this.session.openvidu.advancedConfiguration.forceMediaReconnectionAfterNetworkDrop)return x.warn('OpenVidu Browser advanced configuration option "forceMediaReconnectionAfterNetworkDrop" is enabled. Stream '.concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") will force a reconnection")),!0;var e=this.getRTCPeerConnection().iceConnectionState;return"connected"!==e&&"completed"!==e},e.prototype.setHarkListenerIfNotExists=function(){if(this.mediaStream){if(!this.speechEvent){var e=this.harkOptions?this.harkOptions:this.session.openvidu.advancedConfiguration.publisherSpeakingEventsOptions||{};e.interval="number"===typeof e.interval?e.interval:100,e.threshold="number"===typeof e.threshold?e.threshold:-50,this.speechEvent=b(this.mediaStream,e)}return!0}return!1},e.prototype.setupReconnectionEventEmitter=function(e,t){return void 0==this.reconnectionEventEmitter?(this.reconnectionEventEmitter=new w,!1):(console.warn("Trying to reconnect stream ".concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") but an ongoing reconnection process is active. Waiting for response...")),this.reconnectionEventEmitter.once("success",function(){return e()}),this.reconnectionEventEmitter.once("error",function(e){return t(e)}),!0)},e.prototype.initWebRtcPeerSend=function(e){var t=this;return new Promise(function(n,r){var o;if(e){if(t.setupReconnectionEventEmitter(n,r))return}else t.initHarkEvents();var i=function(n){var o;return e&&(null===(o=t.reconnectionEventEmitter)||void 0===o||o.emitEvent("error",[n]),delete t.reconnectionEventEmitter),r(n)},a=function(r){x.debug("Sending SDP offer to publish as "+t.streamId,r);var o,a=e?"reconnectStream":"publishVideo";if(e)o={stream:t.streamId,sdpString:r};else{var s=void 0;t.isSendVideo()&&(s="undefined"!==typeof MediaStreamTrack&&t.outboundStreamOpts.publisherProperties.videoSource instanceof MediaStreamTrack?v.TypeOfVideo.CUSTOM:t.isSendScreen()?v.TypeOfVideo.SCREEN:v.TypeOfVideo.CAMERA),o={doLoopback:t.displayMyRemote()||!1,hasAudio:t.isSendAudio(),hasVideo:t.isSendVideo(),audioActive:t.audioActive,videoActive:t.videoActive,typeOfVideo:s,frameRate:t.frameRate?t.frameRate:-1,videoDimensions:JSON.stringify(t.videoDimensions),filter:t.outboundStreamOpts.publisherProperties.filter,sdpOffer:r}}t.session.openvidu.sendRequest(a,o,function(r,o){r?401===r.code?i(new h.OpenViduError(h.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to publish")):i("Error on publishVideo: "+JSON.stringify(r)):t.webRtcPeer.processRemoteAnswer(o.sdpAnswer).then(function(){t.streamId=o.id,t.creationTime=o.createdAt,t.isLocalStreamPublished=!0,t.publishedOnce=!0,t.displayMyRemote()&&(t.localMediaStreamWhenSubscribedToRemote=t.mediaStream,t.remotePeerSuccessfullyEstablished(e)),e?t.ee.emitEvent("stream-reconnected-by-publisher",[]):t.ee.emitEvent("stream-created-by-publisher",[]),t.initWebRtcStats(),x.info("'Publisher' ("+t.streamId+") successfully "+(e?"reconnected":"published")+" to session"),function(){var r;e&&(null===(r=t.reconnectionEventEmitter)||void 0===r||r.emitEvent("success"),delete t.reconnectionEventEmitter),n()}()}).catch(function(e){i(e)})})},s={mediaConstraints:{audio:t.hasAudio,video:t.hasVideo},simulcast:null!==(o=t.outboundStreamOpts.publisherProperties.videoSimulcast)&&void 0!==o?o:t.session.openvidu.videoSimulcast,onIceCandidate:t.connection.sendIceCandidate.bind(t.connection),onIceConnectionStateException:function(e,n,r){t.session.emitEvent("exception",[new l.ExceptionEvent(t.session,e,t,n,r)])},iceServers:t.getIceServersConf(),mediaStream:t.mediaStream,mediaServer:t.session.openvidu.mediaServer,typeOfVideo:t.typeOfVideo?v.TypeOfVideo[t.typeOfVideo]:void 0};"mediasoup"!==t.session.openvidu.mediaServer&&(s.simulcast=!1),e&&t.disposeWebRtcPeer(),t.displayMyRemote()?t.webRtcPeer=new u.WebRtcPeerSendrecv(s):t.webRtcPeer=new u.WebRtcPeerSendonly(s),t.webRtcPeer.addIceConnectionStateChangeListener("publisher of "+t.connection.connectionId),t.webRtcPeer.createOffer().then(function(e){t.webRtcPeer.processLocalOffer(e).then(function(){a(e.sdp)}).catch(function(e){i(new Error("(publish) SDP process local offer error: "+JSON.stringify(e)))})}).catch(function(e){i(new Error("(publish) SDP create offer error: "+JSON.stringify(e)))})})},e.prototype.finalResolveForSubscription=function(e,t){var n;return x.info("'Subscriber' ("+this.streamId+") successfully "+(e?"reconnected":"subscribed")),this.remotePeerSuccessfullyEstablished(e),this.initWebRtcStats(),e&&(null===(n=this.reconnectionEventEmitter)||void 0===n||n.emitEvent("success"),delete this.reconnectionEventEmitter),t()},e.prototype.finalRejectForSubscription=function(e,t,n){var r;return x.error("Error for 'Subscriber' ("+this.streamId+") while trying to "+(e?"reconnect":"subscribe")+": "+t.toString()),e&&(null===(r=this.reconnectionEventEmitter)||void 0===r||r.emitEvent("error",[t]),delete this.reconnectionEventEmitter),n(t)},e.prototype.initWebRtcPeerReceive=function(e){var t=this;return new Promise(function(n,r){e&&t.setupReconnectionEventEmitter(n,r)||("mediasoup"===t.session.openvidu.mediaServer?t.initWebRtcPeerReceiveFromServer(e).then(function(){return t.finalResolveForSubscription(e,n)}).catch(function(n){return t.finalRejectForSubscription(e,n,r)}):t.initWebRtcPeerReceiveFromClient(e).then(function(){return t.finalResolveForSubscription(e,n)}).catch(function(n){return t.finalRejectForSubscription(e,n,r)}))})},e.prototype.initWebRtcPeerReceiveFromClient=function(e){var t=this;return new Promise(function(n,r){t.completeWebRtcPeerReceive(e,!1).then(function(e){t.webRtcPeer.processRemoteAnswer(e.sdpAnswer).then(function(){return n()}).catch(function(e){return r(e)})}).catch(function(e){return r(e)})})},e.prototype.initWebRtcPeerReceiveFromServer=function(e){var t=this;return new Promise(function(n,r){t.session.openvidu.sendRequest("prepareReceiveVideoFrom",{sender:t.streamId,reconnect:e},function(o,i){if(o)return r(new Error("Error on prepareReceiveVideoFrom: "+JSON.stringify(o)));t.completeWebRtcPeerReceive(e,!1,i.sdpOffer).then(function(){return n()}).catch(function(e){return r(e)})})})},e.prototype.completeWebRtcPeerReceive=function(e,t,n){var r=this;return new Promise(function(o,i){x.debug("'Session.subscribe(Stream)' called");var a=function(a){x.debug("Sending local SDP ".concat(n?"answer":"offer"," to subscribe to ").concat(r.streamId),a);var s=e?"reconnectStream":"receiveVideoFrom",u={};u[e?"stream":"sender"]=r.streamId,n?u[e?"sdpString":"sdpAnswer"]=a:u.sdpOffer=a,e&&(u.forciblyReconnect=t),r.session.openvidu.sendRequest(s,u,function(e,t){return e?i(new Error("Error on "+s+" : "+JSON.stringify(e))):o(t)})},s={mediaConstraints:{audio:r.hasAudio,video:r.hasVideo},simulcast:!1,onIceCandidate:r.connection.sendIceCandidate.bind(r.connection),onIceConnectionStateException:function(e,t,n){r.session.emitEvent("exception",[new l.ExceptionEvent(r.session,e,r,t,n)])},iceServers:r.getIceServersConf(),mediaServer:r.session.openvidu.mediaServer,typeOfVideo:r.typeOfVideo?v.TypeOfVideo[r.typeOfVideo]:void 0};e&&r.disposeWebRtcPeer(),r.webRtcPeer=new u.WebRtcPeerRecvonly(s),r.webRtcPeer.addIceConnectionStateChangeListener(r.streamId),n?r.webRtcPeer.processRemoteOffer(n).then(function(){r.webRtcPeer.createAnswer().then(function(e){r.webRtcPeer.processLocalAnswer(e).then(function(){a(e.sdp)}).catch(function(e){return i(new Error("(subscribe) SDP process local answer error: "+JSON.stringify(e)))})}).catch(function(e){return i(new Error("(subscribe) SDP create answer error: "+JSON.stringify(e)))})}).catch(function(e){return i(new Error("(subscribe) SDP process remote offer error: "+JSON.stringify(e)))}):r.webRtcPeer.createOffer().then(function(e){r.webRtcPeer.processLocalOffer(e).then(function(){a(e.sdp)}).catch(function(e){return i(new Error("(subscribe) SDP process local offer error: "+JSON.stringify(e)))})}).catch(function(e){return i(new Error("(subscribe) SDP create offer error: "+JSON.stringify(e)))})})},e.prototype.remotePeerSuccessfullyEstablished=function(e){var t;e&&null!=this.mediaStream&&this.disposeMediaStream(),this.mediaStream=new MediaStream;for(var n=0,r=this.webRtcPeer.pc.getReceivers();n<r.length;n++)(t=r[n]).track&&this.mediaStream.addTrack(t.track);if(x.debug("Peer remote stream",this.mediaStream),this.mediaStream){if(this.streamManager instanceof s.Subscriber){if(this.mediaStream.getAudioTracks()[0]){var o=e?this.audioActive:!!this.streamManager.properties.subscribeToAudio;this.mediaStream.getAudioTracks()[0].enabled=o}if(this.mediaStream.getVideoTracks()[0]){o=e?this.videoActive:!!this.streamManager.properties.subscribeToVideo;this.mediaStream.getVideoTracks()[0].enabled=o}}this.updateMediaStreamInVideos(),this.initHarkEvents()}},e.prototype.initHarkEvents=function(){this.mediaStream.getAudioTracks()[0]&&(this.session.anySpeechEventListenerEnabled("publisherStartSpeaking",!0,this.streamManager)&&this.enableOnceHarkSpeakingEvent(),this.session.anySpeechEventListenerEnabled("publisherStartSpeaking",!1,this.streamManager)&&this.enableHarkSpeakingEvent(),this.session.anySpeechEventListenerEnabled("publisherStopSpeaking",!0,this.streamManager)&&this.enableOnceHarkStoppedSpeakingEvent(),this.session.anySpeechEventListenerEnabled("publisherStopSpeaking",!1,this.streamManager)&&this.enableHarkStoppedSpeakingEvent(),this.harkVolumeChangeEnabledOnce&&this.enableOnceHarkVolumeChangeEvent(!0),this.harkVolumeChangeEnabled&&this.enableHarkVolumeChangeEvent(!0))},e.prototype.onIceConnectionStateExceptionHandler=function(e,t,n){switch(e){case l.ExceptionEventName.ICE_CONNECTION_FAILED:this.onIceConnectionFailed();break;case l.ExceptionEventName.ICE_CONNECTION_DISCONNECTED:this.onIceConnectionDisconnected()}this.session.emitEvent("exception",[new l.ExceptionEvent(this.session,e,this,t,n)])},e.prototype.onIceConnectionFailed=function(){x.log("[ICE_CONNECTION_FAILED] Handling ICE_CONNECTION_FAILED event. Reconnecting stream ".concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",")")),this.reconnectStreamAndLogResultingIceConnectionState(l.ExceptionEventName.ICE_CONNECTION_FAILED)},e.prototype.onIceConnectionDisconnected=function(){var e=this;x.log("[ICE_CONNECTION_DISCONNECTED] Handling ICE_CONNECTION_DISCONNECTED event. Waiting for ICE to be restored and reconnect stream ".concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") if not possible"));var t=this.session.openvidu.advancedConfiguration.iceConnectionDisconnectedExceptionTimeout||4e3;this.awaitWebRtcPeerConnectionState(t).then(function(n){switch(n){case"failed":x.warn("[ICE_CONNECTION_DISCONNECTED] ICE connection of stream ".concat(e.streamId," (").concat(e.isLocal()?"Publisher":"Subscriber",") is now failed after ICE_CONNECTION_DISCONNECTED"));break;case"connected":case"completed":x.log("[ICE_CONNECTION_DISCONNECTED] ICE connection of stream ".concat(e.streamId," (").concat(e.isLocal()?"Publisher":"Subscriber",") automatically restored after ICE_CONNECTION_DISCONNECTED. Current ICE connection state: ").concat(n));break;case"closed":case"checking":case"new":case"disconnected":x.warn("[ICE_CONNECTION_DISCONNECTED] ICE connection of stream ".concat(e.streamId," (").concat(e.isLocal()?"Publisher":"Subscriber",") couldn't be restored after ICE_CONNECTION_DISCONNECTED event. Current ICE connection state after ").concat(t," ms: ").concat(n)),e.reconnectStreamAndLogResultingIceConnectionState(l.ExceptionEventName.ICE_CONNECTION_DISCONNECTED)}})},e.prototype.reconnectStreamAndLogResultingIceConnectionState=function(e){return r(this,void 0,void 0,function(){var t,n;return o(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.reconnectStreamAndReturnIceConnectionState(e)];case 1:switch(t=r.sent()){case"connected":case"completed":x.log("[".concat(e,"] Stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") successfully reconnected after ").concat(e,". Current ICE connection state: ").concat(t));break;default:x.error("[".concat(e,"] Stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") failed to reconnect after ").concat(e,". Current ICE connection state: ").concat(t))}return[3,3];case 2:return n=r.sent(),x.error("[".concat(e,"] Error reconnecting stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") after ").concat(e,": ").concat(n)),[3,3];case 3:return[2]}})})},e.prototype.reconnectStreamAndReturnIceConnectionState=function(e){return r(this,void 0,void 0,function(){var t,n;return o(this,function(r){switch(r.label){case 0:x.log("[".concat(e,"] Reconnecting stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") after event ").concat(e)),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.reconnectStream(e)];case 2:return r.sent(),t=this.session.openvidu.advancedConfiguration.iceConnectionDisconnectedExceptionTimeout||4e3,[2,this.awaitWebRtcPeerConnectionState(t)];case 3:return n=r.sent(),x.warn("[".concat(e,"] Error reconnecting stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber","). Reason: ").concat(n)),[2,this.awaitWebRtcPeerConnectionState(1)];case 4:return[2]}})})},e.prototype.reconnectStream=function(e){return r(this,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return[4,this.isWebsocketConnected(e,3e3)];case 1:if(n.sent())return x.log("[".concat(e,"] Trying to reconnect stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") and the websocket is opened")),this.isLocal()?[2,this.initWebRtcPeerSend(!0)]:[2,this.initWebRtcPeerReceive(!0)];throw t="[".concat(e,"] Trying to reconnect stream ").concat(this.streamId," (").concat(this.isLocal()?"Publisher":"Subscriber",") but the websocket wasn't opened"),x.error(t),Error(t)}})})},e.prototype.isWebsocketConnected=function(e,t){var n=this;return new Promise(function(r,o){var i=n.session.openvidu.getWsReadyState();if(1!==i)return console.warn("[".concat(e,"] Websocket readyState is ").concat(i)),r(!1);var a=setTimeout(function(){return console.warn("[".concat(e,"] Websocket timeout of ").concat(t,"ms")),r(!1)},t);n.session.openvidu.sendRequest("echo",{},function(t,n){return clearTimeout(a),t?(console.warn("[".concat(e,"] Websocket 'echo' returned error: ").concat(t)),r(!1)):r(!0)})})},e.prototype.awaitWebRtcPeerConnectionState=function(e){return r(this,void 0,void 0,function(){var t,n,r,i;return o(this,function(o){switch(o.label){case 0:t=this.getRTCPeerConnection().iceConnectionState,n=150,r=Math.ceil(e/n),i=0,o.label=1;case 1:return i<r?"connected"===(t=this.getRTCPeerConnection().iceConnectionState)||"completed"===t?[3,4]:[4,new Promise(function(e){return setTimeout(e,n)})]:[3,4];case 2:o.sent(),o.label=3;case 3:return i++,[3,1];case 4:return[2,t]}})})},e.prototype.initWebRtcStats=function(){this.webRtcStats=new c.WebRtcStats(this),this.webRtcStats.initWebRtcStats()},e.prototype.stopWebRtcStats=function(){this.webRtcStats&&this.webRtcStats.isEnabled()&&this.webRtcStats.stopWebRtcStats()},e.prototype.getIceServersConf=function(){return this.session.openvidu.advancedConfiguration.iceServers?"freeice"===this.session.openvidu.advancedConfiguration.iceServers?void 0:this.session.openvidu.advancedConfiguration.iceServers:this.session.openvidu.iceServers?this.session.openvidu.iceServers:void 0},e.prototype.gatherStatsForPeer=function(){var e=this;return new Promise(function(t,n){e.isLocal()?e.getRTCPeerConnection().getSenders().forEach(function(t){return t.getStats().then(function(t){t.forEach(function(t){if(e.isReportWanted(t)){var n={};n.type=t.type,n.timestamp=t.timestamp,n.id=t.id,"outbound-rtp"===t.type&&(n.ssrc=t.ssrc,n.firCount=t.firCount,n.pliCount=t.pliCount,n.nackCount=t.nackCount,n.qpSum=t.qpSum,t.kind?n.mediaType=t.kind:t.mediaType?n.mediaType=t.mediaType:n.mediaType=-1!==t.id.indexOf("VideoStream")?"video":"audio","video"===n.mediaType&&(n.framesEncoded=t.framesEncoded),n.packetsSent=t.packetsSent,n.bytesSent=t.bytesSent),"candidate-pair"===t.type&&void 0!==t.totalRoundTripTime&&(n.availableOutgoingBitrate=t.availableOutgoingBitrate,n.rtt=t.currentRoundTripTime,n.averageRtt=t.totalRoundTripTime/t.responsesReceived),"remote-inbound-rtp"===t.type||t.type,x.log(n)}})})}):e.getRTCPeerConnection().getReceivers().forEach(function(t){return t.getStats().then(function(t){t.forEach(function(t){if(e.isReportWanted(t)){var n={};n.type=t.type,n.timestamp=t.timestamp,n.id=t.id,"inbound-rtp"===t.type&&(n.ssrc=t.ssrc,n.firCount=t.firCount,n.pliCount=t.pliCount,n.nackCount=t.nackCount,n.qpSum=t.qpSum,t.kind?n.mediaType=t.kind:t.mediaType?n.mediaType=t.mediaType:n.mediaType=-1!==t.id.indexOf("VideoStream")?"video":"audio","video"===n.mediaType&&(n.framesDecoded=t.framesDecoded),n.packetsReceived=t.packetsReceived,n.packetsLost=t.packetsLost,n.jitter=t.jitter,n.bytesReceived=t.bytesReceived),"candidate-pair"===t.type&&void 0!==t.totalRoundTripTime&&(n.availableIncomingBitrate=t.availableIncomingBitrate,n.rtt=t.currentRoundTripTime,n.averageRtt=t.totalRoundTripTime/t.responsesReceived),"remote-inbound-rtp"===t.type||t.type,x.log(n)}})})})})},e.prototype.isReportWanted=function(e){return"inbound-rtp"===e.type&&!this.isLocal()||"outbound-rtp"===e.type&&this.isLocal()||"candidate-pair"===e.type&&e.nominated&&e.bytesSent>0},e}();t.Stream=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Filter=void 0;var r=n(107),o=n(108),i=n(45).OpenViduLogger.getInstance(),a=function(){function e(e,t){this.handlers=new Map,this.type=e,this.options=t}return e.prototype.execMethod=function(e,t){var n=this;return new Promise(function(a,s){var u,c;i.info("Executing filter method to stream "+n.stream.streamId);var l=function(t){i.info("Filter method successfully executed on Stream "+n.stream.streamId);var o=Object.assign({},n.stream.filter);return n.stream.filter.lastExecMethod={method:e,params:c},t&&(n.stream.session.emitEvent("streamPropertyChanged",[new r.StreamPropertyChangedEvent(n.stream.session,n.stream,"filter",n.stream.filter,o,"execFilterMethod")]),n.stream.streamManager.emitEvent("streamPropertyChanged",[new r.StreamPropertyChangedEvent(n.stream.streamManager,n.stream,"filter",n.stream.filter,o,"execFilterMethod")])),a()};if(n.type.startsWith("VB:")){if("string"===typeof t)try{t=JSON.parse(t)}catch(p){return s(new o.OpenViduError(o.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"Wrong params syntax: "+p))}if(c=t,"update"!==e)return s(new o.OpenViduError(o.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,'Unknown Virtual Background method "'.concat(e,'"')));if(null===(u=n.stream.virtualBackgroundSinkElements)||void 0===u||!u.VB)return s(new o.OpenViduError(o.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"There is no Virtual Background filter applied"));n.stream.virtualBackgroundSinkElements.VB.updateValues(t).then(function(){return l(!1)}).catch(function(e){return e.name===o.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR?s(new o.OpenViduError(e.name,e.message)):s(new o.OpenViduError(o.OpenViduErrorName.VIRTUAL_BACKGROUND_ERROR,"Error updating values on Virtual Background filter: "+e))})}else{var f=void 0;if("string"!==typeof t)try{f=JSON.stringify(t)}catch(p){var d="'params' property must be a JSON formatted object";return i.error(d),s(d)}else f=t;c=f,n.stream.session.openvidu.sendRequest("execFilterMethod",{streamId:n.stream.streamId,method:e,params:f},function(e,t){return e?(i.error("Error executing filter method for Stream "+n.stream.streamId,e),401===e.code?s(new o.OpenViduError(o.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to execute a filter method")):s(e)):l(!0)})}})},e.prototype.addEventListener=function(e,t){var n=this;return new Promise(function(r,a){i.info("Adding filter event listener to event "+e+" to stream "+n.stream.streamId),n.stream.session.openvidu.sendRequest("addFilterEventListener",{streamId:n.stream.streamId,eventType:e},function(s,u){return s?(i.error("Error adding filter event listener to event "+e+"for Stream "+n.stream.streamId,s),401===s.code?a(new o.OpenViduError(o.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to add a filter event listener")):a(s)):(n.handlers.set(e,t),i.info("Filter event listener to event "+e+" successfully applied on Stream "+n.stream.streamId),r())})})},e.prototype.removeEventListener=function(e){var t=this;return new Promise(function(n,r){i.info("Removing filter event listener to event "+e+" to stream "+t.stream.streamId),t.stream.session.openvidu.sendRequest("removeFilterEventListener",{streamId:t.stream.streamId,eventType:e},function(a,s){return a?(i.error("Error removing filter event listener to event "+e+"for Stream "+t.stream.streamId,a),401===a.code?r(new o.OpenViduError(o.OpenViduErrorName.OPENVIDU_PERMISSION_DENIED,"You don't have permissions to add a filter event listener")):r(a)):(t.handlers.delete(e),i.info("Filter event listener to event "+e+" successfully removed on Stream "+t.stream.streamId),n())})})},e}();t.Filter=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Subscriber=void 0;var a=n(164),s=n(45).OpenViduLogger.getInstance(),u=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.element=o.targetElement,o.stream=t,o.properties=r,o}return r(t,e),t.prototype.subscribeToAudio=function(e){return this.stream.getMediaStream().getAudioTracks().forEach(function(t){t.enabled=e}),this.stream.audioActive=e,s.info("'Subscriber' has "+(e?"subscribed to":"unsubscribed from")+" its audio stream"),this},t.prototype.subscribeToVideo=function(e){return this.stream.getMediaStream().getVideoTracks().forEach(function(t){t.enabled=e}),this.stream.videoActive=e,s.info("'Subscriber' has "+(e?"subscribed to":"unsubscribed from")+" its video stream"),this},t.prototype.replaceTrackInMediaStream=function(e,t){return o(this,void 0,void 0,function(){var n,r;return i(this,function(o){return n=this.stream.getMediaStream(),"video"===e.kind?(r=n.getVideoTracks()[0],t&&(this.stream.lastVideoTrackConstraints=e.getConstraints())):r=n.getAudioTracks()[0],n.removeTrack(r),r.stop(),n.addTrack(e),[2]})})},t}(a.StreamManager);t.Subscriber=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.StreamManager=void 0;var o,i=n(165),a=n(167),s=n(215),u=n(121),c=n(142),l=n(45),f=n(92),d=l.OpenViduLogger.getInstance(),p=function(e){function t(t,n){var r=e.call(this)||this;if(r.videos=[],r.lazyLaunchVideoElementCreatedEvent=!1,o=f.PlatformUtils.getInstance(),r.stream=t,r.stream.streamManager=r,r.remote=!r.stream.isLocal(),n){var i=void 0;"string"===typeof n?i=document.getElementById(n):n instanceof HTMLElement&&(i=n),i&&(r.firstVideoElement={targetElement:i,video:document.createElement("video"),id:"",canplayListenerAdded:!1},(o.isSafariBrowser()||o.isIPhoneOrIPad()&&(o.isChromeMobileBrowser()||o.isEdgeMobileBrowser()||o.isOperaMobileBrowser()||o.isFirefoxMobileBrowser()))&&r.firstVideoElement.video.setAttribute("playsinline","true"),r.targetElement=i,r.element=i)}return r.canPlayListener=function(){r.deactivateStreamPlayingEventExceptionTimeout(),r.ee.emitEvent("streamPlaying",[new a.StreamManagerEvent(r,"streamPlaying",void 0)])},r}return r(t,e),t.prototype.on=function(t,n){return e.prototype.onAux.call(this,t,"Event '"+t+"' triggered by '"+(this.remote?"Subscriber":"Publisher")+"'",n),"videoElementCreated"===t&&this.stream&&this.lazyLaunchVideoElementCreatedEvent&&(this.ee.emitEvent("videoElementCreated",[new s.VideoElementEvent(this.videos[0].video,this,"videoElementCreated")]),this.lazyLaunchVideoElementCreatedEvent=!1),"streamPlaying"===t&&this.videos[0]&&this.videos[0].video&&this.videos[0].video.currentTime>0&&!1===this.videos[0].video.paused&&!1===this.videos[0].video.ended&&4===this.videos[0].video.readyState&&this.ee.emitEvent("streamPlaying",[new a.StreamManagerEvent(this,"streamPlaying",void 0)]),this.stream.hasAudio&&("publisherStartSpeaking"===t&&this.stream.enableHarkSpeakingEvent(),"publisherStopSpeaking"===t&&this.stream.enableHarkStoppedSpeakingEvent(),"streamAudioVolumeChange"===t&&this.stream.enableHarkVolumeChangeEvent(!1)),this},t.prototype.once=function(t,n){return e.prototype.onceAux.call(this,t,"Event '"+t+"' triggered once by '"+(this.remote?"Subscriber":"Publisher")+"'",n),"videoElementCreated"===t&&this.stream&&this.lazyLaunchVideoElementCreatedEvent&&this.ee.emitEvent("videoElementCreated",[new s.VideoElementEvent(this.videos[0].video,this,"videoElementCreated")]),"streamPlaying"===t&&this.videos[0]&&this.videos[0].video&&this.videos[0].video.currentTime>0&&!1===this.videos[0].video.paused&&!1===this.videos[0].video.ended&&4===this.videos[0].video.readyState&&this.ee.emitEvent("streamPlaying",[new a.StreamManagerEvent(this,"streamPlaying",void 0)]),this.stream.hasAudio&&("publisherStartSpeaking"===t&&this.stream.enableOnceHarkSpeakingEvent(),"publisherStopSpeaking"===t&&this.stream.enableOnceHarkStoppedSpeakingEvent(),"streamAudioVolumeChange"===t&&this.stream.enableOnceHarkVolumeChangeEvent(!1)),this},t.prototype.off=function(t,n){(e.prototype.offAux.call(this,t,n),"publisherStartSpeaking"===t)&&(0===this.ee.getListeners(t).length+this.stream.session.ee.getListeners(t).length&&this.stream.disableHarkSpeakingEvent(!1));"publisherStopSpeaking"===t&&(0===this.ee.getListeners(t).length+this.stream.session.ee.getListeners(t).length&&this.stream.disableHarkStoppedSpeakingEvent(!1));"streamAudioVolumeChange"===t&&(0===this.ee.getListeners(t).length&&this.stream.disableHarkVolumeChangeEvent(!1));return this},t.prototype.addVideoElement=function(e){this.initializeVideoProperties(e),!this.remote&&this.stream.displayMyRemote()&&e.srcObject!==this.stream.getMediaStream()&&(e.srcObject=this.stream.getMediaStream());for(var t=0,n=this.videos;t<n.length;t++){if(n[t].video===e)return 0}for(var r=1,o=0,i=this.stream.session.streamManagers;o<i.length;o++){if(i[o].disassociateVideo(e)){r=-1;break}}return this.stream.session.streamManagers.forEach(function(t){t.disassociateVideo(e)}),this.pushNewStreamManagerVideo({video:e,id:e.id,canplayListenerAdded:!1}),d.info("New video element associated to ",this),r},t.prototype.createVideoElement=function(e,t){var n;if("string"===typeof e){if(!(n=document.getElementById(e)))throw new Error("The provided 'targetElement' couldn't be resolved to any HTML element: "+e)}else{if(!(e instanceof HTMLElement))throw new Error("The provided 'targetElement' couldn't be resolved to any HTML element: "+e);n=e}var r=this.createVideo();this.initializeVideoProperties(r);var o=t||c.VideoInsertMode.APPEND;switch(o){case c.VideoInsertMode.AFTER:n.parentNode.insertBefore(r,n.nextSibling);break;case c.VideoInsertMode.APPEND:n.appendChild(r);break;case c.VideoInsertMode.BEFORE:n.parentNode.insertBefore(r,n);break;case c.VideoInsertMode.PREPEND:n.insertBefore(r,n.childNodes[0]);break;case c.VideoInsertMode.REPLACE:n.parentNode.replaceChild(r,n);break;default:o=c.VideoInsertMode.APPEND,n.appendChild(r)}var i={targetElement:n,video:r,insertMode:o,id:r.id,canplayListenerAdded:!1};return this.pushNewStreamManagerVideo(i),this.ee.emitEvent("videoElementCreated",[new s.VideoElementEvent(i.video,this,"videoElementCreated")]),this.lazyLaunchVideoElementCreatedEvent=!!this.firstVideoElement,r},t.prototype.updatePublisherSpeakingEventsOptions=function(e){var t=this.stream.harkOptions?this.stream.harkOptions:this.stream.session.openvidu.advancedConfiguration.publisherSpeakingEventsOptions||{},n="number"===typeof e.interval?e.interval:"number"===typeof t.interval?t.interval:100,r="number"===typeof e.threshold?e.threshold:"number"===typeof t.threshold?t.threshold:-50;this.stream.harkOptions={interval:n,threshold:r},this.stream.speechEvent&&(this.stream.speechEvent.setInterval(n),this.stream.speechEvent.setThreshold(r))},t.prototype.initializeVideoProperties=function(e){!this.remote&&this.stream.displayMyRemote()||e.srcObject!==this.stream.getMediaStream()&&(e.srcObject=this.stream.getMediaStream()),e.autoplay=!0,e.controls=!1,(o.isSafariBrowser()||o.isIPhoneOrIPad()&&(o.isChromeMobileBrowser()||o.isEdgeMobileBrowser()||o.isOperaMobileBrowser()||o.isFirefoxMobileBrowser()))&&e.setAttribute("playsinline","true"),e.id||(e.id=(this.remote?"remote-":"local-")+"video-"+this.stream.streamId,!this.id&&this.targetElement&&(this.id=e.id)),this.remote&&this.isMirroredVideo(e)?this.removeMirrorVideo(e):this.remote||this.stream.displayMyRemote()||(e.muted=!0,this.isMirroredVideo(e)&&!this.stream.outboundStreamOpts.publisherProperties.mirror?this.removeMirrorVideo(e):this.stream.outboundStreamOpts.publisherProperties.mirror&&!this.stream.isSendScreen()&&this.mirrorVideo(e))},t.prototype.removeAllVideos=function(){for(var e=this,t=this.stream.session.streamManagers.length-1;t>=0;--t)this.stream.session.streamManagers[t]===this&&this.stream.session.streamManagers.splice(t,1);this.videos.forEach(function(t){t.video&&t.video.removeEventListener&&t.video.removeEventListener("canplay",e.canPlayListener),t.canplayListenerAdded=!1,t.targetElement&&(t.video.parentNode.removeChild(t.video),e.ee.emitEvent("videoElementDestroyed",[new s.VideoElementEvent(t.video,e,"videoElementDestroyed")])),e.removeSrcObject(t),e.videos.filter(function(e){return!e.targetElement})})},t.prototype.disassociateVideo=function(e){for(var t=!1,n=0;n<this.videos.length;n++)if(this.videos[n].video===e){this.videos[n].video.removeEventListener("canplay",this.canPlayListener),this.videos.splice(n,1),t=!0,d.info("Video element disassociated from ",this);break}return t},t.prototype.addPlayEventToFirstVideo=function(){this.videos[0]&&this.videos[0].video&&!this.videos[0].canplayListenerAdded&&(this.activateStreamPlayingEventExceptionTimeout(),this.videos[0].video.addEventListener("canplay",this.canPlayListener),this.videos[0].canplayListenerAdded=!0)},t.prototype.updateMediaStream=function(e){this.videos.forEach(function(t){if(t.video.srcObject=e,o.isIonicIos()){var n=t.video.parentElement,r=t.video;n.replaceChild(r,t.video),t.video=r}})},t.prototype.emitEvent=function(e,t){this.ee.emitEvent(e,t)},t.prototype.createVideo=function(){return document.createElement("video")},t.prototype.removeSrcObject=function(e){e.video.srcObject=null,this.deactivateStreamPlayingEventExceptionTimeout()},t.prototype.pushNewStreamManagerVideo=function(e){this.videos.push(e),this.addPlayEventToFirstVideo(),-1===this.stream.session.streamManagers.indexOf(this)&&this.stream.session.streamManagers.push(this)},t.prototype.mirrorVideo=function(e){o.isIonicIos()||(e.style.transform="rotateY(180deg)",e.style.webkitTransform="rotateY(180deg)")},t.prototype.removeMirrorVideo=function(e){e.style.transform="unset",e.style.webkitTransform="unset"},t.prototype.isMirroredVideo=function(e){return"rotateY(180deg)"===e.style.transform||"rotateY(180deg)"===e.style.webkitTransform},t.prototype.activateStreamPlayingEventExceptionTimeout=function(){var e=this;if(this.remote&&null==this.streamPlayingEventExceptionTimeout){var t=this.stream.session.openvidu.advancedConfiguration.noStreamPlayingEventExceptionTimeout||4e3;this.streamPlayingEventExceptionTimeout=setTimeout(function(){var n="StreamManager of Stream "+e.stream.streamId+" ("+(e.remote?"Subscriber":"Publisher")+') did not trigger "streamPlaying" event in '+t+" ms";d.warn(n),e.stream.session.emitEvent("exception",[new u.ExceptionEvent(e.stream.session,u.ExceptionEventName.NO_STREAM_PLAYING_EVENT,e,n)]),delete e.streamPlayingEventExceptionTimeout},t)}},t.prototype.deactivateStreamPlayingEventExceptionTimeout=function(){clearTimeout(this.streamPlayingEventExceptionTimeout),delete this.streamPlayingEventExceptionTimeout},t}(i.EventDispatcher);t.StreamManager=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventDispatcher=void 0;var r=n(166),o=n(45).OpenViduLogger.getInstance(),i=function(){function e(){this.userHandlerArrowHandler=new WeakMap,this.ee=new r}return e.prototype.onAux=function(e,t,n){var r=function(e){e?o.info(t,e):o.info(t),n(e)};return this.userHandlerArrowHandler.set(n,r),this.ee.on(e,r),this},e.prototype.onceAux=function(e,t,n){var r=this,i=function(e){e?o.info(t,e):o.info(t),n(e),r.userHandlerArrowHandler.delete(n)};return this.userHandlerArrowHandler.set(n,i),this.ee.once(e,i),this},e.prototype.offAux=function(e,t){if(t){var n=this.userHandlerArrowHandler.get(t);n&&this.ee.off(e,n),this.userHandlerArrowHandler.delete(t)}else this.ee.removeAllListeners(e);return this},e}();t.EventDispatcher=i},function(e,t,n){var r;!function(t){"use strict";function o(){}var i=o.prototype,a=t.EventEmitter;function s(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function u(e){return function(){return this[e].apply(this,arguments)}}i.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},i.addListener=function(e,t){if(!function e(t){return"function"===typeof t||t instanceof RegExp||!(!t||"object"!==typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),o="object"===typeof t;for(n in r)r.hasOwnProperty(n)&&-1===s(r[n],t)&&r[n].push(o?t:{listener:t,once:!1});return this},i.on=u("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=u("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,t){var n,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&-1!==(n=s(o[r],t))&&o[r].splice(n,1);return this},i.off=u("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var r,o,i=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!==typeof t||t instanceof RegExp)for(r=n.length;r--;)i.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(o=t[r])&&("function"===typeof o?i.call(this,r,o):a.call(this,r,o));return this},i.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},i.removeAllListeners=u("removeEvent"),i.emitEvent=function(e,t){var n,r,o,i,a=this.getListenersAsObject(e);for(i in a)if(a.hasOwnProperty(i))for(n=a[i].slice(0),o=0;o<n.length;o++)!0===(r=n[o]).once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},i.trigger=u("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return t.EventEmitter=a,o},void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof window?window:this||{})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.StreamManagerEvent=void 0;var o=function(e){function t(t,n,r){var o=e.call(this,!1,t,n)||this;return o.value=r,o}return r(t,e),t.prototype.callDefaultBehavior=function(){},t}(n(56).Event);t.StreamManagerEvent=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeOfVideo=void 0,function(e){e.CAMERA="CAMERA",e.SCREEN="SCREEN",e.CUSTOM="CUSTOM",e.IPCAM="IPCAM"}(t.TypeOfVideo||(t.TypeOfVideo={}))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.SessionDisconnectedEvent=void 0;var o=n(56),i=n(45).OpenViduLogger.getInstance(),a=function(e){function t(t,n){var r=e.call(this,!0,t,"sessionDisconnected")||this;return r.reason=n,r}return r(t,e),t.prototype.callDefaultBehavior=function(){i.info("Calling default behavior upon '"+this.type+"' event dispatched by 'Session'");var e=this.target;e.remoteConnections.forEach(function(t){var n,r,o,i,a,s,u,c,l=t.connectionId;if(null===(n=e.remoteConnections.get(l))||void 0===n?void 0:n.stream){null===(r=e.remoteConnections.get(l))||void 0===r||r.stream.disposeWebRtcPeer(),null===(o=e.remoteConnections.get(l))||void 0===o||o.stream.disposeMediaStream(),(null===(i=e.remoteConnections.get(l))||void 0===i?void 0:i.stream.streamManager)&&(null===(a=e.remoteConnections.get(l))||void 0===a||a.stream.streamManager.removeAllVideos());var f=null===(u=null===(s=e.remoteConnections.get(l))||void 0===s?void 0:s.stream)||void 0===u?void 0:u.streamId;f&&e.remoteStreamsCreated.delete(f),null===(c=e.remoteConnections.get(l))||void 0===c||c.dispose()}e.remoteConnections.delete(l)})},t}(o.Event);t.SessionDisconnectedEvent=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.StreamEvent=void 0;var o=n(56),i=n(160),a=n(141),s=n(45).OpenViduLogger.getInstance(),u=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r)||this;return a.stream=o,a.reason=i,a}return r(t,e),t.prototype.callDefaultBehavior=function(){if("streamDestroyed"===this.type){if(this.target instanceof a.Session)s.info("Calling default behavior upon '"+this.type+"' event dispatched by 'Session'"),this.stream.disposeWebRtcPeer();else if(this.target instanceof i.Publisher){s.info("Calling default behavior upon '"+this.type+"' event dispatched by 'Publisher'"),clearInterval(this.target.screenShareResizeInterval),this.stream.isLocalStreamReadyToPublish=!1;for(var e=this.target.openvidu.publishers,t=0;t<e.length;t++)if(e[t]===this.target){e.splice(t,1);break}}this.stream.disposeMediaStream(),this.stream.streamManager&&this.stream.streamManager.removeAllVideos(),this.stream.session.remoteStreamsCreated.delete(this.stream.streamId);var n=this.stream.session.remoteConnections.get(this.stream.connection.connectionId);if(n&&n.remoteOptions){var r=n.remoteOptions.streams;for(t=r.length-1;t>=0;--t)r[t].id===this.stream.streamId&&r.splice(t,1)}}},t}(o.Event);t.StreamEvent=u},,function(e,t,n){"use strict";n(1);t.a=function(e,t){return function(){return null}}},function(e,t,n){"use strict";e.exports=n(299)},function(e,t,n){"use strict";var r=n(86),o=n.n(r);t.a=function(e,t){return o()(e,t)}},function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(e,t,n){"use strict";n.r(t);var r=n("react"),o=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function s(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}"undefined"!==typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise(function(n,r){t.call(navigator,e,n,r)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}));var u=function(e){function t(t){var n=e.call(this,t)||this;return n.canvas=null,n.ctx=null,n.requestUserMediaId=0,n.unmounted=!1,n.state={hasUserMedia:!1},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=this.props;this.unmounted=!1,s()?(e.hasUserMedia||this.requestUserMedia(),t.children&&"function"!=typeof t.children&&console.warn("children must be a function")):t.onUserMediaError("getUserMedia not supported")},t.prototype.componentDidUpdate=function(e){var t=this.props;if(s()){var n=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),r=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),o=e.minScreenshotWidth!==t.minScreenshotWidth,i=e.minScreenshotHeight!==t.minScreenshotHeight;(r||o||i)&&(this.canvas=null,this.ctx=null),(n||r)&&(this.stopAndCleanup(),this.requestUserMedia())}else t.onUserMediaError("getUserMedia not supported")},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},t.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map(function(t){e.removeTrack(t),t.stop()}),e.getAudioTracks().map(function(t){e.removeTrack(t),t.stop()})):e.stop())},t.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(t.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},t.prototype.getScreenshot=function(e){var t=this.state,n=this.props;if(!t.hasUserMedia)return null;var r=this.getCanvas(e);return r&&r.toDataURL(n.screenshotFormat,n.screenshotQuality)},t.prototype.getCanvas=function(e){var t=this.state,n=this.props;if(!this.video)return null;if(!t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var r=this.video.videoWidth,o=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var i=r/o;o=(r=n.minScreenshotWidth||this.video.clientWidth)/i,n.minScreenshotHeight&&o<n.minScreenshotHeight&&(r=(o=n.minScreenshotHeight)*i)}this.canvas=document.createElement("canvas"),this.canvas.width=(null===e||void 0===e?void 0:e.width)||r,this.canvas.height=(null===e||void 0===e?void 0:e.height)||o,this.ctx=this.canvas.getContext("2d")}var a=this.ctx,s=this.canvas;return a&&s&&(n.mirrored&&(a.translate(s.width,0),a.scale(-1,1)),a.imageSmoothingEnabled=n.imageSmoothing,a.drawImage(this.video,0,0,(null===e||void 0===e?void 0:e.width)||s.width,(null===e||void 0===e?void 0:e.height)||s.height),n.mirrored&&(a.scale(-1,1),a.translate(-s.width,0))),s},t.prototype.requestUserMedia=function(){var e=this,n=this.props,r=function(r,o){var i={video:"undefined"===typeof o||o};n.audio&&(i.audio="undefined"===typeof r||r),e.requestUserMediaId++;var a=e.requestUserMediaId;navigator.mediaDevices.getUserMedia(i).then(function(n){e.unmounted||a!==e.requestUserMediaId?t.stopMediaStream(n):e.handleUserMedia(null,n)}).catch(function(t){e.handleUserMedia(t)})};if("mediaDevices"in navigator)r(n.audioConstraints,n.videoConstraints);else{var o=function(e){return{optional:[{sourceId:e}]}},i=function(e){var t=e.deviceId;return"string"===typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"===typeof t&&t.ideal?t.ideal:null};MediaStreamTrack.getSources(function(e){var t=null,a=null;e.forEach(function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(a=e.id)});var s=i(n.audioConstraints);s&&(t=s);var u=i(n.videoConstraints);u&&(a=u),r(o(t),o(a))})}},t.prototype.handleUserMedia=function(e,t){var n=this.props;if(e||!t)return this.setState({hasUserMedia:!1}),void n.onUserMediaError(e);this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(r){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}n.onUserMedia(t)},t.prototype.render=function(){var e=this,t=this.state,n=this.props,o=n.audio,s=(n.forceScreenshotSourceSize,n.onUserMedia,n.onUserMediaError,n.screenshotFormat,n.screenshotQuality,n.minScreenshotWidth,n.minScreenshotHeight,n.audioConstraints,n.videoConstraints,n.imageSmoothing,n.mirrored),u=n.style,c=void 0===u?{}:u,l=n.children,f=a(n,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),d=s?i(i({},c),{transform:(c.transform||"")+" scaleX(-1)"}):c,p={getScreenshot:this.getScreenshot.bind(this)};return r.createElement(r.Fragment,null,r.createElement("video",i({autoPlay:!0,src:t.src,muted:!o,playsInline:!0,ref:function(t){e.video=t},style:d},f)),l&&l(p))},t.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},t}(r.Component);t.default=u},react:function(t,n){t.exports=e}}).default},e.exports=r(n(0))},function(e,t,n){"use strict";var r=n(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(35)),i=n(4),a=(0,o.default)((0,i.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");t.default=a},function(e,t,n){"use strict";var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(o){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),this.tags=[],this.ctr=0},e}(),o="-ms-",i="-moz-",a="-webkit-",s="comm",u="rule",c="decl",l="@import",f="@keyframes",d=Math.abs,p=String.fromCharCode,h=Object.assign;function v(e){return e.trim()}function m(e,t,n){return e.replace(t,n)}function g(e,t){return e.indexOf(t)}function y(e,t){return 0|e.charCodeAt(t)}function b(e,t,n){return e.slice(t,n)}function w(e){return e.length}function x(e){return e.length}function O(e,t){return t.push(e),e}function E(e,t){return e.map(t).join("")}var S=1,C=1,k=0,R=0,j=0,P="";function T(e,t,n,r,o,i,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:S,column:C,length:a,return:""}}function _(e,t){return h(T("",null,null,"",null,null,0),e,{length:-e.length},t)}function I(){return j=R>0?y(P,--R):0,C--,10===j&&(C=1,S--),j}function A(){return j=R<k?y(P,R++):0,C++,10===j&&(C=1,S++),j}function N(){return y(P,R)}function M(){return R}function D(e,t){return b(P,e,t)}function L(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function F(e){return S=C=1,k=w(P=e),R=0,[]}function B(e){return P="",e}function V(e){return v(D(R-1,function e(t){for(;A();)switch(j){case t:return R;case 34:case 39:34!==t&&39!==t&&e(j);break;case 40:41===t&&e(t);break;case 92:A()}return R}(91===e?e+2:40===e?e+1:e)))}function U(e){for(;(j=N())&&j<33;)A();return L(e)>2||L(j)>3?"":" "}function W(e,t){for(;--t&&A()&&!(j<48||j>102||j>57&&j<65||j>70&&j<97););return D(e,M()+(t<6&&32==N()&&32==A()))}function z(e,t){for(;A()&&e+j!==57&&(e+j!==84||47!==N()););return"/*"+D(t,R-1)+"*"+p(47===e?e:A())}function H(e){for(;!L(N());)A();return D(e,R)}function q(e){return B(function e(t,n,r,o,i,a,s,u,c){var l=0;var f=0;var d=s;var h=0;var v=0;var y=0;var b=1;var x=1;var E=1;var S=0;var C="";var k=i;var R=a;var j=o;var P=C;for(;x;)switch(y=S,S=A()){case 40:if(108!=y&&58==P.charCodeAt(d-1)){-1!=g(P+=m(V(S),"&","&\f"),"&\f")&&(E=-1);break}case 34:case 39:case 91:P+=V(S);break;case 9:case 10:case 13:case 32:P+=U(y);break;case 92:P+=W(M()-1,7);continue;case 47:switch(N()){case 42:case 47:O(K(z(A(),M()),n,r),c);break;default:P+="/"}break;case 123*b:u[l++]=w(P)*E;case 125*b:case 59:case 0:switch(S){case 0:case 125:x=0;case 59+f:v>0&&w(P)-d&&O(v>32?$(P+";",o,r,d-1):$(m(P," ","")+";",o,r,d-2),c);break;case 59:P+=";";default:if(O(j=G(P,n,r,l,f,i,u,C,k=[],R=[],d),a),123===S)if(0===f)e(P,n,j,j,k,a,d,u,R);else switch(h){case 100:case 109:case 115:e(t,j,j,o&&O(G(t,j,j,0,0,i,u,C,i,k=[],d),R),i,R,d,u,o?k:R);break;default:e(P,j,j,j,[""],R,0,u,R)}}l=f=v=0,b=E=1,C=P="",d=s;break;case 58:d=1+w(P),v=y;default:if(b<1)if(123==S)--b;else if(125==S&&0==b++&&125==I())continue;switch(P+=p(S),S*b){case 38:E=f>0?1:(P+="\f",-1);break;case 44:u[l++]=(w(P)-1)*E,E=1;break;case 64:45===N()&&(P+=V(A())),h=N(),f=d=w(C=P+=H(M())),S++;break;case 45:45===y&&2==w(P)&&(b=0)}}return a}("",null,null,null,[""],e=F(e),0,[0],e))}function G(e,t,n,r,o,i,a,s,c,l,f){for(var p=o-1,h=0===o?i:[""],g=x(h),y=0,w=0,O=0;y<r;++y)for(var E=0,S=b(e,p+1,p=d(w=a[y])),C=e;E<g;++E)(C=v(w>0?h[E]+" "+S:m(S,/&\f/g,h[E])))&&(c[O++]=C);return T(e,t,n,0===o?u:s,c,l,f)}function K(e,t,n){return T(e,t,n,s,p(j),b(e,2,-2),0)}function $(e,t,n,r){return T(e,t,n,c,b(e,0,r),b(e,r+1,-1),r)}function X(e,t){switch(function(e,t){return(((t<<2^y(e,0))<<2^y(e,1))<<2^y(e,2))<<2^y(e,3)}(e,t)){case 5103:return a+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return a+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return a+e+i+e+o+e+e;case 6828:case 4268:return a+e+o+e+e;case 6165:return a+e+o+"flex-"+e+e;case 5187:return a+e+m(e,/(\w+).+(:[^]+)/,a+"box-$1$2"+o+"flex-$1$2")+e;case 5443:return a+e+o+"flex-item-"+m(e,/flex-|-self/,"")+e;case 4675:return a+e+o+"flex-line-pack"+m(e,/align-content|flex-|-self/,"")+e;case 5548:return a+e+o+m(e,"shrink","negative")+e;case 5292:return a+e+o+m(e,"basis","preferred-size")+e;case 6060:return a+"box-"+m(e,"-grow","")+a+e+o+m(e,"grow","positive")+e;case 4554:return a+m(e,/([^-])(transform)/g,"$1"+a+"$2")+e;case 6187:return m(m(m(e,/(zoom-|grab)/,a+"$1"),/(image-set)/,a+"$1"),e,"")+e;case 5495:case 3959:return m(e,/(image-set\([^]*)/,a+"$1$`$1");case 4968:return m(m(e,/(.+:)(flex-)?(.*)/,a+"box-pack:$3"+o+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+a+e+e;case 4095:case 3583:case 4068:case 2532:return m(e,/(.+)-inline(.+)/,a+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(w(e)-1-t>6)switch(y(e,t+1)){case 109:if(45!==y(e,t+4))break;case 102:return m(e,/(.+:)(.+)-([^]+)/,"$1"+a+"$2-$3$1"+i+(108==y(e,t+3)?"$3":"$2-$3"))+e;case 115:return~g(e,"stretch")?X(m(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==y(e,t+1))break;case 6444:switch(y(e,w(e)-3-(~g(e,"!important")&&10))){case 107:return m(e,":",":"+a)+e;case 101:return m(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+a+(45===y(e,14)?"inline-":"")+"box$3$1"+a+"$2$3$1"+o+"$2box$3")+e}break;case 5936:switch(y(e,t+11)){case 114:return a+e+o+m(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return a+e+o+m(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return a+e+o+m(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return a+e+o+e+e}return e}function Y(e,t){for(var n="",r=x(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function J(e,t,n,r){switch(e.type){case l:case c:return e.return=e.return||e.value;case s:return"";case f:return e.return=e.value+"{"+Y(e.children,r)+"}";case u:e.value=e.props.join(",")}return w(n=Y(e.children,r))?e.return=e.value+"{"+n+"}":""}n(125),n(124);var Q=function(e,t,n){for(var r=0,o=0;r=o,o=N(),38===r&&12===o&&(t[n]=1),!L(o);)A();return D(e,R)},Z=function(e,t){return B(function(e,t){var n=-1,r=44;do{switch(L(r)){case 0:38===r&&12===N()&&(t[n]=1),e[n]+=Q(R-1,t,n);break;case 2:e[n]+=V(r);break;case 4:if(44===r){e[++n]=58===N()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=p(r)}}while(r=A());return e}(F(e),t))},ee=new WeakMap,te=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ee.get(n))&&!r){ee.set(e,!0);for(var o=[],i=Z(t,o),a=n.props,s=0,u=0;s<i.length;s++)for(var c=0;c<a.length;c++,u++)e.props[u]=o[s]?i[s].replace(/&\f/g,a[c]):a[c]+" "+i[s]}}},ne=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case c:e.return=X(e.value,e.length);break;case f:return Y([_(e,{value:m(e.value,"@","@"+a)})],r);case u:if(e.length)return E(e.props,function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Y([_(e,{props:[m(t,/:(read-\w+)/,":"+i+"$1")]})],r);case"::placeholder":return Y([_(e,{props:[m(t,/:(plac\w+)/,":"+a+"input-$1")]}),_(e,{props:[m(t,/:(plac\w+)/,":"+i+"$1")]}),_(e,{props:[m(t,/:(plac\w+)/,o+"input-$1")]})],r)}return""})}}];t.a=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var o=e.stylisPlugins||re;var i,a,s={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;u.push(e)});var c,l,f=[J,(l=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],d=function(e){var t=x(e);return function(n,r,o,i){for(var a="",s=0;s<t;s++)a+=e[s](n,r,o,i)||"";return a}}([te,ne].concat(o,f));a=function(e,t,n,r){c=n,Y(q(e?e+"{"+t.styles+"}":t.styles),d),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:a};return p.sheet.hydrate(u),p}},function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return i});var r=n(3),o=n(146);function i(){var t=e.Canvas||e.HTMLCanvasElement,n=e.Image||e.HTMLImageElement,i=e.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},a=Object(o.a)();return Object(r.a)({Canvas:t||function(){return function(){}}(),CanvasRenderingContext2D:e.CanvasRenderingContext2D||function(){return function(){}}(),Image:n||function(){return function(){}}(),ImageData:e.ImageData||function(){return function(){}}(),Video:e.HTMLVideoElement||function(){return function(){}}(),createCanvasElement:function(){if(t)return new t;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},createImageElement:function(){if(n)return new n;throw new Error("createImageElement - missing Image implementation for nodejs environment")},fetch:i},a)}}).call(this,n(78))},function(e,t,n){"use strict";(function(r,o){function i(){return"object"===typeof r&&"undefined"!==typeof e&&"undefined"!==typeof o&&!!o.version}n.d(t,"a",function(){return i})}).call(this,n(78),n(105))},,,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var r=n(1);function o(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},a=n.clone?Object(r.a)({},e):e;return o(e)&&o(t)&&Object.keys(t).forEach(function(r){"__proto__"!==r&&(o(t[r])&&r in e&&o(e[r])?a[r]=i(e[r],t[r],n):a[r]=t[r])}),a}},,,,,,,,,,,,,function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(296),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(78))},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(42);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))}))}),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,n){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},function(e,t,n){"use strict";(function(t){var r=n(42);e.exports=function(e,n){n=n||new FormData;var o=[];function i(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"===typeof Blob?new Blob([e]):t.from(e):e}return function e(t,a){if(r.isPlainObject(t)||r.isArray(t)){if(-1!==o.indexOf(t))throw Error("Circular reference detected in "+a);o.push(t),r.forEach(t,function(t,o){if(!r.isUndefined(t)){var s,u=a?a+"."+o:o;if(t&&!a&&"object"===typeof t)if(r.endsWith(o,"{}"))t=JSON.stringify(t);else if(r.endsWith(o,"[]")&&(s=r.toArray(t)))return void s.forEach(function(e){!r.isUndefined(e)&&n.append(u,i(e))});e(t,u)}}),o.pop()}else n.append(a,i(t))}(e),n}}).call(this,n(159).Buffer)},function(e,t,n){"use strict";var r=n(42),o=n(313),i=n(314),a=n(202),s=n(206),u=n(317),c=n(318),l=n(203),f=n(106),d=n(140),p=n(319);e.exports=function(e){return new Promise(function(t,n){var h,v=e.data,m=e.headers,g=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}r.isFormData(v)&&r.isStandardBrowserEnv()&&delete m["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var w=e.auth.username||"",x=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(w+":"+x)}var O=s(e.baseURL,e.url);function E(){if(b){var r="getAllResponseHeaders"in b?u(b.getAllResponseHeaders()):null,i={data:g&&"text"!==g&&"json"!==g?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:r,config:e,request:b};o(function(e){t(e),y()},function(e){n(e),y()},i),b=null}}if(b.open(e.method.toUpperCase(),a(O,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=E:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(E)},b.onabort=function(){b&&(n(new f("Request aborted",f.ECONNABORTED,e,b)),b=null)},b.onerror=function(){n(new f("Network Error",f.ERR_NETWORK,e,b,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new f(t,r.clarifyTimeoutError?f.ETIMEDOUT:f.ECONNABORTED,e,b)),b=null},r.isStandardBrowserEnv()){var S=(e.withCredentials||c(O))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;S&&(m[e.xsrfHeaderName]=S)}"setRequestHeader"in b&&r.forEach(m,function(e,t){"undefined"===typeof v&&"content-type"===t.toLowerCase()?delete m[t]:b.setRequestHeader(t,e)}),r.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),g&&"json"!==g&&(b.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){b&&(n(!e||e&&e.type?new d:e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),v||(v=null);var C=p(O);C&&-1===["http","https","file"].indexOf(C)?n(new f("Unsupported protocol "+C+":",f.ERR_BAD_REQUEST,e)):b.send(v)})}},function(e,t,n){"use strict";var r=n(315),o=n(316);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var r=n(42);e.exports=function(e,t){t=t||{};var n={};function o(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function i(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return o(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function u(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),function(e){var t=c[e]||i,o=t(e);r.isUndefined(o)&&t!==u||(n[e]=o)}),n}},function(e,t){e.exports={version:"0.27.2"}},function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function o(e){if(!e)return o.__;Array.prototype.reduce||(Array.prototype.reduce=function(e,t){for(var n=t,r=0;r<this.length;r++)n=e(n,this[r],r,this);return n});var t="";return("."+e).split(".").reduce(function(e,n,r,i){t?t+="."+n:t=n;var a=e["__"+t];return void 0===a&&(o.Logger.prototype=e,a=new o.Logger(t),e["__"+t]=a),a},o.__)}!function(e){function t(e,t,n){void 0!==t[e]&&(null!==t[e]?n[e]=t[e]:delete n[e])}function n(t){if(null!=e.enabled&&!e.enabled)return!1;try{if(t.userAgentRegex&&!new RegExp(t.userAgentRegex).test(navigator.userAgent))return!1}catch(n){}try{if(t.ipRegex&&e.clientIP&&!new RegExp(t.ipRegex).test(e.clientIP))return!1}catch(n){}return!0}function o(e,t){try{if(e.disallow&&new RegExp(e.disallow).test(t))return!1}catch(n){}return!0}function i(e){return"function"==typeof e?e instanceof RegExp?e.toString():e():e}e.requestId="",e.entryId=0,e._createXMLHttpRequest=function(){return new XMLHttpRequest},e._getTime=function(){return(new Date).getTime()},e._console=console,e._appenderNames=[];var a=function(){return function(e,t,n){this.msg=e,this.meta=t,this.finalString=n}}();function s(t){var n,r=i(t);switch(typeof r){case"string":return new a(r,null,r);case"number":case"boolean":return n=r.toString(),new a(n,null,n);case"undefined":return new a("undefined",null,"undefined");case"object":return r instanceof RegExp||r instanceof String||r instanceof Number||r instanceof Boolean?(n=r.toString(),new a(n,null,n)):(n="function"===typeof e.serialize?e.serialize.call(this,r):JSON.stringify(r),new a("",r,n));default:return new a("unknown",null,"unknown")}}function u(){return 1e3}function c(){return 2e3}function l(){return 3e3}function f(){return 4e3}function d(){return 5e3}function p(){return 6e3}function h(e){return e<=1e3?"trace":e<=2e3?"debug":e<=3e3?"info":e<=4e3?"warn":e<=5e3?"error":"fatal"}e.setOptions=function(e){return t("enabled",e,this),t("maxMessages",e,this),t("defaultAjaxUrl",e,this),t("clientIP",e,this),t("requestId",e,this),t("defaultBeforeSend",e,this),t("serialize",e,this),this},e.getAllLevel=function(){return-2147483648},e.getTraceLevel=u,e.getDebugLevel=c,e.getInfoLevel=l,e.getWarnLevel=f,e.getErrorLevel=d,e.getFatalLevel=p,e.getOffLevel=function(){return 2147483647};var v=function(){return function(e,t){this.inner=t,this.name="JL.Exception",this.message=s(e).finalString}}();e.Exception=v,v.prototype=new Error;var m=function(){return function(e,t,n,r,o){this.l=e,this.m=t,this.n=n,this.t=r,this.u=o}}();function g(t,n,r){return e.entryId++,new m(t,n,r,e._getTime(),e.entryId)}function y(e){e.id&&(clearTimeout(e.id),e.id=null)}function b(e,t,n){var r=this;e.id||(e.id=setTimeout(function(){n.call(r)},t))}e.LogItem=m;var w=function(){function r(t,n){this.appenderName=t,this.sendLogItems=n,this.level=e.getTraceLevel(),this.sendWithBufferLevel=2147483647,this.storeInBufferLevel=-2147483648,this.bufferSize=0,this.batchSize=1,this.maxBatchSize=20,this.batchTimeout=2147483647,this.sendTimeout=5e3,this.buffer=[],this.batchBuffer=[],this.batchTimeoutTimer={id:null},this.sendTimeoutTimer={id:null},this.nbrLogItemsSkipped=0,this.nbrLogItemsBeingSent=0;var r="Trying to create an appender without a name or with an empty name";if(void 0==t)throw r;if(-1!=e._appenderNames.indexOf(t)){if(!t)throw r;throw"Multiple appenders use the same name "+t}e._appenderNames.push(t)}return r.prototype.addLogItemsToBuffer=function(t){if(this.batchBuffer.length>=this.maxBatchSize)this.nbrLogItemsSkipped+=t.length;else{if(null!=e.maxMessages){if(e.maxMessages<1)return;e.maxMessages-=t.length}this.batchBuffer=this.batchBuffer.concat(t);var n=this;b(this.batchTimeoutTimer,this.batchTimeout,function(){n.sendBatch.call(n)})}},r.prototype.batchBufferHasOverdueMessages=function(){for(var t=0;t<this.batchBuffer.length;t++){if(e._getTime()-this.batchBuffer[t].t>this.batchTimeout)return!0}return!1},r.prototype.batchBufferHasStrandedMessage=function(){return!(null==e.maxMessages)&&e.maxMessages<1&&this.batchBuffer.length>0},r.prototype.sendBatchIfComplete=function(){(this.batchBuffer.length>=this.batchSize||this.batchBufferHasOverdueMessages()||this.batchBufferHasStrandedMessage())&&this.sendBatch()},r.prototype.onSendingEnded=function(){y(this.sendTimeoutTimer),this.nbrLogItemsBeingSent=0,this.sendBatchIfComplete()},r.prototype.setOptions=function(n){if(t("level",n,this),t("ipRegex",n,this),t("userAgentRegex",n,this),t("disallow",n,this),t("sendWithBufferLevel",n,this),t("storeInBufferLevel",n,this),t("bufferSize",n,this),t("batchSize",n,this),t("maxBatchSize",n,this),t("batchTimeout",n,this),t("sendTimeout",n,this),this.bufferSize<this.buffer.length&&(this.buffer.length=this.bufferSize),this.maxBatchSize<this.batchSize)throw new e.Exception({message:"maxBatchSize cannot be smaller than batchSize",maxBatchSize:this.maxBatchSize,batchSize:this.batchSize});return this},r.prototype.log=function(e,t,r,i,a,s,u){var c;n(this)&&o(this,s)&&(a<this.storeInBufferLevel||(c=g(a,s,u),a<this.level?this.bufferSize>0&&(this.buffer.push(c),this.buffer.length>this.bufferSize&&this.buffer.shift()):(this.addLogItemsToBuffer([c]),a>=this.sendWithBufferLevel&&this.buffer.length&&(this.addLogItemsToBuffer(this.buffer),this.buffer.length=0),this.sendBatchIfComplete())))},r.prototype.sendBatch=function(){if(!(this.nbrLogItemsBeingSent>0)&&(y(this.batchTimeoutTimer),0!=this.batchBuffer.length)){this.nbrLogItemsBeingSent=this.batchBuffer.length;var e=this;b(this.sendTimeoutTimer,this.sendTimeout,function(){e.onSendingEnded.call(e)}),this.sendLogItems(this.batchBuffer,function(){e.batchBuffer.splice(0,e.nbrLogItemsBeingSent),e.nbrLogItemsSkipped>0&&(e.batchBuffer.push(g(4e3,"Lost "+e.nbrLogItemsSkipped+" messages. Either connection with the server was down or logging was disabled via the enabled option. Reduce lost messages by increasing the ajaxAppender option maxBatchSize.",e.appenderName)),e.nbrLogItemsSkipped=0),e.onSendingEnded.call(e)})}},r}();e.Appender=w;var x=function(o){function i(e){return o.call(this,e,i.prototype.sendLogItemsAjax)||this}return r(i,o),i.prototype.setOptions=function(e){return t("url",e,this),t("beforeSend",e,this),o.prototype.setOptions.call(this,e),this},i.prototype.sendLogItemsAjax=function(t,r){try{if(!n(this))return;this.xhr&&0!=this.xhr.readyState&&4!=this.xhr.readyState&&this.xhr.abort(),this.xhr=e._createXMLHttpRequest();var o="/jsnlog.logger";null!=e.defaultAjaxUrl&&(o=e.defaultAjaxUrl),this.url&&(o=this.url),this.xhr.open("POST",o),this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("JSNLog-RequestId",e.requestId);var i=this;this.xhr.onreadystatechange=function(){4==i.xhr.readyState&&i.xhr.status>=200&&i.xhr.status<300&&r()};var a={r:e.requestId,lg:t};"function"===typeof this.beforeSend?this.beforeSend.call(this,this.xhr,a):"function"===typeof e.defaultBeforeSend&&e.defaultBeforeSend.call(this,this.xhr,a);var s=JSON.stringify(a);this.xhr.send(s)}catch(u){}},i}(w);e.AjaxAppender=x;var O=function(t){function o(e){return t.call(this,e,o.prototype.sendLogItemsConsole)||this}return r(o,t),o.prototype.clog=function(t){e._console.log(t)},o.prototype.cerror=function(t){e._console.error?e._console.error(t):this.clog(t)},o.prototype.cwarn=function(t){e._console.warn?e._console.warn(t):this.clog(t)},o.prototype.cinfo=function(t){e._console.info?e._console.info(t):this.clog(t)},o.prototype.cdebug=function(t){e._console.debug?e._console.debug(t):this.cinfo(t)},o.prototype.sendLogItemsConsole=function(t,r){try{if(!n(this))return;if(!e._console)return;var o;for(o=0;o<t.length;++o){var i=t[o],a=i.n+": "+i.m;"undefined"===typeof window&&(a=new Date(i.t)+" | "+a),i.l<=e.getDebugLevel()?this.cdebug(a):i.l<=e.getInfoLevel()?this.cinfo(a):i.l<=e.getWarnLevel()?this.cwarn(a):this.cerror(a)}}catch(s){}r()},o}(w);e.ConsoleAppender=O;var E,S=function(){function e(e){this.loggerName=e,this.seenRegexes=[]}return e.prototype.setOptions=function(e){return t("level",e,this),t("userAgentRegex",e,this),t("disallow",e,this),t("ipRegex",e,this),t("appenders",e,this),t("onceOnly",e,this),this.seenRegexes=[],this},e.prototype.buildExceptionObject=function(e){var t={};return e.stack?t.stack=e.stack:t.e=e,e.message&&(t.message=e.message),e.name&&(t.name=e.name),e.data&&(t.data=e.data),e.inner&&(t.inner=this.buildExceptionObject(e.inner)),t},e.prototype.log=function(e,t,r){var a,u,c=0;if(!this.appenders)return this;if(e>=this.level&&n(this)&&(r?(u=this.buildExceptionObject(r)).logData=i(t):u=t,o(this,(a=s(u)).finalString))){if(this.onceOnly)for(c=this.onceOnly.length-1;c>=0;){if(new RegExp(this.onceOnly[c]).test(a.finalString)){if(this.seenRegexes[c])return this;this.seenRegexes[c]=!0}c--}for(a.meta=a.meta||{},c=this.appenders.length-1;c>=0;)this.appenders[c].log(h(e),a.msg,a.meta,function(){},e,a.finalString,this.loggerName),c--}return this},e.prototype.trace=function(e){return this.log(1e3,e)},e.prototype.debug=function(e){return this.log(2e3,e)},e.prototype.info=function(e){return this.log(3e3,e)},e.prototype.warn=function(e){return this.log(4e3,e)},e.prototype.error=function(e){return this.log(5e3,e)},e.prototype.fatal=function(e){return this.log(6e3,e)},e.prototype.fatalException=function(e,t){return this.log(6e3,e,t)},e}();e.Logger=S,e.createAjaxAppender=function(e){return new x(e)},e.createConsoleAppender=function(e){return new O(e)},E="undefined"!==typeof window?new x(""):new O(""),e.__=new e.Logger(""),e.__.setOptions({level:e.getDebugLevel(),appenders:[E]})}(o||(o={})),t.__esModule=!0,t.JL=o,"function"==typeof __jsnlog_configure&&__jsnlog_configure(o),"undefined"===typeof window||window.onerror||(window.onerror=function(e,t,n,r,i){return o("onerrorLogger").fatalException({msg:"Uncaught Exception",errorMsg:e?e.message||e:"",url:t,"line number":n,column:r},i),!1}),"undefined"===typeof window||window.onunhandledrejection||(window.onunhandledrejection=function(e){o("onerrorLogger").fatalException({msg:"unhandledrejection",errorMsg:e.reason?e.reason.message:e.message||null},e.reason)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalRecorder=void 0;var r,o=n(212),i=n(45),a=n(92),s=n(330),u=i.OpenViduLogger.getInstance(),c=function(){function e(e){this.stream=e,this.chunks=[],r=a.PlatformUtils.getInstance(),this.connectionId=this.stream.connection?this.stream.connection.connectionId:"default-connection",this.id=this.stream.streamId+"_"+this.connectionId+"_localrecord",this.state=o.LocalRecorderState.READY}return e.prototype.record=function(e){var t=this;return new Promise(function(n,r){try{if("string"===typeof e||e instanceof String)return r("When calling LocalRecorder.record(options) parameter 'options' cannot be a string. Must be an object like { mimeType: \"".concat(e,'" }'));if("undefined"===typeof MediaRecorder)throw u.error("MediaRecorder not supported on your device. See compatibility in https://caniuse.com/#search=MediaRecorder"),Error("MediaRecorder not supported on your device. See compatibility in https://caniuse.com/#search=MediaRecorder");if(t.state!==o.LocalRecorderState.READY)throw Error("'LocalRecord.record()' needs 'LocalRecord.state' to be 'READY' (current value: '"+t.state+"'). Call 'LocalRecorder.clean()' or init a new LocalRecorder before");u.log("Starting local recording of stream '"+t.stream.streamId+"' of connection '"+t.connectionId+"'"),e?e.mimeType||(e.mimeType="video/webm"):e={mimeType:"video/webm"},t.mediaRecorder=new MediaRecorder(t.stream.getMediaStream(),e),t.mediaRecorder.start()}catch(i){return r(i)}return t.mediaRecorder.ondataavailable=function(e){e.data.size>0&&t.chunks.push(e.data)},t.mediaRecorder.onerror=function(e){u.error("MediaRecorder error: ",e)},t.mediaRecorder.onstart=function(){u.log("MediaRecorder started (state="+t.mediaRecorder.state+")")},t.mediaRecorder.onstop=function(){t.onStopDefault()},t.mediaRecorder.onpause=function(){u.log("MediaRecorder paused (state="+t.mediaRecorder.state+")")},t.mediaRecorder.onresume=function(){u.log("MediaRecorder resumed (state="+t.mediaRecorder.state+")")},t.state=o.LocalRecorderState.RECORDING,n()})},e.prototype.stop=function(){var e=this;return new Promise(function(t,n){try{if(e.state===o.LocalRecorderState.READY||e.state===o.LocalRecorderState.FINISHED)throw Error("'LocalRecord.stop()' needs 'LocalRecord.state' to be 'RECORDING' or 'PAUSED' (current value: '"+e.state+"'). Call 'LocalRecorder.start()' before");e.mediaRecorder.onstop=function(){return e.onStopDefault(),t()},e.mediaRecorder.stop()}catch(r){return n(r)}})},e.prototype.pause=function(){var e=this;return new Promise(function(t,n){try{return e.state!==o.LocalRecorderState.RECORDING?n(Error("'LocalRecord.pause()' needs 'LocalRecord.state' to be 'RECORDING' (current value: '"+e.state+"'). Call 'LocalRecorder.start()' or 'LocalRecorder.resume()' before")):(e.mediaRecorder.pause(),e.state=o.LocalRecorderState.PAUSED,t())}catch(r){return n(r)}})},e.prototype.resume=function(){var e=this;return new Promise(function(t,n){try{if(e.state!==o.LocalRecorderState.PAUSED)throw Error("'LocalRecord.resume()' needs 'LocalRecord.state' to be 'PAUSED' (current value: '"+e.state+"'). Call 'LocalRecorder.pause()' before");return e.mediaRecorder.resume(),e.state=o.LocalRecorderState.RECORDING,t()}catch(r){return n(r)}})},e.prototype.preview=function(e){if(this.state!==o.LocalRecorderState.FINISHED)throw Error("'LocalRecord.preview()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+this.state+"'). Call 'LocalRecorder.stop()' before");if(this.videoPreview=document.createElement("video"),this.videoPreview.id=this.id,this.videoPreview.autoplay=!0,r.isSafariBrowser()&&this.videoPreview.setAttribute("playsinline","true"),"string"===typeof e){var t=document.getElementById(e);t&&(this.videoPreview=t.appendChild(this.videoPreview))}else this.videoPreview=e.appendChild(this.videoPreview);return this.videoPreview.src=this.videoPreviewSrc,this.videoPreview},e.prototype.clean=function(){var e=this,t=function(){delete e.blob,e.chunks=[],e.state=o.LocalRecorderState.READY};this.state===o.LocalRecorderState.RECORDING||this.state===o.LocalRecorderState.PAUSED?this.stop().then(function(){return t()}).catch(function(){return t()}):t()},e.prototype.download=function(){if(this.state!==o.LocalRecorderState.FINISHED)throw Error("'LocalRecord.download()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+this.state+"'). Call 'LocalRecorder.stop()' before");var e=document.createElement("a");e.style.display="none",document.body.appendChild(e);var t=window.URL.createObjectURL(this.blob);e.href=t,e.download=this.id+"."+s.getExtension(this.blob.type),e.click(),window.URL.revokeObjectURL(t),document.body.removeChild(e)},e.prototype.getBlob=function(){if(this.state!==o.LocalRecorderState.FINISHED)throw Error("Call 'LocalRecord.stop()' before getting Blob file");return this.blob},e.prototype.uploadAsBinary=function(e,t){var n=this;return new Promise(function(r,i){if(n.state!==o.LocalRecorderState.FINISHED)return i(Error("'LocalRecord.uploadAsBinary()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+n.state+"'). Call 'LocalRecorder.stop()' before"));var a=new XMLHttpRequest;if(a.open("POST",e,!0),"object"===typeof t)for(var s=0,u=Object.keys(t);s<u.length;s++){var c=u[s];a.setRequestHeader(c,t[c])}a.onreadystatechange=function(){if(4===a.readyState)return"2"===a.status.toString().charAt(0)?r(a.responseText):i(a.status)},a.send(n.blob)})},e.prototype.uploadAsMultipartfile=function(e,t){var n=this;return new Promise(function(r,i){if(n.state!==o.LocalRecorderState.FINISHED)return i(Error("'LocalRecord.uploadAsMultipartfile()' needs 'LocalRecord.state' to be 'FINISHED' (current value: '"+n.state+"'). Call 'LocalRecorder.stop()' before"));var a=new XMLHttpRequest;if(a.open("POST",e,!0),"object"===typeof t)for(var u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];a.setRequestHeader(l,t[l])}var f=new FormData;f.append("file",n.blob,n.id+"."+s.getExtension(n.blob.type)),a.onreadystatechange=function(){if(4===a.readyState)return"2"===a.status.toString().charAt(0)?r(a.responseText):i(a.status)},a.send(f)})},e.prototype.onStopDefault=function(){u.log("MediaRecorder stopped  (state="+this.mediaRecorder.state+")"),this.blob=new Blob(this.chunks,{type:this.mediaRecorder.mimeType}),this.chunks=[],this.videoPreviewSrc=window.URL.createObjectURL(this.blob),this.state=o.LocalRecorderState.FINISHED},e}();t.LocalRecorder=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalRecorderState=void 0,function(e){e.READY="READY",e.RECORDING="RECORDING",e.PAUSED="PAUSED",e.FINISHED="FINISHED"}(t.LocalRecorderState||(t.LocalRecorderState={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenViduLoggerConfiguration=void 0,function(e){e.disabled="disabled",e.debug="debug",e.debug_app="debug_app"}(t.OpenViduLoggerConfiguration||(t.OpenViduLoggerConfiguration={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Connection=void 0;var r=n(161),o=n(45),i=n(121),a=o.OpenViduLogger.getInstance(),s=function(){function e(e,t){this.session=e,this.disposed=!1;var n="'Connection' created ";t.role?(this.localOptions=t,this.connectionId=this.localOptions.id,this.creationTime=this.localOptions.createdAt,this.data=this.localOptions.metadata,this.rpcSessionId=this.localOptions.sessionId,this.role=this.localOptions.role,this.record=this.localOptions.record,n+="(local)"):(this.remoteOptions=t,this.connectionId=this.remoteOptions.id,this.creationTime=this.remoteOptions.createdAt,this.remoteOptions.metadata&&(this.data=this.remoteOptions.metadata),this.remoteOptions.streams&&this.initRemoteStreams(this.remoteOptions.streams),n+="(remote) with 'connectionId' ["+this.remoteOptions.id+"]"),a.info(n)}return e.prototype.sendIceCandidate=function(e){var t=this;a.debug((this.stream.outboundStreamOpts?"Local":"Remote")+"candidate for"+this.connectionId,e),this.session.openvidu.sendRequest("onIceCandidate",{endpointName:this.connectionId,candidate:e.candidate,sdpMid:e.sdpMid,sdpMLineIndex:e.sdpMLineIndex},function(e,n){e&&(a.error("Error sending ICE candidate: "+JSON.stringify(e)),t.session.emitEvent("exception",[new i.ExceptionEvent(t.session,i.ExceptionEventName.ICE_CANDIDATE_ERROR,t.session,"There was an unexpected error on the server-side processing an ICE candidate generated and sent by the client-side",e)]))})},e.prototype.initRemoteStreams=function(e){var t=this;e.forEach(function(e){var n={id:e.id,createdAt:e.createdAt,connection:t,hasAudio:e.hasAudio,hasVideo:e.hasVideo,audioActive:e.audioActive,videoActive:e.videoActive,typeOfVideo:e.typeOfVideo,frameRate:e.frameRate,videoDimensions:e.videoDimensions?JSON.parse(e.videoDimensions):void 0,filter:e.filter?e.filter:void 0},o=new r.Stream(t.session,n);t.addStream(o)}),a.info("Remote 'Connection' with 'connectionId' ["+this.connectionId+"] is now configured for receiving Streams with options: ",this.stream.inboundStreamOpts)},e.prototype.addStream=function(e){e.connection=this,this.stream=e},e.prototype.removeStream=function(e){delete this.stream},e.prototype.dispose=function(){this.stream&&delete this.stream,this.disposed=!0},e}();t.Connection=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.VideoElementEvent=void 0;var o=function(e){function t(t,n,r){var o=e.call(this,!1,n,r)||this;return o.element=t,o}return r(t,e),t.prototype.callDefaultBehavior=function(){},t}(n(56).Event);t.VideoElementEvent=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.PublisherSpeakingEvent=void 0;var o=function(e){function t(t,n,r,o){var i=e.call(this,!1,t,n)||this;return i.type=n,i.connection=r,i.streamId=o,i}return r(t,e),t.prototype.callDefaultBehavior=function(){},t}(n(56).Event);t.PublisherSpeakingEvent=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionEvent=void 0;var o=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r)||this;return a.connection=o,a.reason=i,a}return r(t,e),t.prototype.callDefaultBehavior=function(){},t}(n(56).Event);t.ConnectionEvent=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.FilterEvent=void 0;var o=function(e){function t(t,n,r){var o=e.call(this,!1,t,n)||this;return o.data=r,o}return r(t,e),t.prototype.callDefaultBehavior=function(){},t}(n(56).Event);t.FilterEvent=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.RecordingEvent=void 0;var o=function(e){function t(t,n,r,o,i){var a=e.call(this,!1,t,n)||this;return a.id=r,o!==r&&(a.name=o),a.reason=i,a}return r(t,e),t.prototype.callDefaultBehavior=function(){},t}(n(56).Event);t.RecordingEvent=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.SignalEvent=void 0;var o=function(e){function t(t,n,r,o){var i=e.call(this,!1,t,"signal")||this;return n&&(i.type="signal:"+n),i.data=r,i.from=o,i}return r(t,e),t.prototype.callDefaultBehavior=function(){},t}(n(56).Event);t.SignalEvent=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionPropertyChangedEvent=void 0;var o=function(e){function t(t,n,r,o,i){var a=e.call(this,!1,t,"connectionPropertyChanged")||this;return a.connection=n,a.changedProperty=r,a.newValue=o,a.oldValue=i,a}return r(t,e),t.prototype.callDefaultBehavior=function(){},t}(n(56).Event);t.ConnectionPropertyChangedEvent=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkQualityLevelChangedEvent=void 0;var o=function(e){function t(t,n,r,o){var i=e.call(this,!1,t,"networkQualityLevelChanged")||this;return i.newValue=n,i.oldValue=r,i.connection=o,i}return r(t,e),t.prototype.callDefaultBehavior=function(){},t}(n(56).Event);t.NetworkQualityLevelChangedEvent=o},function(e,t,n){var r=n(342),o=n(343),i=n(224),a=n(225),s=a.MAX_LENGTH,u=a.MAX_SAFE_INTEGER,c=n(344),l=c.re,f=c.t,d=n(345),p=n(346).compareIdentifiers,h=function(){"use strict";function e(t,n){if(r(this,e),n=d(n),t instanceof e){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if("string"!==typeof t)throw new TypeError("Invalid Version: ".concat(t));if(t.length>s)throw new TypeError("version is longer than ".concat(s," characters"));i("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;var o=t.trim().match(n.loose?l[f.LOOSE]:l[f.FULL]);if(!o)throw new TypeError("Invalid Version: ".concat(t));if(this.raw=t,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>u||this.major<0)throw new TypeError("Invalid major version");if(this.minor>u||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>u||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<u)return t}return e}):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}return o(e,[{key:"format",value:function(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}},{key:"toString",value:function(){return this.version}},{key:"compare",value:function(t){if(i("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if("string"===typeof t&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}},{key:"compareMain",value:function(t){return t instanceof e||(t=new e(t,this.options)),p(this.major,t.major)||p(this.minor,t.minor)||p(this.patch,t.patch)}},{key:"comparePre",value:function(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var n=0;do{var r=this.prerelease[n],o=t.prerelease[n];if(i("prerelease compare",n,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return p(r,o)}while(++n)}},{key:"compareBuild",value:function(t){t instanceof e||(t=new e(t,this.options));var n=0;do{var r=this.build[n],o=t.build[n];if(i("prerelease compare",n,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return p(r,o)}while(++n)}},{key:"inc",value:function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"===typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: ".concat(e))}return this.format(),this.raw=this.version,this}}]),e}();e.exports=h},function(e,t,n){(function(t){var n="object"===typeof t&&Object({NODE_ENV:"production",PUBLIC_URL:""})&&Object({NODE_ENV:"production",PUBLIC_URL:""}).NODE_DEBUG&&/\bsemver\b/i.test(Object({NODE_ENV:"production",PUBLIC_URL:""}).NODE_DEBUG)?function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["SEMVER"].concat(n))}:function(){};e.exports=n}).call(this,n(105))},function(e,t){var n=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:n,MAX_SAFE_COMPONENT_LENGTH:16}},function(e,t,n){var r=!1;if(Object.defineProperty)try{Object.defineProperty({},"x",{})}catch(h){r=!0}Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},o=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,o.prototype=new r,o});var o=n(350).EventEmitter,i=n(351),a=n(352),s=n(355),u=5e3;function c(e){if(e){if(e instanceof Function)return{send:e};if(e.send instanceof Function)return e;if(e.postMessage instanceof Function)return e.send=e.postMessage,e;if(e.write instanceof Function)return e.send=e.write,e;if(void 0===e.onmessage&&!(e.pause instanceof Function))throw new SyntaxError("Transport is not a function nor a valid object")}}function l(e,t){r?(this.method=e,this.params=t):(Object.defineProperty(this,"method",{value:e,enumerable:!0}),Object.defineProperty(this,"params",{value:t,enumerable:!0}))}function f(e,t,n,a){var f=this;if(!e)throw new SyntaxError("Packer is not defined");if(!e.pack||!e.unpack)throw new SyntaxError("Packer is invalid");var d=function(e){if(!e)return{};for(var t in e){var n=e[t];"string"==typeof n&&(e[t]={response:n})}return e}(e.responseMethods);if(t instanceof Function){if(void 0!=n)throw new SyntaxError("There can't be parameters after onRequest");a=t,n=void 0,t=void 0}if(t&&t.send instanceof Function){if(n&&!(n instanceof Function))throw new SyntaxError("Only a function can be after transport");a=n,n=t,t=void 0}if(n instanceof Function){if(void 0!=a)throw new SyntaxError("There can't be parameters after onRequest");a=n,n=void 0}if(n&&n.send instanceof Function&&a&&!(a instanceof Function))throw new SyntaxError("Only a function can be after transport");t=t||{},o.call(this),a&&this.on("request",a),r?this.peerID=t.peerID:Object.defineProperty(this,"peerID",{value:t.peerID});var p=t.max_retries||0;function v(e){f.decode(e.data||e)}this.getTransport=function(){return n},this.setTransport=function(e){n&&(n.removeEventListener?n.removeEventListener("message",v):n.removeListener&&n.removeListener("data",v)),e&&(e.addEventListener?e.addEventListener("message",v):e.addListener&&e.addListener("data",v)),n=c(e)},r||Object.defineProperty(this,"transport",{get:this.getTransport.bind(this),set:this.setTransport.bind(this)}),this.setTransport(n);var m=t.request_timeout||u,g=t.ping_request_timeout||m,y=t.response_timeout||u,b=t.duplicates_timeout||u,w=0,x=new s,O=new s,E=new s,S={};function C(e,t){var n=setTimeout(function(){E.remove(e,t)},b);E.set(n,e,t)}function k(t,n,o,i,a){l.call(this,t,n),this.getTransport=function(){return a},this.setTransport=function(e){a=c(e)},r||Object.defineProperty(this,"transport",{get:this.getTransport.bind(this),set:this.setTransport.bind(this)});var s=O.get(o,i);a||f.getTransport()||(r?this.duplicated=Boolean(s):Object.defineProperty(this,"duplicated",{value:Boolean(s)}));var u=d[t];this.pack=e.pack.bind(e,this,o),this.reply=function(t,n,r){if(t instanceof Function||t&&t.send instanceof Function){if(void 0!=n)throw new SyntaxError("There can't be parameters after callback");r=t,n=null,t=void 0}else if(n instanceof Function||n&&n.send instanceof Function){if(void 0!=r)throw new SyntaxError("There can't be parameters after callback");r=n,n=null}var a;if(r=c(r),s&&clearTimeout(s.timeout),void 0!=i&&(t&&(t.dest=i),n&&(n.dest=i)),t||void 0!=n){if(void 0!=f.peerID&&(t?t.from=f.peerID:n.from=f.peerID),u)if(void 0==u.error&&t)a={error:t};else a={method:t?u.error:u.response,params:t||n};else a={error:t,result:n};a=e.pack(a,o)}else a=s?s.message:e.pack({result:null},o);return function(e,t,n){var r={message:e,timeout:setTimeout(function(){O.remove(t,n)},y)};O.set(r,t,n)}(a,o,i),(r=r||this.getTransport()||f.getTransport())?r.send(a):a}}function R(e){var t=S[e];if(t){delete S[e];var n=x.pop(t.id,t.dest);n&&(clearTimeout(n.timeout),C(t.id,t.dest))}}i(k,l),this.cancel=function(e){if(e)return R(e);for(var e in S)R(e)},this.close=function(){var e=this.getTransport();e&&e.close&&e.close(4003,"Cancel request"),this.cancel(),E.forEach(clearTimeout),O.forEach(function(e){clearTimeout(e.timeout)})},this.encode=function(t,n,r,o,i){if(n instanceof Function){if(void 0!=r)throw new SyntaxError("There can't be parameters after callback");i=n,o=void 0,r=void 0,n=void 0}else if(r instanceof Function){if(void 0!=o)throw new SyntaxError("There can't be parameters after callback");i=r,o=void 0,r=void 0}else if(o instanceof Function){if(void 0!=i)throw new SyntaxError("There can't be parameters after callback");i=o,o=void 0}void 0!=f.peerID&&((n=n||{}).from=f.peerID),void 0!=r&&((n=n||{}).dest=r);var a={method:t,params:n};if(i){var s=function(e,t){f.cancel(a),i(e,t)},u=function(e){var n="ping"===t?g:m;return b.timeout=setTimeout(h,n*Math.pow(2,y++)),S[a]={id:v,dest:r},x.set(b,v,r),(e=e||O||f.getTransport())?e.send(a):a},l=function(e){e=c(e),console.warn(y+" retry for request message:",a);var t=E.pop(v,r);return clearTimeout(t),u(e)},h=function(){if(y<p)return l(o);var e=new Error("Request has timed out");e.request=a,e.retry=l,s(e)},v=w++,y=0,b={message:a=e.pack(a,v),callback:s,responseMethods:d[t]||{}},O=c(o);return u(o)}return a=e.pack(a),(o=o||this.getTransport())?o.send(a):a},this.decode=function(t,n){if(!t)throw new TypeError("Message is not defined");try{t=e.unpack(t)}catch(h){return console.debug(h,t)}var r=t.id,o=t.ack,i=t.method,a=t.params||{},s=a.from,u=a.dest;if(void 0==f.peerID||s!=f.peerID){if(void 0==r&&void 0==o){var d=new l(i,a);if(f.emit("request",d))return;return d}if(i){if(void 0==u||u==f.peerID){if(g=x.get(o,s)){var p=g.responseMethods;return i==p.error?w(g,a):i==p.response?w(g,null,a):b()}if(y=E.get(o,s))return S(y)}return b()}var v=t.error,m=t.result;if((!v||!v.dest||v.dest==f.peerID)&&(!m||!m.dest||m.dest==f.peerID)){var g,y;if(!(g=x.get(o,s)))return(y=E.get(o,s))?S(y):console.warn("No callback was defined for this message",t);w(g,v,m)}}function b(){if(n=c(n)||f.getTransport()){var e=O.get(r,s);if(e)return n.send(e.message)}var t=new k(i,a,void 0!=r?r:o,s,n);if(!f.emit("request",t))return t}function w(e,t,n){e.callback(t,n)}function S(e){console.warn("Response already processed",t),clearTimeout(e),C(o,s)}}}i(f,o),f.RpcNotification=l,e.exports=f;var d=n(356),p=n(358);f.clients=d,f.clients.transports=p,f.packers=a},function(e,t,n){"use strict";var r=n(45).OpenViduLogger.getInstance(),o=2e3,i=3e3,a=3;e.exports=function(e){var t,n=!1,s=e.uri,u=!1,c=new WebSocket(s);c.onopen=function(){r.debug("WebSocket connected to "+s),e.onconnected&&e.onconnected()},c.onerror=function(t){r.error("Could not connect to "+s+" (invoking onerror if defined)",t),e.onerror&&e.onerror(t)};var l=function(){c.readyState===a?n?r.debug("Connection closed by user"):e.ismasternodecrashed()?r.error("Master Node has crashed. Stopping reconnection process"):(r.debug("Connection closed unexpectedly. Reconnecting..."),f(o,1)):r.debug("Close callback from previous websocket. Ignoring it")};function f(n,o){if(r.debug("reconnect (attempt #"+o+", max="+n+")"),1===o){if(u)return void r.warn("Trying to reconnect when already reconnecting... Ignoring this reconnection.");u=!0,e.onreconnecting&&e.onreconnecting()}!function(n,o){r.debug("Reconnection attempt #"+o),c.close(4104,"Connection closed for reconnection"),s=function(e){var t=new URLSearchParams(new URL(e).search);return t.has("reconnect")||(e=Array.from(t).length>0?e+"&reconnect=true":e+"?reconnect=true"),e}(s),(c=new WebSocket(s)).onopen=function(){r.debug("Reconnected to "+s+" after "+o+" attempts..."),u=!1,t(),e.onreconnected()&&e.onreconnected(),c.onclose=l},c.onerror=function(t){r.warn("Reconnection error: ",t),o===n?e.ondisconnect&&e.ondisconnect():setTimeout(function(){f(n,o+1)},i)}}(n,o)}c.onclose=l,this.close=function(e,t){n=!0,c.close(e,t)},this.reconnectWs=function(){r.debug("reconnectWs"),f(o,1)},this.send=function(e){c.send(e)},this.addEventListener=function(e,n){(t=function(){c.addEventListener(e,n)})()},this.getReadyState=function(){return c.readyState}}},function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)};var o="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function a(e,t,n){return e.concat(t).map(function(e){return i(e,n)})}function s(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}(e))}function u(e,t){try{return t in e}catch(n){return!1}}function c(e,t,n){var r={};return n.isMergeableObject(e)&&s(e).forEach(function(t){r[t]=i(e[t],n)}),s(t).forEach(function(o){(function(e,t){return u(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(u(e,o)&&n.isMergeableObject(t[o])?r[o]=function(e,t){if(!t.customMerge)return l;var n=t.customMerge(e);return"function"===typeof n?n:l}(o,n)(e[o],t[o],n):r[o]=i(t[o],n))}),r}function l(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||a,n.isMergeableObject=n.isMergeableObject||r,n.cloneUnlessOtherwiseSpecified=i;var o=Array.isArray(t);return o===Array.isArray(e)?o?n.arrayMerge(e,t,n):c(e,t,n):i(t,n)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,n){return l(e,n,t)},{})};var f=l;e.exports=f},function(e,t){var n="undefined"!==typeof Element,r="function"===typeof Map,o="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,t){try{return function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var s,u,c,l;if(Array.isArray(t)){if((s=t.length)!=a.length)return!1;for(u=s;0!==u--;)if(!e(t[u],a[u]))return!1;return!0}if(r&&t instanceof Map&&a instanceof Map){if(t.size!==a.size)return!1;for(l=t.entries();!(u=l.next()).done;)if(!a.has(u.value[0]))return!1;for(l=t.entries();!(u=l.next()).done;)if(!e(u.value[1],a.get(u.value[0])))return!1;return!0}if(o&&t instanceof Set&&a instanceof Set){if(t.size!==a.size)return!1;for(l=t.entries();!(u=l.next()).done;)if(!a.has(u.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(a)){if((s=t.length)!=a.length)return!1;for(u=s;0!==u--;)if(t[u]!==a[u])return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((s=(c=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(u=s;0!==u--;)if(!Object.prototype.hasOwnProperty.call(a,c[u]))return!1;if(n&&t instanceof Element)return!1;for(u=s;0!==u--;)if(("_owner"!==c[u]&&"__v"!==c[u]&&"__o"!==c[u]||!t.$$typeof)&&!e(t[c[u]],a[c[u]]))return!1;return!0}return t!==t&&a!==a}(e,t)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultProps=t.propTypes=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r};var i=o.default.string,a=o.default.bool,s=o.default.number,u=o.default.array,c=o.default.oneOfType,l=o.default.shape,f=o.default.object,d=o.default.func,p=o.default.node,h={url:c([i,u,f]),playing:a,loop:a,controls:a,volume:s,muted:a,playbackRate:s,width:c([i,s]),height:c([i,s]),style:f,progressInterval:s,playsinline:a,pip:a,stopOnUnmount:a,light:c([a,i]),playIcon:p,previewTabIndex:s,fallback:p,oEmbedUrl:i,wrapper:c([i,d,l({render:d.isRequired})]),config:l({soundcloud:l({options:f}),youtube:l({playerVars:f,embedOptions:f,onUnstarted:d}),facebook:l({appId:i,version:i,playerId:i,attributes:f}),dailymotion:l({params:f}),vimeo:l({playerOptions:f,title:i}),file:l({attributes:f,tracks:u,forceVideo:a,forceAudio:a,forceHLS:a,forceDASH:a,forceFLV:a,hlsOptions:f,hlsVersion:i,dashVersion:i,flvVersion:i}),wistia:l({options:f,playerId:i,customControls:u}),mixcloud:l({options:f}),twitch:l({options:f,playerId:i}),vidyard:l({options:f})}),onReady:d,onStart:d,onPlay:d,onPause:d,onBuffer:d,onBufferEnd:d,onEnded:d,onError:d,onDuration:d,onSeek:d,onPlaybackRateChange:d,onProgress:d,onClickPreview:d,onEnablePIP:d,onDisablePIP:d};t.propTypes=h;var v=function(){},m={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:v},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0"},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:v,onStart:v,onPlay:v,onPause:v,onBuffer:v,onBufferEnd:v,onEnded:v,onError:v,onDuration:v,onSeek:v,onPlaybackRateChange:v,onProgress:v,onClickPreview:v,onEnablePIP:v,onDisablePIP:v};t.defaultProps=m},function(e,t,n){"use strict";var r;n.r(t);var o=new Uint8Array(16);function i(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(e){return"string"===typeof e&&a.test(e)},u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));var l,f,d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n},p=0,h=0;var v=function(e,t,n){var r=t&&n||0,o=t||new Array(16),a=(e=e||{}).node||l,s=void 0!==e.clockseq?e.clockseq:f;if(null==a||null==s){var u=e.random||(e.rng||i)();null==a&&(a=l=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==s&&(s=f=16383&(u[6]<<8|u[7]))}var c=void 0!==e.msecs?e.msecs:Date.now(),v=void 0!==e.nsecs?e.nsecs:h+1,m=c-p+(v-h)/1e4;if(m<0&&void 0===e.clockseq&&(s=s+1&16383),(m<0||c>p)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=c,h=v,f=s;var g=(1e4*(268435455&(c+=122192928e5))+v)%4294967296;o[r++]=g>>>24&255,o[r++]=g>>>16&255,o[r++]=g>>>8&255,o[r++]=255&g;var y=c/4294967296*1e4&268435455;o[r++]=y>>>8&255,o[r++]=255&y,o[r++]=y>>>24&15|16,o[r++]=y>>>16&255,o[r++]=s>>>8|128,o[r++]=255&s;for(var b=0;b<6;++b)o[r+b]=a[b];return t||d(o)};var m=function(e){if(!s(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};var g=function(e,t,n){function r(e,r,o,i){if("string"===typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"===typeof r&&(r=m(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(r),a.set(e,r.length),(a=n(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,o){i=i||0;for(var s=0;s<16;++s)o[i+s]=a[s];return o}return d(a)}try{r.name=e}catch(o){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r};function y(e){return 14+(e+64>>>9<<4)+1}function b(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function w(e,t,n,r,o,i){return b((a=b(b(t,e),b(r,i)))<<(s=o)|a>>>32-s,n);var a,s}function x(e,t,n,r,o,i,a){return w(t&n|~t&r,e,t,o,i,a)}function O(e,t,n,r,o,i,a){return w(t&r|n&~r,e,t,o,i,a)}function E(e,t,n,r,o,i,a){return w(t^n^r,e,t,o,i,a)}function S(e,t,n,r,o,i,a){return w(n^(t|~r),e,t,o,i,a)}var C=g("v3",48,function(e){if("string"===typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r=0;r<n;r+=8){var o=e[r>>5]>>>r%32&255,i=parseInt("0123456789abcdef".charAt(o>>>4&15)+"0123456789abcdef".charAt(15&o),16);t.push(i)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[y(t)-1]=t;for(var n=1732584193,r=-271733879,o=-1732584194,i=271733878,a=0;a<e.length;a+=16){var s=n,u=r,c=o,l=i;n=x(n,r,o,i,e[a],7,-680876936),i=x(i,n,r,o,e[a+1],12,-389564586),o=x(o,i,n,r,e[a+2],17,606105819),r=x(r,o,i,n,e[a+3],22,-1044525330),n=x(n,r,o,i,e[a+4],7,-176418897),i=x(i,n,r,o,e[a+5],12,1200080426),o=x(o,i,n,r,e[a+6],17,-1473231341),r=x(r,o,i,n,e[a+7],22,-45705983),n=x(n,r,o,i,e[a+8],7,1770035416),i=x(i,n,r,o,e[a+9],12,-1958414417),o=x(o,i,n,r,e[a+10],17,-42063),r=x(r,o,i,n,e[a+11],22,-1990404162),n=x(n,r,o,i,e[a+12],7,1804603682),i=x(i,n,r,o,e[a+13],12,-40341101),o=x(o,i,n,r,e[a+14],17,-1502002290),r=x(r,o,i,n,e[a+15],22,1236535329),n=O(n,r,o,i,e[a+1],5,-165796510),i=O(i,n,r,o,e[a+6],9,-1069501632),o=O(o,i,n,r,e[a+11],14,643717713),r=O(r,o,i,n,e[a],20,-373897302),n=O(n,r,o,i,e[a+5],5,-701558691),i=O(i,n,r,o,e[a+10],9,38016083),o=O(o,i,n,r,e[a+15],14,-660478335),r=O(r,o,i,n,e[a+4],20,-405537848),n=O(n,r,o,i,e[a+9],5,568446438),i=O(i,n,r,o,e[a+14],9,-1019803690),o=O(o,i,n,r,e[a+3],14,-187363961),r=O(r,o,i,n,e[a+8],20,1163531501),n=O(n,r,o,i,e[a+13],5,-1444681467),i=O(i,n,r,o,e[a+2],9,-51403784),o=O(o,i,n,r,e[a+7],14,1735328473),r=O(r,o,i,n,e[a+12],20,-1926607734),n=E(n,r,o,i,e[a+5],4,-378558),i=E(i,n,r,o,e[a+8],11,-2022574463),o=E(o,i,n,r,e[a+11],16,1839030562),r=E(r,o,i,n,e[a+14],23,-35309556),n=E(n,r,o,i,e[a+1],4,-1530992060),i=E(i,n,r,o,e[a+4],11,1272893353),o=E(o,i,n,r,e[a+7],16,-155497632),r=E(r,o,i,n,e[a+10],23,-1094730640),n=E(n,r,o,i,e[a+13],4,681279174),i=E(i,n,r,o,e[a],11,-358537222),o=E(o,i,n,r,e[a+3],16,-722521979),r=E(r,o,i,n,e[a+6],23,76029189),n=E(n,r,o,i,e[a+9],4,-640364487),i=E(i,n,r,o,e[a+12],11,-421815835),o=E(o,i,n,r,e[a+15],16,530742520),r=E(r,o,i,n,e[a+2],23,-995338651),n=S(n,r,o,i,e[a],6,-198630844),i=S(i,n,r,o,e[a+7],10,1126891415),o=S(o,i,n,r,e[a+14],15,-1416354905),r=S(r,o,i,n,e[a+5],21,-57434055),n=S(n,r,o,i,e[a+12],6,1700485571),i=S(i,n,r,o,e[a+3],10,-1894986606),o=S(o,i,n,r,e[a+10],15,-1051523),r=S(r,o,i,n,e[a+1],21,-2054922799),n=S(n,r,o,i,e[a+8],6,1873313359),i=S(i,n,r,o,e[a+15],10,-30611744),o=S(o,i,n,r,e[a+6],15,-1560198380),r=S(r,o,i,n,e[a+13],21,1309151649),n=S(n,r,o,i,e[a+4],6,-145523070),i=S(i,n,r,o,e[a+11],10,-1120210379),o=S(o,i,n,r,e[a+2],15,718787259),r=S(r,o,i,n,e[a+9],21,-343485551),n=b(n,s),r=b(r,u),o=b(o,c),i=b(i,l)}return[n,r,o,i]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(y(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))});var k=function(e,t,n){var r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return d(r)};function R(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function j(e,t){return e<<t|e>>>32-t}var P=g("v5",80,function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var o=0;o<r.length;++o)e.push(r.charCodeAt(o))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var i=e.length/4+2,a=Math.ceil(i/16),s=new Array(a),u=0;u<a;++u){for(var c=new Uint32Array(16),l=0;l<16;++l)c[l]=e[64*u+4*l]<<24|e[64*u+4*l+1]<<16|e[64*u+4*l+2]<<8|e[64*u+4*l+3];s[u]=c}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(var f=0;f<a;++f){for(var d=new Uint32Array(80),p=0;p<16;++p)d[p]=s[f][p];for(var h=16;h<80;++h)d[h]=j(d[h-3]^d[h-8]^d[h-14]^d[h-16],1);for(var v=n[0],m=n[1],g=n[2],y=n[3],b=n[4],w=0;w<80;++w){var x=Math.floor(w/20),O=j(v,5)+R(x,m,g,y)+b+t[x]+d[w]>>>0;b=y,y=g,g=j(m,30)>>>0,m=v,v=O}n[0]=n[0]+v>>>0,n[1]=n[1]+m>>>0,n[2]=n[2]+g>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]});var T=function(e){if(!s(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)};n.d(t,"v1",function(){return v}),n.d(t,"v3",function(){return C}),n.d(t,"v4",function(){return k}),n.d(t,"v5",function(){return P}),n.d(t,"NIL",function(){return"00000000-0000-0000-0000-000000000000"}),n.d(t,"version",function(){return T}),n.d(t,"validate",function(){return s}),n.d(t,"stringify",function(){return d}),n.d(t,"parse",function(){return m})},function(e,t,n){"use strict";n.r(t);var r=n(425),o=n(12),i=n(143),a=n(95),s=n(144);var u=function(e,t){return function(){return null}},c=n(98),l=n(79),f=n(126),d=n(172),p=n(134).a,h=n(94),v=n(109);var m=function(e,t,n,r,o){return null},g=n(61),y=n(87),b=n(24),w=n(96);n.d(t,"unstable_ClassNameGenerator",function(){return x}),n.d(t,"capitalize",function(){return o.a}),n.d(t,"createChainedFunction",function(){return i.a}),n.d(t,"createSvgIcon",function(){return a.a}),n.d(t,"debounce",function(){return s.a}),n.d(t,"deprecatedPropType",function(){return u}),n.d(t,"isMuiElement",function(){return c.a}),n.d(t,"ownerDocument",function(){return l.a}),n.d(t,"ownerWindow",function(){return f.a}),n.d(t,"requirePropFactory",function(){return d.a}),n.d(t,"setRef",function(){return p}),n.d(t,"unstable_useEnhancedEffect",function(){return h.a}),n.d(t,"unstable_useId",function(){return v.a}),n.d(t,"unsupportedProp",function(){return m}),n.d(t,"useControlled",function(){return g.a}),n.d(t,"useEventCallback",function(){return y.a}),n.d(t,"useForkRef",function(){return b.a}),n.d(t,"useIsFocusVisible",function(){return w.a});var x={configure:function(e){console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),r.a.configure(e)}}},function(e,t,n){"use strict";var r=n(63);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},function(e,t,n){"use strict";e.exports=n(300)},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventDispatcher=t.ExceptionEventName=t.ExceptionEvent=t.NetworkQualityLevelChangedEvent=t.FilterEvent=t.ConnectionPropertyChangedEvent=t.StreamPropertyChangedEvent=t.VideoElementEvent=t.StreamManagerEvent=t.StreamEvent=t.SignalEvent=t.SessionDisconnectedEvent=t.RecordingEvent=t.PublisherSpeakingEvent=t.ConnectionEvent=t.Event=t.VideoInsertMode=t.TypeOfVideo=t.OpenViduErrorName=t.OpenViduError=t.LocalRecorderState=t.Filter=t.LocalRecorder=t.Connection=t.Stream=t.StreamManager=t.Subscriber=t.Publisher=t.Session=t.OpenVidu=void 0;var r=n(210),o=n(326);Object.defineProperty(t,"OpenVidu",{enumerable:!0,get:function(){return o.OpenVidu}});var i=n(141);Object.defineProperty(t,"Session",{enumerable:!0,get:function(){return i.Session}});var a=n(160);Object.defineProperty(t,"Publisher",{enumerable:!0,get:function(){return a.Publisher}});var s=n(163);Object.defineProperty(t,"Subscriber",{enumerable:!0,get:function(){return s.Subscriber}});var u=n(164);Object.defineProperty(t,"StreamManager",{enumerable:!0,get:function(){return u.StreamManager}});var c=n(161);Object.defineProperty(t,"Stream",{enumerable:!0,get:function(){return c.Stream}});var l=n(214);Object.defineProperty(t,"Connection",{enumerable:!0,get:function(){return l.Connection}});var f=n(211);Object.defineProperty(t,"LocalRecorder",{enumerable:!0,get:function(){return f.LocalRecorder}});var d=n(162);Object.defineProperty(t,"Filter",{enumerable:!0,get:function(){return d.Filter}});var p=n(212);Object.defineProperty(t,"LocalRecorderState",{enumerable:!0,get:function(){return p.LocalRecorderState}});var h=n(108);Object.defineProperty(t,"OpenViduError",{enumerable:!0,get:function(){return h.OpenViduError}}),Object.defineProperty(t,"OpenViduErrorName",{enumerable:!0,get:function(){return h.OpenViduErrorName}});var v=n(168);Object.defineProperty(t,"TypeOfVideo",{enumerable:!0,get:function(){return v.TypeOfVideo}});var m=n(142);Object.defineProperty(t,"VideoInsertMode",{enumerable:!0,get:function(){return m.VideoInsertMode}});var g=n(56);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return g.Event}});var y=n(217);Object.defineProperty(t,"ConnectionEvent",{enumerable:!0,get:function(){return y.ConnectionEvent}});var b=n(216);Object.defineProperty(t,"PublisherSpeakingEvent",{enumerable:!0,get:function(){return b.PublisherSpeakingEvent}});var w=n(219);Object.defineProperty(t,"RecordingEvent",{enumerable:!0,get:function(){return w.RecordingEvent}});var x=n(169);Object.defineProperty(t,"SessionDisconnectedEvent",{enumerable:!0,get:function(){return x.SessionDisconnectedEvent}});var O=n(220);Object.defineProperty(t,"SignalEvent",{enumerable:!0,get:function(){return O.SignalEvent}});var E=n(170);Object.defineProperty(t,"StreamEvent",{enumerable:!0,get:function(){return E.StreamEvent}});var S=n(167);Object.defineProperty(t,"StreamManagerEvent",{enumerable:!0,get:function(){return S.StreamManagerEvent}});var C=n(215);Object.defineProperty(t,"VideoElementEvent",{enumerable:!0,get:function(){return C.VideoElementEvent}});var k=n(107);Object.defineProperty(t,"StreamPropertyChangedEvent",{enumerable:!0,get:function(){return k.StreamPropertyChangedEvent}});var R=n(221);Object.defineProperty(t,"ConnectionPropertyChangedEvent",{enumerable:!0,get:function(){return R.ConnectionPropertyChangedEvent}});var j=n(218);Object.defineProperty(t,"FilterEvent",{enumerable:!0,get:function(){return j.FilterEvent}});var P=n(222);Object.defineProperty(t,"NetworkQualityLevelChangedEvent",{enumerable:!0,get:function(){return P.NetworkQualityLevelChangedEvent}});var T=n(121);Object.defineProperty(t,"ExceptionEvent",{enumerable:!0,get:function(){return T.ExceptionEvent}}),Object.defineProperty(t,"ExceptionEventName",{enumerable:!0,get:function(){return T.ExceptionEventName}});var _=n(165);Object.defineProperty(t,"EventDispatcher",{enumerable:!0,get:function(){return _.EventDispatcher}}),r.JL.setOptions({enabled:!1})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return v});var r=n(19),o=n(20),i=n(23),a=n(18),s=n(22),u=n(110),c=n(112),l=n(145),f=n(65),d=n(82),p=n(81),h="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),v=function(t){function n(e){var t;return Object(r.a)(this,n),(t=Object(i.a)(this,Object(a.a)(n).call(this,e))).supportsBinary=!e.forceBase64,t}return Object(s.a)(n,t),Object(o.a)(n,[{key:"doOpen",value:function(){if(this.check()){var e=this.uri(),t=this.opts.protocols,n=h?{}:Object(f.c)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=d.d&&!h?t?new d.a(e,t):new d.a(e):new d.a(e,t,n)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType||d.b,this.addEventListeners()}}},{key:"addEventListeners",value:function(){var e=this;this.ws.onopen=function(){e.opts.autoUnref&&e.ws._socket.unref(),e.onOpen()},this.ws.onclose=function(t){return e.onClose({description:"websocket connection closed",context:t})},this.ws.onmessage=function(t){return e.onData(t.data)},this.ws.onerror=function(t){return e.onError("websocket error",t)}}},{key:"write",value:function(t){var n=this;this.writable=!1;for(var r=function(r){var o=t[r],i=r===t.length-1;Object(p.c)(o,n.supportsBinary,function(t){var r={};d.d||(o.options&&(r.compress=o.options.compress),n.opts.perMessageDeflate&&("string"===typeof t?e.byteLength(t):t.length)<n.opts.perMessageDeflate.threshold&&(r.compress=!1));try{d.d?n.ws.send(t):n.ws.send(t,r)}catch(a){}i&&Object(d.c)(function(){n.writable=!0,n.emitReserved("drain")},n.setTimeoutFn)})},o=0;o<t.length;o++)r(o)}},{key:"doClose",value:function(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"wss":"ws",n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=Object(l.a)()),this.supportsBinary||(e.b64=1);var r=Object(c.b)(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}},{key:"check",value:function(){return!!d.a}},{key:"name",get:function(){return"websocket"}}]),n}(u.a)}).call(this,n(159).Buffer)},function(e,t,n){"use strict";function r(e,t){return"function"===typeof e?e(t):e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1),o=n(243);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Object(o.a)(e)?t:Object(r.a)({},t,{ownerState:Object(r.a)({},t.ownerState,n)})}},function(e,t,n){"use strict";t.a=function(e){return"string"===typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(369))&&r.__esModule?r:{default:r},i=n(383);var a=o.default[o.default.length-1],s=(0,i.createReactPlayer)(o.default,a);t.default=s},,,function(e,t,n){"use strict";var r=n(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(35)),i=n(4),a=(0,o.default)((0,i.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline");t.default=a},function(e,t,n){"use strict";var r=n(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(35)),i=n(4),a=(0,o.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=a},function(e,t,n){"use strict";var r=n(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(35)),i=n(4),a=(0,o.default)((0,i.jsx)("path",{d:"M13 3h-2v10h2V3zm4.83 2.17-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z"}),"PowerSettingsNew");t.default=a},function(e,t,n){"use strict";var r=n(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(35)),i=n(4),a=(0,o.default)([(0,i.jsx)("circle",{cx:"9",cy:"13",r:"1.25"},"0"),(0,i.jsx)("path",{d:"m20.77 8.58-.92 2.01c.09.46.15.93.15 1.41 0 4.41-3.59 8-8 8s-8-3.59-8-8c0-.05.01-.1 0-.14 2.6-.98 4.69-2.99 5.74-5.55C11.58 8.56 14.37 10 17.5 10c.45 0 .89-.04 1.33-.1l-.6-1.32-.88-1.93-1.93-.88-2.79-1.27 2.79-1.27.71-.32C14.87 2.33 13.47 2 12 2 6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10c0-1.47-.33-2.87-.9-4.13l-.33.71z"},"1"),(0,i.jsx)("circle",{cx:"15",cy:"13",r:"1.25"},"2"),(0,i.jsx)("path",{d:"M20.6 5.6 19.5 8l-1.1-2.4L16 4.5l2.4-1.1L19.5 1l1.1 2.4L23 4.5z"},"3")],"FaceRetouchingNatural");t.default=a},function(e,t,n){"use strict";var r=n(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(35)),i=n(4),a=(0,o.default)((0,i.jsx)("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"}),"Videocam");t.default=a},function(e,t,n){"use strict";var r=n(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(35)),i=n(4),a=(0,o.default)((0,i.jsx)("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"}),"Mic");t.default=a},function(e,t,n){"use strict";var r=n(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(35)),i=n(4),a=(0,o.default)((0,i.jsx)("path",{d:"M3 3h18v2H3zm0 16h18v2H3zm0-8h18v2H3z"}),"DensityMedium");t.default=a},function(e,t,n){"use strict";var r=n(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(35)),i=n(4),a=(0,o.default)((0,i.jsx)("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"}),"QuestionAnswer");t.default=a},function(e,t,n){"use strict";var r=n(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(35)),i=n(4),a=(0,o.default)((0,i.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");t.default=a},function(e,t,n){"use strict";var r=n(34);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(35)),i=n(4),a=(0,o.default)((0,i.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");t.default=a},function(e,t,n){"use strict";(function(e){var r=n(85),o=n(0),i=n.n(o),a=n(258),s=n.n(a),u=n(259),c=n(260),l=n(113),f=n(86),d=n.n(f);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=function(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n},v=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(r.typeOf)(e)},m=Object.freeze([]),g=Object.freeze({});function y(e){return"function"==typeof e}function b(e){return e.displayName||e.name||"Component"}function w(e){return e&&"string"==typeof e.styledComponentId}var x="undefined"!=typeof e&&(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_ATTR)||"data-styled",O="undefined"!=typeof window&&"HTMLElement"in window,E=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:""}).SC_DISABLE_SPEEDY));function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var C=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,o=r;e>=o;)(o<<=1)<0&&S(16,""+e);this.groupSizes=new Uint32Array(o),this.groupSizes.set(n),this.length=o;for(var i=r;i<o;i++)this.groupSizes[i]=0}for(var a=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var o=n;o<r;o++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),o=r+n,i=r;i<o;i++)t+=this.tag.getRule(i)+"/*!sc*/\n";return t},e}(),k=new Map,R=new Map,j=1,P=function(e){if(k.has(e))return k.get(e);for(;R.has(j);)j++;var t=j++;return k.set(e,t),R.set(t,e),t},T=function(e){return R.get(e)},_=function(e,t){t>=j&&(j=t+1),k.set(e,t),R.set(t,e)},I="style["+x+'][data-styled-version="5.3.5"]',A=new RegExp("^"+x+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),N=function(e,t,n){for(var r,o=n.split(","),i=0,a=o.length;i<a;i++)(r=o[i])&&e.registerName(t,r)},M=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],o=0,i=n.length;o<i;o++){var a=n[o].trim();if(a){var s=a.match(A);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(_(c,u),N(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},D=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},L=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(x))return r}}(n),i=void 0!==o?o.nextSibling:null;r.setAttribute(x,"active"),r.setAttribute("data-styled-version","5.3.5");var a=D();return a&&r.setAttribute("nonce",a),n.insertBefore(r,i),r},F=function(){function e(e){var t=this.element=L(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var o=t[n];if(o.ownerNode===e)return o}S(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),B=function(){function e(e){var t=this.element=L(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),V=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),U=O,W={isServer:!O,useCSSOMInjection:!E},z=function(){function e(e,t,n){void 0===e&&(e=g),void 0===t&&(t={}),this.options=p({},W,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&O&&U&&(U=!1,function(e){for(var t=document.querySelectorAll(I),n=0,r=t.length;n<r;n++){var o=t[n];o&&"active"!==o.getAttribute(x)&&(M(e,o),o.parentNode&&o.parentNode.removeChild(o))}}(this))}e.registerId=function(e){return P(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(p({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,o=t.target,e=n?new V(o):r?new F(o):new B(o),new C(e)));var e,t,n,r,o},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(P(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(P(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(P(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",o=0;o<n;o++){var i=T(o);if(void 0!==i){var a=e.names.get(i),s=t.getGroup(o);if(a&&s&&a.size){var u=x+".g"+o+'[id="'+i+'"]',c="";void 0!==a&&a.forEach(function(e){e.length>0&&(c+=e+",")}),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),H=/(a)(d)/gi,q=function(e){return String.fromCharCode(e+(e>25?39:97))};function G(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=q(t%52)+n;return(q(t%52)+n).replace(H,"$1-$2")}var K=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},$=function(e){return K(5381,e)};function X(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(y(n)&&!w(n))return!1}return!0}var Y=$("5.3.5"),J=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&X(e),this.componentId=t,this.baseHash=K(Y,t),this.baseStyle=n,z.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,o=[];if(this.baseStyle&&o.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))o.push(this.staticRulesId);else{var i=ve(this.rules,e,t,n).join(""),a=G(K(this.baseHash,i)>>>0);if(!t.hasNameForId(r,a)){var s=n(i,"."+a,void 0,r);t.insertRules(r,a,s)}o.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=K(this.baseHash,n.hash),l="",f=0;f<u;f++){var d=this.rules[f];if("string"==typeof d)l+=d;else if(d){var p=ve(d,e,t,n),h=Array.isArray(p)?p.join(""):p;c=K(c,h+f),l+=h}}if(l){var v=G(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}o.push(v)}}return o.join(" ")},e}(),Q=/^\s*\/\/.*$/gm,Z=[":","[",".","#"];function ee(e){var t,n,r,o,i=void 0===e?g:e,a=i.options,s=void 0===a?g:a,c=i.plugins,l=void 0===c?m:c,f=new u.a(s),d=[],p=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,o,i,a,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(o[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}(function(e){d.push(e)}),h=function(e,r,i){return 0===r&&-1!==Z.indexOf(i[n.length])||i.match(o)?e:"."+t};function v(e,i,a,s){void 0===s&&(s="&");var u=e.replace(Q,""),c=i&&a?a+" "+i+" { "+u+" }":u;return t=s,n=i,r=new RegExp("\\"+n+"\\b","g"),o=new RegExp("(\\"+n+"\\b){2,}"),f(a||!i?"":i,c)}return f.use([].concat(l,[function(e,t,o){2===e&&o.length&&o[0].lastIndexOf(n)>0&&(o[0]=o[0].replace(r,h))},p,function(e){if(-2===e){var t=d;return d=[],t}}])),v.hash=l.length?l.reduce(function(e,t){return t.name||S(15),K(e,t.name)},5381).toString():"",v}var te=i.a.createContext(),ne=(te.Consumer,i.a.createContext()),re=(ne.Consumer,new z),oe=ee();function ie(){return Object(o.useContext)(te)||re}function ae(){return Object(o.useContext)(ne)||oe}function se(e){var t=Object(o.useState)(e.stylisPlugins),n=t[0],r=t[1],a=ie(),u=Object(o.useMemo)(function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t},[e.disableCSSOMInjection,e.sheet,e.target]),c=Object(o.useMemo)(function(){return ee({options:{prefix:!e.disableVendorPrefixes},plugins:n})},[e.disableVendorPrefixes,n]);return Object(o.useEffect)(function(){s()(n,e.stylisPlugins)||r(e.stylisPlugins)},[e.stylisPlugins]),i.a.createElement(te.Provider,{value:u},i.a.createElement(ne.Provider,{value:c},e.children))}var ue=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=oe);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return S(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=oe),this.name+e.hash},e}(),ce=/([A-Z])/,le=/([A-Z])/g,fe=/^ms-/,de=function(e){return"-"+e.toLowerCase()};function pe(e){return ce.test(e)?e.replace(le,de).replace(fe,"-ms-"):e}var he=function(e){return null==e||!1===e||""===e};function ve(e,t,n,r){if(Array.isArray(e)){for(var o,i=[],a=0,s=e.length;a<s;a+=1)""!==(o=ve(e[a],t,n,r))&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));return i}return he(e)?"":w(e)?"."+e.styledComponentId:y(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:ve(e(t),t,n,r):e instanceof ue?n?(e.inject(n,r),e.getName(r)):e:v(e)?function e(t,n){var r,o,i=[];for(var a in t)t.hasOwnProperty(a)&&!he(t[a])&&(Array.isArray(t[a])&&t[a].isCss||y(t[a])?i.push(pe(a)+":",t[a],";"):v(t[a])?i.push.apply(i,e(t[a],a)):i.push(pe(a)+": "+(r=a,null==(o=t[a])||"boolean"==typeof o||""===o?"":"number"!=typeof o||0===o||r in c.a?String(o).trim():o+"px")+";"));return n?[n+" {"].concat(i,["}"]):i}(e):e.toString();var u}var me=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function ge(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return y(e)||v(e)?me(ve(h(m,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:me(ve(h(e,n)))}new Set;var ye=function(e,t,n){return void 0===n&&(n=g),e.theme!==n.theme&&e.theme||t||n.theme},be=/[!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~-]+/g,we=/(^-|-$)/g;function xe(e){return e.replace(be,"-").replace(we,"")}var Oe=function(e){return G($(e)>>>0)};function Ee(e){return"string"==typeof e&&!0}var Se=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Ce=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function ke(e,t,n){var r=e[n];Se(t)&&Se(r)?Re(r,t):e[n]=t}function Re(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0,i=n;o<i.length;o++){var a=i[o];if(Se(a))for(var s in a)Ce(s)&&ke(e,a[s],s)}return e}var je=i.a.createContext();je.Consumer;var Pe={};function Te(e,t,n){var r=w(e),a=!Ee(e),s=t.attrs,u=void 0===s?m:s,c=t.componentId,f=void 0===c?function(e,t){var n="string"!=typeof e?"sc":xe(e);Pe[n]=(Pe[n]||0)+1;var r=n+"-"+Oe("5.3.5"+n+Pe[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):c,h=t.displayName,v=void 0===h?function(e){return Ee(e)?"styled."+e:"Styled("+b(e)+")"}(e):h,x=t.displayName&&t.componentId?xe(t.displayName)+"-"+t.componentId:t.componentId||f,O=r&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,E=t.shouldForwardProp;r&&e.shouldForwardProp&&(E=t.shouldForwardProp?function(n,r,o){return e.shouldForwardProp(n,r,o)&&t.shouldForwardProp(n,r,o)}:e.shouldForwardProp);var S,C=new J(n,x,r?e.componentStyle:void 0),k=C.isStatic&&0===u.length,R=function(e,t){return function(e,t,n,r){var i=e.attrs,a=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,f=e.styledComponentId,d=e.target,h=function(e,t,n){void 0===e&&(e=g);var r=p({},t,{theme:e}),o={};return n.forEach(function(e){var t,n,i,a=e;for(t in y(a)&&(a=a(r)),a)r[t]=o[t]="className"===t?(n=o[t],i=a[t],n&&i?n+" "+i:n||i):a[t]}),[r,o]}(ye(t,Object(o.useContext)(je),s)||g,t,i),v=h[0],m=h[1],b=function(e,t,n,r){var o=ie(),i=ae();return t?e.generateAndInjectStyles(g,o,i):e.generateAndInjectStyles(n,o,i)}(a,r,v),w=n,x=m.$as||t.$as||m.as||t.as||d,O=Ee(x),E=m!==t?p({},t,{},m):t,S={};for(var C in E)"$"!==C[0]&&"as"!==C&&("forwardedAs"===C?S.as=E[C]:(c?c(C,l.a,x):!O||Object(l.a)(C))&&(S[C]=E[C]));return t.style&&m.style!==t.style&&(S.style=p({},t.style,{},m.style)),S.className=Array.prototype.concat(u,f,b!==f?b:null,t.className,m.className).filter(Boolean).join(" "),S.ref=w,Object(o.createElement)(x,S)}(S,e,t,k)};return R.displayName=v,(S=i.a.forwardRef(R)).attrs=O,S.componentStyle=C,S.displayName=v,S.shouldForwardProp=E,S.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):m,S.styledComponentId=x,S.target=r?e.target:e,S.withComponent=function(e){var r=t.componentId,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["componentId"]),i=r&&r+"-"+(Ee(e)?e:xe(b(e)));return Te(e,p({},o,{attrs:O,componentId:i}),n)},Object.defineProperty(S,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Re({},e.defaultProps,t):t}}),S.toString=function(){return"."+S.styledComponentId},a&&d()(S,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),S}var _e=function(e){return function e(t,n,o){if(void 0===o&&(o=g),!Object(r.isValidElementType)(n))return S(1,String(n));var i=function(){return t(n,o,ge.apply(void 0,arguments))};return i.withConfig=function(r){return e(t,n,p({},o,{},r))},i.attrs=function(r){return e(t,n,p({},o,{attrs:Array.prototype.concat(o.attrs,r).filter(Boolean)}))},i}(Te,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){_e[e]=_e(e)});!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=X(e),z.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var o=r(ve(this.rules,t,n,r).join(""),""),i=this.componentId+e;n.insertRules(i,i,o)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&z.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=D();return"<style "+[n&&'nonce="'+n+'"',x+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?S(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return S(2);var n=((t={})[x]="",t["data-styled-version"]="5.3.5",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=D();return r&&(n.nonce=r),[i.a.createElement("style",p({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new z({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?S(2):i.a.createElement(se,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return S(3)}}();t.a=_e}).call(this,n(105))},function(e,t){e.exports=function(e,t,n,r){var o=n?n.call(r,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<i.length;u++){var c=i[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(o=n?n.call(r,l,f,c):void 0)||void 0===o&&l!==f)return!1}return!0}},function(e,t,n){"use strict";t.a=function(e){function t(e,t,r){var o=t.trim().split(h);t=o;var i=o.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<i;++s)t[s]=n(e,t[s],r).trim();break;default:var u=s=0;for(t=[];s<i;++s)for(var c=0;c<a;++c)t[u++]=n(e[c]+" ",o[s],r).trim()}return t}function n(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(v,"$1"+e.trim());case 58:return e.trim()+t.replace(v,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(v,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,n,i){var a=e+";",s=2*t+3*n+4*i;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===P||2===P&&o(u,1)?"-webkit-"+u+u:u}if(0===P||2===P&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(C,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(b,"tb");break;case 232:u=a.replace(b,"tb-rl");break;case 220:u=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(O,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(O,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,n,i).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+i&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),A(2!==t?r:r.replace(E,"$1"),n,t)}function i(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function a(e,t,n,r,o,i,a,s,c,l){for(var f,d=0,p=t;d<I;++d)switch(f=_[d].call(u,e,p,n,r,o,i,a,s,c,l)){case void 0:case!1:case!0:case null:break;default:p=f}if(p!==t)return p}function s(e){return void 0!==(e=e.prefix)&&(A=null,e?"function"!==typeof e?P=1:(P=2,A=e):P=0),s}function u(e,n){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<I){var u=a(-1,n,s,s,R,k,0,0,0,0);void 0!==u&&"string"===typeof u&&(n=u)}var f=function e(n,s,u,f,d){for(var p,h,v,b,x,O=0,E=0,S=0,C=0,_=0,A=0,M=v=p=0,D=0,L=0,F=0,B=0,V=u.length,U=V-1,W="",z="",H="",q="";D<V;){if(h=u.charCodeAt(D),D===U&&0!==E+C+S+O&&(0!==E&&(h=47===E?10:47),C=S=O=0,V++,U++),0===E+C+S+O){if(D===U&&(0<L&&(W=W.replace(l,"")),0<W.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:W+=u.charAt(D)}h=59}switch(h){case 123:for(p=(W=W.trim()).charCodeAt(0),v=1,B=++D;D<V;){switch(h=u.charCodeAt(D)){case 123:v++;break;case 125:v--;break;case 47:switch(h=u.charCodeAt(D+1)){case 42:case 47:e:{for(M=D+1;M<U;++M)switch(u.charCodeAt(M)){case 47:if(42===h&&42===u.charCodeAt(M-1)&&D+2!==M){D=M+1;break e}break;case 10:if(47===h){D=M+1;break e}}D=M}}break;case 91:h++;case 40:h++;case 34:case 39:for(;D++<U&&u.charCodeAt(D)!==h;);}if(0===v)break;D++}switch(v=u.substring(B,D),0===p&&(p=(W=W.replace(c,"").trim()).charCodeAt(0)),p){case 64:switch(0<L&&(W=W.replace(l,"")),h=W.charCodeAt(1)){case 100:case 109:case 115:case 45:L=s;break;default:L=T}if(B=(v=e(s,L,v,h,d+1)).length,0<I&&(x=a(3,v,L=t(T,W,F),s,R,k,B,h,d,f),W=L.join(""),void 0!==x&&0===(B=(v=x.trim()).length)&&(h=0,v="")),0<B)switch(h){case 115:W=W.replace(w,i);case 100:case 109:case 45:v=W+"{"+v+"}";break;case 107:v=(W=W.replace(m,"$1 $2"))+"{"+v+"}",v=1===P||2===P&&o("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=W+v,112===f&&(z+=v,v="")}else v="";break;default:v=e(s,t(s,W,F),v,f,d+1)}H+=v,v=F=L=M=p=0,W="",h=u.charCodeAt(++D);break;case 125:case 59:if(1<(B=(W=(0<L?W.replace(l,""):W).trim()).length))switch(0===M&&(p=W.charCodeAt(0),45===p||96<p&&123>p)&&(B=(W=W.replace(" ",":")).length),0<I&&void 0!==(x=a(1,W,s,n,R,k,z.length,f,d,f))&&0===(B=(W=x.trim()).length)&&(W="\0\0"),p=W.charCodeAt(0),h=W.charCodeAt(1),p){case 0:break;case 64:if(105===h||99===h){q+=W+u.charAt(D);break}default:58!==W.charCodeAt(B-1)&&(z+=r(W,p,h,W.charCodeAt(2)))}F=L=M=p=0,W="",h=u.charCodeAt(++D)}}switch(h){case 13:case 10:47===E?E=0:0===1+p&&107!==f&&0<W.length&&(L=1,W+="\0"),0<I*N&&a(0,W,s,n,R,k,z.length,f,d,f),k=1,R++;break;case 59:case 125:if(0===E+C+S+O){k++;break}default:switch(k++,b=u.charAt(D),h){case 9:case 32:if(0===C+O+E)switch(_){case 44:case 58:case 9:case 32:b="";break;default:32!==h&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===C+E+O&&(L=F=1,b="\f"+b);break;case 108:if(0===C+E+O+j&&0<M)switch(D-M){case 2:112===_&&58===u.charCodeAt(D-3)&&(j=_);case 8:111===A&&(j=A)}break;case 58:0===C+E+O&&(M=D);break;case 44:0===E+S+C+O&&(L=1,b+="\r");break;case 34:case 39:0===E&&(C=C===h?0:0===C?h:C);break;case 91:0===C+E+S&&O++;break;case 93:0===C+E+S&&O--;break;case 41:0===C+E+O&&S--;break;case 40:if(0===C+E+O){if(0===p)switch(2*_+3*A){case 533:break;default:p=1}S++}break;case 64:0===E+S+C+O+M+v&&(v=1);break;case 42:case 47:if(!(0<C+O+S))switch(E){case 0:switch(2*h+3*u.charCodeAt(D+1)){case 235:E=47;break;case 220:B=D,E=42}break;case 42:47===h&&42===_&&B+2!==D&&(33===u.charCodeAt(B+2)&&(z+=u.substring(B,D+1)),b="",E=0)}}0===E&&(W+=b)}A=_,_=h,D++}if(0<(B=z.length)){if(L=s,0<I&&void 0!==(x=a(2,z,L,n,R,k,B,f,d,f))&&0===(z=x).length)return q+z+H;if(z=L.join(",")+"{"+z+"}",0!==P*j){switch(2!==P||o(z,2)||(j=0),j){case 111:z=z.replace(y,":-moz-$1")+z;break;case 112:z=z.replace(g,"::-webkit-input-$1")+z.replace(g,"::-moz-$1")+z.replace(g,":-ms-input-$1")+z}j=0}}return q+z+H}(T,s,n,0,0);return 0<I&&void 0!==(u=a(-2,f,s,s,R,k,f.length,0,0,0))&&(f=u),j=0,k=R=1,f}var c=/^\0+/g,l=/[\0\r\f]/g,f=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,h=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,y=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,O=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,k=1,R=1,j=0,P=1,T=[],_=[],I=0,A=null,N=0;return u.use=function e(t){switch(t){case void 0:case null:I=_.length=0;break;default:if("function"===typeof t)_[I++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else N=0|!!t}return e},u.set=s,void 0!==e&&s(e),u}},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";var r=n(406),o=n(407),i=n(411);function a(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=n(415),c=n(416),l=n(417),f=n(418),d=Symbol("encodeFragmentIdentifier");function p(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function h(e,t){return t.encode?t.strict?u(e):encodeURIComponent(e):e}function v(e,t){return t.decode?c(e):e}function m(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function g(e){var t=(e=m(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function y(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function b(e,t){p((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"colon-list-separator":return function(e,n,r){t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return function(t,n,r){var o="string"===typeof n&&n.includes(e.arrayFormatSeparator),i="string"===typeof n&&!o&&v(n,e).includes(e.arrayFormatSeparator);n=i?v(n,e):n;var a=o||i?n.split(e.arrayFormatSeparator).map(function(t){return v(t,e)}):null===n?n:v(n,e);r[t]=a};case"bracket-separator":return function(t,n,r){var o=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),o){var i=null===n?[]:n.split(e.arrayFormatSeparator).map(function(t){return v(t,e)});void 0!==r[t]?r[t]=[].concat(r[t],i):r[t]=i}else r[t]=n?v(n,e):n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!==typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;var i,s=a(e.split("&"));try{for(s.s();!(i=s.n()).done;){var u=i.value;if(""!==u){var c=l(t.decode?u.replace(/\+/g," "):u,"="),f=o(c,2),d=f[0],h=f[1];h=void 0===h?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?h:v(h,t),n(v(d,t),h,r)}}}catch(S){s.e(S)}finally{s.f()}for(var m=0,g=Object.keys(r);m<g.length;m++){var b=g[m],w=r[b];if("object"===typeof w&&null!==w)for(var x=0,O=Object.keys(w);x<O.length;x++){var E=O[x];w[E]=y(w[E],t)}else r[b]=y(w,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"===typeof t?e(Object.keys(t)).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return t[e]}):t}(n):e[t]=n,e},Object.create(null))}t.extract=g,t.parse=b,t.stringify=function(e,t){if(!e)return"";p((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);for(var n=function(n){return t.skipNull&&(null===(r=e[n])||void 0===r)||t.skipEmptyString&&""===e[n];var r},r=function(e){switch(e.arrayFormat){case"index":return function(t){return function(n,r){var o=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(i(n),null===r?[[h(t,e),"[",o,"]"].join("")]:[[h(t,e),"[",h(o,e),"]=",h(r,e)].join("")])}};case"bracket":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(i(n),null===r?[[h(t,e),"[]"].join("")]:[[h(t,e),"[]=",h(r,e)].join("")])}};case"colon-list-separator":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(i(n),null===r?[[h(t,e),":list="].join("")]:[[h(t,e),":list=",h(r,e)].join("")])}};case"comma":case"separator":case"bracket-separator":var t="bracket-separator"===e.arrayFormat?"[]=":"=";return function(n){return function(r,o){return void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:(o=null===o?"":o,0===r.length?[[h(n,e),t,h(o,e)].join("")]:[[r,h(o,e)].join(e.arrayFormatSeparator)])}};default:return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(i(n),null===r?[h(t,e)]:[[h(t,e),"=",h(r,e)].join("")])}}}}(t),o={},a=0,s=Object.keys(e);a<s.length;a++){var u=s[a];n(u)||(o[u]=e[u])}var c=Object.keys(o);return!1!==t.sort&&c.sort(t.sort),c.map(function(n){var o=e[n];return void 0===o?"":null===o?h(n,t):Array.isArray(o)?0===o.length&&"bracket-separator"===t.arrayFormat?h(n,t)+"[]":o.reduce(r(n),[]).join("&"):h(n,t)+"="+h(o,t)}).filter(function(e){return e.length>0}).join("&")},t.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var n=l(e,"#"),r=o(n,2),i=r[0],a=r[1];return Object.assign({url:i.split("?")[0]||"",query:b(g(e),t)},t&&t.parseFragmentIdentifier&&a?{fragmentIdentifier:v(a,t)}:{})},t.stringifyUrl=function(e,n){n=Object.assign(r({encode:!0,strict:!0},d,!0),n);var o=m(e.url).split("?")[0]||"",i=t.extract(e.url),a=t.parse(i,{sort:!1}),s=Object.assign(a,e.query),u=t.stringify(s,n);u&&(u="?".concat(u));var c=function(e){var t="",n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(c="#".concat(n[d]?h(e.fragmentIdentifier,n):e.fragmentIdentifier)),"".concat(o).concat(u).concat(c)},t.pick=function(e,n,o){o=Object.assign(r({parseFragmentIdentifier:!0},d,!1),o);var i=t.parseUrl(e,o),a=i.url,s=i.query,u=i.fragmentIdentifier;return t.stringifyUrl({url:a,query:f(s,n),fragmentIdentifier:u},o)},t.exclude=function(e,n,r){var o=Array.isArray(n)?function(e){return!n.includes(e)}:function(e,t){return!n(e,t)};return t.pick(e,o,r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.dispatch;return function(e){return function(n){return(0,i.isFSA)(n)?(0,o.default)(n.payload)?n.payload.then(function(e){return t(a({},n,{payload:e}))}).catch(function(e){return t(a({},n,{payload:e,error:!0})),Promise.reject(e)}):e(n):(0,o.default)(n)?n.then(t):e(n)}}};var r,o=(r=n(419))&&r.__esModule?r:{default:r},i=n(420);function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"===typeof o?o(n,r,e):t(o)}}}}var o=r();o.withExtraArgument=r,t.a=o},function(e,t,n){"use strict";var r=n(6),o=n(1),i=n(8),a=n(153),s=n(187),u=n(432);function c(e,t){var n;return Object(o.a)({toolbar:(n={minHeight:56},Object(r.a)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),Object(r.a)(n,e.up("sm"),{minHeight:64}),n)},t)}var l=n(474),f={black:"#000",white:"#fff"},d={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},p={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},h={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},g={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=["mode","contrastThreshold","tonalOffset"],w={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:f.white,default:f.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},x={text:{primary:f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function O(e,t,n,r){var o=r.light||r,i=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(l.e)(e.main,o):"dark"===t&&(e.dark=Object(l.b)(e.main,i)))}function E(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,u=void 0===r?3:r,c=e.tonalOffset,E=void 0===c?.2:c,S=Object(i.a)(e,b),C=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[200],light:m[50],dark:m[400]}:{main:m[700],light:m[400],dark:m[800]}}(n),k=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[200],light:p[50],dark:p[400]}:{main:p[500],light:p[300],dark:p[700]}}(n),R=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:h[500],light:h[300],dark:h[700]}:{main:h[700],light:h[400],dark:h[800]}}(n),j=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:g[700],light:g[500],dark:g[900]}}(n),P=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[800],light:y[500],dark:y[900]}}(n),T=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:"#ed6c02",light:v[500],dark:v[900]}}(n);function _(e){return Object(l.d)(e,x.text.primary)>=u?x.text.primary:w.text.primary}var I=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,s=e.lightShade,u=void 0===s?300:s,c=e.darkShade,l=void 0===c?700:c;if(!(t=Object(o.a)({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(Object(a.a)(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(Object(a.a)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return O(t,"light",u,E),O(t,"dark",l,E),t.contrastText||(t.contrastText=_(t.main)),t},A={dark:x,light:w};return Object(s.a)(Object(o.a)({common:Object(o.a)({},f),mode:n,primary:I({color:C,name:"primary"}),secondary:I({color:k,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:I({color:R,name:"error"}),warning:I({color:T,name:"warning"}),info:I({color:j,name:"info"}),success:I({color:P,name:"success"}),grey:d,contrastThreshold:u,getContrastText:_,augmentColor:I,tonalOffset:E},A[n]),S)}var S=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var C={textTransform:"uppercase"},k='"Roboto", "Helvetica", "Arial", sans-serif';function R(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,a=void 0===r?k:r,u=n.fontSize,c=void 0===u?14:u,l=n.fontWeightLight,f=void 0===l?300:l,d=n.fontWeightRegular,p=void 0===d?400:d,h=n.fontWeightMedium,v=void 0===h?500:h,m=n.fontWeightBold,g=void 0===m?700:m,y=n.htmlFontSize,b=void 0===y?16:y,w=n.allVariants,x=n.pxToRem,O=Object(i.a)(n,S);var E=c/14,R=x||function(e){return"".concat(e/b*E,"rem")},j=function(e,t,n,r,i){return Object(o.a)({fontFamily:a,fontWeight:e,fontSize:R(t),lineHeight:n},a===k?{letterSpacing:"".concat((s=r/t,Math.round(1e5*s)/1e5),"em")}:{},i,w);var s},P={h1:j(f,96,1.167,-1.5),h2:j(f,60,1.2,-.5),h3:j(p,48,1.167,0),h4:j(p,34,1.235,.25),h5:j(p,24,1.334,0),h6:j(v,20,1.6,.15),subtitle1:j(p,16,1.75,.15),subtitle2:j(v,14,1.57,.1),body1:j(p,16,1.5,.15),body2:j(p,14,1.43,.15),button:j(v,14,1.75,.4,C),caption:j(p,12,1.66,.4),overline:j(p,12,2.66,1,C)};return Object(s.a)(Object(o.a)({htmlFontSize:b,pxToRem:R,fontFamily:a,fontSize:c,fontWeightLight:f,fontWeightRegular:p,fontWeightMedium:v,fontWeightBold:g},P),O,{clone:!1})}var j=.2,P=.14,T=.12;function _(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(j,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(P,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(T,")")].join(",")}var I=["none",_(0,2,1,-1,0,1,1,0,0,1,3,0),_(0,3,1,-2,0,2,2,0,0,1,5,0),_(0,3,3,-2,0,3,4,0,0,1,8,0),_(0,2,4,-1,0,4,5,0,0,1,10,0),_(0,3,5,-1,0,5,8,0,0,1,14,0),_(0,3,5,-1,0,6,10,0,0,1,18,0),_(0,4,5,-2,0,7,10,1,0,2,16,1),_(0,5,5,-3,0,8,10,1,0,3,14,2),_(0,5,6,-3,0,9,12,1,0,3,16,2),_(0,6,6,-3,0,10,14,1,0,4,18,3),_(0,6,7,-4,0,11,15,1,0,4,20,3),_(0,7,8,-4,0,12,17,2,0,5,22,4),_(0,7,8,-4,0,13,19,2,0,5,24,4),_(0,7,9,-4,0,14,21,2,0,5,26,4),_(0,8,9,-5,0,15,22,2,0,6,28,5),_(0,8,10,-5,0,16,24,2,0,6,30,5),_(0,8,11,-5,0,17,26,2,0,6,32,5),_(0,9,11,-5,0,18,28,2,0,7,34,6),_(0,9,12,-6,0,19,29,2,0,7,36,6),_(0,10,13,-6,0,20,31,3,0,8,38,7),_(0,10,13,-6,0,21,33,3,0,8,40,7),_(0,10,14,-6,0,22,35,3,0,8,42,7),_(0,11,14,-7,0,23,36,3,0,9,44,8),_(0,11,15,-7,0,24,38,3,0,9,46,8)],A=["duration","easing","delay"],N={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},M={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function D(e){return"".concat(Math.round(e),"ms")}function L(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function F(e){var t=Object(o.a)({},N,e.easing),n=Object(o.a)({},M,e.duration);return Object(o.a)({getAutoHeightDuration:L,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.duration,a=void 0===o?n.standard:o,s=r.easing,u=void 0===s?t.easeInOut:s,c=r.delay,l=void 0===c?0:c;Object(i.a)(r,A);return(Array.isArray(e)?e:[e]).map(function(e){return"".concat(e," ").concat("string"===typeof a?a:D(a)," ").concat(u," ").concat("string"===typeof l?l:D(l))}).join(",")}},e,{easing:t,duration:n})}var B={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},V=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,l=void 0===r?{}:r,f=e.transitions,d=void 0===f?{}:f,p=e.typography,h=void 0===p?{}:p,v=Object(i.a)(e,V);if(e.vars)throw new Error(Object(a.a)(18));var m=E(l),g=Object(u.a)(e),y=Object(s.a)(g,{mixins:c(g.breakpoints,n),palette:m,shadows:I.slice(),typography:R(m,h),transitions:F(d),zIndex:Object(o.a)({},B)});y=Object(s.a)(y,v);for(var b=arguments.length,w=new Array(b>1?b-1:0),x=1;x<b;x++)w[x-1]=arguments[x];return y=w.reduce(function(e,t){return Object(s.a)(e,t)},y)}t.a=U},function(e,t,n){"use strict";var r=n(0);var o=r.createContext(null);t.a=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=r.useContext(o);return n&&(e=n,0!==Object.keys(e).length)?n:t}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(153);function o(e){if("string"!==typeof e)throw new Error(Object(r.a)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(425),o={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",i=o[t];return i?"".concat(n,"-").concat(i):"".concat(r.a.generate(e),"-").concat(t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),o=n(134);function i(e,t){return r.useMemo(function(){return null==e&&null==t?null:function(n){Object(o.a)(e,n),Object(o.a)(t,n)}},[e,t])}},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=Symbol.for("react.element"),o=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||v}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||v}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var x=w.prototype=new b;x.constructor=w,m(x,y.prototype),x.isPureReactComponent=!0;var O=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,o)&&!C.hasOwnProperty(o)&&(i[o]=t[o]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(o in u=e.defaultProps)void 0===i[o]&&(i[o]=u[o]);return{$$typeof:r,type:e,key:a,ref:s,props:i,_owner:S.current}}function R(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var j=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,n,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case r:case o:u=!0}}if(u)return a=a(u=e),e=""===i?"."+P(u,0):i,O(a)?(n="",null!=e&&(n=e.replace(j,"$&/")+"/"),T(a,t,n,"",function(e){return e})):null!=a&&(R(a)&&(a=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(j,"$&/")+"/")+e)),t.push(a)),1;if(u=0,i=""===i?".":i+":",O(e))for(var c=0;c<e.length;c++){var l=i+P(s=e[c],c);u+=T(s,t,n,l,a)}else if("function"===typeof(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,n,l=i+P(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function _(e,t,n){if(null==e)return e;var r=[],o=0;return T(e,r,"","",function(e){return t.call(n,e,o++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},N={transition:null},M={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:N,ReactCurrentOwner:S};t.Children={map:_,forEach:function(e,t,n){_(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _(e,function(){t++}),t},toArray:function(e){return _(e,function(e){return e})||[]},only:function(e){if(!R(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=w,t.StrictMode=a,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)E.call(t,c)&&!C.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];o.children=u}return{$$typeof:r,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=R,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},function(e,t,n){"use strict";var r=n(0),o=n(294);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function v(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new v(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new v(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new v(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new v(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new v(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=m.hasOwnProperty(t)?m[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!f.call(h,e)||!f.call(p,e)&&(d.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),O=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),R=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var D,L=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var B=!1;function V(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var u="\n"+o[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case E:return"Fragment";case O:return"Portal";case C:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case T:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case R:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case j:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case _:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case I:n=t._payload,t=t._init;try{return e(t(n))}catch(r){}}return null}(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Z(e,t.type,n):t.hasOwnProperty("defaultValue")&&Z(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Z(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ee=Array.isArray;function te(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+z(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(ee(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:z(n)}}function oe(e,t){var n=z(t.value),r=z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,le=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function he(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=he(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(de).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]})});var me=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Oe=null,Ee=null;function Se(e){if(e=po(e)){if("function"!==typeof xe)throw Error(i(280));var t=e.stateNode;t&&(t=vo(t),xe(e.stateNode,e.type,t))}}function Ce(e){Oe?Ee?Ee.push(e):Ee=[e]:Oe=e}function ke(){if(Oe){var e=Oe,t=Ee;if(Ee=Oe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Re(e,t){return e(t)}function je(){}var Pe=!1;function Te(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Re(e,t,n)}finally{Pe=!1,(null!==Oe||null!==Ee)&&(je(),ke())}}function _e(e,t){var n=e.stateNode;if(null===n)return null;var r=vo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Ie=!1;if(l)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(ce){Ie=!1}var Ne=!1,Me=null,De=!1,Le=null,Fe={onError:function(e){Ne=!0,Me=e}};function Be(e,t,n,r,o,i,a,s,u){Ne=!1,Me=null,function(e,t,n,r,o,i,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}.apply(Fe,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(i(188))}function ze(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return We(o),e;if(a===r)return We(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,r=a;break}if(u===r){s=!0,r=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=o;break}if(u===r){s=!0,r=a,n=o;break}u=u.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var He=o.unstable_scheduleCallback,qe=o.unstable_cancelCallback,Ge=o.unstable_shouldYield,Ke=o.unstable_requestPaint,$e=o.unstable_now,Xe=o.unstable_getCurrentPriorityLevel,Ye=o.unstable_ImmediatePriority,Je=o.unstable_UserBlockingPriority,Qe=o.unstable_NormalPriority,Ze=o.unstable_LowPriority,et=o.unstable_IdlePriority,tt=null,nt=null;var rt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ot(e)/it|0)|0},ot=Math.log,it=Math.LN2;var at=64,st=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ct(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=ut(s):0!==(i&=a)&&(r=ut(i))}else 0!==(a=n&~o)?r=ut(a):0!==i&&(r=ut(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-rt(t)),r|=e[n],t&=~o;return r}function lt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function dt(){var e=at;return 0===(4194240&(at<<=1))&&(at=64),e}function pt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ht(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var mt=0;function gt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var yt,bt,wt,xt,Ot,Et=!1,St=[],Ct=null,kt=null,Rt=null,jt=new Map,Pt=new Map,Tt=[],_t="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function At(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=po(t))&&bt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Nt(e){var t=fo(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void Ot(e.priority,function(){wt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=po(n))&&bt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Dt(e,t,n){Mt(e)&&n.delete(t)}function Lt(){Et=!1,null!==Ct&&Mt(Ct)&&(Ct=null),null!==kt&&Mt(kt)&&(kt=null),null!==Rt&&Mt(Rt)&&(Rt=null),jt.forEach(Dt),Pt.forEach(Dt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Lt)))}function Bt(e){function t(t){return Ft(t,e)}if(0<St.length){Ft(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Ft(Ct,e),null!==kt&&Ft(kt,e),null!==Rt&&Ft(Rt,e),jt.forEach(t),Pt.forEach(t),n=0;n<Tt.length;n++)(r=Tt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Tt.length&&null===(n=Tt[0]).blockedOn;)Nt(n),null===n.blockedOn&&Tt.shift()}var Vt=w.ReactCurrentBatchConfig,Ut=!0;function Wt(e,t,n,r){var o=mt,i=Vt.transition;Vt.transition=null;try{mt=1,Ht(e,t,n,r)}finally{mt=o,Vt.transition=i}}function zt(e,t,n,r){var o=mt,i=Vt.transition;Vt.transition=null;try{mt=4,Ht(e,t,n,r)}finally{mt=o,Vt.transition=i}}function Ht(e,t,n,r){if(Ut){var o=Gt(e,t,n,r);if(null===o)Lr(e,t,r,qt,n),It(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Ct=At(Ct,e,t,n,r,o),!0;case"dragenter":return kt=At(kt,e,t,n,r,o),!0;case"mouseover":return Rt=At(Rt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return jt.set(i,At(jt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Pt.set(i,At(Pt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<_t.indexOf(e)){for(;null!==o;){var i=po(o);if(null!==i&&yt(i),null===(i=Gt(e,t,n,r))&&Lr(e,t,r,qt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Lr(e,t,r,null,n)}}var qt=null;function Gt(e,t,n,r){if(qt=null,null!==(e=fo(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ye:return 1;case Je:return 4;case Qe:case Ze:return 16;case et:return 536870912;default:return 16}default:return 16}}var $t=null,Xt=null,Yt=null;function Jt(){if(Yt)return Yt;var e,t,n=Xt,r=n.length,o="value"in $t?$t.value:$t.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Yt=o.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Zt(){return!0}function en(){return!1}function tn(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Zt:en,this.isPropagationStopped=en,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Zt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Zt)},persist:function(){},isPersistent:Zt}),t}var nn,rn,on,an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=tn(an),un=L({},an,{view:0,detail:0}),cn=tn(un),ln=L({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(nn=e.screenX-on.screenX,rn=e.screenY-on.screenY):rn=nn=0,on=e),nn)},movementY:function(e){return"movementY"in e?e.movementY:rn}}),fn=tn(ln),dn=tn(L({},ln,{dataTransfer:0})),pn=tn(L({},un,{relatedTarget:0})),hn=tn(L({},an,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=tn(L({},an,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),mn=tn(L({},an,{data:0})),gn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=bn[e])&&!!t[e]}function xn(){return wn}var On=tn(L({},un,{key:function(e){if(e.key){var t=gn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?yn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),En=tn(L({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Sn=tn(L({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Cn=tn(L({},an,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=tn(L({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Rn=[9,13,27,32],jn=l&&"CompositionEvent"in window,Pn=null;l&&"documentMode"in document&&(Pn=document.documentMode);var Tn=l&&"TextEvent"in window&&!Pn,_n=l&&(!jn||Pn&&8<Pn&&11>=Pn),In=String.fromCharCode(32),An=!1;function Nn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Dn=!1;var Ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ln[e.type]:"textarea"===t}function Bn(e,t,n,r){Ce(r),0<(t=Br(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,Un=null;function Wn(e){_r(e,0)}function zn(e){if(G(ho(e)))return e}function Hn(e,t){if("change"===e)return t}var qn=!1;if(l){var Gn;if(l){var Kn="oninput"in document;if(!Kn){var $n=document.createElement("div");$n.setAttribute("oninput","return;"),Kn="function"===typeof $n.oninput}Gn=Kn}else Gn=!1;qn=Gn&&(!document.documentMode||9<document.documentMode)}function Xn(){Vn&&(Vn.detachEvent("onpropertychange",Yn),Un=Vn=null)}function Yn(e){if("value"===e.propertyName&&zn(Un)){var t=[];Bn(t,Un,e,we(e)),Te(Wn,t)}}function Jn(e,t,n){"focusin"===e?(Xn(),Un=n,(Vn=t).attachEvent("onpropertychange",Yn)):"focusout"===e&&Xn()}function Qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zn(Un)}function Zn(e,t){if("click"===e)return zn(t)}function er(e,t){if("input"===e||"change"===e)return zn(t)}var tr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function nr(e,t){if(tr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!f.call(t,o)||!tr(e[o],t[o]))return!1}return!0}function rr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function or(e,t){var n,r=rr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rr(r)}}function ir(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function sr(e){var t=ir(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&ar(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=or(n,i);var a=or(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ur=l&&"documentMode"in document&&11>=document.documentMode,cr=null,lr=null,fr=null,dr=!1;function pr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;dr||null==cr||cr!==K(r)||("selectionStart"in(r=cr)&&ar(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},fr&&nr(fr,r)||(fr=r,0<(r=Br(lr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=cr)))}function hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vr={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionend:hr("Transition","TransitionEnd")},mr={},gr={};function yr(e){if(mr[e])return mr[e];if(!vr[e])return e;var t,n=vr[e];for(t in n)if(n.hasOwnProperty(t)&&t in gr)return mr[e]=n[t];return e}l&&(gr=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);var br=yr("animationend"),wr=yr("animationiteration"),xr=yr("animationstart"),Or=yr("transitionend"),Er=new Map,Sr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){Er.set(e,t),u(t,[e])}for(var kr=0;kr<Sr.length;kr++){var Rr=Sr[kr];Cr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Cr(br,"onAnimationEnd"),Cr(wr,"onAnimationIteration"),Cr(xr,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,u,c){if(Be.apply(this,arguments),Ne){if(!Ne)throw Error(i(198));var l=Me;Ne=!1,Me=null,De||(De=!0,Le=l)}}(r,t,void 0,e),e.currentTarget=null}function _r(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==i&&o.isPropagationStopped())break e;Tr(o,s,c),i=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==i&&o.isPropagationStopped())break e;Tr(o,s,c),i=u}}}if(De)throw e=Le,De=!1,Le=null,e}function Ir(e,t){var n=t[uo];void 0===n&&(n=t[uo]=new Set);var r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}function Ar(e,t,n){var r=0;t&&(r|=4),Dr(n,e,r,t)}var Nr="_reactListening"+Math.random().toString(36).slice(2);function Mr(e){if(!e[Nr]){e[Nr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Pr.has(t)||Ar(t,!1,e),Ar(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Nr]||(t[Nr]=!0,Ar("selectionchange",!1,t))}}function Dr(e,t,n,r){switch(Kt(t)){case 1:var o=Wt;break;case 4:o=zt;break;default:o=Ht}n=o.bind(null,t,n,e),o=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===o||8===u.nodeType&&u.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=fo(s)))return;if(5===(u=a.tag)||6===u){r=i=a;continue e}s=s.parentNode}}r=r.return}Te(function(){var r=i,o=we(n),a=[];e:{var s=Er.get(e);if(void 0!==s){var u=sn,c=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":u=On;break;case"focusin":c="focus",u=pn;break;case"focusout":c="blur",u=pn;break;case"beforeblur":case"afterblur":u=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Sn;break;case br:case wr:case xr:u=hn;break;case Or:u=Cn;break;case"scroll":u=cn;break;case"wheel":u=kn;break;case"copy":case"cut":case"paste":u=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=En}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var p,h=r;null!==h;){var v=(p=h).stateNode;if(5===p.tag&&null!==v&&(p=v,null!==d&&(null!=(v=_e(h,d))&&l.push(Fr(h,v,p)))),f)break;h=h.return}0<l.length&&(s=new u(s,c,null,n,o),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!fo(c)&&!c[so])&&(u||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?fo(c):null)&&(c!==(f=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=fn,v="onMouseLeave",d="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=En,v="onPointerLeave",d="onPointerEnter",h="pointer"),f=null==u?s:ho(u),p=null==c?s:ho(c),(s=new l(v,h+"leave",u,n,o)).target=f,s.relatedTarget=p,v=null,fo(o)===r&&((l=new l(d,h+"enter",c,n,o)).target=p,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(d=c,h=0,p=l=u;p;p=Vr(p))h++;for(p=0,v=d;v;v=Vr(v))p++;for(;0<h-p;)l=Vr(l),h--;for(;0<p-h;)d=Vr(d),p--;for(;h--;){if(l===d||null!==d&&l===d.alternate)break e;l=Vr(l),d=Vr(d)}l=null}else l=null;null!==u&&Ur(a,s,u,l,!1),null!==c&&null!==f&&Ur(a,f,c,l,!0)}if("select"===(u=(s=r?ho(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Hn;else if(Fn(s))if(qn)m=er;else{m=Qn;var g=Jn}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=Zn);switch(m&&(m=m(e,r))?Bn(a,m,n,o):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&Z(s,"number",s.value)),g=r?ho(r):window,e){case"focusin":(Fn(g)||"true"===g.contentEditable)&&(cr=g,lr=r,fr=null);break;case"focusout":fr=lr=cr=null;break;case"mousedown":dr=!0;break;case"contextmenu":case"mouseup":case"dragend":dr=!1,pr(a,n,o);break;case"selectionchange":if(ur)break;case"keydown":case"keyup":pr(a,n,o)}var y;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Dn?Nn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(_n&&"ko"!==n.locale&&(Dn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Dn&&(y=Jt()):(Xt="value"in($t=o)?$t.value:$t.textContent,Dn=!0)),0<(g=Br(r,b)).length&&(b=new mn(b,e,null,n,o),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=Mn(n))&&(b.data=y))),(y=Tn?function(e,t){switch(e){case"compositionend":return Mn(t);case"keypress":return 32!==t.which?null:(An=!0,In);case"textInput":return(e=t.data)===In&&An?null:e;default:return null}}(e,n):function(e,t){if(Dn)return"compositionend"===e||!jn&&Nn(e,t)?(e=Jt(),Yt=Xt=$t=null,Dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Br(r,"onBeforeInput")).length&&(o=new mn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=y))}_r(a,t)})}function Fr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Br(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=_e(e,n))&&r.unshift(Fr(e,i,o)),null!=(i=_e(e,t))&&r.push(Fr(e,i,o))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(u=_e(n,i))&&a.unshift(Fr(n,u,s)):o||null!=(u=_e(n,i))&&a.push(Fr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Wr=/\r\n?/g,zr=/\u0000|\uFFFD/g;function Hr(e){return("string"===typeof e?e:""+e).replace(Wr,"\n").replace(zr,"")}function qr(e,t,n){if(t=Hr(t),Hr(e)!==t&&n)throw Error(i(425))}function Gr(){}var Kr=null,$r=null;function Xr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Yr="function"===typeof setTimeout?setTimeout:void 0,Jr="function"===typeof clearTimeout?clearTimeout:void 0,Qr="function"===typeof Promise?Promise:void 0,Zr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Qr?function(e){return Qr.resolve(null).then(e).catch(eo)}:Yr;function eo(e){setTimeout(function(){throw e})}function to(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Bt(t)}function no(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ro(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var oo=Math.random().toString(36).slice(2),io="__reactFiber$"+oo,ao="__reactProps$"+oo,so="__reactContainer$"+oo,uo="__reactEvents$"+oo,co="__reactListeners$"+oo,lo="__reactHandles$"+oo;function fo(e){var t=e[io];if(t)return t;for(var n=e.parentNode;n;){if(t=n[so]||n[io]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ro(e);null!==e;){if(n=e[io])return n;e=ro(e)}return t}n=(e=n).parentNode}return null}function po(e){return!(e=e[io]||e[so])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ho(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function vo(e){return e[ao]||null}var mo=[],go=-1;function yo(e){return{current:e}}function bo(e){0>go||(e.current=mo[go],mo[go]=null,go--)}function wo(e,t){mo[++go]=e.current,e.current=t}var xo={},Oo=yo(xo),Eo=yo(!1),So=xo;function Co(e,t){var n=e.type.contextTypes;if(!n)return xo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ko(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ro(){bo(Eo),bo(Oo)}function jo(e,t,n){if(Oo.current!==xo)throw Error(i(168));wo(Oo,t),wo(Eo,n)}function Po(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,W(e)||"Unknown",o));return L({},n,r)}function To(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xo,So=Oo.current,wo(Oo,e),wo(Eo,Eo.current),!0}function _o(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Po(e,t,So),r.__reactInternalMemoizedMergedChildContext=e,bo(Eo),bo(Oo),wo(Oo,e)):bo(Eo),wo(Eo,n)}var Io=null,Ao=!1,No=!1;function Mo(e){null===Io?Io=[e]:Io.push(e)}function Do(){if(!No&&null!==Io){No=!0;var e=0,t=mt;try{var n=Io;for(mt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Io=null,Ao=!1}catch(o){throw null!==Io&&(Io=Io.slice(e+1)),He(Ye,Do),o}finally{mt=t,No=!1}}return null}var Lo=[],Fo=0,Bo=null,Vo=0,Uo=[],Wo=0,zo=null,Ho=1,qo="";function Go(e,t){Lo[Fo++]=Vo,Lo[Fo++]=Bo,Bo=e,Vo=t}function Ko(e,t,n){Uo[Wo++]=Ho,Uo[Wo++]=qo,Uo[Wo++]=zo,zo=e;var r=Ho;e=qo;var o=32-rt(r)-1;r&=~(1<<o),n+=1;var i=32-rt(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Ho=1<<32-rt(t)+o|n<<o|r,qo=i+e}else Ho=1<<i|n<<o|r,qo=e}function $o(e){null!==e.return&&(Go(e,1),Ko(e,1,0))}function Xo(e){for(;e===Bo;)Bo=Lo[--Fo],Lo[Fo]=null,Vo=Lo[--Fo],Lo[Fo]=null;for(;e===zo;)zo=Uo[--Wo],Uo[Wo]=null,qo=Uo[--Wo],Uo[Wo]=null,Ho=Uo[--Wo],Uo[Wo]=null}var Yo=null,Jo=null,Qo=!1,Zo=null;function ei(e,t){var n=vc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ti(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Yo=e,Jo=no(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Yo=e,Jo=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==zo?{id:Ho,overflow:qo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=vc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Yo=e,Jo=null,!0);default:return!1}}function ni(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ri(e){if(Qo){var t=Jo;if(t){var n=t;if(!ti(e,t)){if(ni(e))throw Error(i(418));t=no(n.nextSibling);var r=Yo;t&&ti(e,t)?ei(r,n):(e.flags=-4097&e.flags|2,Qo=!1,Yo=e)}}else{if(ni(e))throw Error(i(418));e.flags=-4097&e.flags|2,Qo=!1,Yo=e}}}function oi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Yo=e}function ii(e){if(e!==Yo)return!1;if(!Qo)return oi(e),Qo=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Xr(e.type,e.memoizedProps)),t&&(t=Jo)){if(ni(e))throw ai(),Error(i(418));for(;t;)ei(e,t),t=no(t.nextSibling)}if(oi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Jo=no(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Jo=null}}else Jo=Yo?no(e.stateNode.nextSibling):null;return!0}function ai(){for(var e=Jo;e;)e=no(e.nextSibling)}function si(){Jo=Yo=null,Qo=!1}function ui(e){null===Zo?Zo=[e]:Zo.push(e)}var ci=w.ReactCurrentBatchConfig;function li(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var fi=yo(null),di=null,pi=null,hi=null;function vi(){hi=pi=di=null}function mi(e){var t=fi.current;bo(fi),e._currentValue=t}function gi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function yi(e,t){di=e,hi=pi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ls=!0),e.firstContext=null)}function bi(e){var t=e._currentValue;if(hi!==e)if(e={context:e,memoizedValue:t,next:null},null===pi){if(null===di)throw Error(i(308));pi=e,di.dependencies={lanes:0,firstContext:e}}else pi=pi.next=e;return t}var wi=null;function xi(e){null===wi?wi=[e]:wi.push(e)}function Oi(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,xi(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ei(e,r)}function Ei(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Si=!1;function Ci(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ki(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ri(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ji(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&mu)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ei(e,n)}return null===(o=r.interleaved)?(t.next=t,xi(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ei(e,n)}function Pi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ti(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function _i(e,t,n,r){var o=e.updateQueue;Si=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?i=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==i){var f=o.baseState;for(a=0,l=c=u=null,s=i;;){var d=s.lane,p=s.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,v=s;switch(d=t,p=n,v.tag){case 1:if("function"===typeof(h=v.payload)){f=h.call(p,f,d);break e}f=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(d="function"===typeof(h=v.payload)?h.call(p,f,d):h)||void 0===d)break e;f=L({},f,d);break e;case 2:Si=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=o.effects)?o.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=p,u=f):l=l.next=p,a|=d;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(d=s).next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}if(null===l&&(u=f),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=l,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Su|=a,e.lanes=a,e.memoizedState=f}}function Ii(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var Ai=(new r.Component).refs;function Ni(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Mi={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Wu(),o=zu(e),i=Ri(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ji(e,i,o))&&(Hu(t,e,o,r),Pi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Wu(),o=zu(e),i=Ri(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ji(e,i,o))&&(Hu(t,e,o,r),Pi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wu(),r=zu(e),o=Ri(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=ji(e,o,r))&&(Hu(t,e,r,n),Pi(t,e,r))}};function Di(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!nr(n,r)||!nr(o,i))}function Li(e,t,n){var r=!1,o=xo,i=t.contextType;return"object"===typeof i&&null!==i?i=bi(i):(o=ko(t)?So:Oo.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Co(e,o):xo),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Mi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Fi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Mi.enqueueReplaceState(t,t.state,null)}function Bi(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Ai,Ci(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=bi(i):(i=ko(t)?So:Oo.current,o.context=Co(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(Ni(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Mi.enqueueReplaceState(o,o.state,null),_i(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function Vi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=o.refs;t===Ai&&(t=o.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Ui(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wi(e){return(0,e._init)(e._payload)}function zi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=gc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=xc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===I&&Wi(i)===t.type)?((r=o(t,n.props)).ref=Vi(e,t,n),r.return=e,r):((r=yc(n.type,n.key,n.props,null,e.mode,r)).ref=Vi(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Oc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=bc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=xc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=yc(t.type,t.key,t.props,null,e.mode,n)).ref=Vi(e,null,t),n.return=e,n;case O:return(t=Oc(t,e.mode,n)).return=e,t;case I:return d(e,(0,t._init)(t._payload),n)}if(ee(t)||M(t))return(t=bc(t,e.mode,n,null)).return=e,t;Ui(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===o?c(e,t,n,r):null;case O:return n.key===o?l(e,t,n,r):null;case I:return p(e,t,(o=n._init)(n._payload),r)}if(ee(n)||M(n))return null!==o?null:f(e,t,n,r,null);Ui(e,n)}return null}function h(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case O:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o);case I:return h(e,t,n,(0,r._init)(r._payload),o)}if(ee(r)||M(r))return f(t,e=e.get(n)||null,r,o,null);Ui(t,r)}return null}function v(o,i,s,u){for(var c=null,l=null,f=i,v=i=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=p(o,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(o,f),i=a(g,i,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(o,f),Qo&&Go(o,v),c;if(null===f){for(;v<s.length;v++)null!==(f=d(o,s[v],u))&&(i=a(f,i,v),null===l?c=f:l.sibling=f,l=f);return Qo&&Go(o,v),c}for(f=r(o,f);v<s.length;v++)null!==(m=h(f,o,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),i=a(m,i,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach(function(e){return t(o,e)}),Qo&&Go(o,v),c}function m(o,s,u,c){var l=M(u);if("function"!==typeof l)throw Error(i(150));if(null==(u=l.call(u)))throw Error(i(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=p(o,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(o,v),s=a(b,s,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(o,v),Qo&&Go(o,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=d(o,y.value,c))&&(s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return Qo&&Go(o,m),l}for(v=r(o,v);!y.done;m++,y=u.next())null!==(y=h(v,o,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach(function(e){return t(o,e)}),Qo&&Go(o,m),l}return function e(r,i,a,u){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,l=i;null!==l;){if(l.key===c){if((c=a.type)===E){if(7===l.tag){n(r,l.sibling),(i=o(l,a.props.children)).return=r,r=i;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&Wi(c)===l.type){n(r,l.sibling),(i=o(l,a.props)).ref=Vi(r,l,a),i.return=r,r=i;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===E?((i=bc(a.props.children,r.mode,u,a.key)).return=r,r=i):((u=yc(a.type,a.key,a.props,null,r.mode,u)).ref=Vi(r,i,a),u.return=r,r=u)}return s(r);case O:e:{for(l=a.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Oc(a,r.mode,u)).return=r,r=i}return s(r);case I:return e(r,i,(l=a._init)(a._payload),u)}if(ee(a))return v(r,i,a,u);if(M(a))return m(r,i,a,u);Ui(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=xc(a,r.mode,u)).return=r,r=i),s(r)):n(r,i)}}var Hi=zi(!0),qi=zi(!1),Gi={},Ki=yo(Gi),$i=yo(Gi),Xi=yo(Gi);function Yi(e){if(e===Gi)throw Error(i(174));return e}function Ji(e,t){switch(wo(Xi,t),wo($i,e),wo(Ki,Gi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}bo(Ki),wo(Ki,t)}function Qi(){bo(Ki),bo($i),bo(Xi)}function Zi(e){Yi(Xi.current);var t=Yi(Ki.current),n=se(t,e.type);t!==n&&(wo($i,e),wo(Ki,n))}function ea(e){$i.current===e&&(bo(Ki),bo($i))}var ta=yo(0);function na(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ra=[];function oa(){for(var e=0;e<ra.length;e++)ra[e]._workInProgressVersionPrimary=null;ra.length=0}var ia=w.ReactCurrentDispatcher,aa=w.ReactCurrentBatchConfig,sa=0,ua=null,ca=null,la=null,fa=!1,da=!1,pa=0,ha=0;function va(){throw Error(i(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,o,a){if(sa=a,ua=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Ja:Qa,e=n(r,o),da){a=0;do{if(da=!1,pa=0,25<=a)throw Error(i(301));a+=1,la=ca=null,t.updateQueue=null,ia.current=Za,e=n(r,o)}while(da)}if(ia.current=Ya,t=null!==ca&&null!==ca.next,sa=0,la=ca=ua=null,fa=!1,t)throw Error(i(300));return e}function ya(){var e=0!==pa;return pa=0,e}function ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?ua.memoizedState=la=e:la=la.next=e,la}function wa(){if(null===ca){var e=ua.alternate;e=null!==e?e.memoizedState:null}else e=ca.next;var t=null===la?ua.memoizedState:la.next;if(null!==t)la=t,ca=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ca=e).memoizedState,baseState:ca.baseState,baseQueue:ca.baseQueue,queue:ca.queue,next:null},null===la?ua.memoizedState=la=e:la=la.next=e}return la}function xa(e,t){return"function"===typeof t?t(e):t}function Oa(e){var t=wa(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ca,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var u=s=null,c=null,l=a;do{var f=l.lane;if((sa&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=d,s=r):c=c.next=d,ua.lanes|=f,Su|=f}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,tr(r,t.memoizedState)||(ls=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,ua.lanes|=a,Su|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ea(e){var t=wa(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);tr(a,t.memoizedState)||(ls=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function Ca(e,t){var n=ua,r=wa(),o=t(),a=!tr(r.memoizedState,o);if(a&&(r.memoizedState=o,ls=!0),r=r.queue,La(ja.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Ia(9,Ra.bind(null,n,r,o,t),void 0,null),null===gu)throw Error(i(349));0!==(30&sa)||ka(n,t,o)}return o}function ka(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ua.updateQueue)?(t={lastEffect:null,stores:null},ua.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ra(e,t,n,r){t.value=n,t.getSnapshot=r,Pa(t)&&Ta(e)}function ja(e,t,n){return n(function(){Pa(t)&&Ta(e)})}function Pa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tr(e,n)}catch(r){return!0}}function Ta(e){var t=Ei(e,1);null!==t&&Hu(t,e,1,-1)}function _a(e){var t=ba();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=function(e,t,n){var r=zu(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ka(e))$a(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,tr(s,a)){var u=t.interleaved;return null===u?(o.next=o,xi(t)):(o.next=u.next,u.next=o),void(t.interleaved=o)}}catch(c){}null!==(n=Oi(e,t,o,r))&&(o=Wu(),Hu(n,e,r,o),Xa(n,t,r))}}.bind(null,ua,e),[t.memoizedState,e]}function Ia(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ua.updateQueue)?(t={lastEffect:null,stores:null},ua.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Aa(){return wa().memoizedState}function Na(e,t,n,r){var o=ba();ua.flags|=e,o.memoizedState=Ia(1|t,n,void 0,void 0===r?null:r)}function Ma(e,t,n,r){var o=wa();r=void 0===r?null:r;var i=void 0;if(null!==ca){var a=ca.memoizedState;if(i=a.destroy,null!==r&&ma(r,a.deps))return void(o.memoizedState=Ia(t,n,i,r))}ua.flags|=e,o.memoizedState=Ia(1|t,n,i,r)}function Da(e,t){return Na(8390656,8,e,t)}function La(e,t){return Ma(2048,8,e,t)}function Fa(e,t){return Ma(4,2,e,t)}function Ba(e,t){return Ma(4,4,e,t)}function Va(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ua(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ma(4,4,Va.bind(null,t,e),n)}function Wa(){}function za(e,t){var n=wa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ha(e,t){var n=wa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qa(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,ls=!0),e.memoizedState=n):(tr(n,t)||(n=dt(),ua.lanes|=n,Su|=n,e.baseState=!0),t)}function Ga(){return wa().memoizedState}function Ka(e){var t=e.alternate;return e===ua||null!==t&&t===ua}function $a(e,t){da=fa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ya={readContext:bi,useCallback:va,useContext:va,useEffect:va,useImperativeHandle:va,useInsertionEffect:va,useLayoutEffect:va,useMemo:va,useReducer:va,useRef:va,useState:va,useDebugValue:va,useDeferredValue:va,useTransition:va,useMutableSource:va,useSyncExternalStore:va,useId:va,unstable_isNewReconciler:!1},Ja={readContext:bi,useCallback:function(e,t){return ba().memoizedState=[e,void 0===t?null:t],e},useContext:bi,useEffect:Da,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Na(4194308,4,Va.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Na(4194308,4,e,t)},useInsertionEffect:function(e,t){return Na(4,2,e,t)},useMemo:function(e,t){var n=ba();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ba();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=function(e,t,n){var r=zu(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ka(e)?$a(t,n):null!==(n=Oi(e,t,n,r))&&(Hu(n,e,r,Wu()),Xa(n,t,r))}.bind(null,ua,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ba().memoizedState=e},useState:_a,useDebugValue:Wa,useDeferredValue:function(e){return ba().memoizedState=e},useTransition:function(){var e=_a(!1),t=e[0];return e=function(e,t){var n=mt;mt=0!==n&&4>n?n:4,e(!0);var r=aa.transition;aa.transition={};try{e(!1),t()}finally{mt=n,aa.transition=r}}.bind(null,e[1]),ba().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ua,o=ba();if(Qo){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===gu)throw Error(i(349));0!==(30&sa)||ka(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Da(ja.bind(null,r,a,e),[e]),r.flags|=2048,Ia(9,Ra.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ba(),t=gu.identifierPrefix;if(Qo){var n=qo;t=":"+t+"R"+(n=(Ho&~(1<<32-rt(Ho)-1)).toString(32)+n),0<(n=pa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qa={readContext:bi,useCallback:za,useContext:bi,useEffect:La,useImperativeHandle:Ua,useInsertionEffect:Fa,useLayoutEffect:Ba,useMemo:Ha,useReducer:Oa,useRef:Aa,useState:function(){return Oa(xa)},useDebugValue:Wa,useDeferredValue:function(e){return qa(wa(),ca.memoizedState,e)},useTransition:function(){return[Oa(xa)[0],wa().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ca,useId:Ga,unstable_isNewReconciler:!1},Za={readContext:bi,useCallback:za,useContext:bi,useEffect:La,useImperativeHandle:Ua,useInsertionEffect:Fa,useLayoutEffect:Ba,useMemo:Ha,useReducer:Ea,useRef:Aa,useState:function(){return Ea(xa)},useDebugValue:Wa,useDeferredValue:function(e){var t=wa();return null===ca?t.memoizedState=e:qa(t,ca.memoizedState,e)},useTransition:function(){return[Ea(xa)[0],wa().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ca,useId:Ga,unstable_isNewReconciler:!1};function es(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function ts(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ns(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var rs="function"===typeof WeakMap?WeakMap:Map;function os(e,t,n){(n=Ri(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Iu||(Iu=!0,Au=r),ns(0,t)},n}function is(e,t,n){(n=Ri(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ns(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ns(0,t),"function"!==typeof r&&(null===Nu?Nu=new Set([this]):Nu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function as(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new rs;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=function(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Wu(),e.pingedLanes|=e.suspendedLanes&n,gu===e&&(bu&n)===n&&(4===Ou||3===Ou&&(130023424&bu)===bu&&500>$e()-Pu?Zu(e,0):ku|=n),qu(e,t)}.bind(null,e,t,n),t.then(e,e))}function ss(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function us(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ri(-1,1)).tag=2,ji(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var cs=w.ReactCurrentOwner,ls=!1;function fs(e,t,n,r){t.child=null===e?qi(t,null,n,r):Hi(t,e.child,n,r)}function ds(e,t,n,r,o){n=n.render;var i=t.ref;return yi(t,o),r=ga(e,t,n,r,i,o),n=ya(),null===e||ls?(Qo&&n&&$o(t),t.flags|=1,fs(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ms(e,t,o))}function ps(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||mc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=yc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,hs(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:nr)(a,r)&&e.ref===t.ref)return Ms(e,t,o)}return t.flags|=1,(e=gc(i,r)).ref=t.ref,e.return=t,t.child=e}function hs(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(nr(i,r)&&e.ref===t.ref){if(ls=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Ms(e,t,o);0!==(131072&e.flags)&&(ls=!0)}}return gs(e,t,n,r,o)}function vs(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},wo(xu,wu),wu|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,wo(xu,wu),wu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,wo(xu,wu),wu|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,wo(xu,wu),wu|=r;return fs(e,t,o,n),t.child}function ms(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function gs(e,t,n,r,o){var i=ko(n)?So:Oo.current;return i=Co(t,i),yi(t,o),n=ga(e,t,n,r,i,o),r=ya(),null===e||ls?(Qo&&r&&$o(t),t.flags|=1,fs(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ms(e,t,o))}function ys(e,t,n,r,o){if(ko(n)){var i=!0;To(t)}else i=!1;if(yi(t,o),null===t.stateNode)Ns(e,t),Li(t,n,r),Bi(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=bi(c):c=Co(t,c=ko(n)?So:Oo.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Fi(t,a,r,c),Si=!1;var d=t.memoizedState;a.state=d,_i(t,r,a,o),u=t.memoizedState,s!==r||d!==u||Eo.current||Si?("function"===typeof l&&(Ni(t,n,l,r),u=t.memoizedState),(s=Si||Di(t,n,s,r,d,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ki(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:li(t.type,s),a.props=c,f=t.pendingProps,d=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=bi(u):u=Co(t,u=ko(n)?So:Oo.current);var p=n.getDerivedStateFromProps;(l="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||d!==u)&&Fi(t,a,r,u),Si=!1,d=t.memoizedState,a.state=d,_i(t,r,a,o);var h=t.memoizedState;s!==f||d!==h||Eo.current||Si?("function"===typeof p&&(Ni(t,n,p,r),h=t.memoizedState),(c=Si||Di(t,n,c,r,d,h,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return bs(e,t,n,r,i,o)}function bs(e,t,n,r,o,i){ms(e,t);var a=0!==(128&t.flags);if(!r&&!a)return o&&_o(t,n,!1),Ms(e,t,i);r=t.stateNode,cs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Hi(t,e.child,null,i),t.child=Hi(t,null,s,i)):fs(e,t,s,i),t.memoizedState=r.state,o&&_o(t,n,!0),t.child}function ws(e){var t=e.stateNode;t.pendingContext?jo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&jo(0,t.context,!1),Ji(e,t.containerInfo)}function xs(e,t,n,r,o){return si(),ui(o),t.flags|=256,fs(e,t,n,r),t.child}var Os,Es,Ss,Cs,ks={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,o=t.pendingProps,a=ta.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),wo(ta,1&a),null===e)return ri(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=o.children,e=o.fallback,s?(o=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=wc(u,o,0,null),e=bc(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=ks,e):Ps(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,r=ts(Error(i(422))),Ts(e,t,s,r)):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=wc({mode:"visible",children:r.children},o,0,null),(a=bc(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Hi(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=ks,a);if(0===(1&t.mode))return Ts(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var u=r.dgst;return r=u,a=Error(i(419)),r=ts(a,r,void 0),Ts(e,t,s,r)}if(u=0!==(s&e.childLanes),ls||u){if(null!==(r=gu)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Ei(e,o),Hu(r,e,o,-1))}return nc(),r=ts(Error(i(421))),Ts(e,t,s,r)}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=function(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),dc(e,n)}.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,Jo=no(o.nextSibling),Yo=t,Qo=!0,Zo=null,null!==e&&(Uo[Wo++]=Ho,Uo[Wo++]=qo,Uo[Wo++]=zo,Ho=e.id,qo=e.overflow,zo=t),(t=Ps(t,r.children)).flags|=4096,t)}(e,t,u,o,r,a,n);if(s){s=o.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&u)&&t.child!==a?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=gc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=gc(r,s):(s=bc(s,u,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,u=null===(u=e.child.memoizedState)?Rs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=ks,o}return e=(s=e.child).sibling,o=gc(s,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Ps(e,t){return(t=wc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ts(e,t,n,r){return null!==r&&ui(r),Hi(t,e.child,null,n),(e=Ps(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function _s(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),gi(e.return,t,n)}function Is(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function As(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(fs(e,t,r.children,n),0!==(2&(r=ta.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&_s(e,n,t);else if(19===e.tag)_s(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(wo(ta,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===na(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Is(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===na(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Is(t,!0,n,null,i);break;case"together":Is(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ns(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ms(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Su|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=gc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=gc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ds(e,t){if(!Qo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ls(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Fs(e,t,n){var r=t.pendingProps;switch(Xo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ls(t),null;case 1:return ko(t.type)&&Ro(),Ls(t),null;case 3:return r=t.stateNode,Qi(),bo(Eo),bo(Oo),oa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ii(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Zo&&(Ku(Zo),Zo=null))),Es(e,t),Ls(t),null;case 5:ea(t);var o=Yi(Xi.current);if(n=t.type,null!==e&&null!=t.stateNode)Ss(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ls(t),null}if(e=Yi(Ki.current),ii(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[io]=t,r[ao]=a,e=0!==(1&t.mode),n){case"dialog":Ir("cancel",r),Ir("close",r);break;case"iframe":case"object":case"embed":Ir("load",r);break;case"video":case"audio":for(o=0;o<jr.length;o++)Ir(jr[o],r);break;case"source":Ir("error",r);break;case"img":case"image":case"link":Ir("error",r),Ir("load",r);break;case"details":Ir("toggle",r);break;case"input":X(r,a),Ir("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ir("invalid",r);break;case"textarea":re(r,a),Ir("invalid",r)}for(var u in ge(n,a),o=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&qr(r.textContent,c,e),o=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&qr(r.textContent,c,e),o=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ir("scroll",r)}switch(n){case"input":q(r),Q(r,a,!0);break;case"textarea":q(r),ie(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Gr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[io]=t,e[ao]=r,Os(e,t,!1,!1),t.stateNode=e;e:{switch(u=ye(n,r),n){case"dialog":Ir("cancel",e),Ir("close",e),o=r;break;case"iframe":case"object":case"embed":Ir("load",e),o=r;break;case"video":case"audio":for(o=0;o<jr.length;o++)Ir(jr[o],e);o=r;break;case"source":Ir("error",e),o=r;break;case"img":case"image":case"link":Ir("error",e),Ir("load",e),o=r;break;case"details":Ir("toggle",e),o=r;break;case"input":X(e,r),o=$(e,r),Ir("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=L({},r,{value:void 0}),Ir("invalid",e);break;case"textarea":re(e,r),o=ne(e,r),Ir("invalid",e);break;default:o=r}for(a in ge(n,o),c=o)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?ve(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&le(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Ir("scroll",e):null!=l&&b(e,a,l,u))}switch(n){case"input":q(e),Q(e,r,!1);break;case"textarea":q(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?te(e,!!r.multiple,a,!1):null!=r.defaultValue&&te(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Gr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ls(t),null;case 6:if(e&&null!=t.stateNode)Cs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Yi(Xi.current),Yi(Ki.current),ii(t)){if(r=t.stateNode,n=t.memoizedProps,r[io]=t,(a=r.nodeValue!==n)&&null!==(e=Yo))switch(e.tag){case 3:qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&qr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[io]=t,t.stateNode=r}return Ls(t),null;case 13:if(bo(ta),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(Qo&&null!==Jo&&0!==(1&t.mode)&&0===(128&t.flags))ai(),si(),t.flags|=98560,a=!1;else if(a=ii(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[io]=t}else si(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ls(t),a=!1}else null!==Zo&&(Ku(Zo),Zo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ta.current)?0===Ou&&(Ou=3):nc())),null!==t.updateQueue&&(t.flags|=4),Ls(t),null);case 4:return Qi(),Es(e,t),null===e&&Mr(t.stateNode.containerInfo),Ls(t),null;case 10:return mi(t.type._context),Ls(t),null;case 17:return ko(t.type)&&Ro(),Ls(t),null;case 19:if(bo(ta),null===(a=t.memoizedState))return Ls(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Ds(a,!1);else{if(0!==Ou||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=na(e))){for(t.flags|=128,Ds(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return wo(ta,1&ta.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>Tu&&(t.flags|=128,r=!0,Ds(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=na(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ds(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!Qo)return Ls(t),null}else 2*$e()-a.renderingStartTime>Tu&&1073741824!==n&&(t.flags|=128,r=!0,Ds(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=ta.current,wo(ta,r?1&n|2:1&n),t):(Ls(t),null);case 22:case 23:return Qu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&wu)&&(Ls(t),6&t.subtreeFlags&&(t.flags|=8192)):Ls(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Bs(e,t){switch(Xo(t),t.tag){case 1:return ko(t.type)&&Ro(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qi(),bo(Eo),bo(Oo),oa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ea(t),null;case 13:if(bo(ta),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));si()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return bo(ta),null;case 4:return Qi(),null;case 10:return mi(t.type._context),null;case 22:case 23:return Qu(),null;case 24:default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Es=function(){},Ss=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Yi(Ki.current);var i,a=null;switch(n){case"input":o=$(e,o),r=$(e,r),a=[];break;case"select":o=L({},o,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":o=ne(e,o),r=ne(e,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Gr)}for(l in ge(n,r),n=null,o)if(!r.hasOwnProperty(l)&&o.hasOwnProperty(l)&&null!=o[l])if("style"===l){var u=o[l];for(i in u)u.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=o?o[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(i in u)!u.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&u[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ir("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Cs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Vs=!1,Us=!1,Ws="function"===typeof WeakSet?WeakSet:Set,zs=null;function Hs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){fc(e,t,r)}else n.current=null}function qs(e,t,n){try{n()}catch(r){fc(e,t,r)}}var Gs=!1;function Ks(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&qs(t,n,i)}o=o.next}while(o!==r)}}function $s(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xs(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}"function"===typeof t?t(e):t.current=e}}function Ys(e){var t=e.alternate;null!==t&&(e.alternate=null,Ys(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[io],delete t[ao],delete t[uo],delete t[co],delete t[lo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Js(e){return 5===e.tag||3===e.tag||4===e.tag}function Qs(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Js(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}var Zs=null,eu=!1;function tu(e,t,n){for(n=n.child;null!==n;)nu(e,t,n),n=n.sibling}function nu(e,t,n){if(nt&&"function"===typeof nt.onCommitFiberUnmount)try{nt.onCommitFiberUnmount(tt,n)}catch(s){}switch(n.tag){case 5:Us||Hs(n,t);case 6:var r=Zs,o=eu;Zs=null,tu(e,t,n),eu=o,null!==(Zs=r)&&(eu?(e=Zs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):Zs.removeChild(n.stateNode));break;case 18:null!==Zs&&(eu?(e=Zs,n=n.stateNode,8===e.nodeType?to(e.parentNode,n):1===e.nodeType&&to(e,n),Bt(e)):to(Zs,n.stateNode));break;case 4:r=Zs,o=eu,Zs=n.stateNode.containerInfo,eu=!0,tu(e,t,n),Zs=r,eu=o;break;case 0:case 11:case 14:case 15:if(!Us&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)?qs(n,t,a):0!==(4&i)&&qs(n,t,a)),o=o.next}while(o!==r)}tu(e,t,n);break;case 1:if(!Us&&(Hs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){fc(n,t,s)}tu(e,t,n);break;case 21:tu(e,t,n);break;case 22:1&n.mode?(Us=(r=Us)||null!==n.memoizedState,tu(e,t,n),Us=r):tu(e,t,n);break;default:tu(e,t,n)}}function ru(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ws),t.forEach(function(t){var r=function(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),dc(e,n)}.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ou(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:Zs=u.stateNode,eu=!1;break e;case 3:case 4:Zs=u.stateNode.containerInfo,eu=!0;break e}u=u.return}if(null===Zs)throw Error(i(160));nu(a,s,o),Zs=null,eu=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(l){fc(o,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)iu(t,e),t=t.sibling}function iu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ou(t,e),au(e),4&r){try{Ks(3,e,e.return),$s(3,e)}catch(m){fc(e,e.return,m)}try{Ks(5,e,e.return)}catch(m){fc(e,e.return,m)}}break;case 1:ou(t,e),au(e),512&r&&null!==n&&Hs(n,n.return);break;case 5:if(ou(t,e),au(e),512&r&&null!==n&&Hs(n,n.return),32&e.flags){var o=e.stateNode;try{fe(o,"")}catch(m){fc(e,e.return,m)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&Y(o,a),ye(u,s);var l=ye(u,a);for(s=0;s<c.length;s+=2){var f=c[s],d=c[s+1];"style"===f?ve(o,d):"dangerouslySetInnerHTML"===f?le(o,d):"children"===f?fe(o,d):b(o,f,d,l)}switch(u){case"input":J(o,a);break;case"textarea":oe(o,a);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?te(o,!!a.multiple,h,!1):p!==!!a.multiple&&(null!=a.defaultValue?te(o,!!a.multiple,a.defaultValue,!0):te(o,!!a.multiple,a.multiple?[]:"",!1))}o[ao]=a}catch(m){fc(e,e.return,m)}}break;case 6:if(ou(t,e),au(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(m){fc(e,e.return,m)}}break;case 3:if(ou(t,e),au(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){fc(e,e.return,m)}break;case 4:ou(t,e),au(e);break;case 13:ou(t,e),au(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(Pu=$e())),4&r&&ru(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Us=(l=Us)||f,ou(t,e),Us=l):ou(t,e),au(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(zs=e,f=e.child;null!==f;){for(d=zs=f;null!==zs;){switch(h=(p=zs).child,p.tag){case 0:case 11:case 14:case 15:Ks(4,p,p.return);break;case 1:Hs(p,p.return);var v=p.stateNode;if("function"===typeof v.componentWillUnmount){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){fc(r,n,m)}}break;case 5:Hs(p,p.return);break;case 22:if(null!==p.memoizedState){cu(d);continue}}null!==h?(h.return=p,zs=h):cu(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{o=d.stateNode,l?"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=he("display",s))}catch(m){fc(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){fc(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ou(t,e),au(e),4&r&&ru(e);break;case 21:break;default:ou(t,e),au(e)}}function au(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(Js(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(fe(o,""),r.flags&=-33),function e(t,n,r){var o=t.tag;if(5===o||6===o)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,Qs(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;!function e(t,n,r){var o=t.tag;if(5===o||6===o)t=t.stateNode,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=Gr));else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,Qs(e),a);break;default:throw Error(i(161))}}catch(s){fc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function su(e,t,n){zs=e,function e(t,n,r){for(var o=0!==(1&t.mode);null!==zs;){var i=zs,a=i.child;if(22===i.tag&&o){var s=null!==i.memoizedState||Vs;if(!s){var u=i.alternate,c=null!==u&&null!==u.memoizedState||Us;u=Vs;var l=Us;if(Vs=s,(Us=c)&&!l)for(zs=i;null!==zs;)c=(s=zs).child,22===s.tag&&null!==s.memoizedState?lu(i):null!==c?(c.return=s,zs=c):lu(i);for(;null!==a;)zs=a,e(a,n,r),a=a.sibling;zs=i,Vs=u,Us=l}uu(t)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,zs=a):uu(t)}}(e,t,n)}function uu(e){for(;null!==zs;){var t=zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Us||$s(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Us)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:li(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Ii(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ii(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Bt(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Us||512&t.flags&&Xs(t)}catch(p){fc(t,t.return,p)}}if(t===e){zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,zs=n;break}zs=t.return}}function cu(e){for(;null!==zs;){var t=zs;if(t===e){zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,zs=n;break}zs=t.return}}function lu(e){for(;null!==zs;){var t=zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$s(4,t)}catch(u){fc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(u){fc(t,o,u)}}var i=t.return;try{Xs(t)}catch(u){fc(t,i,u)}break;case 5:var a=t.return;try{Xs(t)}catch(u){fc(t,a,u)}}}catch(u){fc(t,t.return,u)}if(t===e){zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,zs=s;break}zs=t.return}}var fu,du=Math.ceil,pu=w.ReactCurrentDispatcher,hu=w.ReactCurrentOwner,vu=w.ReactCurrentBatchConfig,mu=0,gu=null,yu=null,bu=0,wu=0,xu=yo(0),Ou=0,Eu=null,Su=0,Cu=0,ku=0,Ru=null,ju=null,Pu=0,Tu=1/0,_u=null,Iu=!1,Au=null,Nu=null,Mu=!1,Du=null,Lu=0,Fu=0,Bu=null,Vu=-1,Uu=0;function Wu(){return 0!==(6&mu)?$e():-1!==Vu?Vu:Vu=$e()}function zu(e){return 0===(1&e.mode)?1:0!==(2&mu)&&0!==bu?bu&-bu:null!==ci.transition?(0===Uu&&(Uu=dt()),Uu):0!==(e=mt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function Hu(e,t,n,r){if(50<Fu)throw Fu=0,Bu=null,Error(i(185));ht(e,n,r),0!==(2&mu)&&e===gu||(e===gu&&(0===(2&mu)&&(Cu|=n),4===Ou&&$u(e,bu)),qu(e,r),1===n&&0===mu&&0===(1&t.mode)&&(Tu=$e()+500,Ao&&Do()))}function qu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-rt(i),s=1<<a,u=o[a];-1===u?0!==(s&n)&&0===(s&r)||(o[a]=lt(s,t)):u<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=ct(e,e===gu?bu:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Ao=!0,Mo(e)}(Xu.bind(null,e)):Mo(Xu.bind(null,e)),Zr(function(){0===(6&mu)&&Do()}),n=null;else{switch(gt(r)){case 1:n=Ye;break;case 4:n=Je;break;case 16:n=Qe;break;case 536870912:n=et;break;default:n=Qe}n=pc(n,function e(t,n){Vu=-1;Uu=0;if(0!==(6&mu))throw Error(i(327));var r=t.callbackNode;if(cc()&&t.callbackNode!==r)return null;var o=ct(t,t===gu?bu:0);if(0===o)return null;if(0!==(30&o)||0!==(o&t.expiredLanes)||n)n=rc(t,o);else{n=o;var a=mu;mu|=2;var s=tc();for(gu===t&&bu===n||(_u=null,Tu=$e()+500,Zu(t,n));;)try{ic();break}catch(c){ec(t,c)}vi(),pu.current=s,mu=a,null!==yu?n=0:(gu=null,bu=0,n=Ou)}if(0!==n){if(2===n&&(0!==(a=ft(t))&&(o=a,n=Gu(t,a))),1===n)throw r=Eu,Zu(t,0),$u(t,o),qu(t,$e()),r;if(6===n)$u(t,o);else{if(a=t.current.alternate,0===(30&o)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!tr(i(),o))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(n=rc(t,o))&&(0!==(s=ft(t))&&(o=s,n=Gu(t,s))),1===n))throw r=Eu,Zu(t,0),$u(t,o),qu(t,$e()),r;switch(t.finishedWork=a,t.finishedLanes=o,n){case 0:case 1:throw Error(i(345));case 2:uc(t,ju,_u);break;case 3:if($u(t,o),(130023424&o)===o&&10<(n=Pu+500-$e())){if(0!==ct(t,0))break;if(((a=t.suspendedLanes)&o)!==o){Wu(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=Yr(uc.bind(null,t,ju,_u),n);break}uc(t,ju,_u);break;case 4:if($u(t,o),(4194240&o)===o)break;for(n=t.eventTimes,a=-1;0<o;){var u=31-rt(o);s=1<<u,(u=n[u])>a&&(a=u),o&=~s}if(o=a,10<(o=(120>(o=$e()-o)?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*du(o/1960))-o)){t.timeoutHandle=Yr(uc.bind(null,t,ju,_u),o);break}uc(t,ju,_u);break;case 5:uc(t,ju,_u);break;default:throw Error(i(329))}}}qu(t,$e());return t.callbackNode===r?e.bind(null,t):null}.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Gu(e,t){var n=Ru;return e.current.memoizedState.isDehydrated&&(Zu(e,t).flags|=256),2!==(e=rc(e,t))&&(t=ju,ju=n,null!==t&&Ku(t)),e}function Ku(e){null===ju?ju=e:ju.push.apply(ju,e)}function $u(e,t){for(t&=~ku,t&=~Cu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),r=1<<n;e[n]=-1,t&=~r}}function Xu(e){if(0!==(6&mu))throw Error(i(327));cc();var t=ct(e,0);if(0===(1&t))return qu(e,$e()),null;var n=rc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=Gu(e,r))}if(1===n)throw n=Eu,Zu(e,0),$u(e,t),qu(e,$e()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,uc(e,ju,_u),qu(e,$e()),null}function Yu(e,t){var n=mu;mu|=1;try{return e(t)}finally{0===(mu=n)&&(Tu=$e()+500,Ao&&Do())}}function Ju(e){null!==Du&&0===Du.tag&&0===(6&mu)&&cc();var t=mu;mu|=1;var n=vu.transition,r=mt;try{if(vu.transition=null,mt=1,e)return e()}finally{mt=r,vu.transition=n,0===(6&(mu=t))&&Do()}}function Qu(){wu=xu.current,bo(xu)}function Zu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Jr(n)),null!==yu)for(n=yu.return;null!==n;){var r=n;switch(Xo(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ro();break;case 3:Qi(),bo(Eo),bo(Oo),oa();break;case 5:ea(r);break;case 4:Qi();break;case 13:case 19:bo(ta);break;case 10:mi(r.type._context);break;case 22:case 23:Qu()}n=n.return}if(gu=e,yu=e=gc(e.current,null),bu=wu=t,Ou=0,Eu=null,ku=Cu=Su=0,ju=Ru=null,null!==wi){for(t=0;t<wi.length;t++)if(null!==(r=(n=wi[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}wi=null}return e}function ec(e,t){for(;;){var n=yu;try{if(vi(),ia.current=Ya,fa){for(var r=ua.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}fa=!1}if(sa=0,la=ca=ua=null,da=!1,pa=0,hu.current=null,null===n||null===n.return){Ou=1,Eu=t,yu=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=bu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=ss(s);if(null!==h){h.flags&=-257,us(h,s,u,0,t),1&h.mode&&as(a,l,t),c=l;var v=(t=h).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){as(a,l,t),nc();break e}c=Error(i(426))}else if(Qo&&1&u.mode){var g=ss(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),us(g,s,u,0,t),ui(es(c,u));break e}}a=c=es(c,u),4!==Ou&&(Ou=2),null===Ru?Ru=[a]:Ru.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ti(a,os(0,c,t));break e;case 1:u=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Nu||!Nu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Ti(a,is(a,u,t));break e}}a=a.return}while(null!==a)}sc(n)}catch(w){t=w,yu===n&&null!==n&&(yu=n=n.return);continue}break}}function tc(){var e=pu.current;return pu.current=Ya,null===e?Ya:e}function nc(){0!==Ou&&3!==Ou&&2!==Ou||(Ou=4),null===gu||0===(268435455&Su)&&0===(268435455&Cu)||$u(gu,bu)}function rc(e,t){var n=mu;mu|=2;var r=tc();for(gu===e&&bu===t||(_u=null,Zu(e,t));;)try{oc();break}catch(o){ec(e,o)}if(vi(),mu=n,pu.current=r,null!==yu)throw Error(i(261));return gu=null,bu=0,Ou}function oc(){for(;null!==yu;)ac(yu)}function ic(){for(;null!==yu&&!Ge();)ac(yu)}function ac(e){var t=fu(e.alternate,e,wu);e.memoizedProps=e.pendingProps,null===t?sc(e):yu=t,hu.current=null}function sc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Fs(n,t,wu)))return void(yu=n)}else{if(null!==(n=Bs(n,t)))return n.flags&=32767,void(yu=n);if(null===e)return Ou=6,void(yu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(yu=t);yu=t=e}while(null!==t);0===Ou&&(Ou=5)}function uc(e,t,n){var r=mt,o=vu.transition;try{vu.transition=null,mt=1,function(e,t,n,r){do{cc()}while(null!==Du);if(0!==(6&mu))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-rt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===gu&&(yu=gu=null,bu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Mu||(Mu=!0,pc(Qe,function(){return cc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=vu.transition,vu.transition=null;var s=mt;mt=1;var u=mu;mu|=4,hu.current=null,function(e,t){if(Kr=Ut,ar(e=ir())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,d=e,p=null;t:for(;;){for(var h;d!==n||0!==o&&3!==d.nodeType||(u=s+o),d!==a||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(h=d.firstChild);)p=d,d=h;for(;;){if(d===e)break t;if(p===n&&++l===o&&(u=s),p===a&&++f===r&&(c=s),null!==(h=d.nextSibling))break;p=(d=p).parentNode}d=h}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for($r={focusedElem:e,selectionRange:n},Ut=!1,zs=t;null!==zs;)if(e=(t=zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,zs=e;else for(;null!==zs;){t=zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:li(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(x){fc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,zs=e;break}zs=t.return}v=Gs,Gs=!1}(e,n),iu(n,e),sr($r),Ut=!!Kr,$r=Kr=null,e.current=n,su(n,e,o),Ke(),mu=u,mt=s,vu.transition=a}else e.current=n;if(Mu&&(Mu=!1,Du=e,Lu=o),0===(a=e.pendingLanes)&&(Nu=null),function(e){if(nt&&"function"===typeof nt.onCommitFiberRoot)try{nt.onCommitFiberRoot(tt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),qu(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Iu)throw Iu=!1,e=Au,Au=null,e;0!==(1&Lu)&&0!==e.tag&&cc(),0!==(1&(a=e.pendingLanes))?e===Bu?Fu++:(Fu=0,Bu=e):Fu=0,Do()}(e,t,n,r)}finally{vu.transition=o,mt=r}return null}function cc(){if(null!==Du){var e=gt(Lu),t=vu.transition,n=mt;try{if(vu.transition=null,mt=16>e?16:e,null===Du)var r=!1;else{if(e=Du,Du=null,Lu=0,0!==(6&mu))throw Error(i(331));var o=mu;for(mu|=4,zs=e.current;null!==zs;){var a=zs,s=a.child;if(0!==(16&zs.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(zs=l;null!==zs;){var f=zs;switch(f.tag){case 0:case 11:case 15:Ks(8,f,a)}var d=f.child;if(null!==d)d.return=f,zs=d;else for(;null!==zs;){var p=(f=zs).sibling,h=f.return;if(Ys(f),f===l){zs=null;break}if(null!==p){p.return=h,zs=p;break}zs=h}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}zs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,zs=s;else e:for(;null!==zs;){if(0!==(2048&(a=zs).flags))switch(a.tag){case 0:case 11:case 15:Ks(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,zs=y;break e}zs=a.return}}var b=e.current;for(zs=b;null!==zs;){var w=(s=zs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,zs=w;else e:for(s=b;null!==zs;){if(0!==(2048&(u=zs).flags))try{switch(u.tag){case 0:case 11:case 15:$s(9,u)}}catch(O){fc(u,u.return,O)}if(u===s){zs=null;break e}var x=u.sibling;if(null!==x){x.return=u.return,zs=x;break e}zs=u.return}}if(mu=o,Do(),nt&&"function"===typeof nt.onPostCommitFiberRoot)try{nt.onPostCommitFiberRoot(tt,e)}catch(O){}r=!0}return r}finally{mt=n,vu.transition=t}}return!1}function lc(e,t,n){e=ji(e,t=os(0,t=es(n,t),1),1),t=Wu(),null!==e&&(ht(e,1,t),qu(e,t))}function fc(e,t,n){if(3===e.tag)lc(e,e,n);else for(;null!==t;){if(3===t.tag){lc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Nu||!Nu.has(r))){t=ji(t,e=is(t,e=es(n,e),1),1),e=Wu(),null!==t&&(ht(t,1,e),qu(t,e));break}}t=t.return}}function dc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=st,0===(130023424&(st<<=1))&&(st=4194304)));var n=Wu();null!==(e=Ei(e,t))&&(ht(e,t,n),qu(e,n))}function pc(e,t){return He(e,t)}function hc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vc(e,t,n,r){return new hc(e,t,n,r)}function mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function gc(e,t){var n=e.alternate;return null===n?((n=vc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function yc(e,t,n,r,o,a){var s=2;if(r=e,"function"===typeof e)mc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return bc(n.children,o,a,t);case S:s=8,o|=8;break;case C:return(e=vc(12,n,t,2|o)).elementType=C,e.lanes=a,e;case P:return(e=vc(13,n,t,o)).elementType=P,e.lanes=a,e;case T:return(e=vc(19,n,t,o)).elementType=T,e.lanes=a,e;case A:return wc(n,o,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case R:s=9;break e;case j:s=11;break e;case _:s=14;break e;case I:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=vc(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function bc(e,t,n,r){return(e=vc(7,e,r,t)).lanes=n,e}function wc(e,t,n,r){return(e=vc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function xc(e,t,n){return(e=vc(6,e,null,t)).lanes=n,e}function Oc(e,t,n){return(t=vc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ec(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pt(0),this.expirationTimes=pt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Sc(e,t,n,r,o,i,a,s,u){return e=new Ec(e,t,n,s,u),1===t?(t=1,!0===i&&(t|=8)):t=0,i=vc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ci(i),e}function Cc(e){if(!e)return xo;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ko(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(ko(n))return Po(e,n,t)}return t}function kc(e,t,n,r,o,i,a,s,u){return(e=Sc(n,r,!0,e,0,i,0,s,u)).context=Cc(null),n=e.current,(i=Ri(r=Wu(),o=zu(n))).callback=void 0!==t&&null!==t?t:null,ji(n,i,o),e.current.lanes=o,ht(e,o,r),qu(e,r),e}function Rc(e,t,n,r){var o=t.current,i=Wu(),a=zu(o);return n=Cc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ri(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=ji(o,t,a))&&(Hu(e,o,a,i),Pi(e,o,a)),a}function jc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Pc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Tc(e,t){Pc(e,t),(e=e.alternate)&&Pc(e,t)}fu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Eo.current)ls=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ls=!1,function(e,t,n){switch(t.tag){case 3:ws(t),si();break;case 5:Zi(t);break;case 1:ko(t.type)&&To(t);break;case 4:Ji(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;wo(fi,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(wo(ta,1&ta.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(wo(ta,1&ta.current),null!==(e=Ms(e,t,n))?e.sibling:null);wo(ta,1&ta.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return As(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),wo(ta,ta.current),r)break;return null;case 22:case 23:return t.lanes=0,vs(e,t,n)}return Ms(e,t,n)}(e,t,n);ls=0!==(131072&e.flags)}else ls=!1,Qo&&0!==(1048576&t.flags)&&Ko(t,Vo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ns(e,t),e=t.pendingProps;var o=Co(t,Oo.current);yi(t,n),o=ga(null,t,r,e,o,n);var a=ya();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ko(r)?(a=!0,To(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ci(t),o.updater=Mi,t.stateNode=o,o._reactInternals=t,Bi(t,r,e,n),t=bs(null,t,r,!0,a,n)):(t.tag=0,Qo&&a&&$o(t),fs(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ns(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===j)return 11;if(e===_)return 14}return 2}(r),e=li(r,e),o){case 0:t=gs(null,t,r,e,n);break e;case 1:t=ys(null,t,r,e,n);break e;case 11:t=ds(null,t,r,e,n);break e;case 14:t=ps(null,t,r,li(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,gs(e,t,r,o=t.elementType===r?o:li(r,o),n);case 1:return r=t.type,o=t.pendingProps,ys(e,t,r,o=t.elementType===r?o:li(r,o),n);case 3:e:{if(ws(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,ki(e,t),_i(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=xs(e,t,r,n,o=es(Error(i(423)),t));break e}if(r!==o){t=xs(e,t,r,n,o=es(Error(i(424)),t));break e}for(Jo=no(t.stateNode.containerInfo.firstChild),Yo=t,Qo=!0,Zo=null,n=qi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(si(),r===o){t=Ms(e,t,n);break e}fs(e,t,r,n)}t=t.child}return t;case 5:return Zi(t),null===e&&ri(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,Xr(r,o)?s=null:null!==a&&Xr(r,a)&&(t.flags|=32),ms(e,t),fs(e,t,s,n),t.child;case 6:return null===e&&ri(t),null;case 13:return js(e,t,n);case 4:return Ji(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Hi(t,null,r,n):fs(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,ds(e,t,r,o=t.elementType===r?o:li(r,o),n);case 7:return fs(e,t,t.pendingProps,n),t.child;case 8:case 12:return fs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,wo(fi,r._currentValue),r._currentValue=s,null!==a)if(tr(a.value,s)){if(a.children===o.children&&!Eo.current){t=Ms(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ri(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),gi(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),gi(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}fs(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,yi(t,n),r=r(o=bi(o)),t.flags|=1,fs(e,t,r,n),t.child;case 14:return o=li(r=t.type,t.pendingProps),ps(e,t,r,o=li(r.type,o),n);case 15:return hs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:li(r,o),Ns(e,t),t.tag=1,ko(r)?(e=!0,To(t)):e=!1,yi(t,n),Li(t,r,o),Bi(t,r,o,n),bs(null,t,r,!0,e,n);case 19:return As(e,t,n);case 22:return vs(e,t,n)}throw Error(i(156,t.tag))};var _c="function"===typeof reportError?reportError:function(e){console.error(e)};function Ic(e){this._internalRoot=e}function Ac(e){this._internalRoot=e}function Nc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Mc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Dc(){}function Lc(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof o){var s=o;o=function(){var e=jc(a);s.call(e)}}Rc(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=jc(a);i.call(e)}}var a=kc(t,r,e,0,null,!1,0,"",Dc);return e._reactRootContainer=a,e[so]=a.current,Mr(8===e.nodeType?e.parentNode:e),Ju(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var s=r;r=function(){var e=jc(u);s.call(e)}}var u=Sc(e,0,!1,null,0,!1,0,"",Dc);return e._reactRootContainer=u,e[so]=u.current,Mr(8===e.nodeType?e.parentNode:e),Ju(function(){Rc(t,u,n,r)}),u}(n,t,e,o,r);return jc(a)}Ac.prototype.render=Ic.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Rc(e,t,null,null)},Ac.prototype.unmount=Ic.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Ju(function(){Rc(null,e,null,null)}),t[so]=null}},Ac.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tt.length&&0!==t&&t<Tt[n].priority;n++);Tt.splice(n,0,e),0===n&&Nt(e)}},yt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(vt(t,1|n),qu(t,$e()),0===(6&mu)&&(Tu=$e()+500,Do()))}break;case 13:Ju(function(){var t=Ei(e,1);if(null!==t){var n=Wu();Hu(t,e,1,n)}}),Tc(e,1)}},bt=function(e){if(13===e.tag){var t=Ei(e,134217728);if(null!==t)Hu(t,e,134217728,Wu());Tc(e,134217728)}},wt=function(e){if(13===e.tag){var t=zu(e),n=Ei(e,t);if(null!==n)Hu(n,e,t,Wu());Tc(e,t)}},xt=function(){return mt},Ot=function(e,t){var n=mt;try{return mt=e,t()}finally{mt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=vo(r);if(!o)throw Error(i(90));G(r),J(r,o)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&te(e,!!n.multiple,t,!1)}},Re=Yu,je=Ju;var Fc={usingClientEntryPoint:!1,Events:[po,ho,vo,Ce,ke,Yu]},Bc={findFiberByHostInstance:fo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Vc={bundleType:Bc.bundleType,version:Bc.version,rendererPackageName:Bc.rendererPackageName,rendererConfig:Bc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ze(e))?null:e.stateNode},findFiberByHostInstance:Bc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{tt=Uc.inject(Vc),nt=Uc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Nc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:O,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Nc(e))throw Error(i(299));var n=!1,r="",o=_c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Sc(e,1,!1,null,0,n,0,r,o),e[so]=t.current,Mr(8===e.nodeType?e.parentNode:e),new Ic(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=ze(t))?null:e.stateNode},t.flushSync=function(e){return Ju(e)},t.hydrate=function(e,t,n){if(!Mc(t))throw Error(i(200));return Lc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Nc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=_c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=kc(t,null,e,1,null!=n?n:null,o,0,a,s),e[so]=t.current,Mr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Ac(t)},t.render=function(e,t,n){if(!Mc(t))throw Error(i(200));return Lc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Mc(e))throw Error(i(40));return!!e._reactRootContainer&&(Ju(function(){Lc(null,null,e,!1,function(){e._reactRootContainer=null,e[so]=null})}),!0)},t.unstable_batchedUpdates=Yu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Mc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Lc(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},function(e,t,n){"use strict";e.exports=n(295)},function(e,t,n){"use strict";(function(e){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>i(u,n))c<o&&0>i(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<o&&0>i(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,d=null,p=3,h=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof e?e:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)o(l);else{if(!(t.startTime<=e))break;o(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function x(e){if(m=!1,w(e),!v)if(null!==r(c))v=!0,A(O);else{var t=r(l);null!==t&&N(x,t.startTime-e)}}function O(e,n){v=!1,m&&(m=!1,y(k),k=-1),h=!0;var i=p;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!P());){var a=d.callback;if("function"===typeof a){d.callback=null,p=d.priorityLevel;var s=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(c)&&o(c),w(n)}else o(c);d=r(c)}if(null!==d)var u=!0;else{var f=r(l);null!==f&&N(x,f.startTime-n),u=!1}return u}finally{d=null,p=i,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,C=null,k=-1,R=5,j=-1;function P(){return!(t.unstable_now()-j<R)}function T(){if(null!==C){var e=t.unstable_now();j=e;var n=!0;try{n=C(!0,e)}finally{n?E():(S=!1,C=null)}}else S=!1}if("function"===typeof b)E=function(){b(T)};else if("undefined"!==typeof MessageChannel){var _=new MessageChannel,I=_.port2;_.port1.onmessage=T,E=function(){I.postMessage(null)}}else E=function(){g(T,0)};function A(e){C=e,S||(S=!0,E())}function N(e,n){k=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,A(O))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(l,e),null===r(c)&&e===r(l)&&(m?(y(k),k=-1):m=!0,N(x,i-a))):(e.sortIndex=s,n(c,e),v||h||(v=!0,A(O))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}}).call(this,n(200).setImmediate)},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o=1,i={},a=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){l(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},u.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return i[o]=a,r(o),o++},u.clearImmediate=c}function c(e){delete i[e]}function l(e){if(a)setTimeout(l,0,e);else{var t=i[e];if(t){a=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{c(e),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(78),n(105))},,,function(e,t,n){"use strict";var r=n(0);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useState,a=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,l=r[1];return s(function(){o.value=n,o.getSnapshot=t,c(o)&&l({inst:o})},[e,n,t]),a(function(){return c(o)&&l({inst:o}),e(function(){c(o)&&l({inst:o})})},[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},function(e,t,n){"use strict";var r=n(0),o=n(173);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=o.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var f=s(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;f=c(function(){function e(e){if(!u){if(u=!0,a=e,e=r(e),void 0!==o&&d.hasValue){var t=d.value;if(o(t,e))return s=t}return s=e}if(t=s,i(a,e))return t;var n=r(e);return void 0!==o&&o(t,n)?t:(a=e,s=n)}var a,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,o]);var p=a(e,f[0],f[1]);return u(function(){d.hasValue=!0,d.value=p},[p]),l(p),p}},function(e,t,n){"use strict";e.exports=n(302)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function O(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case d:case a:case u:case s:case h:return e;default:switch(e=e&&e.$$typeof){case l:case p:case g:case m:case c:return e;default:return t}}case i:return t}}}function E(e){return O(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=u,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return E(e)||O(e)===f},t.isConcurrentMode=E,t.isContextConsumer=function(e){return O(e)===l},t.isContextProvider=function(e){return O(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return O(e)===p},t.isFragment=function(e){return O(e)===a},t.isLazy=function(e){return O(e)===g},t.isMemo=function(e){return O(e)===m},t.isPortal=function(e){return O(e)===i},t.isProfiler=function(e){return O(e)===u},t.isStrictMode=function(e){return O(e)===s},t.isSuspense=function(e){return O(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===u||e===s||e===h||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===p||e.$$typeof===b||e.$$typeof===w||e.$$typeof===x||e.$$typeof===y)},t.typeOf=O},function(e,t,n){"use strict";var r,o=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),l=Symbol.for("react.context"),f=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case a:case u:case s:case p:case h:return e;default:switch(e=e&&e.$$typeof){case f:case l:case d:case m:case v:case c:return e;default:return t}}case i:return t}}}r=Symbol.for("react.module.reference"),t.ContextConsumer=l,t.ContextProvider=c,t.Element=o,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.SuspenseList=h,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return y(e)===l},t.isContextProvider=function(e){return y(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return y(e)===d},t.isFragment=function(e){return y(e)===a},t.isLazy=function(e){return y(e)===m},t.isMemo=function(e){return y(e)===v},t.isPortal=function(e){return y(e)===i},t.isProfiler=function(e){return y(e)===u},t.isStrictMode=function(e){return y(e)===s},t.isSuspense=function(e){return y(e)===p},t.isSuspenseList=function(e){return y(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===u||e===s||e===p||e===h||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===r||void 0!==e.getModuleId)},t.typeOf=y},function(e,t,n){"use strict";var r=n(42),o=n(201),i=n(305),a=n(208);var s=function e(t){var n=new i(t),s=o(i.prototype.request,n);return r.extend(s,i.prototype,n),r.extend(s,n),s.create=function(n){return e(a(t,n))},s}(n(158));s.Axios=i,s.CanceledError=n(140),s.CancelToken=n(322),s.isCancel=n(207),s.VERSION=n(209).version,s.toFormData=n(204),s.AxiosError=n(106),s.Cancel=s.CanceledError,s.all=function(e){return Promise.all(e)},s.spread=n(323),s.isAxiosError=n(324),e.exports=s,e.exports.default=s},function(e,t,n){"use strict";var r=n(42),o=n(202),i=n(306),a=n(307),s=n(208),u=n(206),c=n(321),l=c.validators;function f(e){this.defaults=e,this.interceptors={request:new i,response:new i}}f.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))});var i,u=[];if(this.interceptors.response.forEach(function(e){u.push(e.fulfilled,e.rejected)}),!o){var f=[a,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(u),i=Promise.resolve(t);f.length;)i=i.then(f.shift(),f.shift());return i}for(var d=t;r.length;){var p=r.shift(),h=r.shift();try{d=p(d)}catch(v){h(v);break}}try{i=a(d)}catch(v){return Promise.reject(v)}for(;u.length;)i=i.then(u.shift(),u.shift());return i},f.prototype.getUri=function(e){e=s(this.defaults,e);var t=u(e.baseURL,e.url);return o(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],function(e){f.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}}),r.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,o){return this.request(s(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}f.prototype[e]=t(),f.prototype[e+"Form"]=t(!0)}),e.exports=f},function(e,t,n){"use strict";var r=n(42);function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,n){"use strict";var r=n(42),o=n(308),i=n(207),a=n(158),s=n(140);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return u(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(u(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(42),o=n(158);e.exports=function(e,t,n){var i=this||o;return r.forEach(n,function(n){e=n.call(i,e,t)}),e}},function(e,t,n){"use strict";var r=n(42);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),a=r[0],s=r[1],u=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===s&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===s&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(l(e,a,a+16383>s?s:a+16383));1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var o,i,a=[],s=t;s<n;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?o-1:0,d=n?-1:1,p=e[t+f];for(f+=d,i=p&(1<<-l)-1,p>>=-l,l+=s;l>0;i=256*i+e[t+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=c}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&s,p+=h,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+p]=255&a,p+=h,a/=256,c-=8);e[n+p-h]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";var r=n(106);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},function(e,t,n){"use strict";var r=n(42);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(42),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},function(e,t,n){"use strict";var r=n(42);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},function(e,t){e.exports=null},function(e,t,n){"use strict";var r=n(209).version,o=n(106),i={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var a={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new o(i(r," has been removed"+(t?" in "+t:"")),o.ERR_DEPRECATED);return t&&!a[r]&&(a[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new o("options must be an object",o.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],s=t[a];if(s){var u=e[a],c=void 0===u||s(u,a,e);if(!0!==c)throw new o("option "+a+" must be "+c,o.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new o("Unknown option "+a,o.ERR_BAD_OPTION)}},validators:i}},function(e,t,n){"use strict";var r=n(140);function o(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;this.promise.then(function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}}),this.promise.then=function(e){var t,r=new Promise(function(e){n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";var r=n(42);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenVidu=void 0;var r,o=n(211),i=n(160),a=n(141),s=n(169),u=n(107),c=n(108),l=n(142),f=n(45),d=n(92),p=n(348),h=n(349),v=n(213),m=n(166),g=n(226),y=n(359),b=f.OpenViduLogger.getInstance(),w=function(){function e(){var e=this;this.masterNodeHasCrashed=!1,this.publishers=[],this.secret="",this.recorder=!1,this.life=-1,this.advancedConfiguration={},this.webrtcStatsInterval=-1,this.sendBrowserLogs=v.OpenViduLoggerConfiguration.disabled,this.isAtLeastPro=!1,this.isEnterprise=!1,this.ee=new m,r=d.PlatformUtils.getInstance(),this.libraryVersion=y.version,b.info("OpenVidu initialized"),b.info("Platform detected: "+r.getDescription()),b.info("openvidu-browser version: "+this.libraryVersion),(r.isMobileDevice()||r.isReactNative())&&this.onOrientationChanged(function(){e.publishers.forEach(function(t){t.stream.isLocalStreamPublished&&t.stream&&t.stream.hasVideo&&e.sendNewVideoDimensionsIfRequired(t,"deviceRotated",75,10)})})}return e.prototype.initSession=function(){return this.session=new a.Session(this),this.session},e.prototype.initPublisher=function(e,t,n){var r;r=t&&"function"!==typeof t?{audioSource:"undefined"!==typeof(r=t).audioSource?r.audioSource:void 0,frameRate:"undefined"!==typeof MediaStreamTrack&&r.videoSource instanceof MediaStreamTrack?void 0:"undefined"!==typeof r.frameRate?r.frameRate:void 0,insertMode:"undefined"!==typeof r.insertMode?"string"===typeof r.insertMode?l.VideoInsertMode[r.insertMode]:r.insertMode:l.VideoInsertMode.APPEND,mirror:"undefined"===typeof r.mirror||r.mirror,publishAudio:"undefined"===typeof r.publishAudio||r.publishAudio,publishVideo:"undefined"===typeof r.publishVideo||r.publishVideo,resolution:"undefined"!==typeof MediaStreamTrack&&r.videoSource instanceof MediaStreamTrack?void 0:"undefined"!==typeof r.resolution?r.resolution:"640x480",videoSource:"undefined"!==typeof r.videoSource?r.videoSource:void 0,videoSimulcast:r.videoSimulcast,filter:r.filter}:{insertMode:l.VideoInsertMode.APPEND,mirror:!0,publishAudio:!0,publishVideo:!0,resolution:"640x480"};var o,a=new i.Publisher(e,r,this);return t&&"function"===typeof t?o=t:n&&(o=n),a.initialize().then(function(){void 0!==o&&o(void 0),a.emitEvent("accessAllowed",[])}).catch(function(e){void 0!==o&&o(e),a.emitEvent("accessDenied",[e])}),this.publishers.push(a),a},e.prototype.initPublisherAsync=function(e,t){var n=this;return new Promise(function(r,o){var i,a=function(e){return e?o(e):r(i)};i=t?n.initPublisher(e,t,a):n.initPublisher(e,a)})},e.prototype.initLocalRecorder=function(e){return new o.LocalRecorder(e)},e.prototype.checkSystemRequirements=function(){return r.isIPhoneOrIPad()?r.isIOSWithSafari()||r.isIonicIos()||r.isChromeMobileBrowser()||r.isEdgeMobileBrowser()||r.isOperaMobileBrowser()||r.isFirefoxMobileBrowser()?1:0:r.isChromeBrowser()||r.isChromeMobileBrowser()||r.isFirefoxBrowser()||r.isFirefoxMobileBrowser()||r.isOperaBrowser()||r.isOperaMobileBrowser()||r.isEdgeBrowser()||r.isEdgeMobileBrowser()||r.isSafariBrowser()||r.isAndroidBrowser()||r.isElectron()||r.isSamsungBrowser()?1:0},e.prototype.checkScreenSharingCapabilities=function(){return r.canScreenShare()},e.prototype.getDevices=function(){return new Promise(function(e,t){navigator.mediaDevices.enumerateDevices().then(function(t){var n,o=[];if(!(r.isIonicAndroid()&&"undefined"!=typeof cordova&&(null===(n=null===cordova||void 0===cordova?void 0:cordova.plugins)||void 0===n?void 0:n.EnumerateDevicesPlugin)))return t.forEach(function(e){"audioinput"!==e.kind&&"videoinput"!==e.kind||o.push({kind:e.kind,deviceId:e.deviceId,label:e.label})}),e(o);cordova.plugins.EnumerateDevicesPlugin.getEnumerateDevices().then(function(n){var r=[],i=[],a=[];return r=n.filter(function(e){return"audioinput"===e.kind}),i=t.filter(function(e){return"videoinput"===e.kind}),a=t.filter(function(e){return"audioinput"===e.kind}),i.forEach(function(e,t){if(e.label)o.push({kind:e.kind,deviceId:e.deviceId,label:e.label});else{var n="";n=0===t?"Front Camera":1===t?"Back Camera":"Unknown Camera",o.push({kind:e.kind,deviceId:e.deviceId,label:n})}}),a.forEach(function(e,t){if(e.label)o.push({kind:e.kind,deviceId:e.deviceId,label:e.label});else{var n="";switch(t){case 0:n="Default";break;case 1:var i=r.filter(function(e){return e.label.includes("Built")})[0];n=i?i.label:"Built-in Microphone";break;case 2:var a=r.filter(function(e){return e.label.includes("Wired")})[0];n=a?a.label:"Headset earpiece";break;case 3:var s=r.filter(function(e){return e.label.includes("Bluetooth")})[0];n=s?s.label:"Wireless";break;default:n="Unknown Microphone"}o.push({kind:e.kind,deviceId:e.deviceId,label:n})}}),e(o)})}).catch(function(e){return b.error("Error getting devices",e),t(e)})})},e.prototype.getUserMedia=function(e){var t=this;return new Promise(function(n,o){var i=function(e,r){var i={audio:void 0===r.audio||r.audio,video:!1};navigator.mediaDevices.getUserMedia(i).then(function(t){return e.addTrack(t.getAudioTracks()[0]),n(e)}).catch(function(n){return e.getAudioTracks().forEach(function(e){e.stop()}),e.getVideoTracks().forEach(function(e){e.stop()}),o(t.generateAudioDeviceError(n,i))})};t.generateMediaConstraints(e).then(function(a){var s,u;if(a.videoTrack&&a.audioTrack||a.audioTrack&&!1===(null===(s=a.constraints)||void 0===s?void 0:s.video)||a.videoTrack&&!1===(null===(u=a.constraints)||void 0===u?void 0:u.audio))return n(t.addAlreadyProvidedTracks(a,new MediaStream));a.videoTrack&&delete a.constraints.video,a.audioTrack&&delete a.constraints.audio;var l=!1;if("string"===typeof e.videoSource&&("screen"===e.videoSource||"window"===e.videoSource||r.isElectron()&&e.videoSource.startsWith("screen:"))&&(l=!a.audioTrack&&null!==e.audioSource&&!1!==e.audioSource,navigator.mediaDevices.getDisplayMedia&&!r.isElectron()))navigator.mediaDevices.getDisplayMedia({video:!0}).then(function(e){return t.addAlreadyProvidedTracks(a,e),l?void i(e,a.constraints):n(e)}).catch(function(e){var t=c.OpenViduErrorName.SCREEN_CAPTURE_DENIED,n=e.toString();return o(new c.OpenViduError(t,n))});else{var f=l?{video:a.constraints.video}:a.constraints;navigator.mediaDevices.getUserMedia(f).then(function(e){return t.addAlreadyProvidedTracks(a,e),l?void i(e,a.constraints):n(e)}).catch(function(t){var n,r=t.toString();return n="screen"!==e.videoSource?c.OpenViduErrorName.DEVICE_ACCESS_DENIED:c.OpenViduErrorName.SCREEN_CAPTURE_DENIED,o(new c.OpenViduError(n,r))})}}).catch(function(e){return o(e)})})},e.prototype.enableProdMode=function(){b.enableProdMode()},e.prototype.setAdvancedConfiguration=function(e){this.advancedConfiguration=e},e.prototype.onOrientationChanged=function(e){window.addEventListener("orientationchange",e)},e.prototype.sendNewVideoDimensionsIfRequired=function(e,t,n,r){var o=this,i=0,a=e.stream.videoDimensions.width,s=e.stream.videoDimensions.height,u=setInterval(function(){++i>r&&clearTimeout(u),e.getVideoDimensions().then(function(n){n.width===a&&n.height===s||(clearTimeout(u),o.sendVideoDimensionsChangedEvent(e,t,a,s,n.width,n.height))})},n)},e.prototype.sendVideoDimensionsChangedEvent=function(e,t,n,r,o,i){var a=this;e.stream.videoDimensions={width:o||0,height:i||0},this.sendRequest("streamPropertyChanged",{streamId:e.stream.streamId,property:"videoDimensions",newValue:JSON.stringify(e.stream.videoDimensions),reason:t},function(o,i){o?b.error("Error sending 'streamPropertyChanged' event",o):(a.session.emitEvent("streamPropertyChanged",[new u.StreamPropertyChangedEvent(a.session,e.stream,"videoDimensions",e.stream.videoDimensions,{width:n,height:r},t)]),e.emitEvent("streamPropertyChanged",[new u.StreamPropertyChangedEvent(e,e.stream,"videoDimensions",e.stream.videoDimensions,{width:n,height:r},t)]),a.session.sendVideoData(e))})},e.prototype.generateMediaConstraints=function(e){var t=this;return new Promise(function(n,r){var o={audioTrack:void 0,videoTrack:void 0,constraints:{audio:void 0,video:void 0}},i=e.audioSource,a=e.videoSource;if(null!==i&&!1!==i||(o.constraints.audio=!1),null!==a&&!1!==a||(o.constraints.video=!1),!1===o.constraints.audio&&!1===o.constraints.video)return r(new c.OpenViduError(c.OpenViduErrorName.NO_INPUT_SOURCE_SET,"Properties 'audioSource' and 'videoSource' cannot be set to false or null at the same time"));if("undefined"!==typeof MediaStreamTrack&&i instanceof MediaStreamTrack&&(o.audioTrack=i),"undefined"!==typeof MediaStreamTrack&&a instanceof MediaStreamTrack&&(o.videoTrack=a),void 0===i&&(o.constraints.audio=!0),void 0===a&&(o.constraints.video={width:{ideal:640},height:{ideal:480}}),null!==a&&!1!==a){if(e.resolution){var s=e.resolution.toLowerCase().split("x"),u=Number(s[0]),l=Number(s[1]);o.constraints.video={width:{ideal:u},height:{ideal:l}}}e.frameRate&&(o.constraints.video.frameRate={ideal:e.frameRate})}return t.configureDeviceIdOrScreensharing(o,e,n,r),n(o)})},e.prototype.startWs=function(e){var t={heartbeat:5e3,ws:{uri:this.wsUri+"?sessionId="+this.session.sessionId,onconnected:e,ondisconnect:this.disconnectCallback.bind(this),onreconnecting:this.reconnectingCallback.bind(this),onreconnected:this.reconnectedCallback.bind(this),ismasternodecrashed:this.isMasterNodeCrashed.bind(this)},rpc:{requestTimeout:1e4,heartbeatRequestTimeout:5e3,participantJoined:this.session.onParticipantJoined.bind(this.session),participantPublished:this.session.onParticipantPublished.bind(this.session),participantUnpublished:this.session.onParticipantUnpublished.bind(this.session),participantLeft:this.session.onParticipantLeft.bind(this.session),participantEvicted:this.session.onParticipantEvicted.bind(this.session),recordingStarted:this.session.onRecordingStarted.bind(this.session),recordingStopped:this.session.onRecordingStopped.bind(this.session),sendMessage:this.session.onNewMessage.bind(this.session),streamPropertyChanged:this.session.onStreamPropertyChanged.bind(this.session),connectionPropertyChanged:this.session.onConnectionPropertyChanged.bind(this.session),networkQualityLevelChanged:this.session.onNetworkQualityLevelChangedChanged.bind(this.session),filterEventDispatched:this.session.onFilterEventDispatched.bind(this.session),iceCandidate:this.session.recvIceCandidate.bind(this.session),mediaError:this.session.onMediaError.bind(this.session),masterNodeCrashedNotification:this.onMasterNodeCrashedNotification.bind(this),forciblyReconnectSubscriber:this.session.onForciblyReconnectSubscriber.bind(this.session)}};this.jsonRpcClient=new g.clients.JsonRpcClient(t)},e.prototype.onMasterNodeCrashedNotification=function(e){console.error("Master Node has crashed"),this.masterNodeHasCrashed=!0,this.session.onLostConnection("nodeCrashed"),this.jsonRpcClient.close(4103,"Master Node has crashed")},e.prototype.getWsReadyState=function(){return this.jsonRpcClient.getReadyState()},e.prototype.closeWs=function(){this.jsonRpcClient.close(4102,"Connection closed by client")},e.prototype.sendRequest=function(e,t,n){t&&t instanceof Function&&(n=t,t={}),b.debug('Sending request: {method:"'+e+'", params: '+JSON.stringify(t)+"}"),this.jsonRpcClient.send(e,t,n)},e.prototype.getWsUri=function(){return this.wsUri},e.prototype.getSecret=function(){return this.secret},e.prototype.getRecorder=function(){return this.recorder},e.prototype.generateAudioDeviceError=function(e,t){var n,r;switch("Error"===e.name&&(e.name=e.constructor.name),e.name.toLowerCase()){case"notfounderror":return n=c.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,r=e.toString(),new c.OpenViduError(n,r);case"notallowederror":return n=c.OpenViduErrorName.DEVICE_ACCESS_DENIED,r=e.toString(),new c.OpenViduError(n,r);case"overconstrainederror":return"deviceid"===e.constraint.toLowerCase()?(n=c.OpenViduErrorName.INPUT_AUDIO_DEVICE_NOT_FOUND,r="Audio input device with deviceId '"+t.audio.deviceId.exact+"' not found"):(n=c.OpenViduErrorName.PUBLISHER_PROPERTIES_ERROR,r="Audio input device doesn't support the value passed for constraint '"+e.constraint+"'"),new c.OpenViduError(n,r);case"notreadableerror":return n=c.OpenViduErrorName.DEVICE_ALREADY_IN_USE,r=e.toString(),new c.OpenViduError(n,r);default:return new c.OpenViduError(c.OpenViduErrorName.INPUT_AUDIO_DEVICE_GENERIC_ERROR,e.toString())}},e.prototype.addAlreadyProvidedTracks=function(e,t,n){return e.videoTrack&&(t.addTrack(e.videoTrack),n&&(e.constraints.video?n.lastVideoTrackConstraints=e.constraints.video:n.lastVideoTrackConstraints=e.videoTrack.getConstraints())),e.audioTrack&&t.addTrack(e.audioTrack),t},e.prototype.configureDeviceIdOrScreensharing=function(e,t,n,o){var i=this,a=t.audioSource,s=t.videoSource;if("string"===typeof a&&(e.constraints.audio={deviceId:{exact:a}}),"string"===typeof s){if(this.isScreenShare(s)){if(this.checkScreenSharingCapabilities()){if(r.isElectron()){var u=s,l=u.substr(u.indexOf("screen:")+"screen:".length);return e.constraints.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:l}},n(e)}if(!this.advancedConfiguration.screenShareChromeExtension||r.isFirefoxBrowser()||r.isFirefoxMobileBrowser()||navigator.mediaDevices.getDisplayMedia){if(navigator.mediaDevices.getDisplayMedia)return n(e);var f=r.isFirefoxBrowser()||r.isFirefoxMobileBrowser()?t.videoSource:void 0;return void p.getScreenId(f,function(t,r,a){if(t){if("not-installed"===t){var s=i.advancedConfiguration.screenShareChromeExtension?i.advancedConfiguration.screenShareChromeExtension:"https://chrome.google.com/webstore/detail/openvidu-screensharing/lfcgfepafnobdloecchnfaclibenjold",u=new c.OpenViduError(c.OpenViduErrorName.SCREEN_EXTENSION_NOT_INSTALLED,s);return b.error(u),o(u)}if("installed-disabled"===t){u=new c.OpenViduError(c.OpenViduErrorName.SCREEN_EXTENSION_DISABLED,"You must enable the screen extension");return b.error(u),o(u)}if("permission-denied"===t){u=new c.OpenViduError(c.OpenViduErrorName.SCREEN_CAPTURE_DENIED,"You must allow access to one window of your desktop");return b.error(u),o(u)}u=new c.OpenViduError(c.OpenViduErrorName.GENERIC_ERROR,"Unknown error when accessing screen share");return b.error(u),b.error(t),o(u)}return e.constraints.video=a.video,n(e)})}return void h.getScreenConstraints(function(t,r){if(!(t||r.mandatory&&"screen"===r.mandatory.chromeMediaSource))return e.constraints.video=r,n(e);if("permission-denied"===t||"PermissionDeniedError"===t){var a=new c.OpenViduError(c.OpenViduErrorName.SCREEN_CAPTURE_DENIED,"You must allow access to one window of your desktop");return b.error(a),o(a)}var s=i.advancedConfiguration.screenShareChromeExtension.split("/").pop().trim();h.getChromeExtensionStatus(s,function(e){if("installed-disabled"===e){var t=new c.OpenViduError(c.OpenViduErrorName.SCREEN_EXTENSION_DISABLED,"You must enable the screen extension");return b.error(t),o(t)}if("not-installed"===e){var n=new c.OpenViduError(c.OpenViduErrorName.SCREEN_EXTENSION_NOT_INSTALLED,i.advancedConfiguration.screenShareChromeExtension);return b.error(n),o(n)}})})}var d=new c.OpenViduError(c.OpenViduErrorName.SCREEN_SHARING_NOT_SUPPORTED,"You can only screen share in desktop Chrome, Firefox, Opera, Safari (>=13.0), Edge (>= 80) or Electron. Detected client: "+r.getName()+" "+r.getVersion());return b.error(d),o(d)}this.setVideoSource(e,s)}},e.prototype.setVideoSource=function(e,t){e.constraints.video||(e.constraints.video={}),e.constraints.video.deviceId={exact:t}},e.prototype.disconnectCallback=function(){b.warn("Websocket connection lost"),this.isRoomAvailable()?this.session.onLostConnection("networkDisconnect"):alert("Connection error. Please reload page.")},e.prototype.reconnectingCallback=function(){b.warn("Websocket connection lost (reconnecting)"),this.isRoomAvailable()?this.session.emitEvent("reconnecting",[]):alert("Connection error. Please reload page.")},e.prototype.reconnectWebsocketThroughRpcConnectMethod=function(e){var t=this;this.sendRequest("connect",{sessionId:e,reconnect:!0},function(e,n){if(e)if(t.isMasterNodeCrashed())b.warn("Master Node has crashed!");else{b.error(e);var r=function(e,n){b.warn(n),t.session.onLostConnection(e),t.jsonRpcClient.close(4101,"Reconnection fault: "+n)},o=function(){-1===t.life?r("networkDisconnect","WS successfully reconnected but the user was already evicted due to timeout"):t.sendRequest("sessionStatus",{sessionId:t.session.sessionId},function(e,n){null!=e?console.error("Error checking session status",e):t.life===n.life?r("networkDisconnect","WS successfully reconnected but the user was already evicted due to timeout"):r("nodeCrashed","WS successfully reconnected to OpenVidu Server but your Master Node crashed")})};40007===e.code&&"reconnection error"===e.message?(console.error("Invalid RPC sessionId. Client network disconnection or Master Node crash"),o()):o()}else t.jsonRpcClient.resetPing(),t.session.onRecoveredConnection()})},e.prototype.reconnectedCallback=function(){if(b.warn("Websocket reconnected"),this.isRoomAvailable())if(this.session.connection)this.reconnectWebsocketThroughRpcConnectMethod(this.session.connection.rpcSessionId);else{b.warn("There was no previous connection when running reconnection callback");var e=new s.SessionDisconnectedEvent(this.session,"networkDisconnect");this.session.ee.emitEvent("sessionDisconnected",[e]),e.callDefaultBehavior()}else alert("Connection error. Please reload page.")},e.prototype.isMasterNodeCrashed=function(){return this.masterNodeHasCrashed},e.prototype.isRoomAvailable=function(){return void 0!==this.session&&this.session instanceof a.Session||(b.warn("Session instance not found"),!1)},e.prototype.isScreenShare=function(e){return"screen"===e||"window"===e||r.isElectron()&&e.startsWith("screen:")},e}();t.OpenVidu=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleLogger=void 0;var r=function(){return function(e){this.logger=e,this.log=window.console.log,this.info=window.console.info,this.debug=window.console.debug,this.warn=window.console.warn,this.error=window.console.error}}();t.ConsoleLogger=r},function(e,t,n){(function(e,r){var o;(function(){"use strict";var i={function:!0,object:!0},a=i[typeof window]&&window||this,s=i[typeof t]&&t,u=i[typeof e]&&e&&!e.nodeType&&e,c=s&&u&&"object"==typeof r&&r;!c||c.global!==c&&c.window!==c&&c.self!==c||(a=c);var l=Math.pow(2,53)-1,f=/\bOpera/,d=Object.prototype,p=d.hasOwnProperty,h=d.toString;function v(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function m(e){return e=x(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:v(e)}function g(e,t){for(var n in e)p.call(e,n)&&t(e[n],n,e)}function y(e){return null==e?v(e):h.call(e).slice(8,-1)}function b(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function w(e,t){var n=null;return function(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=l)for(;++n<r;)t(e[n],n,e);else g(e,t)}(e,function(r,o){n=t(n,r,o,e)}),n}function x(e){return String(e).replace(/^ +| +$/g,"")}var O=function e(t){var n=a,r=t&&"object"==typeof t&&"String"!=y(t);r&&(n=t,t=null);var o=n.navigator||{},i=o.userAgent||"";t||(t=i);var s,u,c=r?!!o.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(h.toString()),l=r?"Object":"ScriptBridgingProxyObject",d=r?"Object":"Environment",p=r&&n.java?"JavaPackage":y(n.java),v=r?"Object":"RuntimeObject",O=/\bJava/.test(p)&&n.java,E=O&&y(n.environment)==d,S=O?"a":"\u03b1",C=O?"b":"\u03b2",k=n.document||{},R=n.operamini||n.opera,j=f.test(j=r&&R?R["[[Class]]"]:y(R))?j:R=null,P=t,T=[],_=null,I=t==i,A=I&&R&&"function"==typeof R.version&&R.version(),N=w([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],function(e,n){return e||RegExp("\\b"+(n.pattern||b(n))+"\\b","i").exec(t)&&(n.label||n)}),M=function(e){return w(e,function(e,n){return e||RegExp("\\b"+(n.pattern||b(n))+"\\b","i").exec(t)&&(n.label||n)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),D=B([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),L=function(e){return w(e,function(e,n,r){return e||(n[D]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(D)]||RegExp("\\b"+b(r)+"(?:\\b|\\w*\\d)","i").exec(t))&&r})}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),F=function(e){return w(e,function(e,n){var r=n.pattern||b(n);return!e&&(e=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=m(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,r,n.label||n)),e})}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function B(e){return w(e,function(e,n){var r=n.pattern||b(n);return!e&&(e=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),n=n.label||n,e=m(e[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),e})}function V(e){return w(e,function(e,n){return e||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null})}if(N&&(N=[N]),/\bAndroid\b/.test(F)&&!D&&(s=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t))&&(D=x(s[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),L&&!D?D=B([L]):L&&D&&(D=D.replace(RegExp("^("+b(L)+")[-_.\\s]","i"),L+" ").replace(RegExp("^("+b(L)+")[-_.]?(\\w)","i"),L+" $2")),(s=/\bGoogle TV\b/.exec(D))&&(D=s[0]),/\bSimulator\b/i.test(t)&&(D=(D?D+" ":"")+"Simulator"),"Opera Mini"==M&&/\bOPiOS\b/.test(t)&&T.push("running in Turbo/Uncompressed mode"),"IE"==M&&/\blike iPhone OS\b/.test(t)?(L=(s=e(t.replace(/like iPhone OS/,""))).manufacturer,D=s.product):/^iP/.test(D)?(M||(M="Safari"),F="iOS"+((s=/ OS ([\d_]+)/i.exec(t))?" "+s[1].replace(/_/g,"."):"")):"Konqueror"==M&&/^Linux\b/i.test(F)?F="Kubuntu":L&&"Google"!=L&&(/Chrome/.test(M)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(D))||/\bAndroid\b/.test(F)&&/^Chrome/.test(M)&&/\bVersion\//i.test(t)?(M="Android Browser",F=/\bAndroid\b/.test(F)?F:"Android"):"Silk"==M?(/\bMobi/i.test(t)||(F="Android",T.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&T.unshift("accelerated")):"UC Browser"==M&&/\bUCWEB\b/.test(t)?T.push("speed mode"):"PaleMoon"==M&&(s=/\bFirefox\/([\d.]+)\b/.exec(t))?T.push("identifying as Firefox "+s[1]):"Firefox"==M&&(s=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(F||(F="Firefox OS"),D||(D=s[1])):!M||(s=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(M))?(M&&!D&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(s+"/")+8))&&(M=null),(s=D||L||F)&&(D||L||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(F))&&(M=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(F)?F:s)+" Browser")):"Electron"==M&&(s=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&T.push("Chromium "+s),A||(A=V(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",b(M),"(?:Firefox|Minefield|NetFront)"])),(s=("iCab"==N&&parseFloat(A)>3?"WebKit":/\bOpera\b/.test(M)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(N)&&"WebKit"||!N&&/\bMSIE\b/i.test(t)&&("Mac OS"==F?"Tasman":"Trident")||"WebKit"==N&&/\bPlayStation\b(?! Vita\b)/i.test(M)&&"NetFront")&&(N=[s]),"IE"==M&&(s=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(M+=" Mobile",F="Windows Phone "+(/\+$/.test(s)?s:s+".x"),T.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(M="IE Mobile",F="Windows Phone 8.x",T.unshift("desktop mode"),A||(A=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=M&&"Trident"==N&&(s=/\brv:([\d.]+)/.exec(t))&&(M&&T.push("identifying as "+M+(A?" "+A:"")),M="IE",A=s[1]),I){if(function(e,t){var n=null!=e?typeof e[t]:"number";return!/^(?:boolean|number|string|undefined)$/.test(n)&&("object"!=n||!!e[t])}(n,"global"))if(O&&(P=(s=O.lang.System).getProperty("os.arch"),F=F||s.getProperty("os.name")+" "+s.getProperty("os.version")),E){try{A=n.require("ringo/engine").version.join("."),M="RingoJS"}catch(W){(s=n.system)&&s.global.system==n.system&&(M="Narwhal",F||(F=s[0].os||null))}M||(M="Rhino")}else"object"==typeof n.process&&!n.process.browser&&(s=n.process)&&("object"==typeof s.versions&&("string"==typeof s.versions.electron?(T.push("Node "+s.versions.node),M="Electron",A=s.versions.electron):"string"==typeof s.versions.nw&&(T.push("Chromium "+A,"Node "+s.versions.node),M="NW.js",A=s.versions.nw)),M||(M="Node.js",P=s.arch,F=s.platform,A=(A=/[\d.]+/.exec(s.version))?A[0]:null));else y(s=n.runtime)==l?(M="Adobe AIR",F=s.flash.system.Capabilities.os):y(s=n.phantom)==v?(M="PhantomJS",A=(s=s.version||null)&&s.major+"."+s.minor+"."+s.patch):"number"==typeof k.documentMode&&(s=/\bTrident\/(\d+)/i.exec(t))?(A=[A,k.documentMode],(s=+s[1]+4)!=A[1]&&(T.push("IE "+A[1]+" mode"),N&&(N[1]=""),A[1]=s),A="IE"==M?String(A[1].toFixed(1)):A[0]):"number"==typeof k.documentMode&&/^(?:Chrome|Firefox)\b/.test(M)&&(T.push("masking as "+M+" "+A),M="IE",A="11.0",N=["Trident"],F="Windows");F=F&&m(F)}if(A&&(s=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(A)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(I&&o.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(_=/b/i.test(s)?"beta":"alpha",A=A.replace(RegExp(s+"\\+?$"),"")+("beta"==_?C:S)+(/\d+\+?/.exec(s)||"")),"Fennec"==M||"Firefox"==M&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(F))M="Firefox Mobile";else if("Maxthon"==M&&A)A=A.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(D))"Xbox 360"==D&&(F=null),"Xbox 360"==D&&/\bIEMobile\b/.test(t)&&T.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(M)&&(!M||D||/Browser|Mobi/.test(M))||"Windows CE"!=F&&!/Mobi/i.test(t))if("IE"==M&&I)try{null===n.external&&T.unshift("platform preview")}catch(W){T.unshift("embedded")}else(/\bBlackBerry\b/.test(D)||/\bBB10\b/.test(t))&&(s=(RegExp(D.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||A)?(F=((s=[s,/BB10/.test(t)])[1]?(D=null,L="BlackBerry"):"Device Software")+" "+s[0],A=null):this!=g&&"Wii"!=D&&(I&&R||/Opera/.test(M)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==M&&/\bOS X (?:\d+\.){2,}/.test(F)||"IE"==M&&(F&&!/^Win/.test(F)&&A>5.5||/\bWindows XP\b/.test(F)&&A>8||8==A&&!/\bTrident\b/.test(t)))&&!f.test(s=e.call(g,t.replace(f,"")+";"))&&s.name&&(s="ing as "+s.name+((s=s.version)?" "+s:""),f.test(M)?(/\bIE\b/.test(s)&&"Mac OS"==F&&(F=null),s="identify"+s):(s="mask"+s,M=j?m(j.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(s)&&(F=null),I||(A=null)),N=["Presto"],T.push(s));else M+=" Mobile";(s=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(s=[parseFloat(s.replace(/\.(\d)$/,".0$1")),s],"Safari"==M&&"+"==s[1].slice(-1)?(M="WebKit Nightly",_="alpha",A=s[1].slice(0,-1)):A!=s[1]&&A!=(s[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(A=null),s[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t)||0)[1],537.36==s[0]&&537.36==s[2]&&parseFloat(s[1])>=28&&"WebKit"==N&&(N=["Blink"]),I&&(c||s[1])?(N&&(N[1]="like Chrome"),s=s[1]||((s=s[0])<530?1:s<532?2:s<532.05?3:s<533?4:s<534.03?5:s<534.07?6:s<534.1?7:s<534.13?8:s<534.16?9:s<534.24?10:s<534.3?11:s<535.01?12:s<535.02?"13+":s<535.07?15:s<535.11?16:s<535.19?17:s<536.05?18:s<536.1?19:s<537.01?20:s<537.11?"21+":s<537.13?23:s<537.18?24:s<537.24?25:s<537.36?26:"Blink"!=N?"27":"28")):(N&&(N[1]="like Safari"),s=(s=s[0])<400?1:s<500?2:s<526?3:s<533?4:s<534?"4+":s<535?5:s<537?6:s<538?7:s<601?8:s<602?9:s<604?10:s<606?11:s<608?12:"12"),N&&(N[1]+=" "+(s+="number"==typeof s?".x":/[.+]/.test(s)?"":"+")),"Safari"==M&&(!A||parseInt(A)>45)?A=s:"Chrome"==M&&/\bHeadlessChrome/i.test(t)&&T.unshift("headless")),"Opera"==M&&(s=/\bzbov|zvav$/.exec(F))?(M+=" ",T.unshift("desktop mode"),"zvav"==s?(M+="Mini",A=null):M+="Mobile",F=F.replace(RegExp(" *"+s+"$"),"")):"Safari"==M&&/\bChrome\b/.exec(N&&N[1])?(T.unshift("desktop mode"),M="Chrome Mobile",A=null,/\bOS X\b/.test(F)?(L="Apple",F="iOS 4.3+"):F=null):/\bSRWare Iron\b/.test(M)&&!A&&(A=V("Chrome")),A&&0==A.indexOf(s=/[\d.]+$/.exec(F))&&t.indexOf("/"+s+"-")>-1&&(F=x(F.replace(s,""))),F&&-1!=F.indexOf(M)&&!RegExp(M+" OS").test(F)&&(F=F.replace(RegExp(" *"+b(M)+" *"),"")),N&&!/\b(?:Avant|Nook)\b/.test(M)&&(/Browser|Lunascape|Maxthon/.test(M)||"Safari"!=M&&/^iOS/.test(F)&&/\bSafari\b/.test(N[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(M)&&N[1])&&(s=N[N.length-1])&&T.push(s),T.length&&(T=["("+T.join("; ")+")"]),L&&D&&D.indexOf(L)<0&&T.push("on "+L),D&&T.push((/^on /.test(T[T.length-1])?"":"on ")+D),F&&(s=/ ([\d.+]+)$/.exec(F),u=s&&"/"==F.charAt(F.length-s[0].length-1),F={architecture:32,family:s&&!u?F.replace(s[0],""):F,version:s?s[1]:null,toString:function(){var e=this.version;return this.family+(e&&!u?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(s=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(P))&&!/\bi686\b/i.test(P)?(F&&(F.architecture=64,F.family=F.family.replace(RegExp(" *"+s),"")),M&&(/\bWOW64\b/i.test(t)||I&&/\w(?:86|32)$/.test(o.cpuClass||o.platform)&&!/\bWin64; x64\b/i.test(t))&&T.unshift("32-bit")):F&&/^OS X/.test(F.family)&&"Chrome"==M&&parseFloat(A)>=39&&(F.architecture=64),t||(t=null);var U={};return U.description=t,U.layout=N&&N[0],U.manufacturer=L,U.name=M,U.prerelease=_,U.product=D,U.ua=t,U.version=M&&A,U.os=F||{architecture:null,family:null,version:null,toString:function(){return"null"}},U.parse=e,U.toString=function(){return this.description||""},U.version&&T.unshift(A),U.name&&T.unshift(M),F&&M&&(F!=String(F).split(" ")[0]||F!=M.split(" ")[0]&&!D)&&T.push(D?"("+F+")":"on "+F),T.length&&(U.description=T.join(" ")),U}();a.platform=O,void 0===(o=function(){return O}.call(t,n,t,e))||(e.exports=o)}).call(this)}).call(this,n(329)(e),n(78))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=n(331);e.exports=new r(n(332))},function(e,t,n){"use strict";function r(){this._types=Object.create(null),this._extensions=Object.create(null);for(var e=0;e<arguments.length;e++)this.define(arguments[e]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}r.prototype.define=function(e,t){for(var n in e){var r=e[n].map(function(e){return e.toLowerCase()});n=n.toLowerCase();for(var o=0;o<r.length;o++){var i=r[o];if("*"!==i[0]){if(!t&&i in this._types)throw new Error('Attempt to change mapping for "'+i+'" extension from "'+this._types[i]+'" to "'+n+'". Pass `force=true` to allow this, otherwise remove "'+i+'" from the list of extensions for "'+n+'".');this._types[i]=n}}if(t||!this._extensions[n]){var a=r[0];this._extensions[n]="*"!==a[0]?a:a.substr(1)}}},r.prototype.getType=function(e){var t=(e=String(e)).replace(/^.*[\/\\]/,"").toLowerCase(),n=t.replace(/^.*\./,"").toLowerCase(),r=t.length<e.length;return(n.length<t.length-1||!r)&&this._types[n]||null},r.prototype.getExtension=function(e){return(e=/^\s*([^;\s]*)/.test(e)&&RegExp.$1)&&this._extensions[e.toLowerCase()]||null},e.exports=r},function(e,t){e.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebRtcPeerSendrecv=t.WebRtcPeerSendonly=t.WebRtcPeerRecvonly=t.WebRtcPeer=void 0;var s=n(334),u=n(232),c=n(121),l=n(45),f=n(92),d=l.OpenViduLogger.getInstance(),p=function(){function e(e){var t=this;this.remoteCandidatesQueue=[],this.localCandidatesQueue=[],this.iceCandidateList=[],this.candidategatheringdone=!1,f.PlatformUtils.getInstance(),this.configuration=o(o({},e),{iceServers:e.iceServers&&e.iceServers.length>0?e.iceServers:s(),mediaStream:void 0!==e.mediaStream?e.mediaStream:null,mode:e.mode?e.mode:"sendrecv",id:e.id?e.id:this.generateUniqueId()}),d.debug("[WebRtcPeer] configuration:\n".concat(JSON.stringify(this.configuration,null,2))),this.pc=new RTCPeerConnection({iceServers:this.configuration.iceServers}),this.pc.addEventListener("icecandidate",function(e){if(null!==e.candidate){var n=e.candidate,r=new RTCIceCandidate(n);t.configuration.onIceCandidate(r),""!==r.candidate&&t.localCandidatesQueue.push(r)}}),this.pc.addEventListener("signalingstatechange",function(){if("stable"===t.pc.signalingState)for(;t.iceCandidateList.length>0;){var e=t.iceCandidateList.shift();t.pc.addIceCandidate(e)}})}return e.prototype.getId=function(){return this.configuration.id},e.prototype.dispose=function(){if(d.debug("Disposing WebRtcPeer"),this.pc){if("closed"===this.pc.signalingState)return;this.pc.close(),this.remoteCandidatesQueue=[],this.localCandidatesQueue=[]}},e.prototype.createOfferLegacy=function(){this.configuration.mediaStream&&this.deprecatedPeerConnectionTrackApi();var e=this.configuration.mediaConstraints.audio,t=this.configuration.mediaConstraints.video,n={offerToReceiveAudio:"sendonly"!==this.configuration.mode&&e,offerToReceiveVideo:"sendonly"!==this.configuration.mode&&t};return d.debug("[createOfferLegacy] RTCPeerConnection.createOffer() options:",JSON.stringify(n)),this.pc.createOffer(n)},e.prototype.createOffer=function(){var e,t,n,r,o,s,u,c;return i(this,void 0,void 0,function(){var i,l,f,p,h,v,m,g,y,b,w,x,O,E,S,C,k,R,j,P,T,_,I;return a(this,function(a){switch(a.label){case 0:if(!("addTransceiver"in this.pc))return d.warn("[createOffer] Method RTCPeerConnection.addTransceiver() is NOT available; using LEGACY offerToReceive{Audio,Video}"),[2,this.createOfferLegacy()];if(d.debug("[createOffer] Method RTCPeerConnection.addTransceiver() is available; using it"),"recvonly"===this.configuration.mode)return[3,7];if(!this.configuration.mediaStream)throw new Error("[WebRtcPeer.createOffer] Direction is '".concat(this.configuration.mode,"', but no stream was configured to be sent"));i=0,l=this.configuration.mediaStream.getTracks(),a.label=1;case 1:if(!(i<l.length))return[3,6];if(f=l[i],p={direction:this.configuration.mode,streams:[this.configuration.mediaStream]},"video"===f.kind&&this.configuration.simulcast)for(h=f.getSettings(),v=f.getConstraints(),m=null!==(n=null!==(t=null!==(e=h.width)&&void 0!==e?e:v.width.ideal)&&void 0!==t?t:v.width)&&void 0!==n?n:0,g=null!==(s=null!==(o=null!==(r=h.height)&&void 0!==r?r:v.height.ideal)&&void 0!==o?o:v.height)&&void 0!==s?s:0,d.info("[createOffer] Video track dimensions: ".concat(m,"x").concat(g)),b=0,b=(y=m*g)>=518400?3:y>=129600?2:1,p.sendEncodings=[],w=0;w<b;w++)x=Math.pow(2,b-w-1),O={rid:"rdiv"+x.toString(),scalabilityMode:"L1T1"},["detail","text"].includes(f.contentHint)?(O.scaleResolutionDownBy=1,O.maxFramerate=Math.floor(30/x)):O.scaleResolutionDownBy=x,p.sendEncodings.push(O);if(E=this.pc.addTransceiver(f,p),"video"!==f.kind)return[3,5];if(S=E.sender.getParameters(),C=!1,(null===(u=S.degradationPreference)||void 0===u?void 0:u.length)||(["detail","text"].includes(f.contentHint)?S.degradationPreference="maintain-resolution":S.degradationPreference="balanced",d.info("[createOffer] Video sender Degradation Preference set: ".concat(S.degradationPreference)),C=!0),this.configuration.simulcast&&(null===(c=S.encodings)||void 0===c?void 0:c.length)!==p.sendEncodings.length&&(S.encodings=p.sendEncodings,C=!0),!C)return[3,5];d.debug("[createOffer] Setting new RTCRtpSendParameters to video sender"),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,E.sender.setParameters(S)];case 3:return a.sent(),[3,5];case 4:throw k=a.sent(),I="[WebRtcPeer.createOffer] Cannot set RTCRtpSendParameters to video sender",k instanceof Error&&(I+=": ".concat(k.message)),new Error(I);case 5:return i++,[3,1];case 6:return[3,8];case 7:for(R=0,j=["audio","video"];R<j.length;R++)P=j[R],this.configuration.mediaConstraints[P]&&(this.configuration.mediaStream=new MediaStream,this.pc.addTransceiver(P,{direction:this.configuration.mode,streams:[this.configuration.mediaStream]}));a.label=8;case 8:return a.trys.push([8,10,,11]),[4,this.pc.createOffer()];case 9:return T=a.sent(),[3,11];case 10:throw _=a.sent(),I="[WebRtcPeer.createOffer] Browser failed creating an SDP Offer",_ instanceof Error&&(I+=": ".concat(_.message)),new Error(I);case 11:return[2,T]}})})},e.prototype.deprecatedPeerConnectionTrackApi=function(){for(var e=0,t=this.configuration.mediaStream.getTracks();e<t.length;e++){var n=t[e];this.pc.addTrack(n,this.configuration.mediaStream)}},e.prototype.createAnswer=function(){var e=this;return new Promise(function(t,n){if("getTransceivers"in e.pc){d.debug("[createAnswer] Method RTCPeerConnection.getTransceivers() is available; using it");for(var r=function(t){if(!e.configuration.mediaConstraints[t])return"continue";var r=e.pc.getTransceivers().find(function(e){return e.receiver.track.kind===t});if(!r)return{value:n(new Error("".concat(t," requested, but no transceiver was created from remote description")))};r.direction=e.configuration.mode},o=0,i=["audio","video"];o<i.length;o++){var a=r(i[o]);if("object"===typeof a)return a.value}e.pc.createAnswer().then(function(e){return t(e)}).catch(function(e){return n(e)})}else{if(e.configuration.mediaConstraints){var s={offerToReceiveAudio:"boolean"!==typeof e.configuration.mediaConstraints.audio||e.configuration.mediaConstraints.audio,offerToReceiveVideo:"boolean"!==typeof e.configuration.mediaConstraints.video||e.configuration.mediaConstraints.video};e.pc.createAnswer(s).then(function(e){return t(e)}).catch(function(e){return n(e)})}}})},e.prototype.processLocalOffer=function(e){var t=this;return new Promise(function(n,r){t.pc.setLocalDescription(e).then(function(){var e=t.pc.localDescription;return e?(d.debug("Local description set",e.sdp),n()):r("Local description is not defined")}).catch(function(e){return r(e)})})},e.prototype.processRemoteOffer=function(e){var t=this;return new Promise(function(n,r){var o={type:"offer",sdp:e};if(d.debug("SDP offer received, setting remote description",o),"closed"===t.pc.signalingState)return r("RTCPeerConnection is closed when trying to set remote description");t.setRemoteDescription(o).then(function(){return n()}).catch(function(e){return r(e)})})},e.prototype.processLocalAnswer=function(e){var t=this;return new Promise(function(n,r){if(d.debug("SDP answer created, setting local description"),"closed"===t.pc.signalingState)return r("RTCPeerConnection is closed when trying to set local description");t.pc.setLocalDescription(e).then(function(){return n()}).catch(function(e){return r(e)})})},e.prototype.processRemoteAnswer=function(e){var t=this;return new Promise(function(n,r){var o={type:"answer",sdp:e};if(d.debug("SDP answer received, setting remote description"),"closed"===t.pc.signalingState)return r("RTCPeerConnection is closed when trying to set remote description");t.setRemoteDescription(o).then(function(){n()}).catch(function(e){return r(e)})})},e.prototype.setRemoteDescription=function(e){return i(this,void 0,void 0,function(){return a(this,function(t){return[2,this.pc.setRemoteDescription(e)]})})},e.prototype.addIceCandidate=function(e){var t=this;return new Promise(function(n,r){switch(d.debug("Remote ICE candidate received",e),t.remoteCandidatesQueue.push(e),t.pc.signalingState){case"closed":r(new Error("PeerConnection object is closed"));break;case"stable":t.pc.remoteDescription?t.pc.addIceCandidate(e).then(function(){return n()}).catch(function(e){return r(e)}):(t.iceCandidateList.push(e),n());break;default:t.iceCandidateList.push(e),n()}})},e.prototype.addIceConnectionStateChangeListener=function(e){var t=this;this.pc.addEventListener("iceconnectionstatechange",function(){switch(t.pc.iceConnectionState){case"disconnected":var n="IceConnectionState of RTCPeerConnection "+t.configuration.id+" ("+e+') change to "disconnected". Possible network disconnection';d.warn(n),t.configuration.onIceConnectionStateException(c.ExceptionEventName.ICE_CONNECTION_DISCONNECTED,n);break;case"failed":var r="IceConnectionState of RTCPeerConnection "+t.configuration.id+" ("+e+') to "failed"';d.error(r),t.configuration.onIceConnectionStateException(c.ExceptionEventName.ICE_CONNECTION_FAILED,r);break;case"closed":d.log("IceConnectionState of RTCPeerConnection "+t.configuration.id+" ("+e+') change to "closed"');break;case"new":d.log("IceConnectionState of RTCPeerConnection "+t.configuration.id+" ("+e+') change to "new"');break;case"checking":d.log("IceConnectionState of RTCPeerConnection "+t.configuration.id+" ("+e+') change to "checking"');break;case"connected":d.log("IceConnectionState of RTCPeerConnection "+t.configuration.id+" ("+e+') change to "connected"');break;case"completed":d.log("IceConnectionState of RTCPeerConnection "+t.configuration.id+" ("+e+') change to "completed"')}})},e.prototype.generateUniqueId=function(){return(0,u.v4)()},e}();t.WebRtcPeer=p;var h=function(e){function t(t){return t.mode="recvonly",e.call(this,t)||this}return r(t,e),t}(p);t.WebRtcPeerRecvonly=h;var v=function(e){function t(t){return t.mode="sendonly",e.call(this,t)||this}return r(t,e),t}(p);t.WebRtcPeerSendonly=v;var m=function(e){function t(t){return t.mode="sendrecv",e.call(this,t)||this}return r(t,e),t}(p);t.WebRtcPeerSendrecv=m},function(e,t,n){"use strict";var r=n(335);e.exports=function(e){var t,o={stun:(e||{}).stun||n(336),turn:(e||{}).turn||n(337)},i=(e||{}).stunCount||2,a=(e||{}).turnCount||0;function s(e,t){for(var n,i=[],a=[].concat(o[e]);a.length&&i.length<t;)n=Math.random()*a.length|0,i=i.concat(a.splice(n,1));return i.map(function(t){return"string"===typeof t||t instanceof String?r(e+":"+t):t})}return t=[].concat(s("stun",i)),a&&(t=t.concat(s("turn",a))),t}},function(e,t){var n=["stun:","turn:"];e.exports=function(e){var t,r,o=(e||{}).url||e,i={};return"string"==typeof o||o instanceof String?(o=o.trim(),(t=n[n.indexOf(o.slice(0,5))])?(r=(o=o.slice(5)).split("@"),i.username=e.username,i.credential=e.credential,r.length>1&&(o=r[1],r=r[0].split(":"),i.username=r[0],i.credential=(e||{}).credential||r[1]||""),i.url=t+o,i.urls=[i.url],i):e):e}},function(e){e.exports=["stun.l.google.com:19302","stun1.l.google.com:19302","stun2.l.google.com:19302","stun3.l.google.com:19302","stun4.l.google.com:19302","stun.ekiga.net","stun.ideasip.com","stun.schlund.de","stun.stunprotocol.org:3478","stun.voiparound.com","stun.voipbuster.com","stun.voipstunt.com","stun.voxgratia.org"]},function(e){e.exports=[]},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebRtcStats=void 0;var i,a=n(45),s=n(92),u=a.OpenViduLogger.getInstance(),c=function(){function e(e){this.stream=e,this.STATS_ITEM_NAME="webrtc-stats-config",this.webRtcStatsEnabled=!1,this.statsInterval=1,i=s.PlatformUtils.getInstance()}return e.prototype.isEnabled=function(){return this.webRtcStatsEnabled},e.prototype.initWebRtcStats=function(){var e=this,t=localStorage.getItem(this.STATS_ITEM_NAME);if(t){this.webRtcStatsEnabled=!0;var n=JSON.parse(t);u.warn("WebRtc stats enabled for stream "+this.stream.streamId+" of connection "+this.stream.connection.connectionId),u.warn("localStorage item: "+JSON.stringify(n)),this.POST_URL=n.httpEndpoint,this.statsInterval=n.interval,this.webRtcStatsIntervalId=setInterval(function(){return r(e,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,this.sendStatsToHttpEndpoint()];case 1:return e.sent(),[2]}})})},1e3*this.statsInterval)}else u.debug("WebRtc stats not enabled")},e.prototype.getSelectedIceCandidateInfo=function(){var e=this;return new Promise(function(t,n){return r(e,void 0,void 0,function(){var e,n,r,a,s,u,c,l,f,d,p,h,v,m,g,y,b,w,x,O,E,S;return o(this,function(o){switch(o.label){case 0:return[4,this.stream.getRTCPeerConnection().getStats()];case 1:if(e=o.sent(),r=new Map,a=new Map,s=new Map,e.forEach(function(e){switch("transport"===e.type&&(i.isChromium()||i.isSafariBrowser()||i.isReactNative())&&(n=e),e.type){case"candidate-pair":r.set(e.id,e);break;case"local-candidate":a.set(e.id,e);break;case"remote-candidate":s.set(e.id,e)}}),null!=n)c=n.selectedCandidatePairId,u=r.get(c);else for(l=r.size,f=r.values(),d=0;d<l;d++)if((p=f.next().value).selected){u=p;break}if(h=u.localCandidateId,v=u.remoteCandidateId,m=a.get(h))for(w=this.stream.getLocalIceCandidateList(),x=w.filter(function(e){return!!e.candidate&&(e.candidate.indexOf(m.ip)>=0||e.candidate.indexOf(m.address)>=0)&&e.candidate.indexOf(m.port)>=0}),m.raw=[],g=0,y=x;g<y.length;g++)S=y[g],m.raw.push(S.candidate);else m="ERROR: No active local ICE candidate. Probably ICE-TCP is being used";if(b=s.get(v))for(w=this.stream.getRemoteIceCandidateList(),x=w.filter(function(e){return!!e.candidate&&(e.candidate.indexOf(b.ip)>=0||e.candidate.indexOf(b.address)>=0)&&e.candidate.indexOf(b.port)>=0}),b.raw=[],O=0,E=x;O<E.length;O++)S=E[O],b.raw.push(S.candidate);else b="ERROR: No active remote ICE candidate. Probably ICE-TCP is being used";return[2,t({localCandidate:m,remoteCandidate:b})]}})})})},e.prototype.stopWebRtcStats=function(){this.webRtcStatsEnabled&&(clearInterval(this.webRtcStatsIntervalId),u.warn("WebRtc stats stopped for disposed stream "+this.stream.streamId+" of connection "+this.stream.connection.connectionId))},e.prototype.sendStats=function(e,t){return r(this,void 0,void 0,function(){var n,r;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),n={headers:{"Content-type":"application/json"},body:JSON.stringify(t),method:"POST"},[4,fetch(e,n)];case 1:return o.sent(),[3,3];case 2:return r=o.sent(),u.error("sendStats error: ".concat(JSON.stringify(r))),[3,3];case 3:return[2]}})})},e.prototype.sendStatsToHttpEndpoint=function(){return r(this,void 0,void 0,function(){var e,t,n;return o(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,this.getCommonStats()];case 1:return e=r.sent(),t=this.generateJSONStatsResponse(e),[4,this.sendStats(this.POST_URL,t)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),u.log(n),[3,4];case 4:return[2]}})})},e.prototype.getCommonStats=function(){return r(this,void 0,void 0,function(){var e=this;return o(this,function(t){return[2,new Promise(function(t,n){return r(e,void 0,void 0,function(){var e,r,i,a,s,c=this;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.stream.getRTCPeerConnection().getStats()];case 1:return e=o.sent(),r=this.getWebRtcStatsResponseOutline(),i=["framesReceived","framesDropped","framesSent","frameHeight","frameWidth"],a=["availableOutgoingBitrate","currentRoundTripTime"],e.forEach(function(e){var t=null!=e.mediaType?e.mediaType:e.kind,n=function(n,o){null!=e[o]&&null!=r[n]&&(!t&&i.indexOf(o)>-1&&(t="video"),null!=n&&null!=t&&null!=o&&null!=r[n][t]?r[n][t][o]=Number(e[o]):null!=n&&null!=o&&a.includes(o)&&(r[n][o]=Number(e[o])))};switch(e.type){case"outbound-rtp":n("outbound","bytesSent"),n("outbound","packetsSent"),n("outbound","framesEncoded"),n("outbound","nackCount"),n("outbound","firCount"),n("outbound","pliCount"),n("outbound","qpSum");break;case"inbound-rtp":n("inbound","bytesReceived"),n("inbound","packetsReceived"),n("inbound","packetsLost"),n("inbound","jitter"),n("inbound","framesDecoded"),n("inbound","nackCount"),n("inbound","firCount"),n("inbound","pliCount");break;case"track":n("inbound","jitterBufferDelay"),n("inbound","framesReceived"),n("outbound","framesDropped"),n("outbound","framesSent"),n(c.stream.isLocal()?"outbound":"inbound","frameHeight"),n(c.stream.isLocal()?"outbound":"inbound","frameWidth");break;case"candidate-pair":n("candidatepair","currentRoundTripTime"),n("candidatepair","availableOutgoingBitrate")}}),(null===r||void 0===r?void 0:r.candidatepair)&&0!==Object.keys(r.candidatepair).length||delete r.candidatepair,[2,t(r)];case 2:return s=o.sent(),u.error("Error getting common stats: ",s),[2,n(s)];case 3:return[2]}})})})]})})},e.prototype.generateJSONStatsResponse=function(e){return{"@timestamp":(new Date).toISOString(),participant_id:this.stream.connection.data,session_id:this.stream.session.sessionId,platform:i.getName(),platform_description:i.getDescription(),stream:"webRTC",webrtc_stats:e}},e.prototype.getWebRtcStatsResponseOutline=function(){return this.stream.isLocal()?{outbound:{audio:{},video:{}},candidatepair:{}}:{inbound:{audio:{},video:{}}}},e}();t.WebRtcStats=c},function(e,t,n){var r,o=n(340);"undefined"!==typeof window&&(r=window.AudioContext||window.webkitAudioContext);var i=null;e.exports=function(e,t){var n=new o;if(!r)return n;var a,s,u,c=(t=t||{}).smoothing||.1,l=t.interval||50,f=t.threshold,d=t.play,p=t.history||10,h=!0;i=t.audioContext||i||new r,(u=i.createAnalyser()).fftSize=512,u.smoothingTimeConstant=c,s=new Float32Array(u.frequencyBinCount),e.jquery&&(e=e[0]),e instanceof HTMLAudioElement||e instanceof HTMLVideoElement?(a=i.createMediaElementSource(e),"undefined"===typeof d&&(d=!0),f=f||-50):(a=i.createMediaStreamSource(e),f=f||-50),a.connect(u),d&&u.connect(i.destination),n.speaking=!1,n.suspend=function(){return i.suspend()},n.resume=function(){return i.resume()},Object.defineProperty(n,"state",{get:function(){return i.state}}),i.onstatechange=function(){n.emit("state_change",i.state)},n.setThreshold=function(e){f=e},n.setInterval=function(e){l=e},n.stop=function(){h=!1,n.emit("volume_change",-100,f),n.speaking&&(n.speaking=!1,n.emit("stopped_speaking")),u.disconnect(),a.disconnect()},n.speakingHistory=[];for(var v=0;v<p;v++)n.speakingHistory.push(0);return function e(){setTimeout(function(){if(h){var t=function(e,t){var n=-1/0;e.getFloatFrequencyData(t);for(var r=4,o=t.length;r<o;r++)t[r]>n&&t[r]<0&&(n=t[r]);return n}(u,s);n.emit("volume_change",t,f);var r=0;if(t>f&&!n.speaking){for(var o=n.speakingHistory.length-3;o<n.speakingHistory.length;o++)r+=n.speakingHistory[o];r>=2&&(n.speaking=!0,n.emit("speaking"))}else if(t<f&&n.speaking){for(o=0;o<n.speakingHistory.length;o++)r+=n.speakingHistory[o];0==r&&(n.speaking=!1,n.emit("stopped_speaking"))}n.speakingHistory.shift(),n.speakingHistory.push(0+(t>f)),e()}},l)}(),n}},function(e,t){function n(){}e.exports=n,n.mixin=function(e){var t=e.prototype||e;t.isWildEmitter=!0,t.on=function(e,t,n){this.callbacks=this.callbacks||{};var r=3===arguments.length,o=r?arguments[1]:void 0,i=r?arguments[2]:arguments[1];return i._groupName=o,(this.callbacks[e]=this.callbacks[e]||[]).push(i),this},t.once=function(e,t,n){var r=this,o=3===arguments.length,i=o?arguments[1]:void 0,a=o?arguments[2]:arguments[1];return this.on(e,i,function t(){r.off(e,t),a.apply(this,arguments)}),this},t.releaseGroup=function(e){var t,n,r,o;for(t in this.callbacks=this.callbacks||{},this.callbacks)for(n=0,r=(o=this.callbacks[t]).length;n<r;n++)o[n]._groupName===e&&(o.splice(n,1),n--,r--);return this},t.off=function(e,t){this.callbacks=this.callbacks||{};var n,r=this.callbacks[e];return r?1===arguments.length?(delete this.callbacks[e],this):(-1!==(n=r.indexOf(t))&&(r.splice(n,1),0===r.length&&delete this.callbacks[e]),this):this},t.emit=function(e){this.callbacks=this.callbacks||{};var t,n,r,o=[].slice.call(arguments,1),i=this.callbacks[e],a=this.getWildcardCallbacks(e);if(i)for(t=0,n=(r=i.slice()).length;t<n&&r[t];++t)r[t].apply(this,o);if(a)for(n=a.length,t=0,n=(r=a.slice()).length;t<n&&r[t];++t)r[t].apply(this,[e].concat(o));return this},t.getWildcardCallbacks=function(e){this.callbacks=this.callbacks||{};var t,n,r=[];for(t in this.callbacks)n=t.split("*"),("*"===t||2===n.length&&e.slice(0,n[0].length)===n[0])&&(r=r.concat(this.callbacks[t]));return r}},n.mixin(n)},function(e,t,n){var r=n(223);e.exports=function(e,t){return new r(e,t).major}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(225).MAX_SAFE_COMPONENT_LENGTH,o=n(224),i=(t=e.exports={}).re=[],a=t.src=[],s=t.t={},u=0,c=function(e,t,n){var r=u++;o(r,t),s[e]=r,a[r]=t,i[r]=new RegExp(t,n?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION","(".concat(a[s.NUMERICIDENTIFIER],")\\.")+"(".concat(a[s.NUMERICIDENTIFIER],")\\.")+"(".concat(a[s.NUMERICIDENTIFIER],")")),c("MAINVERSIONLOOSE","(".concat(a[s.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(a[s.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(a[s.NUMERICIDENTIFIERLOOSE],")")),c("PRERELEASEIDENTIFIER","(?:".concat(a[s.NUMERICIDENTIFIER],"|").concat(a[s.NONNUMERICIDENTIFIER],")")),c("PRERELEASEIDENTIFIERLOOSE","(?:".concat(a[s.NUMERICIDENTIFIERLOOSE],"|").concat(a[s.NONNUMERICIDENTIFIER],")")),c("PRERELEASE","(?:-(".concat(a[s.PRERELEASEIDENTIFIER],"(?:\\.").concat(a[s.PRERELEASEIDENTIFIER],")*))")),c("PRERELEASELOOSE","(?:-?(".concat(a[s.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(a[s.PRERELEASEIDENTIFIERLOOSE],")*))")),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD","(?:\\+(".concat(a[s.BUILDIDENTIFIER],"(?:\\.").concat(a[s.BUILDIDENTIFIER],")*))")),c("FULLPLAIN","v?".concat(a[s.MAINVERSION]).concat(a[s.PRERELEASE],"?").concat(a[s.BUILD],"?")),c("FULL","^".concat(a[s.FULLPLAIN],"$")),c("LOOSEPLAIN","[v=\\s]*".concat(a[s.MAINVERSIONLOOSE]).concat(a[s.PRERELEASELOOSE],"?").concat(a[s.BUILD],"?")),c("LOOSE","^".concat(a[s.LOOSEPLAIN],"$")),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE","".concat(a[s.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),c("XRANGEIDENTIFIER","".concat(a[s.NUMERICIDENTIFIER],"|x|X|\\*")),c("XRANGEPLAIN","[v=\\s]*(".concat(a[s.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(a[s.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(a[s.XRANGEIDENTIFIER],")")+"(?:".concat(a[s.PRERELEASE],")?").concat(a[s.BUILD],"?")+")?)?"),c("XRANGEPLAINLOOSE","[v=\\s]*(".concat(a[s.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(a[s.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(a[s.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(a[s.PRERELEASELOOSE],")?").concat(a[s.BUILD],"?")+")?)?"),c("XRANGE","^".concat(a[s.GTLT],"\\s*").concat(a[s.XRANGEPLAIN],"$")),c("XRANGELOOSE","^".concat(a[s.GTLT],"\\s*").concat(a[s.XRANGEPLAINLOOSE],"$")),c("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(r,"})")+"(?:\\.(\\d{1,".concat(r,"}))?")+"(?:\\.(\\d{1,".concat(r,"}))?")+"(?:$|[^\\d])"),c("COERCERTL",a[s.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM","(\\s*)".concat(a[s.LONETILDE],"\\s+"),!0),t.tildeTrimReplace="$1~",c("TILDE","^".concat(a[s.LONETILDE]).concat(a[s.XRANGEPLAIN],"$")),c("TILDELOOSE","^".concat(a[s.LONETILDE]).concat(a[s.XRANGEPLAINLOOSE],"$")),c("LONECARET","(?:\\^)"),c("CARETTRIM","(\\s*)".concat(a[s.LONECARET],"\\s+"),!0),t.caretTrimReplace="$1^",c("CARET","^".concat(a[s.LONECARET]).concat(a[s.XRANGEPLAIN],"$")),c("CARETLOOSE","^".concat(a[s.LONECARET]).concat(a[s.XRANGEPLAINLOOSE],"$")),c("COMPARATORLOOSE","^".concat(a[s.GTLT],"\\s*(").concat(a[s.LOOSEPLAIN],")$|^$")),c("COMPARATOR","^".concat(a[s.GTLT],"\\s*(").concat(a[s.FULLPLAIN],")$|^$")),c("COMPARATORTRIM","(\\s*)".concat(a[s.GTLT],"\\s*(").concat(a[s.LOOSEPLAIN],"|").concat(a[s.XRANGEPLAIN],")"),!0),t.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE","^\\s*(".concat(a[s.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(a[s.XRANGEPLAIN],")")+"\\s*$"),c("HYPHENRANGELOOSE","^\\s*(".concat(a[s.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(a[s.XRANGEPLAINLOOSE],")")+"\\s*$"),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0.0.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},function(e,t){var n=["includePrerelease","loose","rtl"];e.exports=function(e){return e?"object"!==typeof e?{loose:!0}:n.filter(function(t){return e[t]}).reduce(function(e,t){return e[t]=!0,e},{}):{}}},function(e,t){var n=/^[0-9]+$/,r=function(e,t){var r=n.test(e),o=n.test(t);return r&&o&&(e=+e,t=+t),e===t?0:r&&!o?-1:o&&!r?1:e<t?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:function(e,t){return r(t,e)}}},function(e,t,n){var r=n(223);e.exports=function(e,t){return new r(e,t).minor}},function(e,t){function n(e,t,n){var r={audio:!1,video:{mandatory:{chromeMediaSource:e?"screen":"desktop",maxWidth:window.screen.width>1920?window.screen.width:1920,maxHeight:window.screen.height>1080?window.screen.height:1080},optional:[]}};return n&&(r.audio={mandatory:{chromeMediaSource:e?"screen":"desktop"},optional:[]}),t&&(r.video.mandatory.chromeMediaSourceId=t,r.audio&&r.audio.mandatory&&(r.audio.mandatory.chromeMediaSourceId=t)),r}function r(e){o?o.isLoaded?e?e.forEach?o.contentWindow.postMessage({captureCustomSourceId:e},"*"):o.contentWindow.postMessage({captureSourceIdWithAudio:!0},"*"):o.contentWindow.postMessage({captureSourceId:!0},"*"):setTimeout(function(){r(e)},100):i(function(){r(e)})}var o;function i(e){o?e():((o=document.createElement("iframe")).onload=function(){o.isLoaded=!0,e()},o.src="https://openvidu.github.io/openvidu-screen-sharing-chrome-extension/",o.style.display="none",(document.body||document.documentElement).appendChild(o))}function a(){o?o.isLoaded?o.contentWindow.postMessage({getChromeExtensionStatus:!0},"*"):setTimeout(a,100):i(a)}window.getScreenId=function(e,t,o){-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveOrOpenBlob&&!navigator.msSaveBlob?navigator.mozGetUserMedia?t(null,"firefox",{video:{mozMediaSource:e,mediaSource:e}}):(window.addEventListener("message",function e(r){if(!r.data)return;r.data.chromeMediaSourceId&&("PermissionDeniedError"===r.data.chromeMediaSourceId?t("permission-denied"):t(null,r.data.chromeMediaSourceId,n(null,r.data.chromeMediaSourceId,r.data.canRequestAudioTrack)),window.removeEventListener("message",e));r.data.chromeExtensionStatus&&(t(r.data.chromeExtensionStatus,null,n(r.data.chromeExtensionStatus)),window.removeEventListener("message",e))}),o?setTimeout(function(){r(o)},100):setTimeout(r,100)):t({video:!0})},window.getScreenConstraints=function(e){i(function(){getScreenId(function(t,n,r){r||(r={video:!0}),e(t,r.video)})})},window.getChromeExtensionStatus=function(e){navigator.mozGetUserMedia?e("installed-enabled"):(window.addEventListener("message",function t(n){if(!n.data)return;n.data.chromeExtensionStatus&&(e(n.data.chromeExtensionStatus),window.removeEventListener("message",t))}),setTimeout(a,100))},t.getScreenId=window.getScreenId},function(e,t){var n,r,o="screen";if("undefined"!==typeof window&&"undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent){var i="undefined"!==typeof window.InstallTrigger,a=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0;window.chrome;window.addEventListener("message",function(e){e.origin==window.location.origin&&function(e){if("PermissionDeniedError"==e){if(r)return r("PermissionDeniedError");throw new Error("PermissionDeniedError")}"rtcmulticonnection-extension-loaded"==e&&(o="desktop");e.sourceId&&r&&r(n=e.sourceId,!0===e.canRequestAudioTrack)}(e.data)})}function s(e){if(!e)throw'"callback" parameter is mandatory.';if(n)return e(n);r=e,window.postMessage("get-sourceId","*")}function u(e,t){n="";if(i)return e(null,{mozMediaSource:"window",mediaSource:"window"});var a={mandatory:{chromeMediaSource:o,maxWidth:screen.width>1920?screen.width:1920,maxHeight:screen.height>1080?screen.height:1080},optional:[]};"desktop"!=o||n?("desktop"==o&&(a.mandatory.chromeMediaSourceId=n),e(null,a)):t?function(e){if(!e)throw'"callback" parameter is mandatory.';if(n)return e(n);r=e,window.postMessage("audio-plus-tab","*")}(function(t,n){a.mandatory.chromeMediaSourceId=t,n&&(a.canRequestAudioTrack=!0),e("PermissionDeniedError"==t?t:null,a)}):s(function(t){a.mandatory.chromeMediaSourceId=t,e("PermissionDeniedError"==t?t:null,a)})}t.getScreenConstraints=u,t.getScreenConstraintsWithAudio=function(e){u(e,!0)},t.isChromeExtensionAvailable=function(e){if(e){if("desktop"==o)return e(!0);window.postMessage("are-you-there","*"),setTimeout(function(){e("screen"!=o)},2e3)}},t.getChromeExtensionStatus=function(e,t){if(i)return t("not-chrome");2!=arguments.length&&(t=e,e="lfcgfepafnobdloecchnfaclibenjold");var n=document.createElement("img");n.src="chrome-extension://"+e+"/icon.png",n.onload=function(){o="screen",window.postMessage("are-you-there","*"),setTimeout(function(){t("screen"==o?"installed-disabled":"installed-enabled")},2e3)},n.onerror=function(){t("not-installed")}},t.getSourceId=s},function(e,t,n){"use strict";var r,o="object"===typeof Reflect?Reflect:null,i=o&&"function"===typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"===typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise(function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"===typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}m(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&m(e,"error",t,n)}(e,o,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var o,i,a,s;if(c(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"===typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=l(e))>0&&a.length>o&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return e}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(r);return o.listener=n,r.wrapFn=o,o}function p(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"===typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):v(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function o(i){r.once&&e.removeEventListener(t,o),n(i)})}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[e];if(void 0===u)return!1;if("function"===typeof u)i(u,this,t);else{var c=u.length,l=v(u,c);for(n=0;n<c;++n)i(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,o,i,a;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},s.prototype.listenerCount=h,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){var r=n(353),o=n(354);t.JsonRPC=r,t.XmlRPC=o},function(e,t){t.pack=function(e,t){var n={jsonrpc:"2.0"};if(e.method)n.method=e.method,e.params&&(n.params=e.params),void 0!=t&&(n.id=t);else if(void 0!=t){if(e.error){if(void 0!==e.result)throw new TypeError("Both result and error are defined");n.error=e.error}else{if(void 0===e.result)throw new TypeError("No result or error is defined");n.result=e.result}n.id=t}return JSON.stringify(n)},t.unpack=function(e){var t=e;("string"===typeof e||e instanceof String)&&(t=JSON.parse(e));var n=t.jsonrpc;if("2.0"!==n)throw new TypeError("Invalid JsonRPC version '"+n+"': "+e);if(void 0==t.method){if(void 0==t.id)throw new TypeError("Invalid message: "+e);var r=void 0!==t.result,o=void 0!==t.error;if(r&&o)throw new TypeError("Both result and error are defined: "+e);if(!r&&!o)throw new TypeError("No result or error is defined: "+e);t.ack=t.id,delete t.id}return t}},function(e,t){t.pack=function(e){throw new TypeError("Not yet implemented")},t.unpack=function(e){throw new TypeError("Not yet implemented")}},function(e,t){function n(){var e={};this.forEach=function(t){for(var n in e){var r=e[n];for(var o in r)t(r[o])}},this.get=function(t,n){var r=e[n];if(void 0!=r)return r[t]},this.remove=function(t,n){var r=e[n];if(void 0!=r){for(var o in delete r[t],r)return!1;delete e[n]}},this.set=function(t,n,r){if(void 0==t)return this.remove(n,r);var o=e[r];void 0==o&&(e[r]=o={}),o[n]=t}}n.prototype.pop=function(e,t){var n=this.get(e,t);if(void 0!=n)return this.remove(e,t),n},e.exports=n},function(e,t,n){var r=n(357);t.JsonRpcClient=r},function(e,t,n){var r=n(226),o=n(227),i=n(45).OpenViduLogger;Date.now=Date.now||function(){return+new Date};var a=5e3,s="RECONNECTING",u="CONNECTED",c="DISCONNECTED",l=i.getInstance();e.exports=function(e){var t,n=this,i=e.ws,f=-1,d=0,p=!0,h=!1,v=c,m=i.onreconnecting,g=i.onreconnected,y=i.onconnected,b=i.onerror;e.rpc.pull=function(e,t){t.reply(null,"push")},i.onreconnecting=function(){l.debug("--------- ONRECONNECTING -----------"),v!==s?(k(),v=s,m&&m()):l.error("Websocket already in RECONNECTING state when receiving a new ONRECONNECTING message. Ignoring it")},i.onreconnected=function(){l.debug("--------- ONRECONNECTED -----------"),v!==u?(v=u,E(),g&&g()):l.error("Websocket already in CONNECTED state when receiving a new ONRECONNECTED message. Ignoring it")},i.onconnected=function(){l.debug("--------- ONCONNECTED -----------"),v!==u?(v=u,p=!0,C(),y&&y()):l.error("Websocket already in CONNECTED state when receiving a new ONCONNECTED message. Ignoring it")},i.onerror=function(e){l.debug("--------- ONERROR -----------"),v=c,k(),b&&b(e)};var w=new o(i);l.debug("Connecting websocket to URI: "+i.uri);var x={request_timeout:e.rpc.requestTimeout,ping_request_timeout:e.rpc.heartbeatRequestTimeout},O=new r(r.packers.JsonRPC,x,w,function(t){l.debug("Received request: "+JSON.stringify(t));try{var n=e.rpc[t.method];void 0===n?l.error("Method "+t.method+" not registered in client"):n(t.params,t)}catch(r){l.error("Exception processing request: "+JSON.stringify(t)),l.error(r)}});function E(){l.debug("notReconnectIfNumLessThan = "+d+" (old="+f+")"),f=d}function S(){if(p){var t=null;0!=d&&d!=f||(t={interval:e.heartbeat||a}),d++,n.send("ping",t,(r=d,function(e,t){e&&(l.debug("Error in ping request #"+r+" ("+e.message+")"),r>f&&(p=!1,E(),l.debug("Server did not respond to ping message #"+r+". Reconnecting... "),w.reconnectWs()))}))}else l.debug("Trying to send ping, but ping is not enabled");var r}function C(){h||(l.debug("Starting ping (if configured)"),h=!0,void 0!=e.heartbeat&&(t=setInterval(S,e.heartbeat),S()))}function k(){clearInterval(t),h=!1,p=!1,d=-1,O.cancel()}this.send=function(e,t,n){var r=Date.now();O.encode(e,t,function(o,i){if(o){try{l.error("ERROR:"+o.message+" in Request: method:"+e+" params:"+JSON.stringify(t)+" request:"+o.request),o.data&&l.error("ERROR DATA:"+JSON.stringify(o.data))}catch(a){}o.requestTime=r}n&&(void 0!=i&&"pong"!==i.value&&l.debug("Response: "+JSON.stringify(i)),n(o,i))})},this.close=function(e,n){l.debug("Closing  with code: "+e+" because: "+n),void 0!=t&&(l.debug("Clearing ping interval"),clearInterval(t)),h=!1,p=!1,w.close(e,n)},this.reconnect=function(){w.reconnectWs()},this.resetPing=function(){p=!0,d=0,C()},this.getReadyState=function(){return w.getReadyState()}}},function(e,t,n){var r=n(227);t.WebSocketWithReconnection=r},function(e){e.exports={_args:[["openvidu-browser@2.22.0","/home/ubuntu/FrontEnd"]],_from:"openvidu-browser@2.22.0",_id:"openvidu-browser@2.22.0",_inBundle:!1,_integrity:"sha512-fug7V5WZPwEXCF4im6RzhWSbv9nYB4QWMXrEQBEsh7RI1VPQ5Jl2VcindiUeMtN+quLqeTjXSRUh4lfkrTlQSQ==",_location:"/openvidu-browser",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"openvidu-browser@2.22.0",name:"openvidu-browser",escapedName:"openvidu-browser",rawSpec:"2.22.0",saveSpec:null,fetchSpec:"2.22.0"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/openvidu-browser/-/openvidu-browser-2.22.0.tgz",_spec:"2.22.0",_where:"/home/ubuntu/FrontEnd",author:{name:"OpenVidu"},bugs:{url:"https://github.com/OpenVidu/openvidu/issues"},dependencies:{events:"3.3.0",freeice:"2.2.2",hark:"1.2.3",inherits:"2.0.4",jsnlog:"2.30.0",mime:"3.0.0",platform:"1.3.6",semver:"7.3.5",uuid:"8.3.2","wolfy87-eventemitter":"5.2.9"},description:"OpenVidu Browser",devDependencies:{"@types/node":"17.0.8","@types/platform":"1.3.4",browserify:"17.0.0",grunt:"1.4.1","grunt-cli":"1.4.3","grunt-contrib-copy":"1.0.0","grunt-contrib-sass":"2.0.0","grunt-contrib-uglify":"5.0.1","grunt-contrib-watch":"1.1.0","grunt-postcss":"0.9.0","grunt-string-replace":"1.3.1","grunt-ts":"6.0.0-beta.22",terser:"5.10.0",tsify:"5.0.4",tslint:"6.1.3",typedoc:"0.22.10",typescript:"4.5.4"},homepage:"https://github.com/OpenVidu/openvidu#readme",license:"Apache-2.0",main:"lib/index.js",name:"openvidu-browser",repository:{type:"git",url:"git://github.com/OpenVidu/openvidu.git"},scripts:{browserify:"VERSION=${VERSION:-dev}; mkdir -p static/js/ && cd src && ../node_modules/browserify/bin/cmd.js Main.ts -p [ tsify ] --exclude kurento-browser-extensions --debug -o ../static/js/openvidu-browser-$VERSION.js -v","browserify-prod":"VERSION=${VERSION:-dev}; mkdir -p static/js/ && cd src && ../node_modules/browserify/bin/cmd.js --debug Main.ts -p [ tsify ] --exclude kurento-browser-extensions | ../node_modules/terser/bin/terser --source-map content=inline --output ../static/js/openvidu-browser-$VERSION.min.js",build:"cd src/OpenVidu && ./../../node_modules/typescript/bin/tsc && cd ../.. && ./node_modules/typescript/bin/tsc --declaration src/index.ts --outDir ./lib --sourceMap --target es5 --lib dom,es5,es2015.promise,scripthost && rm -rf ./ts4.4 && mkdir -p ./ts4.4/lib && cp -r ./lib ./ts4.4 && find ./ts4.4/lib -type f ! -iname '*.d.ts' -delete && ./config/replace_for_ts44.sh",docs:"./generate-docs.sh"},types:"lib/index.d.ts",typesVersions:{"<4.4":{"*":["ts4.4/*"]}},version:"2.22.0"}},,function(e,t,n){"use strict";var r=n(0),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:l,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},,,,,function(e,t){},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),o=n(46),i=n(60);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}var c=[{key:"youtube",name:"YouTube",canPlay:i.canPlay.youtube,lazyPlayer:(0,r.lazy)(function(){return Promise.resolve().then(function(){return u(n(371))})})},{key:"soundcloud",name:"SoundCloud",canPlay:i.canPlay.soundcloud,lazyPlayer:(0,r.lazy)(function(){return Promise.resolve().then(function(){return u(n(372))})})},{key:"vimeo",name:"Vimeo",canPlay:i.canPlay.vimeo,lazyPlayer:(0,r.lazy)(function(){return Promise.resolve().then(function(){return u(n(373))})})},{key:"facebook",name:"Facebook",canPlay:i.canPlay.facebook,lazyPlayer:(0,r.lazy)(function(){return Promise.resolve().then(function(){return u(n(374))})})},{key:"streamable",name:"Streamable",canPlay:i.canPlay.streamable,lazyPlayer:(0,r.lazy)(function(){return Promise.resolve().then(function(){return u(n(375))})})},{key:"wistia",name:"Wistia",canPlay:i.canPlay.wistia,lazyPlayer:(0,r.lazy)(function(){return Promise.resolve().then(function(){return u(n(376))})})},{key:"twitch",name:"Twitch",canPlay:i.canPlay.twitch,lazyPlayer:(0,r.lazy)(function(){return Promise.resolve().then(function(){return u(n(377))})})},{key:"dailymotion",name:"DailyMotion",canPlay:i.canPlay.dailymotion,lazyPlayer:(0,r.lazy)(function(){return Promise.resolve().then(function(){return u(n(378))})})},{key:"mixcloud",name:"Mixcloud",canPlay:i.canPlay.mixcloud,lazyPlayer:(0,r.lazy)(function(){return Promise.resolve().then(function(){return u(n(379))})})},{key:"vidyard",name:"Vidyard",canPlay:i.canPlay.vidyard,lazyPlayer:(0,r.lazy)(function(){return Promise.resolve().then(function(){return u(n(380))})})},{key:"kaltura",name:"Kaltura",canPlay:i.canPlay.kaltura,lazyPlayer:(0,r.lazy)(function(){return Promise.resolve().then(function(){return u(n(381))})})},{key:"file",name:"FilePlayer",canPlay:i.canPlay.file,canEnablePIP:function(e){return i.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,o.supportsWebKitPresentationMode)())&&!i.AUDIO_EXTENSIONS.test(e)},lazyPlayer:(0,r.lazy)(function(){return Promise.resolve().then(function(){return u(n(382))})})}];t.default=c},function(e,t){function n(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function r(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,o){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"===typeof t&&(o=t,t={}),t=t||{},o=o||function(){},a.type=t.type||"text/javascript",a.charset=t.charset||"utf8",a.async=!("async"in t)||!!t.async,a.src=e,t.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(a,t.attrs),t.text&&(a.text=""+t.text),("onload"in a?n:r)(a,o),a.onload||n(a,o),i.appendChild(a)}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(46),a=n(60);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){g(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;return v(e)}(this,n)}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y="YT",b=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,w=/user\/([a-zA-Z0-9_-]+)\/?/,x=/youtube-nocookie\.com/,O=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(u,o.Component);var t,n,r,s=h(u);function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(v(e=s.call.apply(s,[this].concat(n))),"callPlayer",i.callPlayer),g(v(e),"parsePlaylist",function(t){return t instanceof Array?{listType:"playlist",playlist:t.map(e.getID).join(",")}:b.test(t)?{listType:"playlist",list:l(t.match(b),2)[1].replace(/^UC/,"UU")}:w.test(t)?{listType:"user_uploads",list:l(t.match(w),2)[1]}:{}}),g(v(e),"onStateChange",function(t){var n=t.data,r=e.props,o=r.onPlay,i=r.onPause,a=r.onBuffer,s=r.onBufferEnd,u=r.onEnded,c=r.onReady,l=r.loop,f=r.config,d=f.playerVars,p=f.onUnstarted,h=window[y].PlayerState,v=h.UNSTARTED,m=h.PLAYING,g=h.PAUSED,b=h.BUFFERING,w=h.ENDED,x=h.CUED;if(n===v&&p(),n===m&&(o(),s()),n===g&&i(),n===b&&a(),n===w){var O=!!e.callPlayer("getPlaylist");l&&!O&&(d.start?e.seekTo(d.start):e.play()),u()}n===x&&c()}),g(v(e),"mute",function(){e.callPlayer("mute")}),g(v(e),"unmute",function(){e.callPlayer("unMute")}),g(v(e),"ref",function(t){e.container=t}),e}return t=u,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(e){return!e||e instanceof Array||b.test(e)?null:e.match(a.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(e,t){var n=this,r=this.props,o=r.playing,a=r.muted,s=r.playsinline,u=r.controls,l=r.loop,f=r.config,d=r.onError,p=f.playerVars,h=f.embedOptions,v=this.getID(e);if(t)return b.test(e)||w.test(e)||e instanceof Array?void this.player.loadPlaylist(this.parsePlaylist(e)):void this.player.cueVideoById({videoId:v,startSeconds:(0,i.parseStartTime)(e)||p.start,endSeconds:(0,i.parseEndTime)(e)||p.end});(0,i.getSDK)("https://www.youtube.com/iframe_api",y,"onYouTubeIframeAPIReady",function(e){return e.loaded}).then(function(t){n.container&&(n.player=new t.Player(n.container,c({width:"100%",height:"100%",videoId:v,playerVars:c(c({autoplay:o?1:0,mute:a?1:0,controls:u?1:0,start:(0,i.parseStartTime)(e),end:(0,i.parseEndTime)(e),origin:window.location.origin,playsinline:s?1:0},n.parsePlaylist(e)),p),events:{onReady:function(){l&&n.player.setLoop(!0),n.props.onReady()},onPlaybackRateChange:function(e){return n.props.onPlaybackRateChange(e.data)},onStateChange:n.onStateChange,onError:function(e){return d(e.data)}},host:x.test(e)?"https://www.youtube-nocookie.com":void 0},h)))},d),h.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayer\u2019s callback props instead, eg onReady, onPlay, onPause")}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(e){this.callPlayer("seekTo",e),this.props.playing||this.pause()}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackRate",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return o.default.createElement("div",{style:e},o.default.createElement("div",{ref:this.ref}))}}])&&d(t.prototype,n),r&&d(t,r),u}();t.default=O,g(O,"displayName","YouTube"),g(O,"canPlay",a.canPlay.youtube)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(46),a=n(60);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;return p(e)}(this,n)}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,o.Component);var t,n,r,a=d(s);function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(p(e=a.call.apply(a,[this].concat(n))),"callPlayer",i.callPlayer),v(p(e),"duration",null),v(p(e),"currentTime",null),v(p(e),"fractionLoaded",null),v(p(e),"mute",function(){e.setVolume(0)}),v(p(e),"unmute",function(){null!==e.props.volume&&e.setVolume(e.props.volume)}),v(p(e),"ref",function(t){e.iframe=t}),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var n=this;(0,i.getSDK)("https://w.soundcloud.com/player/api.js","SC").then(function(r){if(n.iframe){var o=r.Widget.Events,i=o.PLAY,a=o.PLAY_PROGRESS,s=o.PAUSE,u=o.FINISH,l=o.ERROR;t||(n.player=r.Widget(n.iframe),n.player.bind(i,n.props.onPlay),n.player.bind(s,function(){n.duration-n.currentTime<.05||n.props.onPause()}),n.player.bind(a,function(e){n.currentTime=e.currentPosition/1e3,n.fractionLoaded=e.loadedProgress}),n.player.bind(u,function(){return n.props.onEnded()}),n.player.bind(l,function(e){return n.props.onError(e)})),n.player.load(e,c(c({},n.props.config.options),{},{callback:function(){n.player.getDuration(function(e){n.duration=e/1e3,n.props.onReady()})}}))}})}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seekTo",1e3*e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.fractionLoaded*this.duration}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return o.default.createElement("iframe",{ref:this.ref,src:"https://w.soundcloud.com/player/?url=".concat(encodeURIComponent(this.props.url)),style:e,frameBorder:0,allow:"autoplay"})}}])&&l(t.prototype,n),r&&l(t,r),s}();t.default=m,v(m,"displayName","SoundCloud"),v(m,"canPlay",a.canPlay.soundcloud),v(m,"loopOnEnded",!0)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(46),a=n(60);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;return d(e)}(this,n)}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(s,o.Component);var t,n,r,a=f(s);function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(d(e=a.call.apply(a,[this].concat(n))),"callPlayer",i.callPlayer),h(d(e),"duration",null),h(d(e),"currentTime",null),h(d(e),"secondsLoaded",null),h(d(e),"mute",function(){e.setVolume(0)}),h(d(e),"unmute",function(){null!==e.props.volume&&e.setVolume(e.props.volume)}),h(d(e),"ref",function(t){e.container=t}),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;this.duration=null,(0,i.getSDK)("https://player.vimeo.com/api/player.js","Vimeo").then(function(n){if(t.container){var r=t.props.config,o=r.playerOptions,i=r.title;t.player=new n.Player(t.container,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({url:e,autoplay:t.props.playing,muted:t.props.muted,loop:t.props.loop,playsinline:t.props.playsinline,controls:t.props.controls},o)),t.player.ready().then(function(){var e=t.container.querySelector("iframe");e.style.width="100%",e.style.height="100%",i&&(e.title=i)}).catch(t.props.onError),t.player.on("loaded",function(){t.props.onReady(),t.refreshDuration()}),t.player.on("play",function(){t.props.onPlay(),t.refreshDuration()}),t.player.on("pause",t.props.onPause),t.player.on("seeked",function(e){return t.props.onSeek(e.seconds)}),t.player.on("ended",t.props.onEnded),t.player.on("error",t.props.onError),t.player.on("timeupdate",function(e){var n=e.seconds;t.currentTime=n}),t.player.on("progress",function(e){var n=e.seconds;t.secondsLoaded=n}),t.player.on("bufferstart",t.props.onBuffer),t.player.on("bufferend",t.props.onBufferEnd)}},this.props.onError)}},{key:"refreshDuration",value:function(){var e=this;this.player.getDuration().then(function(t){e.duration=t})}},{key:"play",value:function(){var e=this.callPlayer("play");e&&e.catch(this.props.onError)}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("unload")}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackRate",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var e={width:"100%",height:"100%",overflow:"hidden",display:this.props.display};return o.default.createElement("div",{key:this.props.url,ref:this.ref,style:e})}}])&&c(t.prototype,n),r&&c(t,r),s}();t.default=v,h(v,"displayName","Vimeo"),h(v,"canPlay",a.canPlay.vimeo),h(v,"forceLoad",!0)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(46),a=n(60);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;return d(e)}(this,n)}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v="https://connect.facebook.net/en_US/sdk.js",m="facebook-player-",g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(s,o.Component);var t,n,r,a=f(s);function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(d(e=a.call.apply(a,[this].concat(n))),"callPlayer",i.callPlayer),h(d(e),"playerID",e.props.config.playerId||"".concat(m).concat((0,i.randomString)())),h(d(e),"mute",function(){e.callPlayer("mute")}),h(d(e),"unmute",function(){e.callPlayer("unmute")}),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var n=this;t?(0,i.getSDK)(v,"FB","fbAsyncInit").then(function(e){return e.XFBML.parse()}):(0,i.getSDK)(v,"FB","fbAsyncInit").then(function(e){e.init({appId:n.props.config.appId,xfbml:!0,version:n.props.config.version}),e.Event.subscribe("xfbml.render",function(e){n.props.onLoaded()}),e.Event.subscribe("xfbml.ready",function(e){"video"===e.type&&e.id===n.playerID&&(n.player=e.instance,n.player.subscribe("startedPlaying",n.props.onPlay),n.player.subscribe("paused",n.props.onPause),n.player.subscribe("finishedPlaying",n.props.onEnded),n.player.subscribe("startedBuffering",n.props.onBuffer),n.player.subscribe("finishedBuffering",n.props.onBufferEnd),n.player.subscribe("error",n.props.onError),n.props.muted?n.callPlayer("mute"):n.callPlayer("unmute"),n.props.onReady(),document.getElementById(n.playerID).querySelector("iframe").style.visibility="visible")})})}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentPosition")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props.config.attributes;return o.default.createElement("div",u({style:{width:"100%",height:"100%"},id:this.playerID,className:"fb-video","data-href":this.props.url,"data-autoplay":this.props.playing?"true":"false","data-allowfullscreen":"true","data-controls":this.props.controls?"true":"false"},e))}}])&&c(t.prototype,n),r&&c(t,r),s}();t.default=g,h(g,"displayName","Facebook"),h(g,"canPlay",a.canPlay.facebook),h(g,"loopOnEnded",!0)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(46),a=n(60);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;return f(e)}(this,n)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(d,o.Component);var t,n,r,s=l(d);function d(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(f(e=s.call.apply(s,[this].concat(n))),"callPlayer",i.callPlayer),p(f(e),"duration",null),p(f(e),"currentTime",null),p(f(e),"secondsLoaded",null),p(f(e),"mute",function(){e.callPlayer("mute")}),p(f(e),"unmute",function(){e.callPlayer("unmute")}),p(f(e),"ref",function(t){e.iframe=t}),e}return t=d,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,i.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then(function(e){t.iframe&&(t.player=new e.Player(t.iframe),t.player.setLoop(t.props.loop),t.player.on("ready",t.props.onReady),t.player.on("play",t.props.onPlay),t.player.on("pause",t.props.onPause),t.player.on("seeked",t.props.onSeek),t.player.on("ended",t.props.onEnded),t.player.on("error",t.props.onError),t.player.on("timeupdate",function(e){var n=e.duration,r=e.seconds;t.duration=n,t.currentTime=r}),t.player.on("buffered",function(e){var n=e.percent;t.duration&&(t.secondsLoaded=t.duration*n)}),t.props.muted&&t.player.mute())},this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var e=this.props.url.match(a.MATCH_URL_STREAMABLE)[1];return o.default.createElement("iframe",{ref:this.ref,src:"https://streamable.com/o/".concat(e),frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allow:"encrypted-media; autoplay; fullscreen;"})}}])&&u(t.prototype,n),r&&u(t,r),d}();t.default=h,p(h,"displayName","Streamable"),p(h,"canPlay",a.canPlay.streamable)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(46),a=n(60);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;return p(e)}(this,n)}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m="wistia-player-",g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(u,o.Component);var t,n,r,s=d(u);function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(p(e=s.call.apply(s,[this].concat(n))),"callPlayer",i.callPlayer),v(p(e),"playerID",e.props.config.playerId||"".concat(m).concat((0,i.randomString)())),v(p(e),"onPlay",function(){var t;return(t=e.props).onPlay.apply(t,arguments)}),v(p(e),"onPause",function(){var t;return(t=e.props).onPause.apply(t,arguments)}),v(p(e),"onSeek",function(){var t;return(t=e.props).onSeek.apply(t,arguments)}),v(p(e),"onEnded",function(){var t;return(t=e.props).onEnded.apply(t,arguments)}),v(p(e),"onPlaybackRateChange",function(){var t;return(t=e.props).onPlaybackRateChange.apply(t,arguments)}),v(p(e),"mute",function(){e.callPlayer("mute")}),v(p(e),"unmute",function(){e.callPlayer("unmute")}),e}return t=u,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,n=this.props,r=n.playing,o=n.muted,a=n.controls,s=n.onReady,u=n.config,l=n.onError;(0,i.getSDK)("https://fast.wistia.com/assets/external/E-v1.js","Wistia").then(function(e){u.customControls&&u.customControls.forEach(function(t){return e.defineControl(t)}),window._wq=window._wq||[],window._wq.push({id:t.playerID,options:c({autoPlay:r,silentAutoPlay:"allow",muted:o,controlsVisibleOnLoad:a,fullscreenButton:a,playbar:a,playbackRateControl:a,qualityControl:a,volumeControl:a,settingsControl:a,smallPlayButton:a},u.options),onReady:function(e){t.player=e,t.unbind(),t.player.bind("play",t.onPlay),t.player.bind("pause",t.onPause),t.player.bind("seek",t.onSeek),t.player.bind("end",t.onEnded),t.player.bind("playbackratechange",t.onPlaybackRateChange),s()}})},l)}},{key:"unbind",value:function(){this.player.unbind("play",this.onPlay),this.player.unbind("pause",this.onPause),this.player.unbind("seek",this.onSeek),this.player.unbind("end",this.onEnded),this.player.unbind("playbackratechange",this.onPlaybackRateChange)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.unbind(),this.callPlayer("remove")}},{key:"seekTo",value:function(e){this.callPlayer("time",e)}},{key:"setVolume",value:function(e){this.callPlayer("volume",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("playbackRate",e)}},{key:"getDuration",value:function(){return this.callPlayer("duration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("time")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props.url,t=e&&e.match(a.MATCH_URL_WISTIA)[1],n="wistia_embed wistia_async_".concat(t);return o.default.createElement("div",{id:this.playerID,key:t,className:n,style:{width:"100%",height:"100%"}})}}])&&l(t.prototype,n),r&&l(t,r),u}();t.default=g,v(g,"displayName","Wistia"),v(g,"canPlay",a.canPlay.wistia),v(g,"loopOnEnded",!0)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(46),a=n(60);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;return d(e)}(this,n)}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v="twitch-player-",m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(p,o.Component);var t,n,r,s=f(p);function p(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(d(e=s.call.apply(s,[this].concat(n))),"callPlayer",i.callPlayer),h(d(e),"playerID",e.props.config.playerId||"".concat(v).concat((0,i.randomString)())),h(d(e),"mute",function(){e.callPlayer("setMuted",!0)}),h(d(e),"unmute",function(){e.callPlayer("setMuted",!1)}),e}return t=p,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var n=this,r=this.props,o=r.playsinline,s=r.onError,c=r.config,l=r.controls,f=a.MATCH_URL_TWITCH_CHANNEL.test(e),d=f?e.match(a.MATCH_URL_TWITCH_CHANNEL)[1]:e.match(a.MATCH_URL_TWITCH_VIDEO)[1];t?f?this.player.setChannel(d):this.player.setVideo("v"+d):(0,i.getSDK)("https://player.twitch.tv/js/embed/v1.js","Twitch").then(function(t){n.player=new t.Player(n.playerID,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({video:f?"":d,channel:f?d:"",height:"100%",width:"100%",playsinline:o,autoplay:n.props.playing,muted:n.props.muted,controls:!!f||l,time:(0,i.parseStartTime)(e)},c.options));var r=t.Player,a=r.READY,s=r.PLAYING,p=r.PAUSE,v=r.ENDED,m=r.ONLINE,g=r.OFFLINE,y=r.SEEK;n.player.addEventListener(a,n.props.onReady),n.player.addEventListener(s,n.props.onPlay),n.player.addEventListener(p,n.props.onPause),n.player.addEventListener(v,n.props.onEnded),n.player.addEventListener(y,n.props.onSeek),n.player.addEventListener(m,n.props.onLoaded),n.player.addEventListener(g,n.props.onLoaded)},s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("pause")}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){return o.default.createElement("div",{style:{width:"100%",height:"100%"},id:this.playerID})}}])&&c(t.prototype,n),r&&c(t,r),p}();t.default=m,h(m,"displayName","Twitch"),h(m,"canPlay",a.canPlay.twitch),h(m,"loopOnEnded",!0)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(46),a=n(60);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){g(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;return v(e)}(this,n)}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(u,o.Component);var t,n,r,s=h(u);function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(v(e=s.call.apply(s,[this].concat(n))),"callPlayer",i.callPlayer),g(v(e),"onDurationChange",function(){var t=e.getDuration();e.props.onDuration(t)}),g(v(e),"mute",function(){e.callPlayer("setMuted",!0)}),g(v(e),"unmute",function(){e.callPlayer("setMuted",!1)}),g(v(e),"ref",function(t){e.container=t}),e}return t=u,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,n=this.props,r=n.controls,o=n.config,s=n.onError,u=n.playing,f=l(e.match(a.MATCH_URL_DAILYMOTION),2)[1];this.player?this.player.load(f,{start:(0,i.parseStartTime)(e),autoplay:u}):(0,i.getSDK)("https://api.dmcdn.net/all.js","DM","dmAsyncInit",function(e){return e.player}).then(function(n){if(t.container){var a=n.player;t.player=new a(t.container,{width:"100%",height:"100%",video:f,params:c({controls:r,autoplay:t.props.playing,mute:t.props.muted,start:(0,i.parseStartTime)(e),origin:window.location.origin},o.params),events:{apiready:t.props.onReady,seeked:function(){return t.props.onSeek(t.player.currentTime)},video_end:t.props.onEnded,durationchange:t.onDurationChange,pause:t.props.onPause,playing:t.props.onPlay,waiting:t.props.onBuffer,error:function(e){return s(e)}}})}},s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.player.duration||null}},{key:"getCurrentTime",value:function(){return this.player.currentTime}},{key:"getSecondsLoaded",value:function(){return this.player.bufferedTime}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return o.default.createElement("div",{style:e},o.default.createElement("div",{ref:this.ref}))}}])&&d(t.prototype,n),r&&d(t,r),u}();t.default=y,g(y,"displayName","DailyMotion"),g(y,"canPlay",a.canPlay.dailymotion),g(y,"loopOnEnded",!0)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(46),a=n(60);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;return p(e)}(this,n)}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(u,o.Component);var t,n,r,s=d(u);function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(p(e=s.call.apply(s,[this].concat(n))),"callPlayer",i.callPlayer),v(p(e),"duration",null),v(p(e),"currentTime",null),v(p(e),"secondsLoaded",null),v(p(e),"mute",function(){}),v(p(e),"unmute",function(){}),v(p(e),"ref",function(t){e.iframe=t}),e}return t=u,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,i.getSDK)("https://widget.mixcloud.com/media/js/widgetApi.js","Mixcloud").then(function(e){t.player=e.PlayerWidget(t.iframe),t.player.ready.then(function(){t.player.events.play.on(t.props.onPlay),t.player.events.pause.on(t.props.onPause),t.player.events.ended.on(t.props.onEnded),t.player.events.error.on(t.props.error),t.player.events.progress.on(function(e,n){t.currentTime=e,t.duration=n}),t.props.onReady()})},this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.config,r=t.match(a.MATCH_URL_MIXCLOUD)[1],s=(0,i.queryString)(c(c({},n.options),{},{feed:"/".concat(r,"/")}));return o.default.createElement("iframe",{key:r,ref:this.ref,style:{width:"100%",height:"100%"},src:"https://www.mixcloud.com/widget/iframe/?".concat(s),frameBorder:"0"})}}])&&l(t.prototype,n),r&&l(t,r),u}();t.default=m,v(m,"displayName","Mixcloud"),v(m,"canPlay",a.canPlay.mixcloud),v(m,"loopOnEnded",!0)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(46),a=n(60);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;return d(e)}(this,n)}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(p,o.Component);var t,n,r,s=f(p);function p(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(d(e=s.call.apply(s,[this].concat(n))),"callPlayer",i.callPlayer),h(d(e),"mute",function(){e.setVolume(0)}),h(d(e),"unmute",function(){null!==e.props.volume&&e.setVolume(e.props.volume)}),h(d(e),"ref",function(t){e.container=t}),e}return t=p,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,n=this.props,r=n.playing,o=n.config,s=n.onError,c=n.onDuration,l=e&&e.match(a.MATCH_URL_VIDYARD)[1];this.player&&this.stop(),(0,i.getSDK)("https://play.vidyard.com/embed/v4.js","VidyardV4","onVidyardAPI").then(function(e){t.container&&(e.api.addReadyListener(function(e,n){t.player||(t.player=n,t.player.on("ready",t.props.onReady),t.player.on("play",t.props.onPlay),t.player.on("pause",t.props.onPause),t.player.on("seek",t.props.onSeek),t.player.on("playerComplete",t.props.onEnded))},l),e.api.renderPlayer(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({uuid:l,container:t.container,autoplay:r?1:0},o.options)),e.api.getPlayerMetadata(l).then(function(e){t.duration=e.length_in_seconds,c(e.length_in_seconds)}))},s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){window.VidyardV4.api.destroyPlayer(this.player)}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackSpeed",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.callPlayer("currentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return o.default.createElement("div",{style:e},o.default.createElement("div",{ref:this.ref}))}}])&&c(t.prototype,n),r&&c(t,r),p}();t.default=v,h(v,"displayName","Vidyard"),h(v,"canPlay",a.canPlay.vidyard)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(46),a=n(60);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;return f(e)}(this,n)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(s,o.Component);var t,n,r,a=l(s);function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(f(e=a.call.apply(a,[this].concat(n))),"callPlayer",i.callPlayer),p(f(e),"duration",null),p(f(e),"currentTime",null),p(f(e),"secondsLoaded",null),p(f(e),"mute",function(){e.callPlayer("mute")}),p(f(e),"unmute",function(){e.callPlayer("unmute")}),p(f(e),"ref",function(t){e.iframe=t}),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,i.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then(function(e){t.iframe&&(t.player=new e.Player(t.iframe),t.player.on("ready",function(){setTimeout(function(){t.player.isReady=!0,t.player.setLoop(t.props.loop),t.props.muted&&t.player.mute(),t.addListeners(t.player,t.props),t.props.onReady()},500)}))},this.props.onError)}},{key:"addListeners",value:function(e,t){var n=this;e.on("play",t.onPlay),e.on("pause",t.onPause),e.on("ended",t.onEnded),e.on("error",t.onError),e.on("timeupdate",function(e){var t=e.duration,r=e.seconds;n.duration=t,n.currentTime=r})}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){return o.default.createElement("iframe",{ref:this.ref,src:this.props.url,frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allow:"encrypted-media; autoplay; fullscreen;",referrerPolicy:"no-referrer-when-downgrade"})}}])&&u(t.prototype,n),r&&u(t,r),s}();t.default=h,p(h,"displayName","Kaltura"),p(h,"canPlay",a.canPlay.kaltura)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(46),a=n(60);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;return d(e)}(this,n)}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v="undefined"!==typeof navigator,m=v&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,g=v&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||m)&&!window.MSStream,y=/www\.dropbox\.com\/.+/,b=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(p,o.Component);var t,n,r,s=f(p);function p(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(d(e=s.call.apply(s,[this].concat(n))),"onReady",function(){var t;return(t=e.props).onReady.apply(t,arguments)}),h(d(e),"onPlay",function(){var t;return(t=e.props).onPlay.apply(t,arguments)}),h(d(e),"onBuffer",function(){var t;return(t=e.props).onBuffer.apply(t,arguments)}),h(d(e),"onBufferEnd",function(){var t;return(t=e.props).onBufferEnd.apply(t,arguments)}),h(d(e),"onPause",function(){var t;return(t=e.props).onPause.apply(t,arguments)}),h(d(e),"onEnded",function(){var t;return(t=e.props).onEnded.apply(t,arguments)}),h(d(e),"onError",function(){var t;return(t=e.props).onError.apply(t,arguments)}),h(d(e),"onPlayBackRateChange",function(t){return e.props.onPlaybackRateChange(t.target.playbackRate)}),h(d(e),"onEnablePIP",function(){var t;return(t=e.props).onEnablePIP.apply(t,arguments)}),h(d(e),"onDisablePIP",function(t){var n=e.props,r=n.onDisablePIP,o=n.playing;r(t),o&&e.play()}),h(d(e),"onPresentationModeChange",function(t){if(e.player&&(0,i.supportsWebKitPresentationMode)(e.player)){var n=e.player.webkitPresentationMode;"picture-in-picture"===n?e.onEnablePIP(t):"inline"===n&&e.onDisablePIP(t)}}),h(d(e),"onSeek",function(t){e.props.onSeek(t.target.currentTime)}),h(d(e),"mute",function(){e.player.muted=!0}),h(d(e),"unmute",function(){e.player.muted=!1}),h(d(e),"renderSourceElement",function(e,t){return"string"===typeof e?o.default.createElement("source",{key:t,src:e}):o.default.createElement("source",u({key:t},e))}),h(d(e),"renderTrack",function(e,t){return o.default.createElement("track",u({key:t},e))}),h(d(e),"ref",function(t){e.player&&(e.prevPlayer=e.player),e.player=t}),e}return t=p,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player),g&&this.player.load()}},{key:"componentDidUpdate",value:function(e){this.shouldUseAudio(this.props)!==this.shouldUseAudio(e)&&(this.removeListeners(this.prevPlayer,e.url),this.addListeners(this.player)),this.props.url===e.url||(0,i.isMediaStream)(this.props.url)||(this.player.srcObject=null)}},{key:"componentWillUnmount",value:function(){this.removeListeners(this.player),this.hls&&this.hls.destroy()}},{key:"addListeners",value:function(e){var t=this.props,n=t.url,r=t.playsinline;e.addEventListener("play",this.onPlay),e.addEventListener("waiting",this.onBuffer),e.addEventListener("playing",this.onBufferEnd),e.addEventListener("pause",this.onPause),e.addEventListener("seeked",this.onSeek),e.addEventListener("ended",this.onEnded),e.addEventListener("error",this.onError),e.addEventListener("ratechange",this.onPlayBackRateChange),e.addEventListener("enterpictureinpicture",this.onEnablePIP),e.addEventListener("leavepictureinpicture",this.onDisablePIP),e.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(n)||e.addEventListener("canplay",this.onReady),r&&(e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),e.setAttribute("x5-playsinline",""))}},{key:"removeListeners",value:function(e,t){e.removeEventListener("canplay",this.onReady),e.removeEventListener("play",this.onPlay),e.removeEventListener("waiting",this.onBuffer),e.removeEventListener("playing",this.onBufferEnd),e.removeEventListener("pause",this.onPause),e.removeEventListener("seeked",this.onSeek),e.removeEventListener("ended",this.onEnded),e.removeEventListener("error",this.onError),e.removeEventListener("ratechange",this.onPlayBackRateChange),e.removeEventListener("enterpictureinpicture",this.onEnablePIP),e.removeEventListener("leavepictureinpicture",this.onDisablePIP),e.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(t)||e.removeEventListener("canplay",this.onReady)}},{key:"shouldUseAudio",value:function(e){return!e.config.forceVideo&&(!e.config.attributes.poster&&(a.AUDIO_EXTENSIONS.test(e.url)||e.config.forceAudio))}},{key:"shouldUseHLS",value:function(e){return!!this.props.config.forceHLS||!g&&(a.HLS_EXTENSIONS.test(e)||b.test(e))}},{key:"shouldUseDASH",value:function(e){return a.DASH_EXTENSIONS.test(e)||this.props.config.forceDASH}},{key:"shouldUseFLV",value:function(e){return a.FLV_EXTENSIONS.test(e)||this.props.config.forceFLV}},{key:"load",value:function(e){var t=this,n=this.props.config,r=n.hlsVersion,o=n.hlsOptions,a=n.dashVersion,s=n.flvVersion;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(e)&&(0,i.getSDK)("https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js".replace("VERSION",r),"Hls").then(function(n){if(t.hls=new n(o),t.hls.on(n.Events.MANIFEST_PARSED,function(){t.props.onReady()}),t.hls.on(n.Events.ERROR,function(e,r){t.props.onError(e,r,t.hls,n)}),b.test(e)){var r=e.match(b)[1];t.hls.loadSource("https://videodelivery.net/{id}/manifest/video.m3u8".replace("{id}",r))}else t.hls.loadSource(e);t.hls.attachMedia(t.player),t.props.onLoaded()}),this.shouldUseDASH(e)&&(0,i.getSDK)("https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js".replace("VERSION",a),"dashjs").then(function(n){t.dash=n.MediaPlayer().create(),t.dash.initialize(t.player,e,t.props.playing),t.dash.on("error",t.props.onError),parseInt(a)<3?t.dash.getDebug().setLogToBrowserConsole(!1):t.dash.updateSettings({debug:{logLevel:n.Debug.LOG_LEVEL_NONE}}),t.props.onLoaded()}),this.shouldUseFLV(e)&&(0,i.getSDK)("https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js".replace("VERSION",s),"flvjs").then(function(n){t.flv=n.createPlayer({type:"flv",url:e}),t.flv.attachMediaElement(t.player),t.flv.on(n.Events.ERROR,function(e,r){t.props.onError(e,r,t.flv,n)}),t.flv.load(),t.props.onLoaded()}),e instanceof Array)this.player.load();else if((0,i.isMediaStream)(e))try{this.player.srcObject=e}catch(u){this.player.src=window.URL.createObjectURL(e)}}},{key:"play",value:function(){var e=this.player.play();e&&e.catch(this.props.onError)}},{key:"pause",value:function(){this.player.pause()}},{key:"stop",value:function(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}},{key:"seekTo",value:function(e){this.player.currentTime=e}},{key:"setVolume",value:function(e){this.player.volume=e}},{key:"enablePIP",value:function(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,i.supportsWebKitPresentationMode)(this.player)&&"picture-in-picture"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("picture-in-picture")}},{key:"disablePIP",value:function(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,i.supportsWebKitPresentationMode)(this.player)&&"inline"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("inline")}},{key:"setPlaybackRate",value:function(e){try{this.player.playbackRate=e}catch(t){this.props.onError(t)}}},{key:"getDuration",value:function(){if(!this.player)return null;var e=this.player,t=e.duration,n=e.seekable;return t===1/0&&n.length>0?n.end(n.length-1):t}},{key:"getCurrentTime",value:function(){return this.player?this.player.currentTime:null}},{key:"getSecondsLoaded",value:function(){if(!this.player)return null;var e=this.player.buffered;if(0===e.length)return 0;var t=e.end(e.length-1),n=this.getDuration();return t>n?n:t}},{key:"getSource",value:function(e){var t=this.shouldUseHLS(e),n=this.shouldUseDASH(e),r=this.shouldUseFLV(e);if(!(e instanceof Array||(0,i.isMediaStream)(e)||t||n||r))return y.test(e)?e.replace("www.dropbox.com","dl.dropboxusercontent.com"):e}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.playing,r=e.loop,i=e.controls,a=e.muted,s=e.config,c=e.width,l=e.height,f=this.shouldUseAudio(this.props)?"audio":"video",d={width:"auto"===c?c:"100%",height:"auto"===l?l:"100%"};return o.default.createElement(f,u({ref:this.ref,src:this.getSource(t),style:d,preload:"auto",autoPlay:n||void 0,controls:i,muted:a,loop:r},s.attributes),t instanceof Array&&t.map(this.renderSourceElement),s.tracks.map(this.renderTrack))}}])&&c(t.prototype,n),r&&c(t,r),p}();t.default=w,h(w,"displayName","FilePlayer"),h(w,"canPlay",a.canPlay.file)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.createReactPlayer=void 0;var r=S(n(0)),o=l(n(229)),i=l(n(384)),a=l(n(230)),s=n(231),u=n(46),c=l(n(387));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){O(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;return w(e)}(this,n)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return E=function(){return e},e}function S(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!==typeof e)return{default:e};var t=E();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}var C=(0,r.lazy)(function(){return Promise.resolve().then(function(){return S(n(388))})}),k="undefined"!==typeof window&&window.document,R="undefined"!==typeof e&&e.window&&e.window.document,j=Object.keys(s.propTypes),P=k||R?r.Suspense:function(){return null},T=[];t.createReactPlayer=function(e,t){var n,l;return l=n=function(n){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(x,r.Component);var l,f,d,m=b(x);function x(){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,x);for(var a=arguments.length,l=new Array(a),f=0;f<a;f++)l[f]=arguments[f];return O(w(n=m.call.apply(m,[this].concat(l))),"state",{showPreview:!!n.props.light}),O(w(n),"references",{wrapper:function(e){n.wrapper=e},player:function(e){n.player=e}}),O(w(n),"handleClickPreview",function(e){n.setState({showPreview:!1}),n.props.onClickPreview(e)}),O(w(n),"showPreview",function(){n.setState({showPreview:!0})}),O(w(n),"getDuration",function(){return n.player?n.player.getDuration():null}),O(w(n),"getCurrentTime",function(){return n.player?n.player.getCurrentTime():null}),O(w(n),"getSecondsLoaded",function(){return n.player?n.player.getSecondsLoaded():null}),O(w(n),"getInternalPlayer",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";return n.player?n.player.getInternalPlayer(e):null}),O(w(n),"seekTo",function(e,t){if(!n.player)return null;n.player.seekTo(e,t)}),O(w(n),"handleReady",function(){n.props.onReady(w(n))}),O(w(n),"getActivePlayer",(0,i.default)(function(n){for(var r=0,o=[].concat(T,v(e));r<o.length;r++){var i=o[r];if(i.canPlay(n))return i}return t||null})),O(w(n),"getConfig",(0,i.default)(function(e,t){var r=n.props.config;return o.default.all([s.defaultProps.config,s.defaultProps.config[t]||{},r,r[t]||{}])})),O(w(n),"getAttributes",(0,i.default)(function(e){return(0,u.omit)(n.props,j)})),O(w(n),"renderActivePlayer",function(e){if(!e)return null;var t=n.getActivePlayer(e);if(!t)return null;var o=n.getConfig(e,t.key);return r.default.createElement(c.default,h({},n.props,{key:t.key,ref:n.references.player,config:o,activePlayer:t.lazyPlayer||t,onReady:n.handleReady}))}),n}return l=x,(f=[{key:"shouldComponentUpdate",value:function(e,t){return!(0,a.default)(this.props,e)||!(0,a.default)(this.state,t)}},{key:"componentDidUpdate",value:function(e){var t=this.props.light;!e.light&&t&&this.setState({showPreview:!0}),e.light&&!t&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(e){if(!e)return null;var t=this.props,n=t.light,o=t.playIcon,i=t.previewTabIndex,a=t.oEmbedUrl;return r.default.createElement(C,{url:e,light:n,playIcon:o,previewTabIndex:i,oEmbedUrl:a,onClick:this.handleClickPreview})}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.style,o=e.width,i=e.height,a=e.fallback,s=e.wrapper,u=this.state.showPreview,c=this.getAttributes(t);return r.default.createElement(s,h({ref:this.references.wrapper,style:p(p({},n),{},{width:o,height:i})},c),r.default.createElement(P,{fallback:a},u?this.renderPreview(t):this.renderActivePlayer(t)))}}])&&g(l.prototype,f),d&&g(l,d),x}(),O(n,"displayName","ReactPlayer"),O(n,"propTypes",s.propTypes),O(n,"defaultProps",s.defaultProps),O(n,"addCustomPlayer",function(e){T.push(e)}),O(n,"removeCustomPlayers",function(){T.length=0}),O(n,"canPlay",function(t){for(var n=0,r=[].concat(T,v(e));n<r.length;n++)if(r[n].canPlay(t))return!0;return!1}),O(n,"canEnablePIP",function(t){for(var n=0,r=[].concat(T,v(e));n<r.length;n++){var o=r[n];if(o.canEnablePIP&&o.canEnablePIP(t))return!0}return!1}),l}}).call(this,n(78))},function(e,t,n){"use strict";n.r(t);var r=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function o(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(o=e[n],i=t[n],!(o===i||r(o)&&r(i)))return!1;var o,i;return!0}t.default=function(e,t){var n;void 0===t&&(t=o);var r,i=[],a=!1;return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return a&&n===this&&t(o,i)?r:(r=e.apply(this,o),a=!0,n=this,i=o,r)}}},function(e,t,n){"use strict";var r=n(386);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),a=(o=n(230))&&o.__esModule?o:{default:o},s=n(231),u=n(46);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;return h(e)}(this,n)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,i.Component);var t,n,r,o=p(s);function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(h(e=o.call.apply(o,[this].concat(n))),"mounted",!1),m(h(e),"isReady",!1),m(h(e),"isPlaying",!1),m(h(e),"isLoading",!0),m(h(e),"loadOnReady",null),m(h(e),"startOnPlay",!0),m(h(e),"seekOnPlay",null),m(h(e),"onDurationCalled",!1),m(h(e),"handlePlayerMount",function(t){e.player||(e.player=t,e.player.load(e.props.url),e.progress())}),m(h(e),"getInternalPlayer",function(t){return e.player?e.player[t]:null}),m(h(e),"progress",function(){if(e.props.url&&e.player&&e.isReady){var t=e.getCurrentTime()||0,n=e.getSecondsLoaded(),r=e.getDuration();if(r){var o={playedSeconds:t,played:t/r};null!==n&&(o.loadedSeconds=n,o.loaded=n/r),o.playedSeconds===e.prevPlayed&&o.loadedSeconds===e.prevLoaded||e.props.onProgress(o),e.prevPlayed=o.playedSeconds,e.prevLoaded=o.loadedSeconds}}e.progressTimeout=setTimeout(e.progress,e.props.progressFrequency||e.props.progressInterval)}),m(h(e),"handleReady",function(){if(e.mounted){e.isReady=!0,e.isLoading=!1;var t=e.props,n=t.onReady,r=t.playing,o=t.volume,i=t.muted;n(),i||null===o||e.player.setVolume(o),e.loadOnReady?(e.player.load(e.loadOnReady,!0),e.loadOnReady=null):r&&e.player.play(),e.handleDurationCheck()}}),m(h(e),"handlePlay",function(){e.isPlaying=!0,e.isLoading=!1;var t=e.props,n=t.onStart,r=t.onPlay,o=t.playbackRate;e.startOnPlay&&(e.player.setPlaybackRate&&1!==o&&e.player.setPlaybackRate(o),n(),e.startOnPlay=!1),r(),e.seekOnPlay&&(e.seekTo(e.seekOnPlay),e.seekOnPlay=null),e.handleDurationCheck()}),m(h(e),"handlePause",function(t){e.isPlaying=!1,e.isLoading||e.props.onPause(t)}),m(h(e),"handleEnded",function(){var t=e.props,n=t.activePlayer,r=t.loop,o=t.onEnded;n.loopOnEnded&&r&&e.seekTo(0),r||(e.isPlaying=!1,o())}),m(h(e),"handleError",function(){var t;e.isLoading=!1,(t=e.props).onError.apply(t,arguments)}),m(h(e),"handleDurationCheck",function(){clearTimeout(e.durationCheckTimeout);var t=e.getDuration();t?e.onDurationCalled||(e.props.onDuration(t),e.onDurationCalled=!0):e.durationCheckTimeout=setTimeout(e.handleDurationCheck,100)}),m(h(e),"handleLoaded",function(){e.isLoading=!1}),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.player){var n=this.props,r=n.url,o=n.playing,i=n.volume,s=n.muted,c=n.playbackRate,l=n.pip,f=n.loop,d=n.activePlayer,p=n.disableDeferredLoading;if(!(0,a.default)(e.url,r)){if(this.isLoading&&!d.forceLoad&&!p&&!(0,u.isMediaStream)(r))return console.warn("ReactPlayer: the attempt to load ".concat(r," is being deferred until the player has loaded")),void(this.loadOnReady=r);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(r,this.isReady)}e.playing||!o||this.isPlaying||this.player.play(),e.playing&&!o&&this.isPlaying&&this.player.pause(),!e.pip&&l&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!l&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==i&&null!==i&&this.player.setVolume(i),e.muted!==s&&(s?this.player.mute():(this.player.unmute(),null!==i&&setTimeout(function(){return t.player.setVolume(i)}))),e.playbackRate!==c&&this.player.setPlaybackRate&&this.player.setPlaybackRate(c),e.loop!==f&&this.player.setLoop&&this.player.setLoop(f)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(e,t){var n=this;if(this.isReady){if(t?"fraction"===t:e>0&&e<1){var r=this.player.getDuration();return r?void this.player.seekTo(r*e):void console.warn("ReactPlayer: could not seek using fraction \u2013\xa0duration not yet available")}this.player.seekTo(e)}else 0!==e&&(this.seekOnPlay=e,setTimeout(function(){n.seekOnPlay=null},5e3))}},{key:"render",value:function(){var e=this.props.activePlayer;return e?i.default.createElement(e,l({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}])&&f(t.prototype,n),r&&f(t,r),s}();t.default=g,m(g,"displayName","Player"),m(g,"propTypes",s.propTypes),m(g,"defaultProps",s.defaultProps)},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(0));function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;return f(e)}(this,n)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={},v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(a,o.Component);var t,n,r,i=l(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(f(e=i.call.apply(i,[this].concat(n))),"mounted",!1),p(f(e),"state",{image:null}),p(f(e),"handleKeyPress",function(t){"Enter"!==t.key&&" "!==t.key||e.props.onClick()}),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.url,r=t.light;e.url===n&&e.light===r||this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(e){var t=this,n=e.url,r=e.light,o=e.oEmbedUrl;if("string"!==typeof r){if(!h[n])return this.setState({image:null}),window.fetch(o.replace("{url}",n)).then(function(e){return e.json()}).then(function(e){if(e.thumbnail_url&&t.mounted){var r=e.thumbnail_url.replace("height=100","height=480");t.setState({image:r}),h[n]=r}});this.setState({image:h[n]})}else this.setState({image:r})}},{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.playIcon,r=e.previewTabIndex,i=this.state.image,a={display:"flex",alignItems:"center",justifyContent:"center"},u={preview:s({width:"100%",height:"100%",backgroundImage:i?"url(".concat(i,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},a),shadow:s({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:"64px",width:"64px",height:"64px"},a),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},c=o.default.createElement("div",{style:u.shadow,className:"react-player__shadow"},o.default.createElement("div",{style:u.playIcon,className:"react-player__play-icon"}));return o.default.createElement("div",{style:u.preview,className:"react-player__preview",onClick:t,tabIndex:r,onKeyPress:this.handleKeyPress},n||c)}}])&&u(t.prototype,n),r&&u(t,r),a}();t.default=v},,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r=n(408),o=n(409),i=n(410);e.exports=function(e,t){return r(e)||o(e,t)||i()}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){var r=n(412),o=n(413),i=n(414);e.exports=function(e){return r(e)||o(e)||i()}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())})}},function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function i(e,t){try{return decodeURIComponent(e.join(""))}catch(o){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],i(n),i(r))}function a(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=i(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var n={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},r=o.exec(e);r;){try{n[r[0]]=decodeURIComponent(r[0])}catch(t){var i=a(r[0]);i!==r[0]&&(n[r[0]]=i)}r=o.exec(e)}n["%C2"]="\ufffd";for(var s=Object.keys(n),u=0;u<s.length;u++){var c=s[u];e=e.replace(new RegExp(c,"g"),n[c])}return e}(e)}}},function(e,t,n){"use strict";e.exports=function(e,t){if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},function(e,t,n){"use strict";e.exports=function(e,t){for(var n={},r=Object.keys(e),o=Array.isArray(t),i=0;i<r.length;i++){var a=r[i],s=e[a];(o?-1!==t.indexOf(a):t(a,s,e))&&(n[a]=s)}return n}},function(e,t){function n(e){return!!e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof e.then}e.exports=n,e.exports.default=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFSA=a,t.isError=function(e){return a(e)&&!0===e.error};var r=i(n(421)),o=i(n(422));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return(0,r.default)(e)&&(0,o.default)(e.type)&&Object.keys(e).every(s)}function s(e){return["type","payload","error","meta"].indexOf(e)>-1}},function(e,t){var n="[object Object]";var r,o,i=Function.prototype,a=Object.prototype,s=i.toString,u=a.hasOwnProperty,c=s.call(Object),l=a.toString,f=(r=Object.getPrototypeOf,o=Object,function(e){return r(o(e))});e.exports=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||l.call(e)!=n||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e))return!1;var t=f(e);if(null===t)return!0;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&s.call(r)==c}},function(e,t){var n="[object String]",r=Object.prototype.toString,o=Array.isArray;e.exports=function(e){return"string"==typeof e||!o(e)&&function(e){return!!e&&"object"==typeof e}(e)&&r.call(e)==n}},,function(e,t,n){"use strict";n.r(t);var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91});t.default=o},function(e,t,n){"use strict";var r=function(e){return e},o=function(){var e=r;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=r}}}();t.a=o},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(267);function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",o={};return t.forEach(function(t){o[t]=Object(r.a)(e,t,n)}),o}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(5),o=n(0),i=0;var a=o.useId;function s(e){if(void 0!==a){var t=a();return null!=e?e:t}return function(e){var t=o.useState(e),n=Object(r.a)(t,2),a=n[0],s=n[1],u=e||a;return o.useEffect(function(){null==a&&s("mui-".concat(i+=1))},[a]),u}(e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),o=n(135);function i(e){var t=r.useRef(e);return Object(o.a)(function(){t.current=e}),r.useCallback(function(){return t.current.apply(void 0,arguments)},[])}},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)}},function(){})}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];clearTimeout(t),t=setTimeout(function(){e.apply(r,i)},n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(178);function o(e){return Object(r.a)(e).defaultView||window}},function(e,t,n){"use strict";var r=n(1),o=n(8),i=n(187),a=n(6),s=["values","unit","step"],u=function(e){var t=Object.keys(e).map(function(t){return{key:t,val:e[t]}})||[];return t.sort(function(e,t){return e.val-t.val}),t.reduce(function(e,t){return Object(r.a)({},e,Object(a.a)({},t.key,t.val))},{})};var c={borderRadius:4},l=n(54);var f=["breakpoints","palette","spacing","shape"];t.a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,a=e.palette,d=void 0===a?{}:a,p=e.spacing,h=e.shape,v=void 0===h?{}:h,m=Object(o.a)(e,f),g=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,i=e.unit,a=void 0===i?"px":i,c=e.step,l=void 0===c?5:c,f=Object(o.a)(e,s),d=u(n),p=Object.keys(d);function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(a,")")}function v(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-l/100).concat(a,")")}function m(e,t){var r=p.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(a,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[p[r]]?n[p[r]]:t)-l/100).concat(a,")")}return Object(r.a)({keys:p,values:d,up:h,down:v,between:m,only:function(e){return p.indexOf(e)+1<p.length?m(e,p[p.indexOf(e)+1]):h(e)},not:function(e){var t=p.indexOf(e);return 0===t?h(p[1]):t===p.length-1?v(p[t]):m(e,p[p.indexOf(e)+1]).replace("@media","@media not all and")},unit:a},f)}(n),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Object(l.a)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map(function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n}).join(" ")};return n.mui=!0,n}(p),b=Object(i.a)({breakpoints:g,direction:"ltr",components:{},palette:Object(r.a)({mode:"light"},d),spacing:y,shape:Object(r.a)({},c,v)},m),w=arguments.length,x=new Array(w>1?w-1:0),O=1;O<w;O++)x[O-1]=arguments[O];return b=x.reduce(function(e,t){return Object(i.a)(e,t)},b)}},function(e,t,n){"use strict";var r=n(8),o=n(152),i=n(0),a=n.n(i),s=n(63),u=n.n(s),c=!1,l=n(117),f="unmounted",d="exited",p="entering",h="entered",v=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o=d,r.appearStatus=p):o=h:o=t.unmountOnExit||t.mountOnEnter?f:d,r.state={status:o},r.nextCallback=null,r}Object(o.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===f?{status:d}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==p&&n!==h&&(t=p):n!==p&&n!==h||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===p){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:u.a.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===d&&this.setState({status:f})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[u.a.findDOMNode(this),r],i=o[0],a=o[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||c?this.safeSetState({status:h},function(){t.props.onEntered(i)}):(this.props.onEnter(i,a),this.safeSetState({status:p},function(){t.props.onEntering(i,a),t.onTransitionEnd(l,function(){t.safeSetState({status:h},function(){t.props.onEntered(i,a)})})}))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:u.a.findDOMNode(this);t&&!c?(this.props.onExit(r),this.safeSetState({status:"exiting"},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:d},function(){e.props.onExited(r)})})})):this.safeSetState({status:d},function(){e.props.onExited(r)})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:u.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],a=o[1];this.props.addEndListener(i,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===f)return null;var t=this.props,n=t.children,o=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(r.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.a.createElement(l.a.Provider,{value:null},"function"===typeof n?n(e,o):a.a.cloneElement(a.a.Children.only(n),o))},t}(a.a.Component);function m(){}v.contextType=l.a,v.propTypes={},v.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:m,onEntering:m,onEntered:m,onExit:m,onExiting:m,onExited:m},v.UNMOUNTED=f,v.EXITED=d,v.ENTERING=p,v.ENTERED=h,v.EXITING="exiting";t.a=v},function(e,t,n){"use strict";var r=n(1),o=(n(0),n(93)),i=n(4);function a(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,a="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return Object(i.jsx)(o.a,{styles:a})}var s=n(97);t.a=function(e){return Object(i.jsx)(a,Object(r.a)({},e,{defaultTheme:s.a}))}},function(e,t,n){"use strict";var r=n(476);var o=n(128);function i(e){var t=e.props,n=e.name,i=e.defaultTheme;return function(e){var t=e.theme,n=e.name,o=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?Object(r.a)(t.components[n].defaultProps,o):o}({theme:Object(o.a)(i),name:n,props:t})}n.d(t,"a",function(){return i})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t,n){var r={};return Object.keys(e).forEach(function(o){r[o]=e[o].reduce(function(e,r){return r&&(e.push(t(r)),n&&n[r]&&e.push(n[r])),e},[]).join(" ")}),r}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(6),o=n(80),i=n(151),a=n(44);var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.b,t=Object.keys(e).reduce(function(t,n){return e[n].filterProps.forEach(function(r){t[r]=e[n]}),t},{});function n(e,n,o){var i,a=(i={},Object(r.a)(i,e,n),Object(r.a)(i,"theme",o),i),s=t[e];return s?s(a):Object(r.a)({},e,n)}return function e(i){var s=i||{},u=s.sx,c=s.theme,l=void 0===c?{}:c;if(!u)return null;function f(i){var s=i;if("function"===typeof i)s=i(l);else if("object"!==typeof i)return i;if(!s)return null;var u=Object(a.a)(l.breakpoints),c=Object.keys(u),f=u;return Object.keys(s).forEach(function(i){var u,c,d=(u=s[i],c=l,"function"===typeof u?u(c):u);if(null!==d&&void 0!==d)if("object"===typeof d)if(t[i])f=Object(o.a)(f,n(i,d,l));else{var p=Object(a.b)({theme:l},d,function(e){return Object(r.a)({},i,e)});!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce(function(e,t){return e.concat(Object.keys(t))},[]),o=new Set(r);return t.every(function(e){return o.size===Object.keys(e).length})}(p,d)?f=Object(o.a)(f,p):f[i]=e({sx:d,theme:l})}else f=Object(o.a)(f,n(i,d,l))}),Object(a.c)(c,f)}return Array.isArray(u)?u.map(f):f(u)}}();s.filterProps=["sx"],t.a=s},function(e,t,n){"use strict";n.d(t,"d",function(){return u}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"e",function(){return f}),n.d(t,"c",function(){return d});var r=n(153);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function i(e){if(e.type)return e;if("#"===e.charAt(0))return i(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map(function(e){return e+e})),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3}).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(Object(r.a)(9,e));var o,a=e.substring(t+1,e.length-1);if("color"===n){if(o=(a=a.split(" ")).shift(),4===a.length&&"/"===a[3].charAt(0)&&(a[3]=a[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o))throw new Error(Object(r.a)(10,o))}else a=a.split(",");return{type:n,values:a=a.map(function(e){return parseFloat(e)}),colorSpace:o}}function a(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map(function(e,t){return t<3?parseInt(e,10):e}):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function s(e){var t="hsl"===(e=i(e)).type?i(function(e){var t=(e=i(e)).values,n=t[0],r=t[1]/100,o=t[2]/100,s=r*Math.min(o,1-o),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return o-s*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*u(0)),Math.round(255*u(8)),Math.round(255*u(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),a({type:c,values:l})}(e)).values:e.values;return t=t.map(function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function u(e,t){var n=s(e),r=s(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e,t){return e=i(e),t=o(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,a(e)}function l(e,t){if(e=i(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return a(e)}function f(e,t){if(e=i(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return a(e)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return s(e)>.5?l(e,t):f(e,t)}},function(e,t,n){"use strict";var r=n(5),o=n(0),i=n(63),a=n(268),s=n(135),u=n(134);var c=o.forwardRef(function(e,t){var n=e.children,c=e.container,l=e.disablePortal,f=void 0!==l&&l,d=o.useState(null),p=Object(r.a)(d,2),h=p[0],v=p[1],m=Object(a.a)(o.isValidElement(n)?n.ref:null,t);return Object(s.a)(function(){f||v(function(e){return"function"===typeof e?e():e}(c)||document.body)},[c,f]),Object(s.a)(function(){if(h&&!f)return Object(u.a)(t,h),function(){Object(u.a)(t,null)}},[t,h,f]),f?o.isValidElement(n)?o.cloneElement(n,{ref:m}):n:h?i.createPortal(n,h):h});t.a=c},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1);function o(e,t){var n=Object(r.a)({},t);return Object.keys(e).forEach(function(t){void 0===n[t]&&(n[t]=e[t])}),n}},function(e,t,n){"use strict";var r=n(1),o=n(8),i=n(0),a=n(433),s=n(51),u=n(67),c=n(24),l=n(4),f=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function d(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var p={entering:{opacity:1,transform:d(1)},entered:{opacity:1,transform:"none"}},h="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),v=i.forwardRef(function(e,t){var n=e.addEndListener,v=e.appear,m=void 0===v||v,g=e.children,y=e.easing,b=e.in,w=e.onEnter,x=e.onEntered,O=e.onEntering,E=e.onExit,S=e.onExited,C=e.onExiting,k=e.style,R=e.timeout,j=void 0===R?"auto":R,P=e.TransitionComponent,T=void 0===P?a.a:P,_=Object(o.a)(e,f),I=i.useRef(),A=i.useRef(),N=Object(s.a)(),M=i.useRef(null),D=Object(c.a)(g.ref,t),L=Object(c.a)(M,D),F=function(e){return function(t){if(e){var n=M.current;void 0===t?e(n):e(n,t)}}},B=F(O),V=F(function(e,t){Object(u.b)(e);var n,r=Object(u.a)({style:k,timeout:j,easing:y},{mode:"enter"}),o=r.duration,i=r.delay,a=r.easing;"auto"===j?(n=N.transitions.getAutoHeightDuration(e.clientHeight),A.current=n):n=o,e.style.transition=[N.transitions.create("opacity",{duration:n,delay:i}),N.transitions.create("transform",{duration:h?n:.666*n,delay:i,easing:a})].join(","),w&&w(e,t)}),U=F(x),W=F(C),z=F(function(e){var t,n=Object(u.a)({style:k,timeout:j,easing:y},{mode:"exit"}),r=n.duration,o=n.delay,i=n.easing;"auto"===j?(t=N.transitions.getAutoHeightDuration(e.clientHeight),A.current=t):t=r,e.style.transition=[N.transitions.create("opacity",{duration:t,delay:o}),N.transitions.create("transform",{duration:h?t:.666*t,delay:h?o:o||.333*t,easing:i})].join(","),e.style.opacity=0,e.style.transform=d(.75),E&&E(e)}),H=F(S);return i.useEffect(function(){return function(){clearTimeout(I.current)}},[]),Object(l.jsx)(T,Object(r.a)({appear:m,in:b,nodeRef:M,onEnter:V,onEntered:U,onEntering:B,onExit:z,onExited:H,onExiting:W,addEndListener:function(e){"auto"===j&&(I.current=setTimeout(e,A.current||0)),n&&n(M.current,e)},timeout:"auto"===j?null:j},_,{children:function(e,t){return i.cloneElement(g,Object(r.a)({style:Object(r.a)({opacity:0,transform:d(.75),visibility:"exited"!==e||b?void 0:"hidden"},p[e],k,g.props.style),ref:L},t))}}))});v.muiSupportAuto=!0,t.a=v},function(e,t,n){"use strict";function r(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(25),o=n(1),i=n(8),a=n(187),s=n(151),u=["sx"],c=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach(function(n){s.a[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]}),t};function l(e){var t,n=e.sx,s=Object(i.a)(e,u),l=c(s),f=l.systemProps,d=l.otherProps;return t=Array.isArray(n)?[f].concat(Object(r.a)(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return Object(a.b)(e)?Object(o.a)({},f,e):f}:Object(o.a)({},f,n),Object(o.a)({},d,{sx:t})}},function(e,t,n){"use strict";var r=n(1),o=n(0),i=n(14),a=n(434),s=n(4),u=function(e,t){return Object(r.a)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&{colorScheme:e.palette.mode})},c=function(e){return Object(r.a)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}})},l=function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={html:u(e,o),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:Object(r.a)({margin:0},c(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},a=null==(t=e.components)?void 0:null==(n=t.MuiCssBaseline)?void 0:n.styleOverrides;return a&&(i=[i,a]),i};t.a=function(e){var t=Object(i.a)({props:e,name:"MuiCssBaseline"}),n=t.children,r=t.enableColorScheme,u=void 0!==r&&r;return Object(s.jsxs)(o.Fragment,{children:[Object(s.jsx)(a.a,{styles:function(e){return l(e,u)}}),n]})}},function(e,t,n){"use strict";var r=n(7),o=n(0),i=n.n(o),a=function(e){return{isEnabled:function(t){return e.some(function(e){return!!t[e]})}}},s={measureLayout:a(["layout","layoutId","drag","_layoutResetTransform"]),animation:a(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag"]),exit:a(["exit"]),drag:a(["drag","dragControls"]),focus:a(["whileFocus"]),hover:a(["whileHover","onHoverStart","onHoverEnd"]),tap:a(["whileTap","onTap","onTapStart","onTapCancel"]),pan:a(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),layoutAnimation:a(["layout","layoutId"])};var u=function(){},c=function(){};var l=Object(o.createContext)({strict:!1}),f=Object.keys(s),d=f.length;var p=Object(o.createContext)({transformPagePoint:function(e){return e},isStatic:!1}),h=Object(o.createContext)({});var v=n(73),m=n(88);function g(){var e=Object(o.useContext)(v.a);if(null===e)return[!0,null];var t=e.isPresent,n=e.onExitComplete,r=e.register,i=x();Object(o.useEffect)(function(){return r(i)},[]);return!t&&n?[!1,function(){return null===n||void 0===n?void 0:n(i)}]:[!0]}function y(e){return null===e||e.isPresent}var b=0,w=function(){return b++},x=function(){return Object(m.a)(w)},O=Object(o.createContext)(null),E="undefined"!==typeof window,S=E?o.useLayoutEffect:o.useEffect;function C(e,t,n,i){var a=Object(o.useContext)(p),s=Object(o.useContext)(l),u=Object(o.useContext)(h).visualElement,c=Object(o.useContext)(v.a),f=function(e){var t=e.layoutId,n=Object(o.useContext)(O);return n&&void 0!==t?n+"-"+t:t}(n),d=Object(o.useRef)(void 0);i||(i=s.renderer),!d.current&&i&&(d.current=i(e,{visualState:t,parent:u,props:Object(r.a)(Object(r.a)({},n),{layoutId:f}),presenceId:null===c||void 0===c?void 0:c.id,blockInitialAnimation:!1===(null===c||void 0===c?void 0:c.initial)}));var m=d.current;return S(function(){m&&(m.setProps(Object(r.a)(Object(r.a)(Object(r.a)({},a),n),{layoutId:f})),m.isPresent=y(c),m.isPresenceRoot=!u||u.presenceId!==(null===c||void 0===c?void 0:c.id),m.syncRender())}),Object(o.useEffect)(function(){var e;m&&(null===(e=m.animationState)||void 0===e||e.animateChanges())}),S(function(){return function(){return null===m||void 0===m?void 0:m.notifyUnmount()}},[]),m}function k(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function R(e){return Array.isArray(e)}function j(e){return"string"===typeof e||R(e)}function P(e,t,n,r,o){var i;return void 0===r&&(r={}),void 0===o&&(o={}),"string"===typeof t&&(t=null===(i=e.variants)||void 0===i?void 0:i[t]),"function"===typeof t?t(null!==n&&void 0!==n?n:e.custom,r,o):t}function T(e,t,n){var r=e.getProps();return P(r,t,null!==n&&void 0!==n?n:r.custom,function(e){var t={};return e.forEachValue(function(e,n){return t[n]=e.get()}),t}(e),function(e){var t={};return e.forEachValue(function(e,n){return t[n]=e.getVelocity()}),t}(e))}function _(e){var t;return"function"===typeof(null===(t=e.animate)||void 0===t?void 0:t.start)||j(e.initial)||j(e.animate)||j(e.whileHover)||j(e.whileDrag)||j(e.whileTap)||j(e.whileFocus)||j(e.exit)}function I(e){return Boolean(_(e)||e.variants)}function A(e,t){var n=function(e,t){if(_(e)){var n=e.initial,r=e.animate;return{initial:!1===n||j(n)?n:void 0,animate:j(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,Object(o.useContext)(h)),r=n.initial,i=n.animate;return Object(o.useMemo)(function(){return{initial:r,animate:i}},t?[N(r),N(i)]:[])}function N(e){return Array.isArray(e)?e.join(" "):e}function M(e){var t=e.preloadedFeatures,n=e.createVisualElement,i=e.useRender,a=e.useVisualState,u=e.Component;return t&&function(e){for(var t in e){var n=e[t];null!==n&&(s[t].Component=n)}}(t),Object(o.forwardRef)(function(e,t){var c=Object(o.useContext)(p).isStatic,v=null,m=A(e,c),g=a(e,c);return!c&&E&&(m.visualElement=C(u,g,e,n),v=function(e,t,n){var i=[];if(Object(o.useContext)(l),!t)return null;for(var a=0;a<d;a++){var u=f[a],c=s[u],p=c.isEnabled,h=c.Component;p(e)&&h&&i.push(o.createElement(h,Object(r.a)({key:u},e,{visualElement:t})))}return i}(e,m.visualElement)),o.createElement(o.Fragment,null,o.createElement(h.Provider,{value:m},i(u,e,function(e,t,n){return Object(o.useCallback)(function(r){var o;r&&(null===(o=e.mount)||void 0===o||o.call(e,r)),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):k(n)&&(n.current=r))},[t])}(g,m.visualElement,t),g,c)),v)})}function D(e){function t(t,n){return void 0===n&&(n={}),M(e(t,n))}var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var L=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function F(e){return"string"===typeof e&&!e.includes("-")&&!!(L.indexOf(e)>-1||/[A-Z]/.test(e))}var B={};var V=["","X","Y","Z"],U=["transformPerspective","x","y","z"];function W(e,t){return U.indexOf(e)-U.indexOf(t)}["translate","scale","rotate","skew"].forEach(function(e){return V.forEach(function(t){return U.push(e+t)})});var z=new Set(U);function H(e){return z.has(e)}var q=new Set(["originX","originY","originZ"]);function G(e){return q.has(e)}function K(e,t){var n=t.layout,r=t.layoutId;return H(e)||G(e)||(n||void 0!==r)&&(!!B[e]||"opacity"===e)}var $=function(e){return null!==e&&"object"===typeof e&&e.getVelocity},X={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function Y(e){return e.startsWith("--")}var J=function(e,t){return t&&"number"===typeof e?t.transform(e):e};var Q=function(){return(Q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.create;Object.create;var Z=function(e,t){return function(n){return Math.max(Math.min(n,t),e)}},ee=function(e){return e%1?Number(e.toFixed(5)):e},te=/(-)?([\d]*\.?[\d])+/g,ne=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,re=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function oe(e){return"string"===typeof e}var ie=function(e){return{test:function(t){return oe(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return""+t+e}}},ae=ie("deg"),se=ie("%"),ue=ie("px"),ce=ie("vh"),le=ie("vw"),fe=Q(Q({},se),{parse:function(e){return se.parse(e)/100},transform:function(e){return se.transform(100*e)}}),de={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},pe=Q(Q({},de),{transform:Z(0,1)}),he=Q(Q({},de),{default:1}),ve=Object(r.a)(Object(r.a)({},de),{transform:Math.round}),me={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,radius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,size:ue,top:ue,right:ue,bottom:ue,left:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,rotate:ae,rotateX:ae,rotateY:ae,rotateZ:ae,scale:he,scaleX:he,scaleY:he,scaleZ:he,skew:ae,skewX:ae,skewY:ae,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:pe,originX:fe,originY:fe,originZ:ue,zIndex:ve,fillOpacity:pe,strokeOpacity:pe,numOctaves:ve};function ge(e,t,n,r,o,i,a,s){var u,c=e.style,l=e.vars,f=e.transform,d=e.transformKeys,p=e.transformOrigin;d.length=0;var h=!1,v=!1,m=!0;for(var g in t){var y=t[g];if(Y(g))l[g]=y;else{var b=me[g],w=J(y,b);if(H(g)){if(h=!0,f[g]=w,d.push(g),!m)continue;y!==(null!==(u=b.default)&&void 0!==u?u:0)&&(m=!1)}else if(G(g))p[g]=w,v=!0;else if((null===n||void 0===n?void 0:n.isHydrated)&&(null===r||void 0===r?void 0:r.isHydrated)&&B[g]){var x=B[g].process(y,r,n),O=B[g].applyTo;if(O)for(var E=O.length,S=0;S<E;S++)c[O[S]]=x;else c[g]=x}else c[g]=w}}r&&n&&a&&s?(c.transform=a(r.deltaFinal,r.treeScale,h?f:void 0),i&&(c.transform=i(f,c.transform)),c.transformOrigin=s(r)):(h&&(c.transform=function(e,t,n,r){var o=e.transform,i=e.transformKeys,a=t.enableHardwareAcceleration,s=void 0===a||a,u=t.allowTransformNone,c=void 0===u||u,l="";i.sort(W);for(var f=!1,d=i.length,p=0;p<d;p++){var h=i[p];l+=(X[h]||h)+"("+o[h]+") ","z"===h&&(f=!0)}return!f&&s?l+="translateZ(0)":l=l.trim(),r?l=r(o,n?"":l):c&&n&&(l="none"),l}(e,o,m,i)),v&&(c.transformOrigin=function(e){var t=e.originX,n=void 0===t?"50%":t,r=e.originY,o=void 0===r?"50%":r,i=e.originZ;return n+" "+o+" "+(void 0===i?0:i)}(p)))}var ye=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function be(e,t,n){for(var r in t)$(t[r])||K(r,n)||(e[r]=t[r])}function we(e,t,n){var i={};return be(i,e.style||{},e),Object.assign(i,function(e,t,n){var i=e.transformTemplate;return Object(o.useMemo)(function(){var e=ye();ge(e,t,void 0,void 0,{enableHardwareAcceleration:!n},i);var o=e.vars,a=e.style;return Object(r.a)(Object(r.a)({},o),a)},[t])}(e,t,n)),e.transformValues&&(i=e.transformValues(i)),i}function xe(e,t,n){var r={},o=we(e,t,n);return Boolean(e.drag)&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),r.style=o,r}var Oe=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","_layoutResetTransform","onLayoutAnimationComplete","onViewportBoxUpdate","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover"]);function Ee(e){return Oe.has(e)}var Se=function(e){return!Ee(e)};try{var Ce=n(424).default;Se=function(e){return e.startsWith("on")?!Ee(e):Ce(e)}}catch(Xi){}function ke(e,t,n){return"string"===typeof e?e:ue.transform(t+n*e)}var Re=function(e,t){return ue.transform(e*t)},je={offset:"stroke-dashoffset",array:"stroke-dasharray"},Pe={offset:"strokeDashoffset",array:"strokeDasharray"};function Te(e,t,n,o,i,a,s,u){var c=t.attrX,l=t.attrY,f=t.originX,d=t.originY,p=t.pathLength,h=t.pathSpacing,v=void 0===h?1:h,m=t.pathOffset,g=void 0===m?0:m;ge(e,Object(r.d)(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),n,o,i,a,s,u),e.attrs=e.style,e.style={};var y=e.attrs,b=e.style,w=e.dimensions,x=e.totalPathLength;y.transform&&(w&&(b.transform=y.transform),delete y.transform),w&&(void 0!==f||void 0!==d||b.transform)&&(b.transformOrigin=function(e,t,n){return ke(t,e.x,e.width)+" "+ke(n,e.y,e.height)}(w,void 0!==f?f:.5,void 0!==d?d:.5)),void 0!==c&&(y.x=c),void 0!==l&&(y.y=l),void 0!==x&&void 0!==p&&function(e,t,n,r,o,i){void 0===r&&(r=1),void 0===o&&(o=0),void 0===i&&(i=!0);var a=i?je:Pe;e[a.offset]=Re(-o,t);var s=Re(n,t),u=Re(r,t);e[a.array]=s+" "+u}(y,x,p,v,g,!1)}var _e=function(){return Object(r.a)(Object(r.a)({},ye()),{attrs:{}})};function Ie(e,t){var n=Object(o.useMemo)(function(){var n=_e();return Te(n,t,void 0,void 0,{enableHardwareAcceleration:!1},e.transformTemplate),Object(r.a)(Object(r.a)({},n.attrs),{style:Object(r.a)({},n.style)})},[t]);if(e.style){var i={};be(i,e.style,e),n.style=Object(r.a)(Object(r.a)({},i),n.style)}return n}function Ae(e){void 0===e&&(e=!1);return function(t,n,i,a,s){var u=a.latestValues,c=(F(t)?Ie:xe)(n,u,s),l=function(e,t,n){var r={};for(var o in e)(Se(o)||!0===n&&Ee(o)||!t&&!Ee(o))&&(r[o]=e[o]);return r}(n,"string"===typeof t,e),f=Object(r.a)(Object(r.a)(Object(r.a)({},l),c),{ref:i});return Object(o.createElement)(t,f)}}var Ne=/([a-z])([A-Z])/g,Me=function(e){return e.replace(Ne,"$1-$2").toLowerCase()};function De(e,t){var n=t.style,r=t.vars;for(var o in Object.assign(e.style,n),r)e.style.setProperty(o,r[o])}var Le=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform"]);function Fe(e,t){for(var n in De(e,t),t.attrs)e.setAttribute(Le.has(n)?n:Me(n),t.attrs[n])}function Be(e){var t=e.style,n={};for(var r in t)($(t[r])||K(r,e))&&(n[r]=t[r]);return n}function Ve(e){var t=Be(e);for(var n in e){if($(e[n]))t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]}return t}function Ue(e){return"object"===typeof e&&"function"===typeof e.start}var We=function(e){return Array.isArray(e)},ze=function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)},He=function(e){return We(e)?e[e.length-1]||0:e};function qe(e){var t=$(e)?e.get():e;return ze(t)?t.toValue():t}function Ge(e,t,n,r){var o=e.scrapeMotionValuesFromProps,i=e.createRenderState,a=e.onMount,s={latestValues:$e(t,n,r,o),renderState:i()};return a&&(s.mount=function(e){return a(t,e,s)}),s}var Ke=function(e){return function(t,n){var r=Object(o.useContext)(h),i=Object(o.useContext)(v.a);return n?Ge(e,t,r,i):Object(m.a)(function(){return Ge(e,t,r,i)})}};function $e(e,t,n,o){var i={},a=!1===(null===n||void 0===n?void 0:n.initial),s=o(e);for(var u in s)i[u]=qe(s[u]);var c=e.initial,l=e.animate,f=_(e),d=I(e);t&&d&&!f&&!1!==e.inherit&&(null!==c&&void 0!==c||(c=t.initial),null!==l&&void 0!==l||(l=t.animate));var p=a||!1===c?l:c;p&&"boolean"!==typeof p&&!Ue(p)&&(Array.isArray(p)?p:[p]).forEach(function(t){var n=P(e,t);if(n){var o=n.transitionEnd;n.transition;var a=Object(r.d)(n,["transitionEnd","transition"]);for(var s in a)i[s]=a[s];for(var s in o)i[s]=o[s]}});return i}var Xe={useVisualState:Ke({scrapeMotionValuesFromProps:Ve,createRenderState:_e,onMount:function(e,t,n){var r=n.renderState,o=n.latestValues;try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(i){r.dimensions={x:0,y:0,width:0,height:0}}"path"===t.tagName&&(r.totalPathLength=t.getTotalLength()),Te(r,o,void 0,void 0,{enableHardwareAcceleration:!1},e.transformTemplate),Fe(t,r)}})};var Ye,Je={useVisualState:Ke({scrapeMotionValuesFromProps:Be,createRenderState:ye})};function Qe(e,t,n,o){var i=t.forwardMotionProps,a=void 0!==i&&i,s=F(e)?Xe:Je;return Object(r.a)(Object(r.a)({},s),{preloadedFeatures:n,useRender:Ae(a),createVisualElement:o,Component:e})}function Ze(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}function et(e,t,n,r){Object(o.useEffect)(function(){var o=e.current;if(n&&o)return Ze(o,t,n,r)},[e,t,n,r])}function tt(e){return"undefined"!==typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function nt(e){return!!e.touches}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.Exit="exit"}(Ye||(Ye={}));var rt={pageX:0,pageY:0};function ot(e,t){void 0===t&&(t="page");var n=e.touches[0]||e.changedTouches[0]||rt;return{x:n[t+"X"],y:n[t+"Y"]}}function it(e,t){return void 0===t&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function at(e,t){return void 0===t&&(t="page"),{point:nt(e)?ot(e,t):it(e,t)}}var st=function(e,t){void 0===t&&(t=!1);var n,r=function(t){return e(t,at(t))};return t?(n=r,function(e){var t=e instanceof MouseEvent;(!t||t&&0===e.button)&&n(e)}):r},ut=function(){return E&&null===window.onpointerdown},ct=function(){return E&&null===window.ontouchstart},lt=function(){return E&&null===window.onmousedown},ft={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},dt={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function pt(e){return ut()?e:ct()?dt[e]:lt()?ft[e]:e}function ht(e,t,n,r){return Ze(e,pt(t),st(n,"pointerdown"===t),r)}function vt(e,t,n,r){return et(e,pt(t),n&&st(n,"pointerdown"===t),r)}function mt(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var gt=mt("dragHorizontal"),yt=mt("dragVertical");function bt(e){var t=!1;if("y"===e)t=yt();else if("x"===e)t=gt();else{var n=gt(),r=yt();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function wt(){var e=bt(!0);return!e||(e(),!1)}function xt(e,t,n){return function(r,o){var i;tt(r)&&!wt()&&(null===n||void 0===n||n(r,o),null===(i=e.animationState)||void 0===i||i.setActive(Ye.Hover,t))}}var Ot=function e(t,n){return!!n&&(t===n||e(t,n.parentElement))},Et=n(114),St=function(e,t){return function(n){return t(e(n))}},Ct=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(St)};var kt=function(e){return function(t){return e(t),null}},Rt={tap:kt(function(e){var t=e.onTap,n=e.onTapStart,r=e.onTapCancel,i=e.whileTap,a=e.visualElement,s=t||n||r||i,u=Object(o.useRef)(!1),c=Object(o.useRef)(null);function l(){var e;null===(e=c.current)||void 0===e||e.call(c),c.current=null}function f(){var e;return l(),u.current=!1,null===(e=a.animationState)||void 0===e||e.setActive(Ye.Tap,!1),!wt()}function d(e,n){f()&&(Ot(a.getInstance(),e.target)?null===t||void 0===t||t(e,n):null===r||void 0===r||r(e,n))}function p(e,t){f()&&(null===r||void 0===r||r(e,t))}vt(a,"pointerdown",s?function(e,t){var r;l(),u.current||(u.current=!0,c.current=Ct(ht(window,"pointerup",d),ht(window,"pointercancel",p)),null===n||void 0===n||n(e,t),null===(r=a.animationState)||void 0===r||r.setActive(Ye.Tap,!0))}:void 0),Object(Et.a)(l)}),focus:kt(function(e){var t=e.whileFocus,n=e.visualElement;et(n,"focus",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(Ye.Focus,!0)}:void 0),et(n,"blur",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(Ye.Focus,!1)}:void 0)}),hover:kt(function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,o=e.visualElement;vt(o,"pointerenter",t||r?xt(o,!0,t):void 0),vt(o,"pointerleave",n||r?xt(o,!1,n):void 0)})};function jt(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var Pt=function(){return(Pt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Tt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}Object.create;Object.create;var _t=function(e,t,n){return Math.min(Math.max(n,e),t)},It=.001,At=.01,Nt=10,Mt=.05,Dt=1;function Lt(e){var t,n,r=e.duration,o=void 0===r?800:r,i=e.bounce,a=void 0===i?.25:i,s=e.velocity,c=void 0===s?0:s,l=e.mass,f=void 0===l?1:l;u(o<=1e3*Nt,"Spring duration must be 10 seconds or less");var d=1-a;d=_t(Mt,Dt,d),o=_t(At,Nt,o/1e3),d<1?(t=function(e){var t=e*d,n=t*o,r=t-c,i=Bt(e,d),a=Math.exp(-n);return It-r/i*a},n=function(e){var n=e*d*o,r=n*c+c,i=Math.pow(d,2)*Math.pow(e,2)*o,a=Math.exp(-n),s=Bt(Math.pow(e,2),d);return(-t(e)+It>0?-1:1)*((r-i)*a)/s}):(t=function(e){return Math.exp(-e*o)*((e-c)*o+1)-It},n=function(e){return Math.exp(-e*o)*(o*o*(c-e))});var p=function(e,t,n){for(var r=n,o=1;o<Ft;o++)r-=e(r)/t(r);return r}(t,n,5/o);if(o*=1e3,isNaN(p))return{stiffness:100,damping:10,duration:o};var h=Math.pow(p,2)*f;return{stiffness:h,damping:2*d*Math.sqrt(f*h),duration:o}}var Ft=12;function Bt(e,t){return e*Math.sqrt(1-t*t)}var Vt=["duration","bounce"],Ut=["stiffness","damping","mass"];function Wt(e,t){return t.some(function(t){return void 0!==e[t]})}function zt(e){var t=e.from,n=void 0===t?0:t,r=e.to,o=void 0===r?1:r,i=e.restSpeed,a=void 0===i?2:i,s=e.restDelta,u=Tt(e,["from","to","restSpeed","restDelta"]),c={done:!1,value:n},l=function(e){var t=Pt({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Wt(e,Ut)&&Wt(e,Vt)){var n=Lt(e);(t=Pt(Pt(Pt({},t),n),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(u),f=l.stiffness,d=l.damping,p=l.mass,h=l.velocity,v=l.duration,m=l.isResolvedFromDuration,g=Ht,y=Ht;function b(){var e=h?-h/1e3:0,t=o-n,r=d/(2*Math.sqrt(f*p)),i=Math.sqrt(f/p)/1e3;if(null!==s&&void 0!==s||(s=Math.abs(o-n)<=1?.01:.4),r<1){var a=Bt(i,r);g=function(n){var s=Math.exp(-r*i*n);return o-s*((e+r*i*t)/a*Math.sin(a*n)+t*Math.cos(a*n))},y=function(n){var o=Math.exp(-r*i*n);return r*i*o*(Math.sin(a*n)*(e+r*i*t)/a+t*Math.cos(a*n))-o*(Math.cos(a*n)*(e+r*i*t)-a*t*Math.sin(a*n))}}else if(1===r)g=function(n){return o-Math.exp(-i*n)*(t+(e+i*t)*n)};else{var u=i*Math.sqrt(r*r-1);g=function(n){var a=Math.exp(-r*i*n),s=Math.min(u*n,300);return o-a*((e+r*i*t)*Math.sinh(s)+u*t*Math.cosh(s))/u}}}return b(),{next:function(e){var t=g(e);if(m)c.done=e>=v;else{var n=1e3*y(e),r=Math.abs(n)<=a,i=Math.abs(o-t)<=s;c.done=r&&i}return c.value=c.done?o:t,c},flipTarget:function(){var e;h=-h,n=(e=[o,n])[0],o=e[1],b()}}}zt.needsInterpolation=function(e,t){return"string"===typeof e||"string"===typeof t};var Ht=function(e){return 0},qt=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},Gt=function(e,t,n){return-n*e+n*t+e},Kt=function(e,t){return function(n){return Boolean(oe(n)&&re.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},$t=function(e,t,n){return function(r){var o;if(!oe(r))return r;var i=r.match(te),a=i[0],s=i[1],u=i[2],c=i[3];return(o={})[e]=parseFloat(a),o[t]=parseFloat(s),o[n]=parseFloat(u),o.alpha=void 0!==c?parseFloat(c):1,o}},Xt=Z(0,255),Yt=Q(Q({},de),{transform:function(e){return Math.round(Xt(e))}}),Jt={test:Kt("rgb","red"),parse:$t("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,o=e.alpha,i=void 0===o?1:o;return"rgba("+Yt.transform(t)+", "+Yt.transform(n)+", "+Yt.transform(r)+", "+ee(pe.transform(i))+")"}};var Qt={test:Kt("#"),parse:function(e){var t="",n="",r="",o="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),o=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),o=e.substr(4,1),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:Jt.transform},Zt={test:Kt("hsl","hue"),parse:$t("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,o=e.alpha,i=void 0===o?1:o;return"hsla("+Math.round(t)+", "+se.transform(ee(n))+", "+se.transform(ee(r))+", "+ee(pe.transform(i))+")"}},en=function(e,t,n){var r=e*e,o=t*t;return Math.sqrt(Math.max(0,n*(o-r)+r))},tn=[Qt,Jt,Zt],nn=function(e){return tn.find(function(t){return t.test(e)})},rn=function(e){return"'"+e+"' is not an animatable color. Use the equivalent color code instead."},on=function(e,t){var n=nn(e),r=nn(t);c(!!n,rn(e)),c(!!r,rn(t)),c(n.transform===r.transform,"Both colors must be hex/RGBA, OR both must be HSLA.");var o=n.parse(e),i=r.parse(t),a=Pt({},o),s=n===Zt?Gt:en;return function(e){for(var t in a)"alpha"!==t&&(a[t]=s(o[t],i[t],e));return a.alpha=Gt(o.alpha,i.alpha,e),n.transform(a)}},an={test:function(e){return Jt.test(e)||Qt.test(e)||Zt.test(e)},parse:function(e){return Jt.test(e)?Jt.parse(e):Zt.test(e)?Zt.parse(e):Qt.parse(e)},transform:function(e){return oe(e)?e:e.hasOwnProperty("red")?Jt.transform(e):Zt.transform(e)}},sn="${c}",un="${n}";function cn(e){var t=[],n=0,r=e.match(ne);r&&(n=r.length,e=e.replace(ne,sn),t.push.apply(t,r.map(an.parse)));var o=e.match(te);return o&&(e=e.replace(te,un),t.push.apply(t,o.map(de.parse))),{values:t,numColors:n,tokenised:e}}function ln(e){return cn(e).values}function fn(e){var t=cn(e),n=t.values,r=t.numColors,o=t.tokenised,i=n.length;return function(e){for(var t=o,n=0;n<i;n++)t=t.replace(n<r?sn:un,n<r?an.transform(e[n]):ee(e[n]));return t}}var dn=function(e){return"number"===typeof e?0:e};var pn={test:function(e){var t,n,r,o;return isNaN(e)&&oe(e)&&(null!==(n=null===(t=e.match(te))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(o=null===(r=e.match(ne))||void 0===r?void 0:r.length)&&void 0!==o?o:0)>0},parse:ln,createTransformer:fn,getAnimatableNone:function(e){var t=ln(e);return fn(e)(t.map(dn))}},hn=function(e){return"number"===typeof e};function vn(e,t){return hn(e)?function(n){return Gt(e,t,n)}:an.test(e)?on(e,t):bn(e,t)}var mn=function(e,t){var n=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],e),r=n.length,o=e.map(function(e,n){return vn(e,t[n])});return function(e){for(var t=0;t<r;t++)n[t]=o[t](e);return n}},gn=function(e,t){var n=Pt(Pt({},e),t),r={};for(var o in n)void 0!==e[o]&&void 0!==t[o]&&(r[o]=vn(e[o],t[o]));return function(e){for(var t in r)n[t]=r[t](e);return n}};function yn(e){for(var t=pn.parse(e),n=t.length,r=0,o=0,i=0,a=0;a<n;a++)r||"number"===typeof t[a]?r++:void 0!==t[a].hue?i++:o++;return{parsed:t,numNumbers:r,numRGB:o,numHSL:i}}var bn=function(e,t){var n=pn.createTransformer(t),r=yn(e),o=yn(t);return c(r.numHSL===o.numHSL&&r.numRGB===o.numRGB&&r.numNumbers>=o.numNumbers,"Complex values '"+e+"' and '"+t+"' too different to mix. Ensure all colors are of the same type."),Ct(mn(r.parsed,o.parsed),n)},wn=function(e,t){return function(n){return Gt(e,t,n)}};function xn(e,t,n){for(var r,o=[],i=n||("number"===typeof(r=e[0])?wn:"string"===typeof r?an.test(r)?on:bn:Array.isArray(r)?mn:"object"===typeof r?gn:void 0),a=e.length-1,s=0;s<a;s++){var u=i(e[s],e[s+1]);if(t){var c=Array.isArray(t)?t[s]:t;u=Ct(c,u)}o.push(u)}return o}function On(e,t,n){var r=void 0===n?{}:n,o=r.clamp,i=void 0===o||o,a=r.ease,s=r.mixer,u=e.length;c(u===t.length,"Both input and output ranges must be the same length"),c(!a||!Array.isArray(a)||a.length===u-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),e[0]>e[u-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var l=xn(t,a,s),f=2===u?function(e,t){var n=e[0],r=e[1],o=t[0];return function(e){return o(qt(n,r,e))}}(e,l):function(e,t){var n=e.length,r=n-1;return function(o){var i=0,a=!1;if(o<=e[0]?a=!0:o>=e[r]&&(i=r-1,a=!0),!a){for(var s=1;s<n&&!(e[s]>o||s===r);s++);i=s-1}var u=qt(e[i],e[i+1],o);return t[i](u)}}(e,l);return i?function(t){return f(_t(e[0],e[u-1],t))}:f}var En,Sn=function(e){return function(t){return 1-e(1-t)}},Cn=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},kn=function(e){return function(t){return t*t*((e+1)*t-e)}},Rn=function(e){return e},jn=(En=2,function(e){return Math.pow(e,En)}),Pn=Sn(jn),Tn=Cn(jn),_n=function(e){return 1-Math.sin(Math.acos(e))},In=Sn(_n),An=Cn(In),Nn=kn(1.525),Mn=Sn(Nn),Dn=Cn(Nn),Ln=function(e){var t=kn(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}}(1.525),Fn=function(e){if(1===e||0===e)return e;var t=e*e;return e<4/11?7.5625*t:e<8/11?9.075*t-9.9*e+3.4:e<.9?4356/361*t-35442/1805*e+16061/1805:10.8*e*e-20.52*e+10.72},Bn=Sn(Fn);function Vn(e,t){return e.map(function(){return t||Tn}).splice(0,e.length-1)}function Un(e){var t=e.from,n=void 0===t?0:t,r=e.to,o=void 0===r?1:r,i=e.ease,a=e.offset,s=e.duration,u=void 0===s?300:s,c={done:!1,value:n},l=Array.isArray(o)?o:[n,o],f=function(e,t){return e.map(function(e){return e*t})}(a&&a.length===l.length?a:function(e){var t=e.length;return e.map(function(e,n){return 0!==n?n/(t-1):0})}(l),u);function d(){return On(f,l,{ease:Array.isArray(i)?i:Vn(l,i)})}var p=d();return{next:function(e){return c.value=p(e),c.done=e>=u,c},flipTarget:function(){l.reverse(),p=d()}}}var Wn={keyframes:Un,spring:zt,decay:function(e){var t=e.velocity,n=void 0===t?0:t,r=e.from,o=void 0===r?0:r,i=e.power,a=void 0===i?.8:i,s=e.timeConstant,u=void 0===s?350:s,c=e.restDelta,l=void 0===c?.5:c,f=e.modifyTarget,d={done:!1,value:o},p=a*n,h=o+p,v=void 0===f?h:f(h);return v!==h&&(p=v-o),{next:function(e){var t=-p*Math.exp(-e/u);return d.done=!(t>l||t<-l),d.value=d.done?v:v+t,d},flipTarget:function(){}}}};var zn=n(27);function Hn(e,t,n){return void 0===n&&(n=0),e-t-n}var qn=function(e){var t=function(t){var n=t.delta;return e(n)};return{start:function(){return zn.b.update(t,!0)},stop:function(){return zn.a.update(t)}}};function Gn(e){var t,n,r,o,i,a=e.from,s=e.autoplay,u=void 0===s||s,c=e.driver,l=void 0===c?qn:c,f=e.elapsed,d=void 0===f?0:f,p=e.repeat,h=void 0===p?0:p,v=e.repeatType,m=void 0===v?"loop":v,g=e.repeatDelay,y=void 0===g?0:g,b=e.onPlay,w=e.onStop,x=e.onComplete,O=e.onRepeat,E=e.onUpdate,S=Tt(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),C=S.to,k=0,R=S.duration,j=!1,P=!0,T=function(e){if(Array.isArray(e.to))return Un;if(Wn[e.type])return Wn[e.type];var t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?Un:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?zt:Un}(S);(null===(n=(t=T).needsInterpolation)||void 0===n?void 0:n.call(t,a,C))&&(i=On([0,100],[a,C],{clamp:!1}),a=0,C=100);var _=T(Pt(Pt({},S),{from:a,to:C}));function I(){k++,"reverse"===m?d=function(e,t,n,r){return void 0===n&&(n=0),void 0===r&&(r=!0),r?Hn(t+-e,t,n):t-(e-t)+n}(d,R,y,P=k%2===0):(d=Hn(d,R,y),"mirror"===m&&_.flipTarget()),j=!1,O&&O()}function A(e){if(P||(e=-e),d+=e,!j){var t=_.next(Math.max(0,d));o=t.value,i&&(o=i(o)),j=P?t.done:d<=0}null===E||void 0===E||E(o),j&&(0===k&&(null!==R&&void 0!==R||(R=d)),k<h?function(e,t,n,r){return r?e>=t+n:e<=-n}(d,R,y,P)&&I():(r.stop(),x&&x()))}return u&&(null===b||void 0===b||b(),(r=l(A)).start()),{stop:function(){null===w||void 0===w||w(),r.stop()}}}function Kn(e,t){return t?e*(1e3/t):0}var $n=function(e){return 1e3*e},Xn=function(e,t){return 1-3*t+3*e},Yn=function(e,t){return 3*t-6*e},Jn=function(e){return 3*e},Qn=function(e,t,n){return((Xn(t,n)*e+Yn(t,n))*e+Jn(t))*e},Zn=function(e,t,n){return 3*Xn(t,n)*e*e+2*Yn(t,n)*e+Jn(t)},er=1e-7,tr=10;var nr=8,rr=.001;var or=11,ir=1/(or-1);function ar(e,t,n,r){if(e===t&&n===r)return Rn;for(var o=new Float32Array(or),i=0;i<or;++i)o[i]=Qn(i*ir,e,n);function a(t){for(var r=0,i=1,a=or-1;i!==a&&o[i]<=t;++i)r+=ir;var s=r+(t-o[--i])/(o[i+1]-o[i])*ir,u=Zn(s,e,n);return u>=rr?function(e,t,n,r){for(var o=0;o<nr;++o){var i=Zn(t,n,r);if(0===i)return t;t-=(Qn(t,n,r)-e)/i}return t}(t,s,e,n):0===u?s:function(e,t,n,r,o){var i,a,s=0;do{(i=Qn(a=t+(n-t)/2,r,o)-e)>0?n=a:t=a}while(Math.abs(i)>er&&++s<tr);return a}(t,r,r+ir,e,n)}return function(e){return 0===e||1===e?e:Qn(a(e),t,r)}}var sr={linear:Rn,easeIn:jn,easeInOut:Tn,easeOut:Pn,circIn:_n,circInOut:An,circOut:In,backIn:Nn,backInOut:Dn,backOut:Mn,anticipate:Ln,bounceIn:Bn,bounceInOut:function(e){return e<.5?.5*(1-Fn(1-2*e)):.5*Fn(2*e-1)+.5},bounceOut:Fn},ur=function(e){if(Array.isArray(e)){c(4===e.length,"Cubic bezier arrays must contain four numerical values.");var t=Object(r.c)(e,4);return ar(t[0],t[1],t[2],t[3])}return"string"===typeof e?(c(void 0!==sr[e],"Invalid easing type '"+e+"'"),sr[e]):e},cr=function(e){return Array.isArray(e)&&"number"!==typeof e[0]},lr=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!pn.test(t)||t.startsWith("url(")))},fr=function(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}},dr=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}},pr=function(){return{type:"keyframes",ease:"linear",duration:.3}},hr=function(e){return{type:"keyframes",duration:.8,values:e}},vr={x:fr,y:fr,z:fr,rotate:fr,rotateX:fr,rotateY:fr,rotateZ:fr,scaleX:dr,scaleY:dr,scale:dr,opacity:pr,backgroundColor:pr,color:pr,default:dr},mr=function(e,t){var n;return n=We(t)?hr:vr[e]||vr.default,Object(r.a)({to:t},n(t))},gr=new Set(["brightness","contrast","saturate","opacity"]);function yr(e){var t=e.slice(0,-1).split("("),n=t[0],r=t[1];if("drop-shadow"===n)return e;var o=(r.match(te)||[])[0];if(!o)return e;var i=r.replace(o,""),a=gr.has(n)?1:0;return o!==r&&(a*=100),n+"("+a+i+")"}var br=/([a-z-]*)\(.*?\)/g,wr=Q(Q({},pn),{getAnimatableNone:function(e){var t=e.match(br);return t?t.map(yr).join(" "):e}}),xr=Object(r.a)(Object(r.a)({},me),{color:an,backgroundColor:an,outlineColor:an,fill:an,stroke:an,borderColor:an,borderTopColor:an,borderRightColor:an,borderBottomColor:an,borderLeftColor:an,filter:wr,WebkitFilter:wr}),Or=function(e){return xr[e]};function Er(e,t){var n,r=Or(e);return r!==wr&&(r=pn),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}var Sr=!1;function Cr(e,t,n){var o;return Array.isArray(t.to)&&(null!==(o=e.duration)&&void 0!==o||(e.duration=.8)),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=Object(r.e)([],Object(r.c)(e.to)),e.to[0]=e.from)}(t),function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=Object(r.d)(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}(e)||(e=Object(r.a)(Object(r.a)({},e),mr(n,t.to))),Object(r.a)(Object(r.a)({},t),function(e){var t=e.ease,n=e.times,o=e.yoyo,i=e.flip,a=e.loop,s=Object(r.d)(e,["ease","times","yoyo","flip","loop"]),c=Object(r.a)({},s);return n&&(c.offset=n),s.duration&&(c.duration=$n(s.duration)),s.repeatDelay&&(c.repeatDelay=$n(s.repeatDelay)),t&&(c.ease=cr(t)?t.map(ur):ur(t)),"tween"===s.type&&(c.type="keyframes"),(o||a||i)&&(u(!Sr,"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options."),Sr=!0,o?c.repeatType="reverse":a?c.repeatType="loop":i&&(c.repeatType="mirror"),c.repeat=a||o||i||s.repeat),"spring"!==s.type&&(c.type="keyframes"),c}(e))}function kr(e,t,n,o,i){var a,s=Pr(o,e),c=null!==(a=s.from)&&void 0!==a?a:t.get(),l=lr(e,n);"none"===c&&l&&"string"===typeof n?c=Er(e,n):Rr(c)&&"string"===typeof n?c=jr(n):!Array.isArray(n)&&Rr(n)&&"string"===typeof c&&(n=jr(c));var f=lr(e,c);return u(f===l,"You are trying to animate "+e+' from "'+c+'" to "'+n+'". '+c+" is not an animatable value - to enable this animation set "+c+" to a value animatable to "+n+" via the `style` property."),f&&l&&!1!==s.type?function(){var o={from:c,to:n,velocity:t.getVelocity(),onComplete:i,onUpdate:function(e){return t.set(e)}};return"inertia"===s.type||"decay"===s.type?function(e){var t,n=e.from,r=void 0===n?0:n,o=e.velocity,i=void 0===o?0:o,a=e.min,s=e.max,u=e.power,c=void 0===u?.8:u,l=e.timeConstant,f=void 0===l?750:l,d=e.bounceStiffness,p=void 0===d?500:d,h=e.bounceDamping,v=void 0===h?10:h,m=e.restDelta,g=void 0===m?1:m,y=e.modifyTarget,b=e.driver,w=e.onUpdate,x=e.onComplete;function O(e){return void 0!==a&&e<a||void 0!==s&&e>s}function E(e){return void 0===a?s:void 0===s?a:Math.abs(a-e)<Math.abs(s-e)?a:s}function S(e){null===t||void 0===t||t.stop(),t=Gn(Pt(Pt({},e),{driver:b,onUpdate:function(t){var n;null===w||void 0===w||w(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:x}))}function C(e){S(Pt({type:"spring",stiffness:p,damping:v,restDelta:g},e))}if(O(r))C({from:r,velocity:i,to:E(r)});else{var k=c*i+r;"undefined"!==typeof y&&(k=y(k));var R,j,P=E(k),T=P===a?-1:1;S({type:"decay",from:r,velocity:i,timeConstant:f,power:c,restDelta:g,modifyTarget:y,onUpdate:O(k)?function(e){R=j,j=e,i=Kn(e-R,Object(zn.d)().delta),(1===T&&e>P||-1===T&&e<P)&&C({from:e,to:P,velocity:i})}:void 0})}return{stop:function(){return null===t||void 0===t?void 0:t.stop()}}}(Object(r.a)(Object(r.a)({},o),s)):Gn(Object(r.a)(Object(r.a)({},Cr(s,o,e)),{onUpdate:function(e){var t;o.onUpdate(e),null===(t=s.onUpdate)||void 0===t||t.call(s,e)},onComplete:function(){var e;o.onComplete(),null===(e=s.onComplete)||void 0===e||e.call(s)}}))}:function(){var e;return t.set(n),i(),null===(e=null===s||void 0===s?void 0:s.onComplete)||void 0===e||e.call(s),{stop:function(){}}}}function Rr(e){return 0===e||"string"===typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function jr(e){return"number"===typeof e?0:Er("",e)}function Pr(e,t){return e[t]||e.default||e}function Tr(e,t,n,r){return void 0===r&&(r={}),t.start(function(o){var i,a,s=kr(e,t,n,r,o),u=function(e,t){var n;return null!==(n=(Pr(e,t)||{}).delay)&&void 0!==n?n:0}(r,e),c=function(){return a=s()};return u?i=setTimeout(c,$n(u)):c(),function(){clearTimeout(i),null===a||void 0===a||a.stop()}})}var _r=function(e){return/^\-?\d*\.?\d+$/.test(e)};function Ir(e,t){-1===e.indexOf(t)&&e.push(t)}function Ar(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Nr=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(e){var t=this;return Ir(this.subscriptions,e),function(){return Ar(t.subscriptions,e)}},e.prototype.notify=function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var o=0;o<r;o++){var i=this.subscriptions[o];i&&i(e,t,n)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),Mr=function(e){return!isNaN(parseFloat(e))},Dr=function(){function e(e){var t=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new Nr,this.velocityUpdateSubscribers=new Nr,this.renderSubscribers=new Nr,this.canTrackVelocity=!1,this.updateAndNotify=function(e,n){void 0===n&&(n=!0),t.prev=t.current,t.current=e;var r=Object(zn.d)(),o=r.delta,i=r.timestamp;t.lastUpdated!==i&&(t.timeDelta=o,t.lastUpdated=i,zn.b.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.updateSubscribers.notify(t.current),t.velocityUpdateSubscribers.getSize()&&t.velocityUpdateSubscribers.notify(t.getVelocity()),n&&t.renderSubscribers.notify(t.current)},this.scheduleVelocityCheck=function(){return zn.b.postRender(t.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==t.lastUpdated&&(t.prev=t.current,t.velocityUpdateSubscribers.notify(t.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Mr(this.current)}return e.prototype.onChange=function(e){return this.updateSubscribers.add(e)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},e.prototype.attach=function(e){this.passiveEffect=e},e.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?Kn(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(e){var t=this;return this.stop(),new Promise(function(n){t.hasAnimated=!0,t.stopAnimation=e(n)}).then(function(){return t.clearAnimation()})},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function Lr(e){return new Dr(e)}var Fr=function(e){return function(t){return t.test(e)}},Br=[de,ue,se,ae,le,ce,{test:function(e){return"auto"===e},parse:function(e){return e}}],Vr=function(e){return Br.find(Fr(e))},Ur=Object(r.e)(Object(r.e)([],Object(r.c)(Br)),[an,pn]),Wr=function(e){return Ur.find(Fr(e))};function zr(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Lr(n))}function Hr(e,t){var n=T(e,t),o=n?e.makeTargetAnimatable(n,!1):{},i=o.transitionEnd,a=void 0===i?{}:i;o.transition;var s=Object(r.d)(o,["transitionEnd","transition"]);for(var u in s=Object(r.a)(Object(r.a)({},s),a)){zr(e,u,He(s[u]))}}function qr(e,t){if(t)return(t[e]||t.default||t).from}function Gr(e,t,n){var o;void 0===n&&(n={});var i=T(e,t,n.custom),a=(i||{}).transition,s=void 0===a?e.getDefaultTransition()||{}:a;n.transitionOverride&&(s=n.transitionOverride);var u=i?function(){return Kr(e,i,n)}:function(){return Promise.resolve()},c=(null===(o=e.variantChildren)||void 0===o?void 0:o.size)?function(o){void 0===o&&(o=0);var i=s.delayChildren,a=void 0===i?0:i,u=s.staggerChildren,c=s.staggerDirection;return function(e,t,n,o,i,a){void 0===n&&(n=0);void 0===o&&(o=0);void 0===i&&(i=1);var s=[],u=(e.variantChildren.size-1)*o,c=1===i?function(e){return void 0===e&&(e=0),e*o}:function(e){return void 0===e&&(e=0),u-e*o};return Array.from(e.variantChildren).sort($r).forEach(function(e,o){s.push(Gr(e,t,Object(r.a)(Object(r.a)({},a),{delay:n+c(o)})).then(function(){return e.notifyAnimationComplete(t)}))}),Promise.all(s)}(e,t,a+o,u,c,n)}:function(){return Promise.resolve()},l=s.when;if(l){var f=Object(r.c)("beforeChildren"===l?[u,c]:[c,u],2),d=f[0],p=f[1];return d().then(p)}return Promise.all([u(),c(n.delay)])}function Kr(e,t,n){var o,i=void 0===n?{}:n,a=i.delay,s=void 0===a?0:a,u=i.transitionOverride,c=i.type,l=e.makeTargetAnimatable(t),f=l.transition,d=void 0===f?e.getDefaultTransition():f,p=l.transitionEnd,h=Object(r.d)(l,["transition","transitionEnd"]);u&&(d=u);var v=[],m=c&&(null===(o=e.animationState)||void 0===o?void 0:o.getState()[c]);for(var g in h){var y=e.getValue(g),b=h[g];if(!(!y||void 0===b||m&&Xr(m,g))){var w=Tr(g,y,b,Object(r.a)({delay:s},d));v.push(w)}}return Promise.all(v).then(function(){p&&Hr(e,p)})}function $r(e,t){return e.sortNodePosition(t)}function Xr(e,t){var n=e.protectedKeys,r=e.needsAnimating,o=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,o}var Yr=[Ye.Animate,Ye.Hover,Ye.Tap,Ye.Drag,Ye.Focus,Ye.Exit],Jr=Object(r.e)([],Object(r.c)(Yr)).reverse(),Qr=Yr.length;function Zr(e){return function(t){return Promise.all(t.map(function(t){var n=t.animation,r=t.options;return function(e,t,n){var r;if(void 0===n&&(n={}),e.notifyAnimationStart(),Array.isArray(t)){var o=t.map(function(t){return Gr(e,t,n)});r=Promise.all(o)}else if("string"===typeof t)r=Gr(e,t,n);else{var i="function"===typeof t?T(e,t,n.custom):t;r=Kr(e,i,n)}return r.then(function(){return e.notifyAnimationComplete(t)})}(e,n,r)}))}}function eo(e){var t=Zr(e),n=function(){var e;return(e={})[Ye.Animate]=to(!0),e[Ye.Hover]=to(),e[Ye.Tap]=to(),e[Ye.Drag]=to(),e[Ye.Focus]=to(),e[Ye.Exit]=to(),e}(),o={},i=!0,a=function(t,n){var o=T(e,n);if(o){o.transition;var i=o.transitionEnd,a=Object(r.d)(o,["transition","transitionEnd"]);t=Object(r.a)(Object(r.a)(Object(r.a)({},t),a),i)}return t};function s(s,u){for(var c,l=e.getProps(),f=e.getVariantContext(!0)||{},d=[],p=new Set,h={},v=1/0,m=function(t){var o=Jr[t],m=n[o],g=null!==(c=l[o])&&void 0!==c?c:f[o],y=j(g),b=o===u?m.isActive:null;!1===b&&(v=t);var w=g===f[o]&&g!==l[o]&&y;if(w&&i&&e.manuallyAnimateOnMount&&(w=!1),m.protectedKeys=Object(r.a)({},h),!m.isActive&&null===b||!g&&!m.prevProp||Ue(g)||"boolean"===typeof g)return"continue";var x=function(e,t){if("string"===typeof t)return t!==e;if(R(t))return!jt(t,e);return!1}(m.prevProp,g)||o===u&&m.isActive&&!w&&y||t>v&&y,O=Array.isArray(g)?g:[g],E=O.reduce(a,{});!1===b&&(E={});var S=m.prevResolvedValues,C=void 0===S?{}:S,k=Object(r.a)(Object(r.a)({},C),E),P=function(e){x=!0,p.delete(e),m.needsAnimating[e]=!0};for(var T in k){var _=E[T],I=C[T];h.hasOwnProperty(T)||(_!==I?We(_)&&We(I)?jt(_,I)?m.protectedKeys[T]=!0:P(T):void 0!==_?P(T):p.add(T):void 0!==_&&p.has(T)?P(T):m.protectedKeys[T]=!0)}m.prevProp=g,m.prevResolvedValues=E,m.isActive&&(h=Object(r.a)(Object(r.a)({},h),E)),i&&e.blockInitialAnimation&&(x=!1),x&&!w&&d.push.apply(d,Object(r.e)([],Object(r.c)(O.map(function(e){return{animation:e,options:Object(r.a)({type:o},s)}}))))},g=0;g<Qr;g++)m(g);if(o=Object(r.a)({},h),p.size){var y={};p.forEach(function(t){var n=e.getBaseTarget(t);void 0!==n&&(y[t]=n)}),d.push({animation:y})}var b=Boolean(d.length);return i&&!1===l.initial&&!e.manuallyAnimateOnMount&&(b=!1),i=!1,b?t(d):Promise.resolve()}return{isAnimated:function(e){return void 0!==o[e]},animateChanges:s,setActive:function(t,r,o){var i;return n[t].isActive===r?Promise.resolve():(null===(i=e.variantChildren)||void 0===i||i.forEach(function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r,s(o,t))},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function to(e){return void 0===e&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var no={animation:kt(function(e){var t=e.visualElement,n=e.animate;t.animationState||(t.animationState=eo(t)),Ue(n)&&Object(o.useEffect)(function(){return n.subscribe(t)},[n])}),exit:kt(function(e){var t=e.custom,n=e.visualElement,i=Object(r.c)(g(),2),a=i[0],s=i[1],u=Object(o.useContext)(v.a);Object(o.useEffect)(function(){var e,r,o=null===(e=n.animationState)||void 0===e?void 0:e.setActive(Ye.Exit,!a,{custom:null!==(r=null===u||void 0===u?void 0:u.custom)&&void 0!==r?r:t});!a&&(null===o||void 0===o||o.then(s))},[a])})},ro=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},oo=function(e){return ro(e)&&e.hasOwnProperty("z")},io=function(e,t){return Math.abs(e-t)};function ao(e,t){if(hn(e)&&hn(t))return io(e,t);if(ro(e)&&ro(t)){var n=io(e.x,t.x),r=io(e.y,t.y),o=oo(e)&&oo(t)?io(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(o,2))}}var so=function(){function e(e,t,n){var o=this,i=(void 0===n?{}:n).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(o.lastMoveEvent&&o.lastMoveEventInfo){var e=lo(o.lastMoveEventInfo,o.history),t=null!==o.startEvent,n=ao(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,a=Object(zn.d)().timestamp;o.history.push(Object(r.a)(Object(r.a)({},i),{timestamp:a}));var s=o.handlers,u=s.onStart,c=s.onMove;t||(u&&u(o.lastMoveEvent,e),o.startEvent=o.lastMoveEvent),c&&c(o.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){o.lastMoveEvent=e,o.lastMoveEventInfo=uo(t,o.transformPagePoint),tt(e)&&0===e.buttons?o.handlePointerUp(e,t):zn.b.update(o.updatePoint,!0)},this.handlePointerUp=function(e,t){o.end();var n=o.handlers,r=n.onEnd,i=n.onSessionEnd,a=lo(uo(t,o.transformPagePoint),o.history);o.startEvent&&r&&r(e,a),i&&i(e,a)},!(nt(e)&&e.touches.length>1)){this.handlers=t,this.transformPagePoint=i;var a=uo(at(e),this.transformPagePoint),s=a.point,u=Object(zn.d)().timestamp;this.history=[Object(r.a)(Object(r.a)({},s),{timestamp:u})];var c=t.onSessionStart;c&&c(e,lo(a,this.history)),this.removeListeners=Ct(ht(window,"pointermove",this.handlePointerMove),ht(window,"pointerup",this.handlePointerUp),ht(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(e){this.handlers=e},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),zn.a.update(this.updatePoint)},e}();function uo(e,t){return t?{point:t(e.point)}:e}function co(e,t){return{x:e.x-t.x,y:e.y-t.y}}function lo(e,t){var n=e.point;return{point:n,delta:co(n,po(t)),offset:co(n,fo(t)),velocity:ho(t,.1)}}function fo(e){return e[0]}function po(e){return e[e.length-1]}function ho(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,o=po(e);n>=0&&(r=e[n],!(o.timestamp-r.timestamp>$n(t)));)n--;if(!r)return{x:0,y:0};var i=(o.timestamp-r.timestamp)/1e3;if(0===i)return{x:0,y:0};var a={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}var vo=n(31);function mo(e){return[e("x"),e("y")]}function go(e,t,n){var r=t.min,o=t.max;return void 0!==r&&e<r?e=n?Gt(r,e,n.min):Math.max(e,r):void 0!==o&&e>o&&(e=n?Gt(o,e,n.max):Math.min(e,o)),e}function yo(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function bo(e,t){var n,o=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&(o=(n=Object(r.c)([i,o],2))[0],i=n[1]),{min:e.min+o,max:e.min+i}}var wo=.35;function xo(e,t,n){return{min:Oo(e,t),max:Oo(e,n)}}function Oo(e,t){var n;return"number"===typeof e?e:null!==(n=e[t])&&void 0!==n?n:0}function Eo(e,t){var n=e.getBoundingClientRect();return Object(vo.c)(Object(vo.f)(n,t))}var So=function(e){return _t(0,1,e)};function Co(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=.01),ao(e,t)<n}function ko(e){return e.max-e.min}function Ro(e,t,n,r){void 0===r&&(r=.5),e.origin=r,e.originPoint=Gt(t.min,t.max,e.origin),e.scale=ko(n)/ko(t),Co(e.scale,1,1e-4)&&(e.scale=1),e.translate=Gt(n.min,n.max,e.origin)-e.originPoint,Co(e.translate)&&(e.translate=0)}function jo(e,t,n,r){Ro(e.x,t.x,n.x,Po(r.originX)),Ro(e.y,t.y,n.y,Po(r.originY))}function Po(e){return"number"===typeof e?e:.5}function To(e,t,n){e.min=n.min+t.min,e.max=e.min+ko(t)}var _o=n(69);function Io(e,t){return{min:t.min-e.min,max:t.max-e.min}}function Ao(e,t){return{x:Io(e.x,t.x),y:Io(e.y,t.y)}}function No(e){var t=e.getProps(),n=t.drag,r=t._dragX;return n&&!r}function Mo(e,t){e.min=t.min,e.max=t.max}function Do(e,t,n){return n+t*(e-n)}function Lo(e,t,n,r,o){return void 0!==o&&(e=Do(e,o,r)),Do(e,n,r)+t}function Fo(e,t,n,r,o){void 0===t&&(t=0),void 0===n&&(n=1),e.min=Lo(e.min,t,n,r,o),e.max=Lo(e.max,t,n,r,o)}function Bo(e,t){var n=t.x,r=t.y;Fo(e.x,n.translate,n.scale,n.originPoint),Fo(e.y,r.translate,r.scale,r.originPoint)}function Vo(e,t,n,o){var i=Object(r.c)(o,3),a=i[0],s=i[1],u=i[2];e.min=t.min,e.max=t.max;var c=void 0!==n[u]?n[u]:.5,l=Gt(t.min,t.max,c);Fo(e,n[a],n[s],l,n.scale)}var Uo=["x","scaleX","originX"],Wo=["y","scaleY","originY"];function zo(e,t,n){Vo(e.x,t.x,n,Uo),Vo(e.y,t.y,n,Wo)}function Ho(e,t,n,r,o){return e=Do(e-=t,1/n,r),void 0!==o&&(e=Do(e,1/o,r)),e}function qo(e,t,n){var o=Object(r.c)(n,3),i=o[0],a=o[1],s=o[2];!function(e,t,n,r,o){void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=.5);var i=Gt(e.min,e.max,r)-t;e.min=Ho(e.min,t,n,i,o),e.max=Ho(e.max,t,n,i,o)}(e,t[i],t[a],t[s],t.scale)}function Go(e,t){qo(e.x,t,Uo),qo(e.y,t,Wo)}var Ko,$o=n(99),Xo=new WeakMap,Yo=function(){function e(e){var t=e.visualElement;this.isDragging=!1,this.currentDirection=null,this.constraints=!1,this.elastic=Object(vo.a)(),this.props={},this.hasMutatedConstraints=!1,this.cursorProgress={x:.5,y:.5},this.originPoint={},this.openGlobalLock=null,this.panSession=null,this.visualElement=t,this.visualElement.enableLayoutProjection(),Xo.set(t,this)}return e.prototype.start=function(e,t){var n=this,o=void 0===t?{}:t,i=o.snapToCursor,a=void 0!==i&&i,s=o.cursorProgress,u=this.props.transformPagePoint;this.panSession=new so(e,{onSessionStart:function(e){var t;n.stopMotion();var o=function(e){return at(e,"client")}(e).point;null===(t=n.cancelLayout)||void 0===t||t.call(n),n.cancelLayout=Object($o.a)(function(e,t){var i=Object(_o.a)(n.visualElement),u=Object(_o.b)(n.visualElement),c=Object(r.e)(Object(r.e)([],Object(r.c)(i)),Object(r.c)(u)),l=!1;n.isLayoutDrag()&&n.visualElement.lockProjectionTarget(),t(function(){c.forEach(function(e){return e.resetTransform()})}),e(function(){Object(_o.d)(n.visualElement),u.forEach(_o.d)}),t(function(){c.forEach(function(e){return e.restoreTransform()}),a&&(l=n.snapToCursor(o))}),e(function(){Boolean(n.getAxisMotionValue("x")&&!n.isExternalDrag())||n.visualElement.rebaseProjectionTarget(!0,n.visualElement.measureViewportBox(!1)),n.visualElement.scheduleUpdateLayoutProjection();var e=n.visualElement.projection;mo(function(t){if(!l){var r=e.target[t],i=r.min,a=r.max;n.cursorProgress[t]=s?s[t]:qt(i,a,o[t])}var u=n.getAxisMotionValue(t);u&&(n.originPoint[t]=u.get())})}),t(function(){zn.c.update(),zn.c.preRender(),zn.c.render(),zn.c.postRender()}),e(function(){return n.resolveDragConstraints()})})},onStart:function(e,t){var r,o,i,a=n.props,s=a.drag,u=a.dragPropagation;(!s||u||(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=bt(s),n.openGlobalLock))&&(Object($o.b)(),n.isDragging=!0,n.currentDirection=null,null===(o=(r=n.props).onDragStart)||void 0===o||o.call(r,e,t),null===(i=n.visualElement.animationState)||void 0===i||i.setActive(Ye.Drag,!0))},onMove:function(e,t){var r,o,i,a,s=n.props,u=s.dragPropagation,c=s.dragDirectionLock;if(u||n.openGlobalLock){var l=t.offset;if(c&&null===n.currentDirection)return n.currentDirection=function(e,t){void 0===t&&(t=10);var n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}(l),void(null!==n.currentDirection&&(null===(o=(r=n.props).onDirectionLock)||void 0===o||o.call(r,n.currentDirection)));n.updateAxis("x",t.point,l),n.updateAxis("y",t.point,l),null===(a=(i=n.props).onDrag)||void 0===a||a.call(i,e,t),Ko=e}},onSessionEnd:function(e,t){return n.stop(e,t)}},{transformPagePoint:u})},e.prototype.resolveDragConstraints=function(){var e=this,t=this.props,n=t.dragConstraints,r=t.dragElastic,o=this.visualElement.getLayoutState().layoutCorrected;this.constraints=!!n&&(k(n)?this.resolveRefConstraints(o,n):function(e,t){var n=t.top,r=t.left,o=t.bottom,i=t.right;return{x:yo(e.x,r,i),y:yo(e.y,n,o)}}(o,n)),this.elastic=function(e){return!1===e?e=0:!0===e&&(e=wo),{x:xo(e,"left","right"),y:xo(e,"top","bottom")}}(r),this.constraints&&!this.hasMutatedConstraints&&mo(function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(o[t],e.constraints[t]))})},e.prototype.resolveRefConstraints=function(e,t){var n=this.props,r=n.onMeasureDragConstraints,o=n.transformPagePoint,i=t.current;c(null!==i,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop."),this.constraintsBox=Eo(i,o);var a=function(e,t){return{x:bo(e.x,t.x),y:bo(e.y,t.y)}}(e,this.constraintsBox);if(r){var s=r(Object(vo.b)(a));this.hasMutatedConstraints=!!s,s&&(a=Object(vo.c)(s))}return a},e.prototype.cancelDrag=function(){var e,t;this.visualElement.unlockProjectionTarget(),null===(e=this.cancelLayout)||void 0===e||e.call(this),this.isDragging=!1,this.panSession&&this.panSession.end(),this.panSession=null,!this.props.dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(Ye.Drag,!1)},e.prototype.stop=function(e,t){var n,r,o;null===(n=this.panSession)||void 0===n||n.end(),this.panSession=null;var i=this.isDragging;if(this.cancelDrag(),i){var a=t.velocity;this.animateDragEnd(a),null===(o=(r=this.props).onDragEnd)||void 0===o||o.call(r,e,t)}},e.prototype.snapToCursor=function(e){var t=this;return mo(function(n){if(Jo(n,t.props.drag,t.currentDirection)){var r=t.getAxisMotionValue(n);if(!r)return t.cursorProgress[n]=.5,!0;var o=t.visualElement.getLayoutState().layout,i=o[n].max-o[n].min,a=o[n].min+i/2,s=e[n]-a;t.originPoint[n]=e[n],r.set(s)}}).includes(!0)},e.prototype.updateAxis=function(e,t,n){if(Jo(e,this.props.drag,this.currentDirection))return this.getAxisMotionValue(e)?this.updateAxisMotionValue(e,n):this.updateVisualElementAxis(e,t)},e.prototype.updateAxisMotionValue=function(e,t){var n=this.getAxisMotionValue(e);if(t&&n){var r=this.originPoint[e]+t[e],o=this.constraints?go(r,this.constraints[e],this.elastic[e]):r;n.set(o)}},e.prototype.updateVisualElementAxis=function(e,t){var n,r=this.visualElement.getLayoutState().layout[e],o=r.max-r.min,i=this.cursorProgress[e],a=function(e,t,n,r,o){var i=e-t*n;return r?go(i,r,o):i}(t[e],o,i,null===(n=this.constraints)||void 0===n?void 0:n[e],this.elastic[e]);this.visualElement.setProjectionTargetAxis(e,a,a+o)},e.prototype.setProps=function(e){var t=e.drag,n=void 0!==t&&t,o=e.dragDirectionLock,i=void 0!==o&&o,a=e.dragPropagation,s=void 0!==a&&a,u=e.dragConstraints,c=void 0!==u&&u,l=e.dragElastic,f=void 0===l?wo:l,d=e.dragMomentum,p=void 0===d||d,h=Object(r.d)(e,["drag","dragDirectionLock","dragPropagation","dragConstraints","dragElastic","dragMomentum"]);this.props=Object(r.a)({drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:c,dragElastic:f,dragMomentum:p},h)},e.prototype.getAxisMotionValue=function(e){var t=this.props,n=t.layout,r=t.layoutId,o="_drag"+e.toUpperCase();return this.props[o]?this.props[o]:n||void 0!==r?void 0:this.visualElement.getValue(e,0)},e.prototype.isLayoutDrag=function(){return!this.getAxisMotionValue("x")},e.prototype.isExternalDrag=function(){var e=this.props,t=e._dragX,n=e._dragY;return t||n},e.prototype.animateDragEnd=function(e){var t=this,n=this.props,o=n.drag,i=n.dragMomentum,a=n.dragElastic,s=n.dragTransition,u=function(e,t){void 0===t&&(t=!0);var n,r=e.getProjectionParent();return!!r&&(t?Go(n=Ao(r.projection.target,e.projection.target),r.getLatestValues()):n=Ao(r.getLayoutState().layout,e.getLayoutState().layout),mo(function(t){return e.setProjectionTargetAxis(t,n[t].min,n[t].max,!0)}),!0)}(this.visualElement,this.isLayoutDrag()&&!this.isExternalDrag()),c=this.constraints||{};if(u&&Object.keys(c).length&&this.isLayoutDrag()){var l=this.visualElement.getProjectionParent();if(l){var f=Ao(l.projection.targetFinal,c);mo(function(e){var t=f[e],n=t.min,r=t.max;c[e]={min:isNaN(n)?void 0:n,max:isNaN(r)?void 0:r}})}}var d=mo(function(n){var l;if(Jo(n,o,t.currentDirection)){var f=null!==(l=null===c||void 0===c?void 0:c[n])&&void 0!==l?l:{},d=a?200:1e6,p=a?40:1e7,h=Object(r.a)(Object(r.a)({type:"inertia",velocity:i?e[n]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10},s),f);return t.getAxisMotionValue(n)?t.startAxisValueAnimation(n,h):t.visualElement.startLayoutAnimation(n,h,u)}});return Promise.all(d).then(function(){var e,n;null===(n=(e=t.props).onDragTransitionEnd)||void 0===n||n.call(e)})},e.prototype.stopMotion=function(){var e=this;mo(function(t){var n=e.getAxisMotionValue(t);n?n.stop():e.visualElement.stopLayoutAnimation()})},e.prototype.startAxisValueAnimation=function(e,t){var n=this.getAxisMotionValue(e);if(n){var r=n.get();return n.set(r),n.set(r),Tr(e,n,0,t)}},e.prototype.scalePoint=function(){var e=this,t=this.props,n=t.drag;if(k(t.dragConstraints)&&this.constraintsBox){this.stopMotion();var r={x:0,y:0};mo(function(t){r[t]=function(e,t){var n=.5,r=ko(e),o=ko(t);return o>r?n=qt(t.min,t.max-r,e.min):r>o&&(n=qt(e.min,e.max-o,t.min)),So(n)}(e.visualElement.projection.target[t],e.constraintsBox[t])}),this.updateConstraints(function(){mo(function(t){if(Jo(t,n,null)){var o=function(e,t,n){var r=e.max-e.min,o=Gt(t.min,t.max-r,n);return{min:o,max:o+r}}(e.visualElement.projection.target[t],e.constraintsBox[t],r[t]),i=o.min,a=o.max;e.visualElement.setProjectionTargetAxis(t,i,a)}})}),setTimeout($o.b,1)}},e.prototype.updateConstraints=function(e){var t=this;this.cancelLayout=Object($o.a)(function(n,r){var o=Object(_o.a)(t.visualElement);r(function(){return o.forEach(function(e){return e.resetTransform()})}),n(function(){return Object(_o.d)(t.visualElement)}),r(function(){return o.forEach(function(e){return e.restoreTransform()})}),n(function(){t.resolveDragConstraints()}),e&&r(e)})},e.prototype.mount=function(e){var t=this,n=ht(e.getInstance(),"pointerdown",function(e){var n=t.props,r=n.drag,o=n.dragListener;r&&(void 0===o||o)&&t.start(e)}),r=Ze(window,"resize",function(){t.scalePoint()}),o=e.onLayoutUpdate(function(){t.isDragging&&t.resolveDragConstraints()}),i=e.prevDragCursor;return i&&this.start(Ko,{cursorProgress:i}),function(){null===n||void 0===n||n(),null===r||void 0===r||r(),null===o||void 0===o||o(),t.cancelDrag()}},e}();function Jo(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}var Qo={pan:kt(function(e){var t=e.onPan,n=e.onPanStart,r=e.onPanEnd,i=e.onPanSessionStart,a=e.visualElement,s=t||n||r||i,u=Object(o.useRef)(null),c=Object(o.useContext)(p).transformPagePoint,l={onSessionStart:i,onStart:n,onMove:t,onEnd:function(e,t){u.current=null,r&&r(e,t)}};Object(o.useEffect)(function(){null!==u.current&&u.current.updateHandlers(l)}),vt(a,"pointerdown",s&&function(e){u.current=new so(e,l,{transformPagePoint:c})}),Object(Et.a)(function(){return u.current&&u.current.end()})}),drag:kt(function(e){var t=e.dragControls,n=e.visualElement,i=Object(o.useContext)(p).transformPagePoint,a=Object(m.a)(function(){return new Yo({visualElement:n})});a.setProps(Object(r.a)(Object(r.a)({},e),{transformPagePoint:i})),Object(o.useEffect)(function(){return t&&t.subscribe(a)},[a]),Object(o.useEffect)(function(){return a.mount(n)},[])})},Zo=n(101);function ei(e){return"string"===typeof e&&e.startsWith("var(--")}var ti=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;var ni=4;function ri(e,t,n){void 0===n&&(n=1),c(n<=ni,'Max CSS variable fallback depth detected in property "'+e+'". This may indicate a circular fallback dependency.');var o=Object(r.c)(function(e){var t=ti.exec(e);if(!t)return[,];var n=Object(r.c)(t,3);return[n[1],n[2]]}(e),2),i=o[0],a=o[1];if(i){var s=window.getComputedStyle(t).getPropertyValue(i);return s?s.trim():ei(a)?ri(a,t,n+1):a}}function oi(e,t){return e/(t.max-t.min)*100}var ii="_$css";var ai={process:function(e,t,n){var r=n.target;if("string"===typeof e){if(!ue.test(e))return e;e=parseFloat(e)}return oi(e,r.x)+"% "+oi(e,r.y)+"%"}},si={borderRadius:Object(r.a)(Object(r.a)({},ai),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:ai,borderTopRightRadius:ai,borderBottomLeftRadius:ai,borderBottomRightRadius:ai,boxShadow:{process:function(e,t){var n=t.delta,r=t.treeScale,o=e,i=e.includes("var("),a=[];i&&(e=e.replace(ti,function(e){return a.push(e),ii}));var s=pn.parse(e);if(s.length>5)return o;var u=pn.createTransformer(e),c="number"!==typeof s[0]?1:0,l=n.x.scale*r.x,f=n.y.scale*r.y;s[0+c]/=l,s[1+c]/=f;var d=Gt(l,f,.5);"number"===typeof s[2+c]&&(s[2+c]/=d),"number"===typeof s[3+c]&&(s[3+c]/=d);var p=u(s);if(i){var h=0;p=p.replace(ii,function(){var e=a[h];return h++,e})}return p}}},ui=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.frameTarget=Object(vo.a)(),t.currentAnimationTarget=Object(vo.a)(),t.isAnimating={x:!1,y:!1},t.stopAxisAnimation={x:void 0,y:void 0},t.isAnimatingTree=!1,t.animate=function(e,n,o){void 0===o&&(o={});var i=o.originBox,a=o.targetBox,s=o.visibilityAction,u=o.shouldStackAnimate,c=o.onComplete,l=o.prevParent,f=Object(r.d)(o,["originBox","targetBox","visibilityAction","shouldStackAnimate","onComplete","prevParent"]),d=t.props,p=d.visualElement,h=d.layout;if(!1===u)return t.isAnimatingTree=!1,t.safeToRemove();if(!t.isAnimatingTree||!0===u){u&&(t.isAnimatingTree=!0),n=i||n,e=a||e;var v=!1,m=p.getProjectionParent();if(m){var g=m.prevViewportBox,y=m.getLayoutState().layout;l&&(a&&(y=l.getLayoutState().layout),i&&!function(e,t){var n=e.getLayoutId(),r=t.getLayoutId();return n!==r||void 0===r&&e!==t}(l,m)&&l.prevViewportBox&&(g=l.prevViewportBox)),g&&function(e,t,n){return e||!e&&!(t||n)}(l,i,a)&&(v=!0,n=Ao(g,n),e=Ao(y,e))}var b,w,x=(w=e,!li(b=n)&&!li(w)&&(!fi(b.x,w.x)||!fi(b.y,w.y))),O=mo(function(o){var i,a;if("position"===h){var u=e[o].max-e[o].min;n[o].max=n[o].min+u}if(!p.projection.isTargetLocked)return void 0===s?x?t.animateAxis(o,e[o],n[o],Object(r.a)(Object(r.a)({},f),{isRelative:v})):(null===(a=(i=t.stopAxisAnimation)[o])||void 0===a||a.call(i),p.setProjectionTargetAxis(o,e[o].min,e[o].max,v)):void p.setVisibility(s===Zo.b.Show)});return p.syncRender(),Promise.all(O).then(function(){t.isAnimatingTree=!1,c&&c(),p.notifyLayoutAnimationComplete()})}},t}return Object(r.b)(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.visualElement;t.animateMotionValue=Tr,t.enableLayoutProjection(),this.unsubLayoutReady=t.onLayoutUpdate(this.animate),t.layoutSafeToRemove=function(){return e.safeToRemove()},function(e){for(var t in e)B[t]=e[t]}(si)},t.prototype.componentWillUnmount=function(){var e=this;this.unsubLayoutReady(),mo(function(t){var n,r;return null===(r=(n=e.stopAxisAnimation)[t])||void 0===r?void 0:r.call(n)})},t.prototype.animateAxis=function(e,t,n,r){var o,i,a=this,s=void 0===r?{}:r,u=s.transition,c=s.isRelative;if(!this.isAnimating[e]||!fi(t,this.currentAnimationTarget[e])){null===(i=(o=this.stopAxisAnimation)[e])||void 0===i||i.call(o),this.isAnimating[e]=!0;var l=this.props.visualElement,f=this.frameTarget[e],d=l.getProjectionAnimationProgress()[e];d.clearListeners(),d.set(0),d.set(0);var p=function(){var r=d.get()/1e3;!function(e,t,n,r){e.min=Gt(t.min,n.min,r),e.max=Gt(t.max,n.max,r)}(f,n,t,r),l.setProjectionTargetAxis(e,f.min,f.max,c)};p();var h=d.onChange(p);this.stopAxisAnimation[e]=function(){a.isAnimating[e]=!1,d.stop(),h()},this.currentAnimationTarget[e]=t;var v=u||l.getDefaultTransition()||di;return Tr("x"===e?"layoutX":"layoutY",d,1e3,v&&Pr(v,"layout")).then(this.stopAxisAnimation[e])}},t.prototype.safeToRemove=function(){var e,t;null===(t=(e=this.props).safeToRemove)||void 0===t||t.call(e)},t.prototype.render=function(){return null},t}(o.Component);var ci={min:0,max:0};function li(e){return fi(e.x,ci)&&fi(e.y,ci)}function fi(e,t){return e.min===t.min&&e.max===t.max}var di={duration:.45,ease:[.4,0,.1,1]};var pi=n(70),hi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.b)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.syncLayout,n=e.framerSyncLayout,r=e.visualElement;Object(pi.c)(t)&&t.register(r),Object(pi.c)(n)&&n.register(r),r.onUnmount(function(){Object(pi.c)(t)&&t.remove(r),Object(pi.c)(n)&&n.remove(r)})},t.prototype.getSnapshotBeforeUpdate=function(){var e=this.props,t=e.syncLayout,n=e.visualElement;return Object(pi.c)(t)?t.syncUpdate():(Object(_o.c)(n),t.add(n)),null},t.prototype.componentDidUpdate=function(){var e=this.props.syncLayout;Object(pi.c)(e)||e.flush()},t.prototype.render=function(){return null},t}(i.a.Component);var vi={measureLayout:function(e){var t=Object(o.useContext)(pi.b),n=Object(o.useContext)(pi.a);return i.a.createElement(hi,Object(r.a)({},e,{syncLayout:t,framerSyncLayout:n}))},layoutAnimation:function(e){var t=Object(r.c)(g(),2)[1];return o.createElement(ui,Object(r.a)({},e,{safeToRemove:t}))}};function mi(){return{isHydrated:!1,layout:Object(vo.a)(),layoutCorrected:Object(vo.a)(),treeScale:{x:1,y:1},delta:Object(vo.e)(),deltaFinal:Object(vo.e)(),deltaTransform:""}}var gi=mi();function yi(e,t,n){var r=e.x,o=e.y,i="translate3d("+r.translate/t.x+"px, "+o.translate/t.y+"px, 0) ";if(n){var a=n.rotate,s=n.rotateX,u=n.rotateY;a&&(i+="rotate("+a+") "),s&&(i+="rotateX("+s+") "),u&&(i+="rotateY("+u+") ")}return i+="scale("+r.scale+", "+o.scale+")",n||i!==wi?i:""}function bi(e){var t=e.deltaFinal;return 100*t.x.origin+"% "+100*t.y.origin+"% 0"}var wi=yi(gi.delta,gi.treeScale,{x:1,y:1}),xi=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","SetAxisTarget","Unmount"];function Oi(e,t,n,r){var o,i,a=e.delta,s=e.layout,u=e.layoutCorrected,c=e.treeScale,l=t.target;i=s,Mo((o=u).x,i.x),Mo(o.y,i.y),function(e,t,n){var r=n.length;if(r){var o,i;t.x=t.y=1;for(var a=0;a<r;a++)i=(o=n[a]).getLayoutState().delta,t.x*=i.x.scale,t.y*=i.y.scale,Bo(e,i),No(o)&&zo(e,e,o.getLatestValues())}}(u,c,n),jo(a,u,l,r)}var Ei=n(115),Si=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(e){Ir(this.children,e),this.isDirty=!0},e.prototype.remove=function(e){Ar(this.children,e),this.isDirty=!0},e.prototype.forEach=function(e){this.isDirty&&this.children.sort(Ei.a),this.isDirty=!1,this.children.forEach(e)},e}();var Ci=function(e){var t=e.treeType,n=void 0===t?"":t,o=e.build,i=e.getBaseTarget,a=e.makeTargetAnimatable,s=e.measureViewportBox,u=e.render,c=e.readValueFromInstance,l=e.resetTransform,f=e.restoreTransform,d=e.removeValueFromRenderState,p=e.sortNodePosition,h=e.scrapeMotionValuesFromProps;return function(e,t){var v=e.parent,m=e.props,g=e.presenceId,y=e.blockInitialAnimation,b=e.visualState;void 0===t&&(t={});var w,x,O,E,S,C,k=b.latestValues,R=b.renderState,P=function(){var e=xi.map(function(){return new Nr}),t={},n={clearAllListeners:function(){return e.forEach(function(e){return e.clear()})},updatePropListeners:function(e){return xi.forEach(function(r){var o;null===(o=t[r])||void 0===o||o.call(t);var i="on"+r,a=e[i];a&&(t[r]=n[i](a))})}};return e.forEach(function(e,t){n["on"+xi[t]]=function(t){return e.add(t)},n["notify"+xi[t]]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.notify.apply(e,Object(r.e)([],Object(r.c)(t)))}}),n}(),T={isEnabled:!1,isHydrated:!1,isTargetLocked:!1,target:Object(vo.a)(),targetFinal:Object(vo.a)()},A=T,N=k,M=mi(),D=!1,L=new Map,F=new Map,B={},V=Object(r.a)({},k);function U(){w&&(J.isProjectionReady()&&(zo(A.targetFinal,A.target,N),jo(M.deltaFinal,M.layoutCorrected,A.targetFinal,k)),W(),u(w,R))}function W(){var e=k;if(E&&E.isActive()){var n=E.getCrossfadeState(J);n&&(e=n)}o(J,R,e,A,M,t,m)}function z(){P.notifyUpdate(k)}function H(){J.layoutTree.forEach(Ri)}var q=h(m);for(var G in q){var K=q[G];void 0!==k[G]&&$(K)&&K.set(k[G],!1)}var X=_(m),Y=I(m),J=Object(r.a)(Object(r.a)({treeType:n,current:null,depth:v?v.depth+1:0,parent:v,children:new Set,path:v?Object(r.e)(Object(r.e)([],Object(r.c)(v.path)),[v]):[],layoutTree:v?v.layoutTree:new Si,presenceId:g,projection:T,variantChildren:Y?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null===v||void 0===v?void 0:v.isMounted()),blockInitialAnimation:y,isMounted:function(){return Boolean(w)},mount:function(e){w=J.current=e,J.pointTo(J),Y&&v&&!X&&(C=null===v||void 0===v?void 0:v.addVariantChild(J)),null===v||void 0===v||v.children.add(J)},unmount:function(){zn.a.update(z),zn.a.render(U),zn.a.preRender(J.updateLayoutProjection),F.forEach(function(e){return e()}),J.stopLayoutAnimation(),J.layoutTree.remove(J),null===C||void 0===C||C(),null===v||void 0===v||v.children.delete(J),null===O||void 0===O||O(),P.clearAllListeners()},addVariantChild:function(e){var t,n=J.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),function(){return n.variantChildren.delete(e)}},sortNodePosition:function(e){return p&&n===e.treeType?p(J.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return Y?J:null===v||void 0===v?void 0:v.getClosestVariantNode()},scheduleUpdateLayoutProjection:v?v.scheduleUpdateLayoutProjection:function(){return zn.b.preRender(J.updateTreeLayoutProjection,!1,!0)},getLayoutId:function(){return m.layoutId},getInstance:function(){return w},getStaticValue:function(e){return k[e]},setStaticValue:function(e,t){return k[e]=t},getLatestValues:function(){return k},setVisibility:function(e){J.isVisible!==e&&(J.isVisible=e,J.scheduleRender())},makeTargetAnimatable:function(e,t){return void 0===t&&(t=!0),a(J,e,m,t)},addValue:function(e,t){J.hasValue(e)&&J.removeValue(e),L.set(e,t),k[e]=t.get(),function(e,t){var n=t.onChange(function(t){k[e]=t,m.onUpdate&&zn.b.update(z,!1,!0)}),r=t.onRenderRequest(J.scheduleRender);F.set(e,function(){n(),r()})}(e,t)},removeValue:function(e){var t;L.delete(e),null===(t=F.get(e))||void 0===t||t(),F.delete(e),delete k[e],d(e,R)},hasValue:function(e){return L.has(e)},getValue:function(e,t){var n=L.get(e);return void 0===n&&void 0!==t&&(n=Lr(t),J.addValue(e,n)),n},forEachValue:function(e){return L.forEach(e)},readValue:function(e){var n;return null!==(n=k[e])&&void 0!==n?n:c(w,e,t)},setBaseTarget:function(e,t){V[e]=t},getBaseTarget:function(e){if(i){var t=i(m,e);if(void 0!==t&&!$(t))return t}return V[e]}},P),{build:function(){return W(),R},scheduleRender:function(){zn.b.render(U,!1,!0)},syncRender:U,setProps:function(e){m=e,P.updatePropListeners(e),B=function(e,t,n){var r;for(var o in t){var i=t[o],a=n[o];if($(i))e.addValue(o,i);else if($(a))e.addValue(o,Lr(i));else if(a!==i)if(e.hasValue(o)){var s=e.getValue(o);!s.hasAnimated&&s.set(i)}else e.addValue(o,Lr(null!==(r=e.getStaticValue(o))&&void 0!==r?r:i))}for(var o in n)void 0===t[o]&&e.removeValue(o);return t}(J,h(m),B)},getProps:function(){return m},getVariant:function(e){var t;return null===(t=m.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return m.transition},getVariantContext:function(e){if(void 0===e&&(e=!1),e)return null===v||void 0===v?void 0:v.getVariantContext();if(!X){var t=(null===v||void 0===v?void 0:v.getVariantContext())||{};return void 0!==m.initial&&(t.initial=m.initial),t}for(var n={},r=0;r<Ti;r++){var o=Pi[r],i=m[o];(j(i)||!1===i)&&(n[o]=i)}return n},enableLayoutProjection:function(){T.isEnabled=!0,J.layoutTree.add(J)},lockProjectionTarget:function(){T.isTargetLocked=!0},unlockProjectionTarget:function(){J.stopLayoutAnimation(),T.isTargetLocked=!1},getLayoutState:function(){return M},setCrossfader:function(e){E=e},isProjectionReady:function(){return T.isEnabled&&T.isHydrated&&M.isHydrated},startLayoutAnimation:function(e,t,n){void 0===n&&(n=!1);var r=J.getProjectionAnimationProgress()[e],o=n?T.relativeTarget[e]:T.target[e],i=o.min,a=o.max-i;return r.clearListeners(),r.set(i),r.set(i),r.onChange(function(t){J.setProjectionTargetAxis(e,t,t+a,n)}),J.animateMotionValue(e,r,0,t)},stopLayoutAnimation:function(){mo(function(e){return J.getProjectionAnimationProgress()[e].stop()})},measureViewportBox:function(e){void 0===e&&(e=!0);var n=s(w,t);return e||Go(n,k),n},getProjectionAnimationProgress:function(){return S||(S={x:Lr(0),y:Lr(0)}),S},setProjectionTargetAxis:function(e,t,n,r){var o;void 0===r&&(r=!1),r?(T.relativeTarget||(T.relativeTarget=Object(vo.a)()),o=T.relativeTarget[e]):(T.relativeTarget=void 0,o=T.target[e]),T.isHydrated=!0,o.min=t,o.max=n,D=!0,P.notifySetAxisTarget()},rebaseProjectionTarget:function(e,t){void 0===t&&(t=M.layout);var n=J.getProjectionAnimationProgress(),r=n.x,o=n.y,i=!T.relativeTarget&&!T.isTargetLocked&&!r.isAnimating()&&!o.isAnimating();(e||i)&&mo(function(e){var n=t[e],r=n.min,o=n.max;J.setProjectionTargetAxis(e,r,o)})},notifyLayoutReady:function(e){!function(e){var t=e.getProjectionParent();if(t){var n=Ao(t.getLayoutState().layout,e.getLayoutState().layout);mo(function(t){e.setProjectionTargetAxis(t,n[t].min,n[t].max,!0)})}else e.rebaseProjectionTarget()}(J),J.notifyLayoutUpdate(M.layout,J.prevViewportBox||M.layout,e)},resetTransform:function(){return l(J,w,m)},restoreTransform:function(){return f(w,R)},updateLayoutProjection:function(){if(J.isProjectionReady()){var e=M.delta,t=M.treeScale,n=t.x,r=t.y,o=M.deltaTransform;Oi(M,A,J.path,k),D&&J.notifyViewportBoxUpdate(A.target,e),D=!1;var i=yi(e,t);i===o&&n===t.x&&r===t.y||J.scheduleRender(),M.deltaTransform=i}},updateTreeLayoutProjection:function(){J.layoutTree.forEach(ki),zn.b.preRender(H,!1,!0)},getProjectionParent:function(){if(void 0===x){for(var e=!1,t=J.path.length-1;t>=0;t--){var n=J.path[t];if(n.projection.isEnabled){e=n;break}}x=e}return x},resolveRelativeTargetBox:function(){var e=J.getProjectionParent();if(T.relativeTarget&&e&&(function(e,t){To(e.target.x,e.relativeTarget.x,t.target.x),To(e.target.y,e.relativeTarget.y,t.target.y)}(T,e.projection),No(e))){var t=T.target;zo(t,t,e.getLatestValues())}},shouldResetTransform:function(){return Boolean(m._layoutResetTransform)},pointTo:function(e){A=e.projection,N=e.getLatestValues(),null===O||void 0===O||O(),O=Ct(e.onSetAxisTarget(J.scheduleUpdateLayoutProjection),e.onLayoutAnimationComplete(function(){var e;J.isPresent?J.presence=Zo.a.Present:null===(e=J.layoutSafeToRemove)||void 0===e||e.call(J)}))},isPresent:!0,presence:Zo.a.Entering});return J}};function ki(e){e.resolveRelativeTargetBox()}function Ri(e){e.updateLayoutProjection()}var ji,Pi=Object(r.e)(["initial"],Object(r.c)(Yr)),Ti=Pi.length,_i=new Set(["width","height","top","left","right","bottom","x","y"]),Ii=function(e){return _i.has(e)},Ai=function(e){return Object.keys(e).some(Ii)},Ni=function(e,t){e.set(t,!1),e.set(t)},Mi=function(e){return e===de||e===ue};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(ji||(ji={}));var Di=function(e,t){return parseFloat(e.split(", ")[t])},Li=function(e,t){return function(n,r){var o=r.transform;if("none"===o||!o)return 0;var i=o.match(/^matrix3d\((.+)\)$/);if(i)return Di(i[1],t);var a=o.match(/^matrix\((.+)\)$/);return a?Di(a[1],e):0}},Fi=new Set(["x","y","z"]),Bi=U.filter(function(e){return!Fi.has(e)});var Vi={width:function(e){var t=e.x;return t.max-t.min},height:function(e){var t=e.y;return t.max-t.min},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:Li(4,13),y:Li(5,14)},Ui=function(e,t,n,o){void 0===n&&(n={}),void 0===o&&(o={}),t=Object(r.a)({},t),o=Object(r.a)({},o);var i=Object.keys(t).filter(Ii),a=[],s=!1,u=[];if(i.forEach(function(r){var i=e.getValue(r);if(e.hasValue(r)){var l,f=n[r],d=t[r],p=Vr(f);if(We(d))for(var h=d.length,v=null===d[0]?1:0;v<h;v++)l?c(Vr(d[v])===l,"All keyframes must be of the same type"):(l=Vr(d[v]),c(l===p||Mi(p)&&Mi(l),"Keyframes must be of the same dimension as the current value"));else l=Vr(d);if(p!==l)if(Mi(p)&&Mi(l)){var m=i.get();"string"===typeof m&&i.set(parseFloat(m)),"string"===typeof d?t[r]=parseFloat(d):Array.isArray(d)&&l===ue&&(t[r]=d.map(parseFloat))}else(null===p||void 0===p?void 0:p.transform)&&(null===l||void 0===l?void 0:l.transform)&&(0===f||0===d)?0===f?i.set(l.transform(f)):t[r]=p.transform(d):(s||(a=function(e){var t=[];return Bi.forEach(function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.syncRender(),t}(e),s=!0),u.push(r),o[r]=void 0!==o[r]?o[r]:t[r],Ni(i,d))}}),u.length){var l=function(e,t,n){var r=t.measureViewportBox(),o=t.getInstance(),i=getComputedStyle(o),a=i.display,s={top:i.top,left:i.left,bottom:i.bottom,right:i.right,transform:i.transform};"none"===a&&t.setStaticValue("display",e.display||"block"),t.syncRender();var u=t.measureViewportBox();return n.forEach(function(n){var o=t.getValue(n);Ni(o,Vi[n](r,s)),e[n]=Vi[n](u,i)}),e}(t,e,u);return a.length&&a.forEach(function(t){var n=Object(r.c)(t,2),o=n[0],i=n[1];e.getValue(o).set(i)}),e.syncRender(),{target:l,transitionEnd:o}}return{target:t,transitionEnd:o}};var Wi=function(e,t,n,o){var i=function(e,t,n){var o,i=Object(r.d)(t,[]),a=e.getInstance();if(!(a instanceof HTMLElement))return{target:i,transitionEnd:n};for(var s in n&&(n=Object(r.a)({},n)),e.forEachValue(function(e){var t=e.get();if(ei(t)){var n=ri(t,a);n&&e.set(n)}}),i){var u=i[s];if(ei(u)){var c=ri(u,a);c&&(i[s]=c,n&&(null!==(o=n[s])&&void 0!==o||(n[s]=u)))}}return{target:i,transitionEnd:n}}(e,t,o);return function(e,t,n,r){return Ai(t)?Ui(e,t,n,r):{target:t,transitionEnd:r}}(e,t=i.target,n,o=i.transitionEnd)};var zi={treeType:"dom",readValueFromInstance:function(e,t){if(H(t)){var n=Or(t);return n&&n.default||0}var r,o=(r=e,window.getComputedStyle(r));return(Y(t)?o.getPropertyValue(t):o[t])||0},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]},measureViewportBox:function(e,t){return Eo(e,t.transformPagePoint)},resetTransform:function(e,t,n){var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n,o){var i=n.transformValues;void 0===o&&(o=!0);var a=t.transition,s=t.transitionEnd,u=Object(r.d)(t,["transition","transitionEnd"]),c=function(e,t,n){var r,o,i={};for(var a in e)i[a]=null!==(r=qr(a,t))&&void 0!==r?r:null===(o=n.getValue(a))||void 0===o?void 0:o.get();return i}(u,a||{},e);if(i&&(s&&(s=i(s)),u&&(u=i(u)),c&&(c=i(c))),o){!function(e,t,n){var r,o,i,a,s=Object.keys(t).filter(function(t){return!e.hasValue(t)}),u=s.length;if(u)for(var c=0;c<u;c++){var l=s[c],f=t[l],d=null;Array.isArray(f)&&(d=f[0]),null===d&&(d=null!==(o=null!==(r=n[l])&&void 0!==r?r:e.readValue(l))&&void 0!==o?o:t[l]),void 0!==d&&null!==d&&("string"===typeof d&&_r(d)?d=parseFloat(d):!Wr(d)&&pn.test(f)&&(d=Er(l,f)),e.addValue(l,Lr(d)),null!==(i=(a=n)[l])&&void 0!==i||(a[l]=d),e.setBaseTarget(l,d))}}(e,u,c);var l=Wi(e,u,c,s);s=l.transitionEnd,u=l.target}return Object(r.a)({transition:a,transitionEnd:s},u)},scrapeMotionValuesFromProps:Be,build:function(e,t,n,r,o,i,a){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden");var s=r.isEnabled&&o.isHydrated;ge(t,n,r,o,i,a.transformTemplate,s?yi:void 0,s?bi:void 0)},render:De},Hi=Ci(zi),qi=Ci(Object(r.a)(Object(r.a)({},zi),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return H(t)?(null===(n=Or(t))||void 0===n?void 0:n.default)||0:(t=Le.has(t)?t:Me(t),e.getAttribute(t))},scrapeMotionValuesFromProps:Ve,build:function(e,t,n,r,o,i,a){var s=r.isEnabled&&o.isHydrated;Te(t,n,r,o,i,a.transformTemplate,s?yi:void 0,s?bi:void 0)},render:Fe})),Gi=function(e,t){return F(e)?qi(t,{enableHardwareAcceleration:!1}):Hi(t,{enableHardwareAcceleration:!0})};n.d(t,"a",function(){return $i});var Ki=Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},no),Rt),Qo),vi),$i=D(function(e,t){return Qe(e,t,Ki,Gi)})},function(e,t,n){"use strict";var r=n(5),o=n(6),i=n(8),a=n(1),s=n(0),u=n(11),c=n(472),l=n(242),f=n(474),d=n(9),p=n(51),h=n(14),v=n(12),m=n(477),g=n(268),y=n(135),b=n(178);function w(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function x(e){return e instanceof w(e).Element||e instanceof Element}function O(e){return e instanceof w(e).HTMLElement||e instanceof HTMLElement}function E(e){return"undefined"!==typeof ShadowRoot&&(e instanceof w(e).ShadowRoot||e instanceof ShadowRoot)}var S=Math.max,C=Math.min,k=Math.round;function R(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function j(){return!/^((?!chrome|android).)*safari/i.test(R())}function P(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&O(e)&&(o=e.offsetWidth>0&&k(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&k(r.height)/e.offsetHeight||1);var a=(x(e)?w(e):window).visualViewport,s=!j()&&n,u=(r.left+(s&&a?a.offsetLeft:0))/o,c=(r.top+(s&&a?a.offsetTop:0))/i,l=r.width/o,f=r.height/i;return{width:l,height:f,top:c,right:u+l,bottom:c+f,left:u,x:u,y:c}}function T(e){var t=w(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function _(e){return e?(e.nodeName||"").toLowerCase():null}function I(e){return((x(e)?e.ownerDocument:e.document)||window.document).documentElement}function A(e){return P(I(e)).left+T(e).scrollLeft}function N(e){return w(e).getComputedStyle(e)}function M(e){var t=N(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function D(e,t,n){void 0===n&&(n=!1);var r=O(t),o=O(t)&&function(e){var t=e.getBoundingClientRect(),n=k(t.width)/e.offsetWidth||1,r=k(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),i=I(t),a=P(e,o,n),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==_(t)||M(i))&&(s=function(e){return e!==w(e)&&O(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:T(e);var t}(t)),O(t)?((u=P(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):i&&(u.x=A(i))),{x:a.left+s.scrollLeft-u.x,y:a.top+s.scrollTop-u.y,width:a.width,height:a.height}}function L(e){var t=P(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function F(e){return"html"===_(e)?e:e.assignedSlot||e.parentNode||(E(e)?e.host:null)||I(e)}function B(e,t){var n;void 0===t&&(t=[]);var r=function e(t){return["html","body","#document"].indexOf(_(t))>=0?t.ownerDocument.body:O(t)&&M(t)?t:e(F(t))}(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=w(r),a=o?[i].concat(i.visualViewport||[],M(r)?r:[]):r,s=t.concat(a);return o?s:s.concat(B(F(a)))}function V(e){return["table","td","th"].indexOf(_(e))>=0}function U(e){return O(e)&&"fixed"!==N(e).position?e.offsetParent:null}function W(e){for(var t=w(e),n=U(e);n&&V(n)&&"static"===N(n).position;)n=U(n);return n&&("html"===_(n)||"body"===_(n)&&"static"===N(n).position)?t:n||function(e){var t=/firefox/i.test(R());if(/Trident/i.test(R())&&O(e)&&"fixed"===N(e).position)return null;var n=F(e);for(E(n)&&(n=n.host);O(n)&&["html","body"].indexOf(_(n))<0;){var r=N(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var z="top",H="bottom",q="right",G="left",K="auto",$=[z,H,q,G],X="start",Y="end",J="clippingParents",Q="viewport",Z="popper",ee="reference",te=$.reduce(function(e,t){return e.concat([t+"-"+X,t+"-"+Y])},[]),ne=[].concat($,[K]).reduce(function(e,t){return e.concat([t,t+"-"+X,t+"-"+Y])},[]),re=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function oe(e){var t=new Map,n=new Set,r=[];return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||function e(o){n.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach(function(r){if(!n.has(r)){var o=t.get(r);o&&e(o)}}),r.push(o)}(e)}),r}function ie(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}var ae={placement:"bottom",modifiers:[],strategy:"absolute"};function se(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"===typeof e.getBoundingClientRect)})}function ue(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?ae:o;return function(e,t,n){void 0===n&&(n=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},ae,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,u={state:o,setOptions:function(n){var s="function"===typeof n?n(o.options):n;c(),o.options=Object.assign({},i,o.options,s),o.scrollParents={reference:x(e)?B(e):e.contextElement?B(e.contextElement):[],popper:B(t)};var l=function(e){var t=oe(e);return re.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}(function(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(r,o.options.modifiers)));return o.orderedModifiers=l.filter(function(e){return e.enabled}),o.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var s=i({state:o,name:t,instance:u,options:r});a.push(s||function(){})}}),u.update()},forceUpdate:function(){if(!s){var e=o.elements,t=e.reference,n=e.popper;if(se(t,n)){o.rects={reference:D(t,W(n),"fixed"===o.options.strategy),popper:L(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach(function(e){return o.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var i=o.orderedModifiers[r],a=i.fn,c=i.options,l=void 0===c?{}:c,f=i.name;"function"===typeof a&&(o=a({state:o,options:l,name:f,instance:u})||o)}else o.reset=!1,r=-1}}},update:ie(function(){return new Promise(function(e){u.forceUpdate(),e(o)})}),destroy:function(){c(),s=!0}};if(!se(e,t))return u;function c(){a.forEach(function(e){return e()}),a=[]}return u.setOptions(n).then(function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)}),u}}var ce={passive:!0};function le(e){return e.split("-")[0]}function fe(e){return e.split("-")[1]}function de(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function pe(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?le(o):null,a=o?fe(o):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(i){case z:t={x:s,y:n.y-r.height};break;case H:t={x:s,y:n.y+n.height};break;case q:t={x:n.x+n.width,y:u};break;case G:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=i?de(i):null;if(null!=c){var l="y"===c?"height":"width";switch(a){case X:t[c]=t[c]-(n[l]/2-r[l]/2);break;case Y:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}var he={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ve(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,s=e.position,u=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,d=a.x,p=void 0===d?0:d,h=a.y,v=void 0===h?0:h,m="function"===typeof l?l({x:p,y:v}):{x:p,y:v};p=m.x,v=m.y;var g=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),b=G,x=z,O=window;if(c){var E=W(n),S="clientHeight",C="clientWidth";if(E===w(n)&&"static"!==N(E=I(n)).position&&"absolute"===s&&(S="scrollHeight",C="scrollWidth"),E=E,o===z||(o===G||o===q)&&i===Y)x=H,v-=(f&&E===O&&O.visualViewport?O.visualViewport.height:E[S])-r.height,v*=u?1:-1;if(o===G||(o===z||o===H)&&i===Y)b=q,p-=(f&&E===O&&O.visualViewport?O.visualViewport.width:E[C])-r.width,p*=u?1:-1}var R,j=Object.assign({position:s},c&&he),P=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:k(t*r)/r||0,y:k(n*r)/r||0}}({x:p,y:v}):{x:p,y:v};return p=P.x,v=P.y,u?Object.assign({},j,((R={})[x]=y?"0":"",R[b]=g?"0":"",R.transform=(O.devicePixelRatio||1)<=1?"translate("+p+"px, "+v+"px)":"translate3d("+p+"px, "+v+"px, 0)",R)):Object.assign({},j,((t={})[x]=y?v+"px":"",t[b]=g?p+"px":"",t.transform="",t))}var me={left:"right",right:"left",bottom:"top",top:"bottom"};function ge(e){return e.replace(/left|right|bottom|top/g,function(e){return me[e]})}var ye={start:"end",end:"start"};function be(e){return e.replace(/start|end/g,function(e){return ye[e]})}function we(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&E(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function xe(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Oe(e,t,n){return t===Q?xe(function(e,t){var n=w(e),r=I(e),o=n.visualViewport,i=r.clientWidth,a=r.clientHeight,s=0,u=0;if(o){i=o.width,a=o.height;var c=j();(c||!c&&"fixed"===t)&&(s=o.offsetLeft,u=o.offsetTop)}return{width:i,height:a,x:s+A(e),y:u}}(e,n)):x(t)?function(e,t){var n=P(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):xe(function(e){var t,n=I(e),r=T(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=S(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=S(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+A(e),u=-r.scrollTop;return"rtl"===N(o||n).direction&&(s+=S(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:u}}(I(e)))}function Ee(e,t,n,r){var o="clippingParents"===t?function(e){var t=B(F(e)),n=["absolute","fixed"].indexOf(N(e).position)>=0&&O(e)?W(e):e;return x(n)?t.filter(function(e){return x(e)&&we(e,n)&&"body"!==_(e)}):[]}(e):[].concat(t),i=[].concat(o,[n]),a=i[0],s=i.reduce(function(t,n){var o=Oe(e,n,r);return t.top=S(o.top,t.top),t.right=C(o.right,t.right),t.bottom=C(o.bottom,t.bottom),t.left=S(o.left,t.left),t},Oe(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Se(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Ce(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function ke(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.strategy,a=void 0===i?e.strategy:i,s=n.boundary,u=void 0===s?J:s,c=n.rootBoundary,l=void 0===c?Q:c,f=n.elementContext,d=void 0===f?Z:f,p=n.altBoundary,h=void 0!==p&&p,v=n.padding,m=void 0===v?0:v,g=Se("number"!==typeof m?m:Ce(m,$)),y=d===Z?ee:Z,b=e.rects.popper,w=e.elements[h?y:d],O=Ee(x(w)?w:w.contextElement||I(e.elements.popper),u,l,a),E=P(e.elements.reference),S=pe({reference:E,element:b,strategy:"absolute",placement:o}),C=xe(Object.assign({},b,S)),k=d===Z?C:E,R={top:O.top-k.top+g.top,bottom:k.bottom-O.bottom+g.bottom,left:O.left-k.left+g.left,right:k.right-O.right+g.right},j=e.modifiersData.offset;if(d===Z&&j){var T=j[o];Object.keys(R).forEach(function(e){var t=[q,H].indexOf(e)>=0?1:-1,n=[z,H].indexOf(e)>=0?"y":"x";R[e]+=T[n]*t})}return R}function Re(e,t,n){return S(e,C(t,n))}var je=function(e,t){return Se("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Ce(e,$))};function Pe(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Te(e){return[z,q,H,G].some(function(t){return e[t]>=0})}var _e=ue({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,a=r.resize,s=void 0===a||a,u=w(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach(function(e){e.addEventListener("scroll",n.update,ce)}),s&&u.addEventListener("resize",n.update,ce),function(){i&&c.forEach(function(e){e.removeEventListener("scroll",n.update,ce)}),s&&u.removeEventListener("resize",n.update,ce)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=pe({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,u=void 0===s||s,c={placement:le(t.placement),variation:fe(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ve(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ve(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];O(o)&&_(o)&&(Object.assign(o.style,n),Object.keys(r).forEach(function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});O(r)&&_(r)&&(Object.assign(r.style,i),Object.keys(o).forEach(function(e){r.removeAttribute(e)}))})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,a=ne.reduce(function(e,n){return e[n]=function(e,t,n){var r=le(e),o=[G,z].indexOf(r)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[G,q].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,i),e},{}),s=a[t.placement],u=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,u=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,h=void 0===p||p,v=n.allowedAutoPlacements,m=t.options.placement,g=le(m),y=u||(g!==m&&h?function(e){if(le(e)===K)return[];var t=ge(e);return[be(e),t,be(t)]}(m):[ge(m)]),b=[m].concat(y).reduce(function(e,n){return e.concat(le(n)===K?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?ne:u,l=fe(r),f=l?s?te:te.filter(function(e){return fe(e)===l}):$,d=f.filter(function(e){return c.indexOf(e)>=0});0===d.length&&(d=f);var p=d.reduce(function(t,n){return t[n]=ke(e,{placement:n,boundary:o,rootBoundary:i,padding:a})[le(n)],t},{});return Object.keys(p).sort(function(e,t){return p[e]-p[t]})}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:h,allowedAutoPlacements:v}):n)},[]),w=t.rects.reference,x=t.rects.popper,O=new Map,E=!0,S=b[0],C=0;C<b.length;C++){var k=b[C],R=le(k),j=fe(k)===X,P=[z,H].indexOf(R)>=0,T=P?"width":"height",_=ke(t,{placement:k,boundary:l,rootBoundary:f,altBoundary:d,padding:c}),I=P?j?q:G:j?H:z;w[T]>x[T]&&(I=ge(I));var A=ge(I),N=[];if(i&&N.push(_[R]<=0),s&&N.push(_[I]<=0,_[A]<=0),N.every(function(e){return e})){S=k,E=!1;break}O.set(k,N)}if(E)for(var M=function(e){var t=b.find(function(t){var n=O.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return S=t,"break"},D=h?3:1;D>0&&"break"!==M(D);D--);t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0!==a&&a,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,d=n.tether,p=void 0===d||d,h=n.tetherOffset,v=void 0===h?0:h,m=ke(t,{boundary:u,rootBoundary:c,padding:f,altBoundary:l}),g=le(t.placement),y=fe(t.placement),b=!y,w=de(g),x="x"===w?"y":"x",O=t.modifiersData.popperOffsets,E=t.rects.reference,k=t.rects.popper,R="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,j="number"===typeof R?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),P=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(O){if(i){var _,I="y"===w?z:G,A="y"===w?H:q,N="y"===w?"height":"width",M=O[w],D=M+m[I],F=M-m[A],B=p?-k[N]/2:0,V=y===X?E[N]:k[N],U=y===X?-k[N]:-E[N],K=t.elements.arrow,$=p&&K?L(K):{width:0,height:0},Y=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},J=Y[I],Q=Y[A],Z=Re(0,E[N],$[N]),ee=b?E[N]/2-B-Z-J-j.mainAxis:V-Z-J-j.mainAxis,te=b?-E[N]/2+B+Z+Q+j.mainAxis:U+Z+Q+j.mainAxis,ne=t.elements.arrow&&W(t.elements.arrow),re=ne?"y"===w?ne.clientTop||0:ne.clientLeft||0:0,oe=null!=(_=null==P?void 0:P[w])?_:0,ie=M+te-oe,ae=Re(p?C(D,M+ee-oe-re):D,M,p?S(F,ie):F);O[w]=ae,T[w]=ae-M}if(s){var se,ue="x"===w?z:G,ce="x"===w?H:q,pe=O[x],he="y"===x?"height":"width",ve=pe+m[ue],me=pe-m[ce],ge=-1!==[z,G].indexOf(g),ye=null!=(se=null==P?void 0:P[x])?se:0,be=ge?ve:pe-E[he]-k[he]-ye+j.altAxis,we=ge?pe+E[he]+k[he]-ye-j.altAxis:me,xe=p&&ge?function(e,t,n){var r=Re(e,t,n);return r>n?n:r}(be,pe,we):Re(p?be:ve,pe,p?we:me);O[x]=xe,T[x]=xe-pe}t.modifiersData[r]=T}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=le(n.placement),u=de(s),c=[G,q].indexOf(s)>=0?"height":"width";if(i&&a){var l=je(o.padding,n),f=L(i),d="y"===u?z:G,p="y"===u?H:q,h=n.rects.reference[c]+n.rects.reference[u]-a[u]-n.rects.popper[c],v=a[u]-n.rects.reference[u],m=W(i),g=m?"y"===u?m.clientHeight||0:m.clientWidth||0:0,y=h/2-v/2,b=l[d],w=g-f[c]-l[p],x=g/2-f[c]/2+y,O=Re(b,x,w),E=u;n.modifiersData[r]=((t={})[E]=O,t.centerOffset=O-x,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&we(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=ke(t,{elementContext:"reference"}),s=ke(t,{altBoundary:!0}),u=Pe(a,r),c=Pe(s,o,i),l=Te(u),f=Te(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}}]}),Ie=n(475),Ae=n(267),Ne=n(426);function Me(e){return Object(Ae.a)("MuiPopperUnstyled",e)}Object(Ne.a)("MuiPopperUnstyled",["root"]);var De=n(488),Le=n(4),Fe=["anchorEl","children","component","components","componentsProps","direction","disablePortal","modifiers","open","ownerState","placement","popperOptions","popperRef","TransitionProps"],Be=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"];function Ve(e){return"function"===typeof e?e():e}var Ue={},We=s.forwardRef(function(e,t){var n,o=e.anchorEl,u=e.children,l=e.component,f=e.components,d=void 0===f?{}:f,p=e.componentsProps,h=void 0===p?{}:p,v=e.direction,m=e.disablePortal,b=e.modifiers,w=e.open,x=e.ownerState,O=e.placement,E=e.popperOptions,S=e.popperRef,C=e.TransitionProps,k=Object(i.a)(e,Fe),R=s.useRef(null),j=Object(g.a)(R,t),P=s.useRef(null),T=Object(g.a)(P,S),_=s.useRef(T);Object(y.a)(function(){_.current=T},[T]),s.useImperativeHandle(S,function(){return P.current},[]);var I=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(O,v),A=s.useState(I),N=Object(r.a)(A,2),M=N[0],D=N[1];s.useEffect(function(){P.current&&P.current.forceUpdate()}),Object(y.a)(function(){if(o&&w){Ve(o);var e=[{name:"preventOverflow",options:{altBoundary:m}},{name:"flip",options:{altBoundary:m}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:function(e){var t=e.state;D(t.placement)}}];null!=b&&(e=e.concat(b)),E&&null!=E.modifiers&&(e=e.concat(E.modifiers));var t=_e(Ve(o),R.current,Object(a.a)({placement:I},E,{modifiers:e}));return _.current(t),function(){t.destroy(),_.current(null)}}},[o,m,b,w,E,I]);var L={placement:M};null!==C&&(L.TransitionProps=C);var F=Object(c.a)({root:["root"]},Me,{}),B=null!=(n=null!=l?l:d.Root)?n:"div",V=Object(De.a)({elementType:B,externalSlotProps:h.root,externalForwardedProps:k,additionalProps:{role:"tooltip",ref:j},ownerState:Object(a.a)({},e,x),className:F.root});return Object(Le.jsx)(B,Object(a.a)({},V,{children:"function"===typeof u?u(L):u}))}),ze=s.forwardRef(function(e,t){var n=e.anchorEl,o=e.children,u=e.container,c=e.direction,l=void 0===c?"ltr":c,f=e.disablePortal,d=void 0!==f&&f,p=e.keepMounted,h=void 0!==p&&p,v=e.modifiers,m=e.open,g=e.placement,y=void 0===g?"bottom":g,w=e.popperOptions,x=void 0===w?Ue:w,O=e.popperRef,E=e.style,S=e.transition,C=void 0!==S&&S,k=Object(i.a)(e,Be),R=s.useState(!0),j=Object(r.a)(R,2),P=j[0],T=j[1];if(!h&&!m&&(!C||P))return null;var _=u||(n?Object(b.a)(Ve(n)).body:void 0);return Object(Le.jsx)(Ie.a,{disablePortal:d,container:_,children:Object(Le.jsx)(We,Object(a.a)({anchorEl:n,direction:l,disablePortal:d,modifiers:v,ref:t,open:C?!P:m,placement:y,popperOptions:x,popperRef:O},k,{style:Object(a.a)({position:"fixed",top:0,left:0,display:m||!h||C&&!P?null:"none"},E),TransitionProps:C?{in:m,onEnter:function(){T(!1)},onExited:function(){T(!0)}}:null,children:o}))})}),He=n(265),qe=Object(d.a)(ze,{name:"MuiPopper",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Ge=s.forwardRef(function(e,t){var n=Object(He.a)(),r=Object(h.a)({props:e,name:"MuiPopper"});return Object(Le.jsx)(qe,Object(a.a)({direction:null==n?void 0:n.direction},r,{ref:t}))}),Ke=n(87),$e=n(24),Xe=n(109),Ye=n(96),Je=n(61);function Qe(e){return Object(Ae.a)("MuiTooltip",e)}var Ze=Object(Ne.a)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),et=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"];var tt=Object(d.a)(Ge,{name:"MuiTooltip",slot:"Popper",overridesResolver:function(e,t){var n=e.ownerState;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(function(e){var t,n=e.theme,r=e.ownerState,i=e.open;return Object(a.a)({zIndex:(n.vars||n).zIndex.tooltip,pointerEvents:"none"},!r.disableInteractive&&{pointerEvents:"auto"},!i&&{pointerEvents:"none"},r.arrow&&(t={},Object(o.a)(t,'&[data-popper-placement*="bottom"] .'.concat(Ze.arrow),{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}}),Object(o.a)(t,'&[data-popper-placement*="top"] .'.concat(Ze.arrow),{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}}),Object(o.a)(t,'&[data-popper-placement*="right"] .'.concat(Ze.arrow),Object(a.a)({},r.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}})),Object(o.a)(t,'&[data-popper-placement*="left"] .'.concat(Ze.arrow),Object(a.a)({},r.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})),t))}),nt=Object(d.a)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:function(e,t){var n=e.ownerState;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t["tooltipPlacement".concat(Object(v.a)(n.placement.split("-")[0]))]]}})(function(e){var t,n,r=e.theme,i=e.ownerState;return Object(a.a)({backgroundColor:r.vars?r.vars.palette.Tooltip.bg:Object(f.a)(r.palette.grey[700],.92),borderRadius:(r.vars||r).shape.borderRadius,color:(r.vars||r).palette.common.white,fontFamily:r.typography.fontFamily,padding:"4px 8px",fontSize:r.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:r.typography.fontWeightMedium},i.arrow&&{position:"relative",margin:0},i.touch&&{padding:"8px 16px",fontSize:r.typography.pxToRem(14),lineHeight:"".concat((n=16/14,Math.round(1e5*n)/1e5),"em"),fontWeight:r.typography.fontWeightRegular},(t={},Object(o.a)(t,".".concat(Ze.popper,'[data-popper-placement*="left"] &'),Object(a.a)({transformOrigin:"right center"},i.isRtl?Object(a.a)({marginLeft:"14px"},i.touch&&{marginLeft:"24px"}):Object(a.a)({marginRight:"14px"},i.touch&&{marginRight:"24px"}))),Object(o.a)(t,".".concat(Ze.popper,'[data-popper-placement*="right"] &'),Object(a.a)({transformOrigin:"left center"},i.isRtl?Object(a.a)({marginRight:"14px"},i.touch&&{marginRight:"24px"}):Object(a.a)({marginLeft:"14px"},i.touch&&{marginLeft:"24px"}))),Object(o.a)(t,".".concat(Ze.popper,'[data-popper-placement*="top"] &'),Object(a.a)({transformOrigin:"center bottom",marginBottom:"14px"},i.touch&&{marginBottom:"24px"})),Object(o.a)(t,".".concat(Ze.popper,'[data-popper-placement*="bottom"] &'),Object(a.a)({transformOrigin:"center top",marginTop:"14px"},i.touch&&{marginTop:"24px"})),t))}),rt=Object(d.a)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:function(e,t){return t.arrow}})(function(e){var t=e.theme;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:Object(f.a)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}}),ot=!1,it=null;function at(e,t){return function(n){t&&t(n),e(n)}}var st=s.forwardRef(function(e,t){var n,o,f,d,g,y,b=Object(h.a)({props:e,name:"MuiTooltip"}),w=b.arrow,x=void 0!==w&&w,O=b.children,E=b.components,S=void 0===E?{}:E,C=b.componentsProps,k=void 0===C?{}:C,R=b.describeChild,j=void 0!==R&&R,P=b.disableFocusListener,T=void 0!==P&&P,_=b.disableHoverListener,I=void 0!==_&&_,A=b.disableInteractive,N=void 0!==A&&A,M=b.disableTouchListener,D=void 0!==M&&M,L=b.enterDelay,F=void 0===L?100:L,B=b.enterNextDelay,V=void 0===B?0:B,U=b.enterTouchDelay,W=void 0===U?700:U,z=b.followCursor,H=void 0!==z&&z,q=b.id,G=b.leaveDelay,K=void 0===G?0:G,$=b.leaveTouchDelay,X=void 0===$?1500:$,Y=b.onClose,J=b.onOpen,Q=b.open,Z=b.placement,ee=void 0===Z?"bottom":Z,te=b.PopperComponent,ne=b.PopperProps,re=void 0===ne?{}:ne,oe=b.title,ie=b.TransitionComponent,ae=void 0===ie?m.a:ie,se=b.TransitionProps,ue=Object(i.a)(b,et),ce=Object(p.a)(),le="rtl"===ce.direction,fe=s.useState(),de=Object(r.a)(fe,2),pe=de[0],he=de[1],ve=s.useState(null),me=Object(r.a)(ve,2),ge=me[0],ye=me[1],be=s.useRef(!1),we=N||H,xe=s.useRef(),Oe=s.useRef(),Ee=s.useRef(),Se=s.useRef(),Ce=Object(Je.a)({controlled:Q,default:!1,name:"Tooltip",state:"open"}),ke=Object(r.a)(Ce,2),Re=ke[0],je=ke[1],Pe=Re,Te=Object(Xe.a)(q),_e=s.useRef(),Ie=s.useCallback(function(){void 0!==_e.current&&(document.body.style.WebkitUserSelect=_e.current,_e.current=void 0),clearTimeout(Se.current)},[]);s.useEffect(function(){return function(){clearTimeout(xe.current),clearTimeout(Oe.current),clearTimeout(Ee.current),Ie()}},[Ie]);var Ae=function(e){clearTimeout(it),ot=!0,je(!0),J&&!Pe&&J(e)},Ne=Object(Ke.a)(function(e){clearTimeout(it),it=setTimeout(function(){ot=!1},800+K),je(!1),Y&&Pe&&Y(e),clearTimeout(xe.current),xe.current=setTimeout(function(){be.current=!1},ce.transitions.duration.shortest)}),Me=function(e){be.current&&"touchstart"!==e.type||(pe&&pe.removeAttribute("title"),clearTimeout(Oe.current),clearTimeout(Ee.current),F||ot&&V?Oe.current=setTimeout(function(){Ae(e)},ot?V:F):Ae(e))},De=function(e){clearTimeout(Oe.current),clearTimeout(Ee.current),Ee.current=setTimeout(function(){Ne(e)},K)},Fe=Object(Ye.a)(),Be=Fe.isFocusVisibleRef,Ve=Fe.onBlur,Ue=Fe.onFocus,We=Fe.ref,ze=s.useState(!1),He=Object(r.a)(ze,2)[1],qe=function(e){Ve(e),!1===Be.current&&(He(!1),De(e))},Ze=function(e){pe||he(e.currentTarget),Ue(e),!0===Be.current&&(He(!0),Me(e))},st=function(e){be.current=!0;var t=O.props;t.onTouchStart&&t.onTouchStart(e)},ut=Me,ct=De;s.useEffect(function(){if(Pe)return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||Ne(e)}},[Ne,Pe]);var lt=Object($e.a)(he,t),ft=Object($e.a)(We,lt),dt=Object($e.a)(O.ref,ft);""===oe&&(Pe=!1);var pt=s.useRef({x:0,y:0}),ht=s.useRef(),vt={},mt="string"===typeof oe;j?(vt.title=Pe||!mt||I?null:oe,vt["aria-describedby"]=Pe?Te:null):(vt["aria-label"]=mt?oe:null,vt["aria-labelledby"]=Pe&&!mt?Te:null);var gt=Object(a.a)({},vt,ue,O.props,{className:Object(u.a)(ue.className,O.props.className),onTouchStart:st,ref:dt},H?{onMouseMove:function(e){var t=O.props;t.onMouseMove&&t.onMouseMove(e),pt.current={x:e.clientX,y:e.clientY},ht.current&&ht.current.update()}}:{});var yt={};D||(gt.onTouchStart=function(e){st(e),clearTimeout(Ee.current),clearTimeout(xe.current),Ie(),_e.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Se.current=setTimeout(function(){document.body.style.WebkitUserSelect=_e.current,Me(e)},W)},gt.onTouchEnd=function(e){O.props.onTouchEnd&&O.props.onTouchEnd(e),Ie(),clearTimeout(Ee.current),Ee.current=setTimeout(function(){Ne(e)},X)}),I||(gt.onMouseOver=at(ut,gt.onMouseOver),gt.onMouseLeave=at(ct,gt.onMouseLeave),we||(yt.onMouseOver=ut,yt.onMouseLeave=ct)),T||(gt.onFocus=at(Ze,gt.onFocus),gt.onBlur=at(qe,gt.onBlur),we||(yt.onFocus=Ze,yt.onBlur=qe));var bt=s.useMemo(function(){var e,t=[{name:"arrow",enabled:Boolean(ge),options:{element:ge,padding:4}}];return null!=(e=re.popperOptions)&&e.modifiers&&(t=t.concat(re.popperOptions.modifiers)),Object(a.a)({},re.popperOptions,{modifiers:t})},[ge,re]),wt=Object(a.a)({},b,{isRtl:le,arrow:x,disableInteractive:we,placement:ee,PopperComponentProp:te,touch:be.current}),xt=function(e){var t=e.classes,n=e.disableInteractive,r=e.arrow,o=e.touch,i=e.placement,a={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",o&&"touch","tooltipPlacement".concat(Object(v.a)(i.split("-")[0]))],arrow:["arrow"]};return Object(c.a)(a,Qe,t)}(wt),Ot=null!=(n=S.Popper)?n:tt,Et=null!=(o=null!=(f=S.Transition)?f:ae)?o:m.a,St=null!=(d=S.Tooltip)?d:nt,Ct=null!=(g=S.Arrow)?g:rt,kt=Object(l.a)(Ot,Object(a.a)({},re,k.popper),wt),Rt=Object(l.a)(Et,Object(a.a)({},se,k.transition),wt),jt=Object(l.a)(St,Object(a.a)({},k.tooltip),wt),Pt=Object(l.a)(Ct,Object(a.a)({},k.arrow),wt);return Object(Le.jsxs)(s.Fragment,{children:[s.cloneElement(O,gt),Object(Le.jsx)(Ot,Object(a.a)({as:null!=te?te:Ge,placement:ee,anchorEl:H?{getBoundingClientRect:function(){return{top:pt.current.y,left:pt.current.x,right:pt.current.x,bottom:pt.current.y,width:0,height:0}}}:pe,popperRef:ht,open:!!pe&&Pe,id:Te,transition:!0},yt,kt,{className:Object(u.a)(xt.popper,null==re?void 0:re.className,null==(y=k.popper)?void 0:y.className),popperOptions:bt,children:function(e){var t,n,r=e.TransitionProps;return Object(Le.jsx)(Et,Object(a.a)({timeout:ce.transitions.duration.shorter},r,Rt,{children:Object(Le.jsxs)(St,Object(a.a)({},jt,{className:Object(u.a)(xt.tooltip,null==(t=k.tooltip)?void 0:t.className),children:[oe,x?Object(Le.jsx)(Ct,Object(a.a)({},Pt,{className:Object(u.a)(xt.arrow,null==(n=k.arrow)?void 0:n.className),ref:ye})):null]}))}))}}))]})});t.a=st},function(e,t,n){"use strict";var r=n(1),o=n(8),i=n(0),a=n(11),s=n(187),u=n(5),c=n(6),l=n(153),f=(n(85),n(472)),d=n(79),p=n(12),h=n(9),v=n(14),m=n(131),g=n(267),y=n(426);function b(e){return Object(g.a)("MuiList",e)}Object(y.a)("MuiList",["root","padding","dense","subheader"]);var w=n(4),x=["children","className","component","dense","disablePadding","subheader"],O=Object(h.a)("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(function(e){var t=e.ownerState;return Object(r.a)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})}),E=i.forwardRef(function(e,t){var n=Object(v.a)({props:e,name:"MuiList"}),s=n.children,u=n.className,c=n.component,l=void 0===c?"ul":c,d=n.dense,p=void 0!==d&&d,h=n.disablePadding,g=void 0!==h&&h,y=n.subheader,E=Object(o.a)(n,x),S=i.useMemo(function(){return{dense:p}},[p]),C=Object(r.a)({},n,{component:l,dense:p,disablePadding:g}),k=function(e){var t=e.classes,n={root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]};return Object(f.a)(n,b,t)}(C);return Object(w.jsx)(m.a.Provider,{value:S,children:Object(w.jsxs)(O,Object(r.a)({as:l,className:Object(a.a)(k.root,u),ref:t,ownerState:C},E,{children:[y,s]}))})}),S=n(478).a,C=n(24),k=n(94),R=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function j(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function P(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function T(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function _(e,t,n,r,o,i){for(var a=!1,s=o(e,t,!!t&&n);s;){if(s===e.firstChild){if(a)return!1;a=!0}var u=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&T(s,i)&&!u)return s.focus(),!0;s=o(e,s,n)}return!1}var I=i.forwardRef(function(e,t){var n=e.actions,a=e.autoFocus,s=void 0!==a&&a,u=e.autoFocusItem,c=void 0!==u&&u,l=e.children,f=e.className,p=e.disabledItemsFocusable,h=void 0!==p&&p,v=e.disableListWrap,m=void 0!==v&&v,g=e.onKeyDown,y=e.variant,b=void 0===y?"selectedMenu":y,x=Object(o.a)(e,R),O=i.useRef(null),I=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Object(k.a)(function(){s&&O.current.focus()},[s]),i.useImperativeHandle(n,function(){return{adjustStyleForScrollbar:function(e,t){var n=!O.current.style.width;if(e.clientHeight<O.current.clientHeight&&n){var r="".concat(S(Object(d.a)(e)),"px");O.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,O.current.style.width="calc(100% + ".concat(r,")")}return O.current}}},[]);var A=Object(C.a)(O,t),N=-1;i.Children.forEach(l,function(e,t){i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===b&&e.props.selected?N=t:-1===N&&(N=t)))});var M=i.Children.map(l,function(e,t){if(t===N){var n={};return c&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===b&&(n.tabIndex=0),i.cloneElement(e,n)}return e});return Object(w.jsx)(E,Object(r.a)({role:"menu",ref:A,className:f,onKeyDown:function(e){var t=O.current,n=e.key,r=Object(d.a)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),_(t,r,m,h,j);else if("ArrowUp"===n)e.preventDefault(),_(t,r,m,h,P);else if("Home"===n)e.preventDefault(),_(t,null,m,h,j);else if("End"===n)e.preventDefault(),_(t,null,m,h,P);else if(1===n.length){var o=I.current,i=n.toLowerCase(),a=performance.now();o.keys.length>0&&(a-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&i!==o.keys[0]&&(o.repeating=!1)),o.lastTime=a,o.keys.push(i);var s=r&&!o.repeating&&T(r,o);o.previousKeyMatched&&(s||_(t,r,!1,h,j,o))?e.preventDefault():o.previousKeyMatched=!1}g&&g(e)},tabIndex:s?0:-1},x,{children:M}))}),A=n(505),N=n(144),M=n(126),D=n(477),L=n(485);function F(e){return Object(g.a)("MuiPopover",e)}Object(y.a)("MuiPopover",["root","paper"]);var B=["onEntering"],V=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function U(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function W(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function z(e){return[e.horizontal,e.vertical].map(function(e){return"number"===typeof e?"".concat(e,"px"):e}).join(" ")}function H(e){return"function"===typeof e?e():e}var q=Object(h.a)(L.a,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),G=Object(h.a)(A.a,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),K=i.forwardRef(function(e,t){var n=Object(v.a)({props:e,name:"MuiPopover"}),s=n.action,u=n.anchorEl,c=n.anchorOrigin,l=void 0===c?{vertical:"top",horizontal:"left"}:c,p=n.anchorPosition,h=n.anchorReference,m=void 0===h?"anchorEl":h,g=n.children,y=n.className,b=n.container,x=n.elevation,O=void 0===x?8:x,E=n.marginThreshold,S=void 0===E?16:E,k=n.open,R=n.PaperProps,j=void 0===R?{}:R,P=n.transformOrigin,T=void 0===P?{vertical:"top",horizontal:"left"}:P,_=n.TransitionComponent,I=void 0===_?D.a:_,A=n.transitionDuration,L=void 0===A?"auto":A,K=n.TransitionProps,$=(K=void 0===K?{}:K).onEntering,X=Object(o.a)(n.TransitionProps,B),Y=Object(o.a)(n,V),J=i.useRef(),Q=Object(C.a)(J,j.ref),Z=Object(r.a)({},n,{anchorOrigin:l,anchorReference:m,elevation:O,marginThreshold:S,PaperProps:j,transformOrigin:T,TransitionComponent:I,transitionDuration:L,TransitionProps:X}),ee=function(e){var t=e.classes;return Object(f.a)({root:["root"],paper:["paper"]},F,t)}(Z),te=i.useCallback(function(){if("anchorPosition"===m)return p;var e=H(u),t=(e&&1===e.nodeType?e:Object(d.a)(J.current).body).getBoundingClientRect();return{top:t.top+U(t,l.vertical),left:t.left+W(t,l.horizontal)}},[u,l.horizontal,l.vertical,p,m]),ne=i.useCallback(function(e){return{vertical:U(e,T.vertical),horizontal:W(e,T.horizontal)}},[T.horizontal,T.vertical]),re=i.useCallback(function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=ne(t);if("none"===m)return{top:null,left:null,transformOrigin:z(n)};var r=te(),o=r.top-n.vertical,i=r.left-n.horizontal,a=o+t.height,s=i+t.width,c=Object(M.a)(H(u)),l=c.innerHeight-S,f=c.innerWidth-S;if(o<S){var d=o-S;o-=d,n.vertical+=d}else if(a>l){var p=a-l;o-=p,n.vertical+=p}if(i<S){var h=i-S;i-=h,n.horizontal+=h}else if(s>f){var v=s-f;i-=v,n.horizontal+=v}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(i),"px"),transformOrigin:z(n)}},[u,m,te,ne,S]),oe=i.useCallback(function(){var e=J.current;if(e){var t=re(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}},[re]);i.useEffect(function(){k&&oe()}),i.useImperativeHandle(s,function(){return k?{updatePosition:function(){oe()}}:null},[k,oe]),i.useEffect(function(){if(k){var e=Object(N.a)(function(){oe()}),t=Object(M.a)(u);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}},[u,k,oe]);var ie=L;"auto"!==L||I.muiSupportAuto||(ie=void 0);var ae=b||(u?Object(d.a)(H(u)).body:void 0);return Object(w.jsx)(q,Object(r.a)({BackdropProps:{invisible:!0},className:Object(a.a)(ee.root,y),container:ae,open:k,ref:t,ownerState:Z},Y,{children:Object(w.jsx)(I,Object(r.a)({appear:!0,in:k,onEntering:function(e,t){$&&$(e,t),oe()},timeout:ie},X,{children:Object(w.jsx)(G,Object(r.a)({elevation:O},j,{ref:Q,className:Object(a.a)(ee.paper,j.className),children:g}))}))}))}),$=n(51);function X(e){return Object(g.a)("MuiMenu",e)}Object(y.a)("MuiMenu",["root","paper","list"]);var Y=["onEntering"],J=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],Q={vertical:"top",horizontal:"right"},Z={vertical:"top",horizontal:"left"},ee=Object(h.a)(K,{shouldForwardProp:function(e){return Object(h.b)(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),te=Object(h.a)(A.a,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),ne=Object(h.a)(I,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),re=i.forwardRef(function(e,t){var n=Object(v.a)({props:e,name:"MuiMenu"}),s=n.autoFocus,u=void 0===s||s,c=n.children,l=n.disableAutoFocusItem,d=void 0!==l&&l,p=n.MenuListProps,h=void 0===p?{}:p,m=n.onClose,g=n.open,y=n.PaperProps,b=void 0===y?{}:y,x=n.PopoverClasses,O=n.transitionDuration,E=void 0===O?"auto":O,S=n.TransitionProps,C=(S=void 0===S?{}:S).onEntering,k=n.variant,R=void 0===k?"selectedMenu":k,j=Object(o.a)(n.TransitionProps,Y),P=Object(o.a)(n,J),T=Object($.a)(),_="rtl"===T.direction,I=Object(r.a)({},n,{autoFocus:u,disableAutoFocusItem:d,MenuListProps:h,onEntering:C,PaperProps:b,transitionDuration:E,TransitionProps:j,variant:R}),A=function(e){var t=e.classes;return Object(f.a)({root:["root"],paper:["paper"],list:["list"]},X,t)}(I),N=u&&!d&&g,M=i.useRef(null),D=-1;return i.Children.map(c,function(e,t){i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===R&&e.props.selected?D=t:-1===D&&(D=t)))}),Object(w.jsx)(ee,Object(r.a)({classes:x,onClose:m,anchorOrigin:{vertical:"bottom",horizontal:_?"right":"left"},transformOrigin:_?Q:Z,PaperProps:Object(r.a)({component:te},b,{classes:Object(r.a)({},b.classes,{root:A.paper})}),className:A.root,open:g,ref:t,transitionDuration:E,TransitionProps:Object(r.a)({onEntering:function(e,t){M.current&&M.current.adjustStyleForScrollbar(e,T),C&&C(e,t)}},j),ownerState:I},P,{children:Object(w.jsx)(ne,Object(r.a)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),m&&m(e,"tabKeyDown"))},actions:M,autoFocus:u&&(-1===D||d),autoFocusItem:N,variant:R},h,{className:Object(a.a)(A.list,h.className),children:c}))}))});function oe(e){return Object(g.a)("MuiNativeSelect",e)}var ie=Object(y.a)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),ae=["className","disabled","IconComponent","inputRef","variant"],se=function(e){var t,n=e.ownerState,o=e.theme;return Object(r.a)((t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:"light"===o.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"}},Object(c.a)(t,"&.".concat(ie.disabled),{cursor:"default"}),Object(c.a)(t,"&[multiple]",{height:"auto"}),Object(c.a)(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:o.palette.background.paper}),Object(c.a)(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:o.shape.borderRadius,"&:focus":{borderRadius:o.shape.borderRadius},"&&&":{paddingRight:32}})},ue=Object(h.a)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:h.b,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],Object(c.a)({},"&.".concat(ie.multiple),t.multiple)]}})(se),ce=function(e){var t=e.ownerState,n=e.theme;return Object(r.a)(Object(c.a)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:n.palette.action.active},"&.".concat(ie.disabled),{color:n.palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},le=Object(h.a)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(Object(p.a)(n.variant))],n.open&&t.iconOpen]}})(ce),fe=i.forwardRef(function(e,t){var n=e.className,s=e.disabled,u=e.IconComponent,c=e.inputRef,l=e.variant,d=void 0===l?"standard":l,h=Object(o.a)(e,ae),v=Object(r.a)({},e,{disabled:s,variant:d}),m=function(e){var t=e.classes,n=e.variant,r=e.disabled,o=e.multiple,i=e.open,a={select:["select",n,r&&"disabled",o&&"multiple"],icon:["icon","icon".concat(Object(p.a)(n)),i&&"iconOpen",r&&"disabled"]};return Object(f.a)(a,oe,t)}(v);return Object(w.jsxs)(i.Fragment,{children:[Object(w.jsx)(ue,Object(r.a)({ownerState:v,className:Object(a.a)(m.select,n),disabled:s,ref:c||t},h)),e.multiple?null:Object(w.jsx)(le,{as:u,ownerState:v,className:m.icon})]})}),de=n(102),pe=n(61);function he(e){return Object(g.a)("MuiSelect",e)}var ve,me=Object(y.a)("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),ge=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],ye=Object(h.a)("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[Object(c.a)({},"&.".concat(me.select),t.select),Object(c.a)({},"&.".concat(me.select),t[n.variant]),Object(c.a)({},"&.".concat(me.multiple),t.multiple)]}})(se,Object(c.a)({},"&.".concat(me.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),be=Object(h.a)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(Object(p.a)(n.variant))],n.open&&t.iconOpen]}})(ce),we=Object(h.a)("input",{shouldForwardProp:function(e){return Object(h.c)(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function xe(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function Oe(e){return null==e||"string"===typeof e&&!e.trim()}var Ee,Se,Ce=i.forwardRef(function(e,t){var n=e["aria-describedby"],s=e["aria-label"],c=e.autoFocus,h=e.autoWidth,v=e.children,m=e.className,g=e.defaultOpen,y=e.defaultValue,b=e.disabled,x=e.displayEmpty,O=e.IconComponent,E=e.inputRef,S=e.labelId,k=e.MenuProps,R=void 0===k?{}:k,j=e.multiple,P=e.name,T=e.onBlur,_=e.onChange,I=e.onClose,A=e.onFocus,N=e.onOpen,M=e.open,D=e.readOnly,L=e.renderValue,F=e.SelectDisplayProps,B=void 0===F?{}:F,V=e.tabIndex,U=e.value,W=e.variant,z=void 0===W?"standard":W,H=Object(o.a)(e,ge),q=Object(pe.a)({controlled:U,default:y,name:"Select"}),G=Object(u.a)(q,2),K=G[0],$=G[1],X=Object(pe.a)({controlled:M,default:g,name:"Select"}),Y=Object(u.a)(X,2),J=Y[0],Q=Y[1],Z=i.useRef(null),ee=i.useRef(null),te=i.useState(null),ne=Object(u.a)(te,2),oe=ne[0],ie=ne[1],ae=i.useRef(null!=M).current,se=i.useState(),ue=Object(u.a)(se,2),ce=ue[0],le=ue[1],fe=Object(C.a)(t,E),me=i.useCallback(function(e){ee.current=e,e&&ie(e)},[]);i.useImperativeHandle(fe,function(){return{focus:function(){ee.current.focus()},node:Z.current,value:K}},[K]),i.useEffect(function(){g&&J&&oe&&!ae&&(le(h?null:oe.clientWidth),ee.current.focus())},[oe,h]),i.useEffect(function(){c&&ee.current.focus()},[c]),i.useEffect(function(){if(S){var e=Object(d.a)(ee.current).getElementById(S);if(e){var t=function(){getSelection().isCollapsed&&ee.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}},[S]);var Ee,Se,Ce=function(e,t){e?N&&N(t):I&&I(t),ae||(le(h?null:oe.clientWidth),Q(e))},ke=i.Children.toArray(v),Re=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(j){n=Array.isArray(K)?K.slice():[];var r=K.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),K!==n&&($(n),_)){var o=t.nativeEvent||t,i=new o.constructor(o.type,o);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:P}}),_(i,e)}j||Ce(!1,t)}}},je=null!==oe&&J;delete H["aria-invalid"];var Pe=[],Te=!1;(Object(de.b)({value:K})||x)&&(L?Ee=L(K):Te=!0);var _e=ke.map(function(e,t,n){if(!i.isValidElement(e))return null;var r;if(j){if(!Array.isArray(K))throw new Error(Object(l.a)(2));(r=K.some(function(t){return xe(t,e.props.value)}))&&Te&&Pe.push(e.props.children)}else(r=xe(K,e.props.value))&&Te&&(Se=e.props.children);if(r&&!0,void 0===e.props.value)return i.cloneElement(e,{"aria-readonly":!0,role:"option"});return i.cloneElement(e,{"aria-selected":r?"true":"false",onClick:Re(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:void 0===n[0].props.value||!0===n[0].props.disabled?function(){if(K)return r;var t=n.find(function(e){return void 0!==e.props.value&&!0!==e.props.disabled});return e===t||r}():r,value:void 0,"data-value":e.props.value})});Te&&(Ee=j?0===Pe.length?null:Pe.reduce(function(e,t,n){return e.push(t),n<Pe.length-1&&e.push(", "),e},[]):Se);var Ie,Ae=ce;!h&&ae&&oe&&(Ae=oe.clientWidth),Ie="undefined"!==typeof V?V:b?null:0;var Ne=B.id||(P?"mui-component-select-".concat(P):void 0),Me=Object(r.a)({},e,{variant:z,value:K,open:je}),De=function(e){var t=e.classes,n=e.variant,r=e.disabled,o=e.multiple,i=e.open,a={select:["select",n,r&&"disabled",o&&"multiple"],icon:["icon","icon".concat(Object(p.a)(n)),i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Object(f.a)(a,he,t)}(Me);return Object(w.jsxs)(i.Fragment,{children:[Object(w.jsx)(ye,Object(r.a)({ref:me,tabIndex:Ie,role:"button","aria-disabled":b?"true":void 0,"aria-expanded":je?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[S,Ne].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:function(e){D||-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),Ce(!0,e))},onMouseDown:b||D?null:function(e){0===e.button&&(e.preventDefault(),ee.current.focus(),Ce(!0,e))},onBlur:function(e){!je&&T&&(Object.defineProperty(e,"target",{writable:!0,value:{value:K,name:P}}),T(e))},onFocus:A},B,{ownerState:Me,className:Object(a.a)(B.className,De.select,m),id:Ne,children:Oe(Ee)?ve||(ve=Object(w.jsx)("span",{className:"notranslate",children:"\u200b"})):Ee})),Object(w.jsx)(we,Object(r.a)({value:Array.isArray(K)?K.join(","):K,name:P,ref:Z,"aria-hidden":!0,onChange:function(e){var t=ke.map(function(e){return e.props.value}).indexOf(e.target.value);if(-1!==t){var n=ke[t];$(n.props.value),_&&_(e,n)}},tabIndex:-1,disabled:b,className:De.nativeInput,autoFocus:c,ownerState:Me},H)),Object(w.jsx)(be,{as:O,className:De.icon,ownerState:Me}),Object(w.jsx)(re,Object(r.a)({id:"menu-".concat(P||""),anchorEl:oe,open:je,onClose:function(e){Ce(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},R,{MenuListProps:Object(r.a)({"aria-labelledby":S,role:"listbox",disableListWrap:!0},R.MenuListProps),PaperProps:Object(r.a)({},R.PaperProps,{style:Object(r.a)({minWidth:Ae},null!=R.PaperProps?R.PaperProps.style:null)}),children:_e}))]})}),ke=n(48),Re=n(47),je=n(95),Pe=Object(je.a)(Object(w.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Te=n(504),_e=n(503),Ie=n(497),Ae=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Ne={name:"MuiSelect",overridesResolver:function(e,t){return t.root},shouldForwardProp:function(e){return Object(h.b)(e)&&"variant"!==e},slot:"Root"},Me=Object(h.a)(Te.a,Ne)(""),De=Object(h.a)(Ie.a,Ne)(""),Le=Object(h.a)(_e.a,Ne)(""),Fe=i.forwardRef(function(e,t){var n=Object(v.a)({name:"MuiSelect",props:e}),u=n.autoWidth,c=void 0!==u&&u,l=n.children,f=n.classes,d=void 0===f?{}:f,p=n.className,h=n.defaultOpen,m=void 0!==h&&h,g=n.displayEmpty,y=void 0!==g&&g,b=n.IconComponent,x=void 0===b?Pe:b,O=n.id,E=n.input,S=n.inputProps,k=n.label,R=n.labelId,j=n.MenuProps,P=n.multiple,T=void 0!==P&&P,_=n.native,I=void 0!==_&&_,A=n.onClose,N=n.onOpen,M=n.open,D=n.renderValue,L=n.SelectDisplayProps,F=n.variant,B=void 0===F?"outlined":F,V=Object(o.a)(n,Ae),U=I?fe:Ce,W=Object(Re.a)(),z=Object(ke.a)({props:n,muiFormControl:W,states:["variant"]}).variant||B,H=E||{standard:Ee||(Ee=Object(w.jsx)(Me,{})),outlined:Object(w.jsx)(De,{label:k}),filled:Se||(Se=Object(w.jsx)(Le,{}))}[z],q=function(e){return e.classes}(Object(r.a)({},n,{variant:z,classes:d})),G=Object(C.a)(t,H.ref);return i.cloneElement(H,Object(r.a)({inputComponent:U,inputProps:Object(r.a)({children:l,IconComponent:x,variant:z,type:void 0,multiple:T},I?{id:O}:{autoWidth:c,defaultOpen:m,displayEmpty:y,labelId:R,MenuProps:j,onClose:A,onOpen:N,open:M,renderValue:D,SelectDisplayProps:Object(r.a)({id:O},L)},S,{classes:S?Object(s.a)(q,S.classes):q},E?E.props.inputProps:{})},T&&I&&"outlined"===z?{notched:!0}:{},{ref:G,className:Object(a.a)(H.props.className,p),variant:z},V))});Fe.muiName="Select";t.a=Fe},function(e,t,n){"use strict";var r=n(5),o=n(6),i=n(1),a=n(8),s=n(0),u=n.n(s),c=n(11),l=n(472),f=n(9),d=n(14),p=n(24),h=n(87),v=n(96),m=n(25),g=n(103);var y=n(152),b=n(117);function w(e,t){var n=Object.create(null);return e&&s.Children.map(e,function(e){return e}).forEach(function(e){n[e.key]=function(e){return t&&Object(s.isValidElement)(e)?t(e):e}(e)}),n}function x(e,t,n){return null!=n[t]?n[t]:e.props[t]}function O(e,t,n){var r=w(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var a in e)a in t?i.length&&(o[a]=i,i=[]):i.push(a);var s={};for(var u in t){if(o[u])for(r=0;r<o[u].length;r++){var c=o[u][r];s[o[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<i.length;r++)s[i[r]]=n(i[r]);return s}(t,r);return Object.keys(o).forEach(function(i){var a=o[i];if(Object(s.isValidElement)(a)){var u=i in t,c=i in r,l=t[i],f=Object(s.isValidElement)(l)&&!l.props.in;!c||u&&!f?c||!u||f?c&&u&&Object(s.isValidElement)(l)&&(o[i]=Object(s.cloneElement)(a,{onExited:n.bind(null,a),in:l.props.in,exit:x(a,"exit",e),enter:x(a,"enter",e)})):o[i]=Object(s.cloneElement)(a,{in:!1}):o[i]=Object(s.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:x(a,"exit",e),enter:x(a,"enter",e)})}}),o}var E=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},S=function(e){function t(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}Object(y.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,o=t.children,i=t.handleExited;return{children:t.firstRender?(n=e,r=i,w(n.children,function(e){return Object(s.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:x(e,"appear",n),enter:x(e,"enter",n),exit:x(e,"exit",n)})})):O(e,o,i),firstRender:!1}},n.handleExited=function(e,t){var n=w(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=Object(i.a)({},t.children);return delete n[e.key],{children:n}}))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(a.a)(e,["component","childFactory"]),o=this.state.contextValue,i=E(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?u.a.createElement(b.a.Provider,{value:o},i):u.a.createElement(b.a.Provider,{value:o},u.a.createElement(t,r,i))},t}(u.a.Component);S.propTypes={},S.defaultProps={component:"div",childFactory:function(e){return e}};var C=S,k=n(93),R=n(4);var j=function(e){var t=e.className,n=e.classes,o=e.pulsate,i=void 0!==o&&o,a=e.rippleX,u=e.rippleY,l=e.rippleSize,f=e.in,d=e.onExited,p=e.timeout,h=s.useState(!1),v=Object(r.a)(h,2),m=v[0],g=v[1],y=Object(c.a)(t,n.ripple,n.rippleVisible,i&&n.ripplePulsate),b={width:l,height:l,top:-l/2+u,left:-l/2+a},w=Object(c.a)(n.child,m&&n.childLeaving,i&&n.childPulsate);return f||m||g(!0),s.useEffect(function(){if(!f&&null!=d){var e=setTimeout(d,p);return function(){clearTimeout(e)}}},[d,f,p]),Object(R.jsx)("span",{className:y,style:b,children:Object(R.jsx)("span",{className:w})})},P=n(267),T=n(426);var _,I,A,N,M,D,L,F,B=Object(T.a)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),V=["center","classes","className"],U=function(e){return e},W=Object(k.b)(M||(M=U(_||(_=Object(g.a)(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"]))))),z=Object(k.b)(D||(D=U(I||(I=Object(g.a)(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"]))))),H=Object(k.b)(L||(L=U(A||(A=Object(g.a)(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"]))))),q=Object(f.a)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),G=Object(f.a)(j,{name:"MuiTouchRipple",slot:"Ripple"})(F||(F=U(N||(N=Object(g.a)(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"])))),B.rippleVisible,W,550,function(e){return e.theme.transitions.easing.easeInOut},B.ripplePulsate,function(e){return e.theme.transitions.duration.shorter},B.child,B.childLeaving,z,550,function(e){return e.theme.transitions.easing.easeInOut},B.childPulsate,H,function(e){return e.theme.transitions.easing.easeInOut}),K=s.forwardRef(function(e,t){var n=Object(d.a)({props:e,name:"MuiTouchRipple"}),o=n.center,u=void 0!==o&&o,l=n.classes,f=void 0===l?{}:l,p=n.className,h=Object(a.a)(n,V),v=s.useState([]),g=Object(r.a)(v,2),y=g[0],b=g[1],w=s.useRef(0),x=s.useRef(null);s.useEffect(function(){x.current&&(x.current(),x.current=null)},[y]);var O=s.useRef(!1),E=s.useRef(null),S=s.useRef(null),k=s.useRef(null);s.useEffect(function(){return function(){clearTimeout(E.current)}},[]);var j=s.useCallback(function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,o=e.rippleSize,i=e.cb;b(function(e){return[].concat(Object(m.a)(e),[Object(R.jsx)(G,{classes:{ripple:Object(c.a)(f.ripple,B.ripple),rippleVisible:Object(c.a)(f.rippleVisible,B.rippleVisible),ripplePulsate:Object(c.a)(f.ripplePulsate,B.ripplePulsate),child:Object(c.a)(f.child,B.child),childLeaving:Object(c.a)(f.childLeaving,B.childLeaving),childPulsate:Object(c.a)(f.childPulsate,B.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:o},w.current)])}),w.current+=1,x.current=i},[f]),P=s.useCallback(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,o=void 0!==r&&r,i=t.center,a=void 0===i?u||t.pulsate:i,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===(null==e?void 0:e.type)&&O.current)O.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(O.current=!0);var l,f,d,p=c?null:k.current,h=p?p.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(a||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(h.width/2),f=Math.round(h.height/2);else{var v=e.touches&&e.touches.length>0?e.touches[0]:e,m=v.clientX,g=v.clientY;l=Math.round(m-h.left),f=Math.round(g-h.top)}if(a)(d=Math.sqrt((2*Math.pow(h.width,2)+Math.pow(h.height,2))/3))%2===0&&(d+=1);else{var y=2*Math.max(Math.abs((p?p.clientWidth:0)-l),l)+2,b=2*Math.max(Math.abs((p?p.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(y,2)+Math.pow(b,2))}null!=e&&e.touches?null===S.current&&(S.current=function(){j({pulsate:o,rippleX:l,rippleY:f,rippleSize:d,cb:n})},E.current=setTimeout(function(){S.current&&(S.current(),S.current=null)},80)):j({pulsate:o,rippleX:l,rippleY:f,rippleSize:d,cb:n})}},[u,j]),T=s.useCallback(function(){P({},{pulsate:!0})},[P]),_=s.useCallback(function(e,t){if(clearTimeout(E.current),"touchend"===(null==e?void 0:e.type)&&S.current)return S.current(),S.current=null,void(E.current=setTimeout(function(){_(e,t)}));S.current=null,b(function(e){return e.length>0?e.slice(1):e}),x.current=t},[]);return s.useImperativeHandle(t,function(){return{pulsate:T,start:P,stop:_}},[T,P,_]),Object(R.jsx)(q,Object(i.a)({className:Object(c.a)(B.root,f.root,p),ref:k},h,{children:Object(R.jsx)(C,{component:null,exit:!0,children:y})}))});function $(e){return Object(P.a)("MuiButtonBase",e)}var X,Y=Object(T.a)("MuiButtonBase",["root","disabled","focusVisible"]),J=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Q=Object(f.a)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((X={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},Object(o.a)(X,"&.".concat(Y.disabled),{pointerEvents:"none",cursor:"default"}),Object(o.a)(X,"@media print",{colorAdjust:"exact"}),X)),Z=s.forwardRef(function(e,t){var n=Object(d.a)({props:e,name:"MuiButtonBase"}),o=n.action,u=n.centerRipple,f=void 0!==u&&u,m=n.children,g=n.className,y=n.component,b=void 0===y?"button":y,w=n.disabled,x=void 0!==w&&w,O=n.disableRipple,E=void 0!==O&&O,S=n.disableTouchRipple,C=void 0!==S&&S,k=n.focusRipple,j=void 0!==k&&k,P=n.LinkComponent,T=void 0===P?"a":P,_=n.onBlur,I=n.onClick,A=n.onContextMenu,N=n.onDragLeave,M=n.onFocus,D=n.onFocusVisible,L=n.onKeyDown,F=n.onKeyUp,B=n.onMouseDown,V=n.onMouseLeave,U=n.onMouseUp,W=n.onTouchEnd,z=n.onTouchMove,H=n.onTouchStart,q=n.tabIndex,G=void 0===q?0:q,X=n.TouchRippleProps,Y=n.touchRippleRef,Z=n.type,ee=Object(a.a)(n,J),te=s.useRef(null),ne=s.useRef(null),re=Object(p.a)(ne,Y),oe=Object(v.a)(),ie=oe.isFocusVisibleRef,ae=oe.onFocus,se=oe.onBlur,ue=oe.ref,ce=s.useState(!1),le=Object(r.a)(ce,2),fe=le[0],de=le[1];x&&fe&&de(!1),s.useImperativeHandle(o,function(){return{focusVisible:function(){de(!0),te.current.focus()}}},[]);var pe=s.useState(!1),he=Object(r.a)(pe,2),ve=he[0],me=he[1];s.useEffect(function(){me(!0)},[]);var ge=ve&&!E&&!x;function ye(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C;return Object(h.a)(function(r){return t&&t(r),!n&&ne.current&&ne.current[e](r),!0})}s.useEffect(function(){fe&&j&&!E&&ve&&ne.current.pulsate()},[E,j,fe,ve]);var be=ye("start",B),we=ye("stop",A),xe=ye("stop",N),Oe=ye("stop",U),Ee=ye("stop",function(e){fe&&e.preventDefault(),V&&V(e)}),Se=ye("start",H),Ce=ye("stop",W),ke=ye("stop",z),Re=ye("stop",function(e){se(e),!1===ie.current&&de(!1),_&&_(e)},!1),je=Object(h.a)(function(e){te.current||(te.current=e.currentTarget),ae(e),!0===ie.current&&(de(!0),D&&D(e)),M&&M(e)}),Pe=function(){var e=te.current;return b&&"button"!==b&&!("A"===e.tagName&&e.href)},Te=s.useRef(!1),_e=Object(h.a)(function(e){j&&!Te.current&&fe&&ne.current&&" "===e.key&&(Te.current=!0,ne.current.stop(e,function(){ne.current.start(e)})),e.target===e.currentTarget&&Pe()&&" "===e.key&&e.preventDefault(),L&&L(e),e.target===e.currentTarget&&Pe()&&"Enter"===e.key&&!x&&(e.preventDefault(),I&&I(e))}),Ie=Object(h.a)(function(e){j&&" "===e.key&&ne.current&&fe&&!e.defaultPrevented&&(Te.current=!1,ne.current.stop(e,function(){ne.current.pulsate(e)})),F&&F(e),I&&e.target===e.currentTarget&&Pe()&&" "===e.key&&!e.defaultPrevented&&I(e)}),Ae=b;"button"===Ae&&(ee.href||ee.to)&&(Ae=T);var Ne={};"button"===Ae?(Ne.type=void 0===Z?"button":Z,Ne.disabled=x):(ee.href||ee.to||(Ne.role="button"),x&&(Ne["aria-disabled"]=x));var Me=Object(p.a)(ue,te),De=Object(p.a)(t,Me);var Le=Object(i.a)({},n,{centerRipple:f,component:b,disabled:x,disableRipple:E,disableTouchRipple:C,focusRipple:j,tabIndex:G,focusVisible:fe}),Fe=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,o=e.classes,i={root:["root",t&&"disabled",n&&"focusVisible"]},a=Object(l.a)(i,$,o);return n&&r&&(a.root+=" ".concat(r)),a}(Le);return Object(R.jsxs)(Q,Object(i.a)({as:Ae,className:Object(c.a)(Fe.root,g),ownerState:Le,onBlur:Re,onClick:I,onContextMenu:we,onFocus:je,onKeyDown:_e,onKeyUp:Ie,onMouseDown:be,onMouseLeave:Ee,onMouseUp:Oe,onDragLeave:xe,onTouchEnd:Ce,onTouchMove:ke,onTouchStart:Se,ref:De,tabIndex:x?-1:G,type:Z},Ne,ee,{children:[m,ge?Object(R.jsx)(K,Object(i.a)({ref:re,center:f},X)):null]}))});t.a=Z},function(e,t,n){"use strict";var r=n(5),o=n(8),i=n(1),a=n(0),s=n(426),u=n(267);function c(e){return Object(u.a)("MuiModal",e)}Object(s.a)("MuiModal",["root","hidden"]);var l=n(268),f=n(178),d=n(428),p=n(429),h=n(472),v=n(475),m=n(19),g=n(20),y=n(25),b=n(431),w=n(478);function x(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function O(e){return parseInt(Object(b.a)(e).getComputedStyle(e).paddingRight,10)||0}function E(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4?arguments[4]:void 0,i=[t,n].concat(Object(y.a)(r));[].forEach.call(e.children,function(e){var t=-1===i.indexOf(e),n=!function(e){var t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&x(e,o)})}function S(e,t){var n=-1;return e.some(function(e,r){return!!t(e)&&(n=r,!0)}),n}function C(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=Object(f.a)(e);return t.body===e?Object(b.a)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var o=Object(w.a)(Object(f.a)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(O(r)+o,"px");var i=Object(f.a)(r).querySelectorAll(".mui-fixed");[].forEach.call(i,function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(O(e)+o,"px")})}var a;if(r.parentNode instanceof DocumentFragment)a=Object(f.a)(r).body;else{var s=r.parentElement,u=Object(b.a)(r);a="HTML"===(null==s?void 0:s.nodeName)&&"scroll"===u.getComputedStyle(s).overflowY?s:r}n.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return function(){n.forEach(function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)})}}var k=function(){function e(){Object(m.a)(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return Object(g.a)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&x(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)}),t}(t);E(t,e.mount,e.modalRef,r,!0);var o=S(this.containers,function(e){return e.container===t});return-1!==o?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=S(this.containers,function(t){return-1!==t.modals.indexOf(e)}),r=this.containers[n];r.restore||(r.restore=C(r,t))}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.modals.indexOf(e);if(-1===n)return n;var r=S(this.containers,function(t){return-1!==t.modals.indexOf(e)}),o=this.containers[r];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&x(e.modalRef,t),E(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(r,1);else{var i=o.modals[o.modals.length-1];i.modalRef&&x(i.modalRef,!1)}return n}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),R=n(4),j=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function P(e){var t=[],n=[];return Array.from(e.querySelectorAll(j)).forEach(function(e,r){var o=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==o&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===o?t.push(e):n.push({documentOrder:r,tabIndex:o,node:e}))}),n.sort(function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex}).map(function(e){return e.node}).concat(t)}function T(){return!0}var _=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,o=e.disableEnforceFocus,i=void 0!==o&&o,s=e.disableRestoreFocus,u=void 0!==s&&s,c=e.getTabbable,d=void 0===c?P:c,p=e.isEnabled,h=void 0===p?T:p,v=e.open,m=a.useRef(),g=a.useRef(null),y=a.useRef(null),b=a.useRef(null),w=a.useRef(null),x=a.useRef(!1),O=a.useRef(null),E=Object(l.a)(t.ref,O),S=a.useRef(null);a.useEffect(function(){v&&O.current&&(x.current=!r)},[r,v]),a.useEffect(function(){if(v&&O.current){var e=Object(f.a)(O.current);return O.current.contains(e.activeElement)||(O.current.hasAttribute("tabIndex")||O.current.setAttribute("tabIndex",-1),x.current&&O.current.focus()),function(){u||(b.current&&b.current.focus&&(m.current=!0,b.current.focus()),b.current=null)}}},[v]),a.useEffect(function(){if(v&&O.current){var e=Object(f.a)(O.current),t=function(t){var n=O.current;if(null!==n)if(e.hasFocus()&&!i&&h()&&!m.current){if(!n.contains(e.activeElement)){if(t&&w.current!==t.target||e.activeElement!==w.current)w.current=null;else if(null!==w.current)return;if(!x.current)return;var r=[];if(e.activeElement!==g.current&&e.activeElement!==y.current||(r=d(O.current)),r.length>0){var o,a,s=Boolean((null==(o=S.current)?void 0:o.shiftKey)&&"Tab"===(null==(a=S.current)?void 0:a.key)),u=r[0],c=r[r.length-1];s?c.focus():u.focus()}else n.focus()}}else m.current=!1},n=function(t){S.current=t,!i&&h()&&"Tab"===t.key&&e.activeElement===O.current&&t.shiftKey&&(m.current=!0,y.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval(function(){"BODY"===e.activeElement.tagName&&t()},50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}},[r,i,u,h,v,d]);var C=function(e){null===b.current&&(b.current=e.relatedTarget),x.current=!0};return Object(R.jsxs)(a.Fragment,{children:[Object(R.jsx)("div",{tabIndex:v?0:-1,onFocus:C,ref:g,"data-testid":"sentinelStart"}),a.cloneElement(t,{ref:E,onFocus:function(e){null===b.current&&(b.current=e.relatedTarget),x.current=!0,w.current=e.target;var n=t.props.onFocus;n&&n(e)}}),Object(R.jsx)("div",{tabIndex:v?0:-1,onFocus:C,ref:y,"data-testid":"sentinelEnd"})]})},I=n(488),A=["children","classes","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited"];var N=new k,M=a.forwardRef(function(e,t){var n,s=e.children,u=e.classes,m=e.closeAfterTransition,g=void 0!==m&&m,y=e.component,b=void 0===y?"div":y,w=e.components,O=void 0===w?{}:w,E=e.componentsProps,S=void 0===E?{}:E,C=e.container,k=e.disableAutoFocus,j=void 0!==k&&k,P=e.disableEnforceFocus,T=void 0!==P&&P,M=e.disableEscapeKeyDown,D=void 0!==M&&M,L=e.disablePortal,F=void 0!==L&&L,B=e.disableRestoreFocus,V=void 0!==B&&B,U=e.disableScrollLock,W=void 0!==U&&U,z=e.hideBackdrop,H=void 0!==z&&z,q=e.keepMounted,G=void 0!==q&&q,K=e.manager,$=void 0===K?N:K,X=e.onBackdropClick,Y=e.onClose,J=e.onKeyDown,Q=e.open,Z=e.onTransitionEnter,ee=e.onTransitionExited,te=Object(o.a)(e,A),ne=a.useState(!0),re=Object(r.a)(ne,2),oe=re[0],ie=re[1],ae=a.useRef({}),se=a.useRef(null),ue=a.useRef(null),ce=Object(l.a)(ue,t),le=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(e),fe=null==(n=e["aria-hidden"])||n,de=function(){return ae.current.modalRef=ue.current,ae.current.mountNode=se.current,ae.current},pe=function(){$.mount(de(),{disableScrollLock:W}),ue.current.scrollTop=0},he=Object(d.a)(function(){var e=function(e){return"function"===typeof e?e():e}(C)||Object(f.a)(se.current).body;$.add(de(),e),ue.current&&pe()}),ve=a.useCallback(function(){return $.isTopModal(de())},[$]),me=Object(d.a)(function(e){se.current=e,e&&(Q&&ve()?pe():x(ue.current,fe))}),ge=a.useCallback(function(){$.remove(de(),fe)},[$,fe]);a.useEffect(function(){return function(){ge()}},[ge]),a.useEffect(function(){Q?he():le&&g||ge()},[Q,ge,le,g,he]);var ye=Object(i.a)({},e,{classes:u,closeAfterTransition:g,disableAutoFocus:j,disableEnforceFocus:T,disableEscapeKeyDown:D,disablePortal:F,disableRestoreFocus:V,disableScrollLock:W,exited:oe,hideBackdrop:H,keepMounted:G}),be=function(e){var t=e.open,n=e.exited,r=e.classes,o={root:["root",!t&&n&&"hidden"]};return Object(h.a)(o,c,r)}(ye),we={};void 0===s.props.tabIndex&&(we.tabIndex="-1"),le&&(we.onEnter=Object(p.a)(function(){ie(!1),Z&&Z()},s.props.onEnter),we.onExited=Object(p.a)(function(){ie(!0),ee&&ee(),g&&ge()},s.props.onExited));var xe=O.Root||b,Oe=Object(I.a)({elementType:xe,externalSlotProps:S.root,externalForwardedProps:te,additionalProps:{ref:ce,role:"presentation",onKeyDown:function(e){J&&J(e),"Escape"===e.key&&ve()&&(D||(e.stopPropagation(),Y&&Y(e,"escapeKeyDown")))}},className:be.root,ownerState:ye}),Ee=O.Backdrop,Se=Object(I.a)({elementType:Ee,externalSlotProps:S.backdrop,additionalProps:{"aria-hidden":!0,onClick:function(e){e.target===e.currentTarget&&(X&&X(e),Y&&Y(e,"backdropClick"))},open:Q},ownerState:ye});return G||Q||le&&!oe?Object(R.jsx)(v.a,{ref:me,container:C,disablePortal:F,children:Object(R.jsxs)(xe,Object(i.a)({},Oe,{children:[!H&&Ee?Object(R.jsx)(Ee,Object(i.a)({},Se)):null,Object(R.jsx)(_,{disableEnforceFocus:T,disableAutoFocus:j,disableRestoreFocus:V,isEnabled:ve,open:Q,children:a.cloneElement(s,we)})]}))}):null}),D=n(241),L=n(243),F=n(9),B=n(14),V=n(11),U=n(433),W=n(51),z=n(67),H=n(24),q=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],G={entering:{opacity:1},entered:{opacity:1}},K=a.forwardRef(function(e,t){var n=Object(W.a)(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},s=e.addEndListener,u=e.appear,c=void 0===u||u,l=e.children,f=e.easing,d=e.in,p=e.onEnter,h=e.onEntered,v=e.onEntering,m=e.onExit,g=e.onExited,y=e.onExiting,b=e.style,w=e.timeout,x=void 0===w?r:w,O=e.TransitionComponent,E=void 0===O?U.a:O,S=Object(o.a)(e,q),C=a.useRef(null),k=Object(H.a)(l.ref,t),j=Object(H.a)(C,k),P=function(e){return function(t){if(e){var n=C.current;void 0===t?e(n):e(n,t)}}},T=P(v),_=P(function(e,t){Object(z.b)(e);var r=Object(z.a)({style:b,timeout:x,easing:f},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),p&&p(e,t)}),I=P(h),A=P(y),N=P(function(e){var t=Object(z.a)({style:b,timeout:x,easing:f},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),m&&m(e)}),M=P(g);return Object(R.jsx)(E,Object(i.a)({appear:c,in:d,nodeRef:C,onEnter:_,onEntered:I,onEntering:T,onExit:N,onExited:M,onExiting:A,addEndListener:function(e){s&&s(C.current,e)},timeout:x},S,{children:function(e,t){return a.cloneElement(l,Object(i.a)({style:Object(i.a)({opacity:0,visibility:"exited"!==e||d?void 0:"hidden"},G[e],b,l.props.style),ref:j},t))}}))});function $(e){return Object(u.a)("MuiBackdrop",e)}Object(s.a)("MuiBackdrop",["root","invisible"]);var X=["children","component","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],Y=Object(F.a)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})(function(e){var t=e.ownerState;return Object(i.a)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})}),J=a.forwardRef(function(e,t){var n,r,a=Object(B.a)({props:e,name:"MuiBackdrop"}),s=a.children,u=a.component,c=void 0===u?"div":u,l=a.components,f=void 0===l?{}:l,d=a.componentsProps,p=void 0===d?{}:d,v=a.className,m=a.invisible,g=void 0!==m&&m,y=a.open,b=a.transitionDuration,w=a.TransitionComponent,x=void 0===w?K:w,O=Object(o.a)(a,X),E=Object(i.a)({},a,{component:c,invisible:g}),S=function(e){var t=e.classes,n={root:["root",e.invisible&&"invisible"]};return Object(h.a)(n,$,t)}(E);return Object(R.jsx)(x,Object(i.a)({in:y,timeout:b},O,{children:Object(R.jsx)(Y,{"aria-hidden":!0,as:null!=(n=f.Root)?n:c,className:Object(V.a)(S.root,v),ownerState:Object(i.a)({},E,null==(r=p.root)?void 0:r.ownerState),classes:S,ref:t,children:s})}))}),Q=["BackdropComponent","BackdropProps","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","theme"],Z=Object(F.a)("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})(function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})}),ee=Object(F.a)(J,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),te=a.forwardRef(function(e,t){var n,s,u=Object(B.a)({name:"MuiModal",props:e}),c=u.BackdropComponent,l=void 0===c?ee:c,f=u.BackdropProps,d=u.closeAfterTransition,p=void 0!==d&&d,h=u.children,v=u.component,m=u.components,g=void 0===m?{}:m,y=u.componentsProps,b=void 0===y?{}:y,w=u.disableAutoFocus,x=void 0!==w&&w,O=u.disableEnforceFocus,E=void 0!==O&&O,S=u.disableEscapeKeyDown,C=void 0!==S&&S,k=u.disablePortal,j=void 0!==k&&k,P=u.disableRestoreFocus,T=void 0!==P&&P,_=u.disableScrollLock,I=void 0!==_&&_,A=u.hideBackdrop,N=void 0!==A&&A,F=u.keepMounted,V=void 0!==F&&F,U=u.theme,W=Object(o.a)(u,Q),z=a.useState(!0),H=Object(r.a)(z,2),q=H[0],G=H[1],K={closeAfterTransition:p,disableAutoFocus:x,disableEnforceFocus:E,disableEscapeKeyDown:C,disablePortal:j,disableRestoreFocus:T,disableScrollLock:I,hideBackdrop:N,keepMounted:V},$=Object(i.a)({},u,K,{exited:q}),X=function(e){return e.classes}($),Y=null!=(n=null!=(s=g.Root)?s:v)?n:Z;return Object(R.jsx)(M,Object(i.a)({components:Object(i.a)({Root:Y,Backdrop:l},g),componentsProps:{root:function(){return Object(i.a)({},Object(D.a)(b.root,$),!Object(L.a)(Y)&&{as:v,theme:U})},backdrop:function(){return Object(i.a)({},f,Object(D.a)(b.backdrop,$))}},onTransitionEnter:function(){return G(!1)},onTransitionExited:function(){return G(!0)},ref:t},W,{classes:X},K,{children:h}))});t.a=te},function(e,t,n){"use strict";var r=n(6),o=n(8),i=n(1),a=n(0),s=n(472),u=n(474),c=n(5),l=n(11),f=n(12),d=n(9),p=n(61),h=n(47),v=n(484),m=n(267),g=n(426);function y(e){return Object(m.a)("PrivateSwitchBase",e)}Object(g.a)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var b=n(4),w=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],x=Object(d.a)(v.a)(function(e){var t=e.ownerState;return Object(i.a)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})}),O=Object(d.a)("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),E=a.forwardRef(function(e,t){var n=e.autoFocus,r=e.checked,a=e.checkedIcon,u=e.className,d=e.defaultChecked,v=e.disabled,m=e.disableFocusRipple,g=void 0!==m&&m,E=e.edge,S=void 0!==E&&E,C=e.icon,k=e.id,R=e.inputProps,j=e.inputRef,P=e.name,T=e.onBlur,_=e.onChange,I=e.onFocus,A=e.readOnly,N=e.required,M=e.tabIndex,D=e.type,L=e.value,F=Object(o.a)(e,w),B=Object(p.a)({controlled:r,default:Boolean(d),name:"SwitchBase",state:"checked"}),V=Object(c.a)(B,2),U=V[0],W=V[1],z=Object(h.a)(),H=v;z&&"undefined"===typeof H&&(H=z.disabled);var q="checkbox"===D||"radio"===D,G=Object(i.a)({},e,{checked:U,disabled:H,disableFocusRipple:g,edge:S}),K=function(e){var t=e.classes,n=e.checked,r=e.disabled,o=e.edge,i={root:["root",n&&"checked",r&&"disabled",o&&"edge".concat(Object(f.a)(o))],input:["input"]};return Object(s.a)(i,y,t)}(G);return Object(b.jsxs)(x,Object(i.a)({component:"span",className:Object(l.a)(K.root,u),centerRipple:!0,focusRipple:!g,disabled:H,tabIndex:null,role:void 0,onFocus:function(e){I&&I(e),z&&z.onFocus&&z.onFocus(e)},onBlur:function(e){T&&T(e),z&&z.onBlur&&z.onBlur(e)},ownerState:G,ref:t},F,{children:[Object(b.jsx)(O,Object(i.a)({autoFocus:n,checked:r,defaultChecked:d,className:K.input,disabled:H,id:q&&k,name:P,onChange:function(e){if(!e.nativeEvent.defaultPrevented){var t=e.target.checked;W(t),_&&_(e,t)}},readOnly:A,ref:j,required:N,ownerState:G,tabIndex:M,type:D},"checkbox"===D&&void 0===L?{}:{value:L},R)),U?a:C]}))}),S=n(14),C=n(95),k=Object(C.a)(Object(b.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),R=Object(C.a)(Object(b.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),j=Object(d.a)("span")({position:"relative",display:"flex"}),P=Object(d.a)(k)({transform:"scale(1)"}),T=Object(d.a)(R)(function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})});var _=function(e){var t=e.checked,n=void 0!==t&&t,r=e.classes,o=void 0===r?{}:r,a=e.fontSize,s=Object(i.a)({},e,{checked:n});return Object(b.jsxs)(j,{className:o.root,ownerState:s,children:[Object(b.jsx)(P,{fontSize:a,className:o.background,ownerState:s}),Object(b.jsx)(T,{fontSize:a,className:o.dot,ownerState:s})]})},I=n(143),A=n(150);function N(e){return Object(m.a)("MuiRadio",e)}var M=Object(g.a)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]),D=["checked","checkedIcon","color","icon","name","onChange","size"],L=Object(d.a)(E,{shouldForwardProp:function(e){return Object(d.b)(e)||"classes"===e},name:"MuiRadio",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["color".concat(Object(f.a)(n.color))]]}})(function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({color:(t.vars||t).palette.text.secondary,"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Object(u.a)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&Object(r.a)({},"&.".concat(M.checked),{color:(t.vars||t).palette[n.color].main}),Object(r.a)({},"&.".concat(M.disabled),{color:(t.vars||t).palette.action.disabled}))});var F=Object(b.jsx)(_,{checked:!0}),B=Object(b.jsx)(_,{}),V=a.forwardRef(function(e,t){var n,r,u,c,l=Object(S.a)({props:e,name:"MuiRadio"}),d=l.checked,p=l.checkedIcon,h=void 0===p?F:p,v=l.color,m=void 0===v?"primary":v,g=l.icon,y=void 0===g?B:g,w=l.name,x=l.onChange,O=l.size,E=void 0===O?"medium":O,C=Object(o.a)(l,D),k=Object(i.a)({},l,{color:m,size:E}),R=function(e){var t=e.classes,n=e.color,r={root:["root","color".concat(Object(f.a)(n))]};return Object(i.a)({},t,Object(s.a)(r,N,t))}(k),j=a.useContext(A.a),P=d,T=Object(I.a)(x,j&&j.onChange),_=w;return j&&("undefined"===typeof P&&(u=j.value,P="object"===typeof(c=l.value)&&null!==c?u===c:String(u)===String(c)),"undefined"===typeof _&&(_=j.name)),Object(b.jsx)(L,Object(i.a)({type:"radio",icon:a.cloneElement(y,{fontSize:null!=(n=B.props.fontSize)?n:E}),checkedIcon:a.cloneElement(h,{fontSize:null!=(r=F.props.fontSize)?r:E}),ownerState:k,classes:R,name:_,checked:P,onChange:T,ref:t},C))});t.a=V},function(e,t,n){"use strict";var r=n(6),o=n(8),i=n(1),a=n(0),s=n(11),u=n(472),c=n(474),l=n(9),f=n(14),d=n(131),p=n(484),h=n(94),v=n(24),m=n(267),g=n(426);var y=Object(g.a)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var b=Object(g.a)("MuiListItemIcon",["root","alignItemsFlexStart"]);var w=Object(g.a)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function x(e){return Object(m.a)("MuiMenuItem",e)}var O=Object(g.a)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),E=n(4),S=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],C=Object(l.a)(p.a,{shouldForwardProp:function(e){return Object(l.b)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(function(e){var t,n=e.theme,o=e.ownerState;return Object(i.a)({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!o.disableGutters&&{paddingLeft:16,paddingRight:16},o.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},Object(r.a)(t,"&.".concat(O.selected),Object(r.a)({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):Object(c.a)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(O.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):Object(c.a)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),Object(r.a)(t,"&.".concat(O.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):Object(c.a)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):Object(c.a)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),Object(r.a)(t,"&.".concat(O.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),Object(r.a)(t,"&.".concat(O.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),Object(r.a)(t,"& + .".concat(y.root),{marginTop:n.spacing(1),marginBottom:n.spacing(1)}),Object(r.a)(t,"& + .".concat(y.inset),{marginLeft:52}),Object(r.a)(t,"& .".concat(w.root),{marginTop:0,marginBottom:0}),Object(r.a)(t,"& .".concat(w.inset),{paddingLeft:36}),Object(r.a)(t,"& .".concat(b.root),{minWidth:36}),t),!o.dense&&Object(r.a)({},n.breakpoints.up("sm"),{minHeight:"auto"}),o.dense&&Object(i.a)({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,Object(r.a)({},"& .".concat(b.root," svg"),{fontSize:"1.25rem"})))}),k=a.forwardRef(function(e,t){var n=Object(f.a)({props:e,name:"MuiMenuItem"}),r=n.autoFocus,c=void 0!==r&&r,l=n.component,p=void 0===l?"li":l,m=n.dense,g=void 0!==m&&m,y=n.divider,b=void 0!==y&&y,w=n.disableGutters,O=void 0!==w&&w,k=n.focusVisibleClassName,R=n.role,j=void 0===R?"menuitem":R,P=n.tabIndex,T=Object(o.a)(n,S),_=a.useContext(d.a),I={dense:g||_.dense||!1,disableGutters:O},A=a.useRef(null);Object(h.a)(function(){c&&A.current&&A.current.focus()},[c]);var N,M=Object(i.a)({},n,{dense:I.dense,divider:b,disableGutters:O}),D=function(e){var t=e.disabled,n=e.dense,r=e.divider,o=e.disableGutters,a=e.selected,s=e.classes,c={root:["root",n&&"dense",t&&"disabled",!o&&"gutters",r&&"divider",a&&"selected"]},l=Object(u.a)(c,x,s);return Object(i.a)({},s,l)}(n),L=Object(v.a)(A,t);return n.disabled||(N=void 0!==P?P:-1),Object(E.jsx)(d.a.Provider,{value:I,children:Object(E.jsx)(C,Object(i.a)({ref:L,role:j,tabIndex:N,component:p,focusVisibleClassName:Object(s.a)(D.focusVisible,k)},T,{ownerState:M,classes:D}))})});t.a=k},function(e,t,n){"use strict";var r=n(1),o=n(8),i=n(268),a=n(242),s=n(11);function u(e){if(void 0===e)return{};var t={};return Object.keys(e).filter(function(t){return!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])}).forEach(function(n){t[n]=e[n]}),t}function c(e){var t=e.getSlotProps,n=e.additionalProps,o=e.externalSlotProps,i=e.externalForwardedProps,a=e.className;if(!t){var c=Object(s.a)(null==i?void 0:i.className,null==o?void 0:o.className,a,null==n?void 0:n.className),l=Object(r.a)({},null==n?void 0:n.style,null==i?void 0:i.style,null==o?void 0:o.style),f=Object(r.a)({},n,i,o);return c.length>0&&(f.className=c),Object.keys(l).length>0&&(f.style=l),{props:f,internalRef:void 0}}var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};var n={};return Object.keys(e).filter(function(n){return n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)}).forEach(function(t){n[t]=e[t]}),n}(Object(r.a)({},i,o)),p=u(o),h=u(i),v=t(d),m=Object(s.a)(null==v?void 0:v.className,null==n?void 0:n.className,a,null==i?void 0:i.className,null==o?void 0:o.className),g=Object(r.a)({},null==v?void 0:v.style,null==n?void 0:n.style,null==i?void 0:i.style,null==o?void 0:o.style),y=Object(r.a)({},v,n,h,p);return m.length>0&&(y.className=m),Object.keys(g).length>0&&(y.style=g),{props:y,internalRef:v.ref}}var l=n(241);n.d(t,"a",function(){return d});var f=["elementType","externalSlotProps","ownerState"];function d(e){var t,n=e.elementType,s=e.externalSlotProps,u=e.ownerState,d=Object(o.a)(e,f),p=Object(l.a)(s,u),h=c(Object(r.a)({},d,{externalSlotProps:p})),v=h.props,m=h.internalRef,g=Object(i.a)(m,Object(i.a)(null==p?void 0:p.ref,null==(t=e.additionalProps)?void 0:t.ref));return Object(a.a)(n,Object(r.a)({},v,{ref:g}),u)}},function(e,t,n){"use strict";var r=n(6),o=n(8),i=n(1),a=n(0),s=n(472),u=n(48),c=n(47),l=n(11),f=n(12),d=n(14),p=n(9),h=n(267),v=n(426);function m(e){return Object(h.a)("MuiFormLabel",e)}var g=Object(v.a)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),y=n(4),b=["children","className","color","component","disabled","error","filled","focused","required"],w=Object(p.a)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return Object(i.a)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})(function(e){var t,n=e.theme,o=e.ownerState;return Object(i.a)({color:(n.vars||n).palette.text.secondary},n.typography.body1,(t={lineHeight:"1.4375em",padding:0,position:"relative"},Object(r.a)(t,"&.".concat(g.focused),{color:(n.vars||n).palette[o.color].main}),Object(r.a)(t,"&.".concat(g.disabled),{color:(n.vars||n).palette.text.disabled}),Object(r.a)(t,"&.".concat(g.error),{color:(n.vars||n).palette.error.main}),t))}),x=Object(p.a)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})(function(e){var t=e.theme;return Object(r.a)({},"&.".concat(g.error),{color:(t.vars||t).palette.error.main})}),O=a.forwardRef(function(e,t){var n=Object(d.a)({props:e,name:"MuiFormLabel"}),r=n.children,a=n.className,p=n.component,h=void 0===p?"label":p,v=Object(o.a)(n,b),g=Object(c.a)(),O=Object(u.a)({props:n,muiFormControl:g,states:["color","required","focused","disabled","error","filled"]}),E=Object(i.a)({},n,{color:O.color||"primary",component:h,disabled:O.disabled,error:O.error,filled:O.filled,focused:O.focused,required:O.required}),S=function(e){var t=e.classes,n=e.color,r=e.focused,o=e.disabled,i=e.error,a=e.filled,u=e.required,c={root:["root","color".concat(Object(f.a)(n)),o&&"disabled",i&&"error",a&&"filled",r&&"focused",u&&"required"],asterisk:["asterisk",i&&"error"]};return Object(s.a)(c,m,t)}(E);return Object(y.jsxs)(w,Object(i.a)({as:h,ownerState:E,className:Object(l.a)(S.root,a),ref:t},v,{children:[r,O.required&&Object(y.jsxs)(x,{ownerState:E,"aria-hidden":!0,className:S.asterisk,children:["\u2009","*"]})]}))});function E(e){return Object(h.a)("MuiInputLabel",e)}Object(v.a)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var S=["disableAnimation","margin","shrink","variant"],C=Object(p.a)(O,{shouldForwardProp:function(e){return Object(p.b)(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[Object(r.a)({},"& .".concat(g.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})(function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&Object(i.a)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&Object(i.a)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&Object(i.a)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))}),k=a.forwardRef(function(e,t){var n=Object(d.a)({name:"MuiInputLabel",props:e}),r=n.disableAnimation,a=void 0!==r&&r,l=n.shrink,f=Object(o.a)(n,S),p=Object(c.a)(),h=l;"undefined"===typeof h&&p&&(h=p.filled||p.focused||p.adornedStart);var v=Object(u.a)({props:n,muiFormControl:p,states:["size","variant","required"]}),m=Object(i.a)({},n,{disableAnimation:a,formControl:p,shrink:h,size:v.size,variant:v.variant,required:v.required}),g=function(e){var t=e.classes,n=e.formControl,r=e.size,o=e.shrink,a={root:["root",n&&"formControl",!e.disableAnimation&&"animated",o&&"shrink","small"===r&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},u=Object(s.a)(a,E,t);return Object(i.a)({},t,u)}(m);return Object(y.jsx)(C,Object(i.a)({"data-shrink":h,ownerState:m,ref:t},f,{classes:g}))});t.a=k},function(e,t,n){"use strict";var r=n(1),o=n(8),i=n(0),a=n(11),s=n(472),u=n(427),c=n(9),l=n(14),f=n(504),d=n(503),p=n(497),h=n(489),v=n(511),m=n(6),g=n(48),y=n(47),b=n(12),w=n(267),x=n(426);function O(e){return Object(w.a)("MuiFormHelperText",e)}var E,S=Object(x.a)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),C=n(4),k=["children","className","component","disabled","error","filled","focused","margin","required","variant"],R=Object(c.a)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat(Object(b.a)(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})(function(e){var t,n=e.theme,o=e.ownerState;return Object(r.a)({color:(n.vars||n).palette.text.secondary},n.typography.caption,(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},Object(m.a)(t,"&.".concat(S.disabled),{color:(n.vars||n).palette.text.disabled}),Object(m.a)(t,"&.".concat(S.error),{color:(n.vars||n).palette.error.main}),t),"small"===o.size&&{marginTop:4},o.contained&&{marginLeft:14,marginRight:14})}),j=i.forwardRef(function(e,t){var n=Object(l.a)({props:e,name:"MuiFormHelperText"}),i=n.children,u=n.className,c=n.component,f=void 0===c?"p":c,d=Object(o.a)(n,k),p=Object(y.a)(),h=Object(g.a)({props:n,muiFormControl:p,states:["variant","size","disabled","error","filled","focused","required"]}),v=Object(r.a)({},n,{component:f,contained:"filled"===h.variant||"outlined"===h.variant,variant:h.variant,size:h.size,disabled:h.disabled,error:h.error,filled:h.filled,focused:h.focused,required:h.required}),m=function(e){var t=e.classes,n=e.contained,r=e.size,o=e.disabled,i=e.error,a=e.filled,u=e.focused,c=e.required,l={root:["root",o&&"disabled",i&&"error",r&&"size".concat(Object(b.a)(r)),n&&"contained",u&&"focused",a&&"filled",c&&"required"]};return Object(s.a)(l,O,t)}(v);return Object(C.jsx)(R,Object(r.a)({as:f,ownerState:v,className:Object(a.a)(m.root,u),ref:t},d,{children:" "===i?E||(E=Object(C.jsx)("span",{className:"notranslate",children:"\u200b"})):i}))}),P=n(483);function T(e){return Object(w.a)("MuiTextField",e)}Object(x.a)("MuiTextField",["root"]);var _=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],I={standard:f.a,filled:d.a,outlined:p.a},A=Object(c.a)(v.a,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),N=i.forwardRef(function(e,t){var n=Object(l.a)({props:e,name:"MuiTextField"}),i=n.autoComplete,c=n.autoFocus,f=void 0!==c&&c,d=n.children,p=n.className,v=n.color,m=void 0===v?"primary":v,g=n.defaultValue,y=n.disabled,b=void 0!==y&&y,w=n.error,x=void 0!==w&&w,O=n.FormHelperTextProps,E=n.fullWidth,S=void 0!==E&&E,k=n.helperText,R=n.id,N=n.InputLabelProps,M=n.inputProps,D=n.InputProps,L=n.inputRef,F=n.label,B=n.maxRows,V=n.minRows,U=n.multiline,W=void 0!==U&&U,z=n.name,H=n.onBlur,q=n.onChange,G=n.onFocus,K=n.placeholder,$=n.required,X=void 0!==$&&$,Y=n.rows,J=n.select,Q=void 0!==J&&J,Z=n.SelectProps,ee=n.type,te=n.value,ne=n.variant,re=void 0===ne?"outlined":ne,oe=Object(o.a)(n,_),ie=Object(r.a)({},n,{autoFocus:f,color:m,disabled:b,error:x,fullWidth:S,multiline:W,required:X,select:Q,variant:re}),ae=function(e){var t=e.classes;return Object(s.a)({root:["root"]},T,t)}(ie);var se={};"outlined"===re&&(N&&"undefined"!==typeof N.shrink&&(se.notched=N.shrink),se.label=F),Q&&(Z&&Z.native||(se.id=void 0),se["aria-describedby"]=void 0);var ue=Object(u.a)(R),ce=k&&ue?"".concat(ue,"-helper-text"):void 0,le=F&&ue?"".concat(ue,"-label"):void 0,fe=I[re],de=Object(C.jsx)(fe,Object(r.a)({"aria-describedby":ce,autoComplete:i,autoFocus:f,defaultValue:g,fullWidth:S,multiline:W,name:z,rows:Y,maxRows:B,minRows:V,type:ee,value:te,id:ue,inputRef:L,onBlur:H,onChange:q,onFocus:G,placeholder:K,inputProps:M},se,D));return Object(C.jsxs)(A,Object(r.a)({className:Object(a.a)(ae.root,p),disabled:b,error:x,fullWidth:S,ref:t,required:X,color:m,variant:re,ownerState:ie},oe,{children:[null!=F&&""!==F&&Object(C.jsx)(h.a,Object(r.a)({htmlFor:ue,id:le},N,{children:F})),Q?Object(C.jsx)(P.a,Object(r.a)({"aria-describedby":ce,id:ue,labelId:le,value:te,input:de},Z,{children:d})):de,k&&Object(C.jsx)(j,Object(r.a)({id:ce},O,{children:k}))]}))});t.a=N},function(e,t,n){"use strict";var r=n(6),o=n(8),i=n(1),a=n(0),s=n(11),u=n(472),c=n(9),l=n(14),f=n(95),d=n(4),p=Object(f.a)(Object(d.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),h=n(267),v=n(426);function m(e){return Object(h.a)("MuiSpeedDialIcon",e)}var g=Object(v.a)("MuiSpeedDialIcon",["root","icon","iconOpen","iconWithOpenIconOpen","openIcon","openIconOpen"]),y=["className","icon","open","openIcon"],b=Object(c.a)("span",{name:"MuiSpeedDialIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[Object(r.a)({},"& .".concat(g.icon),t.icon),Object(r.a)({},"& .".concat(g.icon),n.open&&t.iconOpen),Object(r.a)({},"& .".concat(g.icon),n.open&&n.openIcon&&t.iconWithOpenIconOpen),Object(r.a)({},"& .".concat(g.openIcon),t.openIcon),Object(r.a)({},"& .".concat(g.openIcon),n.open&&t.openIconOpen),t.root]}})(function(e){var t,n=e.theme,o=e.ownerState;return t={height:24},Object(r.a)(t,"& .".concat(g.icon),Object(i.a)({transition:n.transitions.create(["transform","opacity"],{duration:n.transitions.duration.short})},o.open&&Object(i.a)({transform:"rotate(45deg)"},o.openIcon&&{opacity:0}))),Object(r.a)(t,"& .".concat(g.openIcon),Object(i.a)({position:"absolute",transition:n.transitions.create(["transform","opacity"],{duration:n.transitions.duration.short}),opacity:0,transform:"rotate(-45deg)"},o.open&&{transform:"rotate(0deg)",opacity:1})),t}),w=a.forwardRef(function(e,t){var n=Object(l.a)({props:e,name:"MuiSpeedDialIcon"}),r=n.className,c=n.icon,f=n.openIcon,h=Object(o.a)(n,y),v=n,g=function(e){var t=e.classes,n=e.open,r={root:["root"],icon:["icon",n&&"iconOpen",e.openIcon&&n&&"iconWithOpenIconOpen"],openIcon:["openIcon",n&&"openIconOpen"]};return Object(u.a)(r,m,t)}(v);function w(e,t){return a.isValidElement(e)?a.cloneElement(e,{className:t}):e}return Object(d.jsxs)(b,Object(i.a)({className:Object(s.a)(g.root,r),ref:t,ownerState:v},h,{children:[f?w(f,g.openIcon):null,c?w(c,g.icon):Object(d.jsx)(p,{className:g.icon})]}))});w.muiName="SpeedDialIcon";t.a=w},function(e,t,n){"use strict";var r=n(5),o=n(6),i=n(8),a=n(1),s=n(0),u=(n(85),n(11)),c=n(472),l=n(9),f=n(14),d=n(51),p=n(433),h=n(67),v=n(24),m=n(4),g=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],y={entering:{transform:"none"},entered:{transform:"none"}},b=s.forwardRef(function(e,t){var n=Object(d.a)(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},o=e.addEndListener,u=e.appear,c=void 0===u||u,l=e.children,f=e.easing,b=e.in,w=e.onEnter,x=e.onEntered,O=e.onEntering,E=e.onExit,S=e.onExited,C=e.onExiting,k=e.style,R=e.timeout,j=void 0===R?r:R,P=e.TransitionComponent,T=void 0===P?p.a:P,_=Object(i.a)(e,g),I=s.useRef(null),A=Object(v.a)(l.ref,t),N=Object(v.a)(I,A),M=function(e){return function(t){if(e){var n=I.current;void 0===t?e(n):e(n,t)}}},D=M(O),L=M(function(e,t){Object(h.b)(e);var r=Object(h.a)({style:k,timeout:j,easing:f},{mode:"enter"});e.style.webkitTransition=n.transitions.create("transform",r),e.style.transition=n.transitions.create("transform",r),w&&w(e,t)}),F=M(x),B=M(C),V=M(function(e){var t=Object(h.a)({style:k,timeout:j,easing:f},{mode:"exit"});e.style.webkitTransition=n.transitions.create("transform",t),e.style.transition=n.transitions.create("transform",t),E&&E(e)}),U=M(S);return Object(m.jsx)(T,Object(a.a)({appear:c,in:b,nodeRef:I,onEnter:L,onEntered:F,onEntering:D,onExit:V,onExited:U,onExiting:B,addEndListener:function(e){o&&o(I.current,e)},timeout:j},_,{children:function(e,t){return s.cloneElement(l,Object(a.a)({style:Object(a.a)({transform:"scale(0)",visibility:"exited"!==e||b?void 0:"hidden"},y[e],k,l.props.style),ref:N},t))}}))}),w=n(502),x=n(12),O=n(98),E=n(61),S=n(267),C=n(426);function k(e){return Object(S.a)("MuiSpeedDial",e)}var R=Object(C.a)("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),j=["ref"],P=["ariaLabel","FabProps","children","className","direction","hidden","icon","onBlur","onClose","onFocus","onKeyDown","onMouseEnter","onMouseLeave","onOpen","open","openIcon","TransitionComponent","transitionDuration","TransitionProps"],T=["ref"];function _(e){return"up"===e||"down"===e?"vertical":"right"===e||"left"===e?"horizontal":void 0}var I=Object(l.a)("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["direction".concat(Object(x.a)(n.direction))]]}})(function(e){var t=e.theme,n=e.ownerState;return Object(a.a)({zIndex:(t.vars||t).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none"},"up"===n.direction&&Object(o.a)({flexDirection:"column-reverse"},"& .".concat(R.actions),{flexDirection:"column-reverse",marginBottom:-32,paddingBottom:48}),"down"===n.direction&&Object(o.a)({flexDirection:"column"},"& .".concat(R.actions),{flexDirection:"column",marginTop:-32,paddingTop:48}),"left"===n.direction&&Object(o.a)({flexDirection:"row-reverse"},"& .".concat(R.actions),{flexDirection:"row-reverse",marginRight:-32,paddingRight:48}),"right"===n.direction&&Object(o.a)({flexDirection:"row"},"& .".concat(R.actions),{flexDirection:"row",marginLeft:-32,paddingLeft:48}))}),A=Object(l.a)(w.a,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:function(e,t){return t.fab}})(function(){return{pointerEvents:"auto"}}),N=Object(l.a)("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:function(e,t){var n=e.ownerState;return[t.actions,!n.open&&t.actionsClosed]}})(function(e){var t=e.ownerState;return Object(a.a)({display:"flex",pointerEvents:"auto"},!t.open&&{transition:"top 0s linear 0.2s",pointerEvents:"none"})}),M=s.forwardRef(function(e,t){var n=Object(f.a)({props:e,name:"MuiSpeedDial"}),o=Object(d.a)(),l={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},p=n.ariaLabel,h=n.FabProps,g=(h=void 0===h?{}:h).ref,y=n.children,w=n.className,S=n.direction,C=void 0===S?"up":S,R=n.hidden,M=void 0!==R&&R,D=n.icon,L=n.onBlur,F=n.onClose,B=n.onFocus,V=n.onKeyDown,U=n.onMouseEnter,W=n.onMouseLeave,z=n.onOpen,H=n.open,q=n.TransitionComponent,G=void 0===q?b:q,K=n.transitionDuration,$=void 0===K?l:K,X=n.TransitionProps,Y=Object(i.a)(n.FabProps,j),J=Object(i.a)(n,P),Q=Object(E.a)({controlled:H,default:!1,name:"SpeedDial",state:"open"}),Z=Object(r.a)(Q,2),ee=Z[0],te=Z[1],ne=Object(a.a)({},n,{open:ee,direction:C}),re=function(e){var t=e.classes,n=e.open,r=e.direction,o={root:["root","direction".concat(Object(x.a)(r))],fab:["fab"],actions:["actions",!n&&"actionsClosed"]};return Object(c.a)(o,k,t)}(ne),oe=s.useRef();s.useEffect(function(){return function(){clearTimeout(oe.current)}},[]);var ie=s.useRef(0),ae=s.useRef(),se=s.useRef([]);se.current=[se.current[0]];var ue=s.useCallback(function(e){se.current[0]=e},[]),ce=Object(v.a)(g,ue),le=function(e,t){return function(n){se.current[e+1]=n,t&&t(n)}};s.useEffect(function(){ee||(ie.current=0,ae.current=void 0)},[ee]);var fe=function(e){"mouseleave"===e.type&&W&&W(e),"blur"===e.type&&L&&L(e),clearTimeout(oe.current),"blur"===e.type?oe.current=setTimeout(function(){te(!1),F&&F(e,"blur")}):(te(!1),F&&F(e,"mouseLeave"))},de=function(e){"mouseenter"===e.type&&U&&U(e),"focus"===e.type&&B&&B(e),clearTimeout(oe.current),ee||(oe.current=setTimeout(function(){if(te(!0),z){z(e,{focus:"focus",mouseenter:"mouseEnter"}[e.type])}}))},pe=p.replace(/^[^a-z]+|[^\w:.-]+/gi,""),he=s.Children.toArray(y).filter(function(e){return s.isValidElement(e)}),ve=he.map(function(e,t){var n=e.props,r=n.FabProps,o=(r=void 0===r?{}:r).ref,u=n.tooltipPlacement,c=Object(i.a)(n.FabProps,T),l=u||("vertical"===_(C)?"left":"top");return s.cloneElement(e,{FabProps:Object(a.a)({},c,{ref:le(t,o)}),delay:30*(ee?t:he.length-t),open:ee,tooltipPlacement:l,id:"".concat(pe,"-action-").concat(t)})});return Object(m.jsxs)(I,Object(a.a)({className:Object(u.a)(re.root,w),ref:t,role:"presentation",onKeyDown:function(e){V&&V(e);var t,n,r,o=e.key.replace("Arrow","").toLowerCase(),i=ae.current,a=void 0===i?o:i;if("Escape"===e.key)return te(!1),se.current[0].focus(),void(F&&F(e,"escapeKeyDown"));if(_(o)===_(a)&&void 0!==_(o)){e.preventDefault();var s=o===a?1:-1,u=(t=ie.current+s,n=0,r=se.current.length-1,t<n?n:t>r?r:t);se.current[u].focus(),ie.current=u,ae.current=a}},onBlur:fe,onFocus:de,onMouseEnter:de,onMouseLeave:fe,ownerState:ne},J,{children:[Object(m.jsx)(G,Object(a.a)({in:!M,timeout:$,unmountOnExit:!0},X,{children:Object(m.jsx)(A,Object(a.a)({color:"primary","aria-label":p,"aria-haspopup":"true","aria-expanded":ee,"aria-controls":"".concat(pe,"-actions")},Y,{onClick:function(e){Y.onClick&&Y.onClick(e),clearTimeout(oe.current),ee?(te(!1),F&&F(e,"toggle")):(te(!0),z&&z(e,"toggle"))},className:Object(u.a)(re.fab,Y.className),ref:ce,ownerState:ne,children:s.isValidElement(D)&&Object(O.a)(D,["SpeedDialIcon"])?s.cloneElement(D,{open:ee}):D}))})),Object(m.jsx)(N,{id:"".concat(pe,"-actions"),role:"menu","aria-orientation":_(C),className:Object(u.a)(re.actions,!ee&&re.actionsClosed),ownerState:ne,children:ve})]}))});t.a=M},function(e,t,n){"use strict";var r=n(25),o=n(6),i=n(8),a=n(1),s=n(0),u=n(11),c=n(44),l=n(479),f=n(472),d=n(9),p=n(14),h=n(51);var v=s.createContext(),m=n(267),g=n(426);function y(e){return Object(m.a)("MuiGrid",e)}var b=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],w=Object(g.a)("MuiGrid",["root","container","item","zeroMinWidth"].concat(Object(r.a)([0,1,2,3,4,5,6,7,8,9,10].map(function(e){return"spacing-xs-".concat(e)})),Object(r.a)(["column-reverse","column","row-reverse","row"].map(function(e){return"direction-xs-".concat(e)})),Object(r.a)(["nowrap","wrap-reverse","wrap"].map(function(e){return"wrap-xs-".concat(e)})),Object(r.a)(b.map(function(e){return"grid-xs-".concat(e)})),Object(r.a)(b.map(function(e){return"grid-sm-".concat(e)})),Object(r.a)(b.map(function(e){return"grid-md-".concat(e)})),Object(r.a)(b.map(function(e){return"grid-lg-".concat(e)})),Object(r.a)(b.map(function(e){return"grid-xl-".concat(e)})))),x=n(4),O=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function E(e){var t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function S(e){var t=e.breakpoints,n=e.values,r="";Object.keys(n).forEach(function(e){""===r&&0!==n[e]&&(r=e)});var o=Object.keys(t).sort(function(e,n){return t[e]-t[n]});return o.slice(0,o.indexOf(r))}var C=Object(d.a)("div",{name:"MuiGrid",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,o=n.container,i=n.direction,a=n.item,s=n.spacing,u=n.wrap,c=n.zeroMinWidth,l=n.breakpoints,f=[];o&&(f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];var r=[];return t.forEach(function(t){var o=e[t];Number(o)>0&&r.push(n["spacing-".concat(t,"-").concat(String(o))])}),r}(s,l,t));var d=[];return l.forEach(function(e){var r=n[e];r&&d.push(t["grid-".concat(e,"-").concat(String(r))])}),[t.root,o&&t.container,a&&t.item,c&&t.zeroMinWidth].concat(Object(r.a)(f),["row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==u&&t["wrap-xs-".concat(String(u))]],d)}})(function(e){var t=e.ownerState;return Object(a.a)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})},function(e){var t=e.theme,n=e.ownerState,r=Object(c.d)({values:n.direction,breakpoints:t.breakpoints.values});return Object(c.b)({theme:t},r,function(e){var t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(w.item)]={maxWidth:"none"}),t})},function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.rowSpacing,a={};if(r&&0!==i){var s,u=Object(c.d)({values:i,breakpoints:t.breakpoints.values});"object"===typeof u&&(s=S({breakpoints:t.breakpoints.values,values:u})),a=Object(c.b)({theme:t},u,function(e,n){var r,i=t.spacing(e);return"0px"!==i?Object(o.a)({marginTop:"-".concat(E(i))},"& > .".concat(w.item),{paddingTop:E(i)}):null!=(r=s)&&r.includes(n)?{}:Object(o.a)({marginTop:0},"& > .".concat(w.item),{paddingTop:0})})}return a},function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.columnSpacing,a={};if(r&&0!==i){var s,u=Object(c.d)({values:i,breakpoints:t.breakpoints.values});"object"===typeof u&&(s=S({breakpoints:t.breakpoints.values,values:u})),a=Object(c.b)({theme:t},u,function(e,n){var r,i=t.spacing(e);return"0px"!==i?Object(o.a)({width:"calc(100% + ".concat(E(i),")"),marginLeft:"-".concat(E(i))},"& > .".concat(w.item),{paddingLeft:E(i)}):null!=(r=s)&&r.includes(n)?{}:Object(o.a)({width:"100%",marginLeft:0},"& > .".concat(w.item),{paddingLeft:0})})}return a},function(e){var t,n=e.theme,r=e.ownerState;return n.breakpoints.keys.reduce(function(e,o){var i={};if(r[o]&&(t=r[o]),!t)return e;if(!0===t)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{var s=Object(c.d)({values:r.columns,breakpoints:n.breakpoints.values}),u="object"===typeof s?s[o]:s;if(void 0===u||null===u)return e;var l="".concat(Math.round(t/u*1e8)/1e6,"%"),f={};if(r.container&&r.item&&0!==r.columnSpacing){var d=n.spacing(r.columnSpacing);if("0px"!==d){var p="calc(".concat(l," + ").concat(E(d),")");f={flexBasis:p,maxWidth:p}}}i=Object(a.a)({flexBasis:l,flexGrow:0,maxWidth:l},f)}return 0===n.breakpoints.values[o]?Object.assign(e,i):e[n.breakpoints.up(o)]=i,e},{})});var k=function(e){var t=e.classes,n=e.container,o=e.direction,i=e.item,a=e.spacing,s=e.wrap,u=e.zeroMinWidth,c=e.breakpoints,l=[];n&&(l=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];var n=[];return t.forEach(function(t){var r=e[t];if(Number(r)>0){var o="spacing-".concat(t,"-").concat(String(r));n.push(o)}}),n}(a,c));var d=[];c.forEach(function(t){var n=e[t];n&&d.push("grid-".concat(t,"-").concat(String(n)))});var p={root:["root",n&&"container",i&&"item",u&&"zeroMinWidth"].concat(Object(r.a)(l),["row"!==o&&"direction-xs-".concat(String(o)),"wrap"!==s&&"wrap-xs-".concat(String(s))],d)};return Object(f.a)(p,y,t)},R=s.forwardRef(function(e,t){var n=Object(p.a)({props:e,name:"MuiGrid"}),r=Object(h.a)().breakpoints,o=Object(l.a)(n),c=o.className,f=o.columns,d=o.columnSpacing,m=o.component,g=void 0===m?"div":m,y=o.container,b=void 0!==y&&y,w=o.direction,E=void 0===w?"row":w,S=o.item,R=void 0!==S&&S,j=o.rowSpacing,P=o.spacing,T=void 0===P?0:P,_=o.wrap,I=void 0===_?"wrap":_,A=o.zeroMinWidth,N=void 0!==A&&A,M=Object(i.a)(o,O),D=j||T,L=d||T,F=s.useContext(v),B=b?f||12:F,V={},U=Object(a.a)({},M);r.keys.forEach(function(e){null!=M[e]&&(V[e]=M[e],delete U[e])});var W=Object(a.a)({},o,{columns:B,container:b,direction:E,item:R,rowSpacing:D,columnSpacing:L,wrap:I,zeroMinWidth:N,spacing:T},V,{breakpoints:r.keys}),z=k(W);return Object(x.jsx)(v.Provider,{value:B,children:Object(x.jsx)(C,Object(a.a)({ownerState:W,className:Object(u.a)(z.root,c),as:g,ref:t},U))})});t.a=R},function(e,t,n){"use strict";var r=n(6),o=n(8),i=n(1),a=n(0),s=n(11),u=n(266),c=n(267),l=n(472),f=n(435),d=n(137),p=Object(d.a)(),h=n(432),v=n(4),m=["className","component","disableGutters","fixed","maxWidth","classes"],g=Object(h.a)(),y=p("div",{name:"MuiContainer",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["maxWidth".concat(Object(u.a)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),b=function(e){return Object(f.a)({props:e,name:"MuiContainer",defaultTheme:g})},w=function(e,t){var n=e.classes,r=e.fixed,o=e.disableGutters,i=e.maxWidth,a={root:["root",i&&"maxWidth".concat(Object(u.a)(String(i))),r&&"fixed",o&&"disableGutters"]};return Object(l.a)(a,function(e){return Object(c.a)(t,e)},n)};var x=n(12),O=n(9),E=n(14),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createStyledComponent,n=void 0===t?y:t,u=e.useThemeProps,c=void 0===u?b:u,l=e.componentName,f=void 0===l?"MuiContainer":l,d=n(function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&Object(r.a)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}))},function(e){var t=e.theme;return e.ownerState.fixed&&Object.keys(t.breakpoints.values).reduce(function(e,n){var r=n,o=t.breakpoints.values[r];return 0!==o&&(e[t.breakpoints.up(r)]={maxWidth:"".concat(o).concat(t.breakpoints.unit)}),e},{})},function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({},"xs"===n.maxWidth&&Object(r.a)({},t.breakpoints.up("xs"),{maxWidth:Math.max(t.breakpoints.values.xs,444)}),n.maxWidth&&"xs"!==n.maxWidth&&Object(r.a)({},t.breakpoints.up(n.maxWidth),{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}))});return a.forwardRef(function(e,t){var n=c(e),r=n.className,a=n.component,u=void 0===a?"div":a,l=n.disableGutters,p=void 0!==l&&l,h=n.fixed,g=void 0!==h&&h,y=n.maxWidth,b=void 0===y?"lg":y,x=Object(o.a)(n,m),O=Object(i.a)({},n,{component:u,disableGutters:p,fixed:g,maxWidth:b}),E=w(O,f);return Object(v.jsx)(d,Object(i.a)({as:u,ownerState:O,className:Object(s.a)(E.root,r),ref:t},x))})}({createStyledComponent:Object(O.a)("div",{name:"MuiContainer",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["maxWidth".concat(Object(x.a)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:function(e){return Object(E.a)({props:e,name:"MuiContainer"})}});t.a=S},function(e,t,n){"use strict";var r=n(5),o=n(1),i=n(8),a=n(0),s=n(11),u=n(472),c=n(9),l=n(14),f=n(267),d=n(426);function p(e){return Object(f.a)("MuiFormGroup",e)}Object(d.a)("MuiFormGroup",["root","row","error"]);var h=n(47),v=n(48),m=n(4),g=["className","row"],y=Object(c.a)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.row&&t.row]}})(function(e){var t=e.ownerState;return Object(o.a)({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})}),b=a.forwardRef(function(e,t){var n=Object(l.a)({props:e,name:"MuiFormGroup"}),r=n.className,a=n.row,c=void 0!==a&&a,f=Object(i.a)(n,g),d=Object(h.a)(),b=Object(v.a)({props:n,muiFormControl:d,states:["error"]}),w=Object(o.a)({},n,{row:c,error:b.error}),x=function(e){var t=e.classes,n={root:["root",e.row&&"row",e.error&&"error"]};return Object(u.a)(n,p,t)}(w);return Object(m.jsx)(y,Object(o.a)({className:Object(s.a)(x.root,r),ownerState:w,ref:t},f))}),w=n(24),x=n(61),O=n(150),E=n(109),S=["actions","children","defaultValue","name","onChange","value"],C=a.forwardRef(function(e,t){var n=e.actions,s=e.children,u=e.defaultValue,c=e.name,l=e.onChange,f=e.value,d=Object(i.a)(e,S),p=a.useRef(null),h=Object(x.a)({controlled:f,default:u,name:"RadioGroup"}),v=Object(r.a)(h,2),g=v[0],y=v[1];a.useImperativeHandle(n,function(){return{focus:function(){var e=p.current.querySelector("input:not(:disabled):checked");e||(e=p.current.querySelector("input:not(:disabled)")),e&&e.focus()}}},[]);var C=Object(w.a)(t,p),k=Object(E.a)(c);return Object(m.jsx)(O.a.Provider,{value:{name:k,onChange:function(e){y(e.target.value),l&&l(e,e.target.value)},value:g},children:Object(m.jsx)(b,Object(o.a)({role:"radiogroup",ref:C},d,{children:s}))})});t.a=C},function(e,t,n){"use strict";var r=n(25),o=n(5),i=n(6),a=n(8),s=n(1),u=n(0),c=n(11),l=n(472),f=n(12),d=n(9),p=n(14),h=n(96),v=n(24),m=n(510),g=n(267),y=n(426);function b(e){return Object(g.a)("MuiLink",e)}var w=Object(y.a)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),x=n(13),O=n(474),E={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},S=function(e){var t=e.theme,n=e.ownerState,r=function(e){return E[e]||e}(n.color),o=Object(x.b)(t,"palette.".concat(r),!1)||n.color,i=Object(x.b)(t,"palette.".concat(r,"Channel"));return"vars"in t&&i?"rgba(".concat(i," / 0.4)"):Object(O.a)(o,.4)},C=n(4),k=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],R=Object(d.a)(m.a,{name:"MuiLink",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["underline".concat(Object(f.a)(n.underline))],"button"===n.component&&t.button]}})(function(e){var t=e.theme,n=e.ownerState;return Object(s.a)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&Object(s.a)({textDecoration:"underline"},"inherit"!==n.color&&{textDecorationColor:S({theme:t,ownerState:n})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===n.component&&Object(i.a)({position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(w.focusVisible),{outline:"auto"}))}),j=u.forwardRef(function(e,t){var n=Object(p.a)({props:e,name:"MuiLink"}),i=n.className,d=n.color,m=void 0===d?"primary":d,g=n.component,y=void 0===g?"a":g,w=n.onBlur,x=n.onFocus,O=n.TypographyClasses,S=n.underline,j=void 0===S?"always":S,P=n.variant,T=void 0===P?"inherit":P,_=n.sx,I=Object(a.a)(n,k),A=Object(h.a)(),N=A.isFocusVisibleRef,M=A.onBlur,D=A.onFocus,L=A.ref,F=u.useState(!1),B=Object(o.a)(F,2),V=B[0],U=B[1],W=Object(v.a)(t,L),z=Object(s.a)({},n,{color:m,component:y,focusVisible:V,underline:j,variant:T}),H=function(e){var t=e.classes,n=e.component,r=e.focusVisible,o=e.underline,i={root:["root","underline".concat(Object(f.a)(o)),"button"===n&&"button",r&&"focusVisible"]};return Object(l.a)(i,b,t)}(z);return Object(C.jsx)(R,Object(s.a)({color:m,className:Object(c.a)(H.root,i),classes:O,component:y,onBlur:function(e){M(e),!1===N.current&&U(!1),w&&w(e)},onFocus:function(e){D(e),!0===N.current&&U(!0),x&&x(e)},ref:W,ownerState:z,variant:T,sx:[].concat(Object(r.a)(Object.keys(E).includes(m)?[]:[{color:m}]),Object(r.a)(Array.isArray(_)?_:[_]))},I))});t.a=j},function(e,t,n){"use strict";var r,o=n(6),i=n(8),a=n(1),s=n(0),u=n(472),c=n(9),l=n(4),f=["children","classes","className","label","notched"],d=Object(c.a)("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),p=Object(c.a)("legend")(function(e){var t=e.ownerState,n=e.theme;return Object(a.a)({float:"unset",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&Object(a.a)({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))});var h=n(47),v=n(48),m=n(267),g=n(426),y=n(136);function b(e){return Object(m.a)("MuiOutlinedInput",e)}var w=Object(a.a)({},y.a,Object(g.a)("MuiOutlinedInput",["root","notchedOutline","input"])),x=n(50),O=n(14),E=["components","fullWidth","inputComponent","label","multiline","notched","type"],S=Object(c.a)(x.b,{shouldForwardProp:function(e){return Object(c.b)(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:x.e})(function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return Object(a.a)((t={position:"relative",borderRadius:(n.vars||n).shape.borderRadius},Object(o.a)(t,"&:hover .".concat(w.notchedOutline),{borderColor:(n.vars||n).palette.text.primary}),Object(o.a)(t,"@media (hover: none)",Object(o.a)({},"&:hover .".concat(w.notchedOutline),{borderColor:n.vars?"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.23)"):i})),Object(o.a)(t,"&.".concat(w.focused," .").concat(w.notchedOutline),{borderColor:(n.vars||n).palette[r.color].main,borderWidth:2}),Object(o.a)(t,"&.".concat(w.error," .").concat(w.notchedOutline),{borderColor:(n.vars||n).palette.error.main}),Object(o.a)(t,"&.".concat(w.disabled," .").concat(w.notchedOutline),{borderColor:(n.vars||n).palette.action.disabled}),t),r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&Object(a.a)({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))}),C=Object(c.a)(function(e){var t=e.className,n=e.label,o=e.notched,s=Object(i.a)(e,f),u=null!=n&&""!==n,c=Object(a.a)({},e,{notched:o,withLabel:u});return Object(l.jsx)(d,Object(a.a)({"aria-hidden":!0,className:t,ownerState:c},s,{children:Object(l.jsx)(p,{ownerState:c,children:u?Object(l.jsx)("span",{children:n}):r||(r=Object(l.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))},{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})(function(e){var t=e.theme,n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}}),k=Object(c.a)(x.a,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:x.d})(function(e){var t=e.theme,n=e.ownerState;return Object(a.a)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&Object(o.a)({"&:-webkit-autofill":{borderRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})}),R=s.forwardRef(function(e,t){var n,r=Object(O.a)({props:e,name:"MuiOutlinedInput"}),o=r.components,c=void 0===o?{}:o,f=r.fullWidth,d=void 0!==f&&f,p=r.inputComponent,m=void 0===p?"input":p,g=r.label,y=r.multiline,w=void 0!==y&&y,R=r.notched,j=r.type,P=void 0===j?"text":j,T=Object(i.a)(r,E),_=function(e){var t=e.classes,n=Object(u.a)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},b,t);return Object(a.a)({},t,n)}(r),I=Object(h.a)(),A=Object(v.a)({props:r,muiFormControl:I,states:["required"]}),N=Object(a.a)({},r,{color:A.color||"primary",disabled:A.disabled,error:A.error,focused:A.focused,formControl:I,fullWidth:d,hiddenLabel:A.hiddenLabel,multiline:w,size:A.size,type:P});return Object(l.jsx)(x.c,Object(a.a)({components:Object(a.a)({Root:S,Input:k},c),renderSuffix:function(e){return Object(l.jsx)(C,{ownerState:N,className:_.notchedOutline,label:null!=g&&""!==g&&A.required?n||(n=Object(l.jsxs)(s.Fragment,{children:[g,"\xa0","*"]})):g,notched:"undefined"!==typeof R?R:Boolean(e.startAdornment||e.filled||e.focused)})},fullWidth:d,inputComponent:m,multiline:w,ref:t,type:P},T,{classes:Object(a.a)({},_,{notchedOutline:null})}))});R.muiName="Input";t.a=R},function(e,t,n){"use strict";var r=n(6),o=n(8),i=n(1),a=n(0),s=n(11),u=n(476),c=n(472),l=n(474),f=n(9),d=n(14),p=n(484),h=n(12),v=n(267),m=n(426);function g(e){return Object(v.a)("MuiButton",e)}var y=Object(m.a)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var b=a.createContext({}),w=n(4),x=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],O=["root"],E=function(e){return Object(i.a)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},S=Object(f.a)(p.a,{shouldForwardProp:function(e){return Object(f.b)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(Object(h.a)(n.color))],t["size".concat(Object(h.a)(n.size))],t["".concat(n.variant,"Size").concat(Object(h.a)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(function(e){var t,n,o,a=e.theme,s=e.ownerState;return Object(i.a)({},a.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:(a.vars||a).shape.borderRadius,transition:a.transitions.create(["background-color","box-shadow","border-color","color"],{duration:a.transitions.duration.short}),"&:hover":Object(i.a)({textDecoration:"none",backgroundColor:a.vars?"rgba(".concat(a.vars.palette.text.primaryChannel," / ").concat(a.vars.palette.action.hoverOpacity,")"):Object(l.a)(a.palette.text.primary,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===s.variant&&"inherit"!==s.color&&{backgroundColor:a.vars?"rgba(".concat(a.vars.palette[s.color].mainChannel," / ").concat(a.vars.palette.action.hoverOpacity,")"):Object(l.a)(a.palette[s.color].main,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===s.variant&&"inherit"!==s.color&&{border:"1px solid ".concat((a.vars||a).palette[s.color].main),backgroundColor:a.vars?"rgba(".concat(a.vars.palette[s.color].mainChannel," / ").concat(a.vars.palette.action.hoverOpacity,")"):Object(l.a)(a.palette[s.color].main,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===s.variant&&{backgroundColor:(a.vars||a).palette.grey.A100,boxShadow:(a.vars||a).shadows[4],"@media (hover: none)":{boxShadow:(a.vars||a).shadows[2],backgroundColor:(a.vars||a).palette.grey[300]}},"contained"===s.variant&&"inherit"!==s.color&&{backgroundColor:(a.vars||a).palette[s.color].dark,"@media (hover: none)":{backgroundColor:(a.vars||a).palette[s.color].main}}),"&:active":Object(i.a)({},"contained"===s.variant&&{boxShadow:(a.vars||a).shadows[8]})},Object(r.a)(t,"&.".concat(y.focusVisible),Object(i.a)({},"contained"===s.variant&&{boxShadow:(a.vars||a).shadows[6]})),Object(r.a)(t,"&.".concat(y.disabled),Object(i.a)({color:(a.vars||a).palette.action.disabled},"outlined"===s.variant&&{border:"1px solid ".concat((a.vars||a).palette.action.disabledBackground)},"outlined"===s.variant&&"secondary"===s.color&&{border:"1px solid ".concat((a.vars||a).palette.action.disabled)},"contained"===s.variant&&{color:(a.vars||a).palette.action.disabled,boxShadow:(a.vars||a).shadows[0],backgroundColor:(a.vars||a).palette.action.disabledBackground})),t),"text"===s.variant&&{padding:"6px 8px"},"text"===s.variant&&"inherit"!==s.color&&{color:(a.vars||a).palette[s.color].main},"outlined"===s.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===s.variant&&"inherit"!==s.color&&{color:(a.vars||a).palette[s.color].main,border:a.vars?"1px solid rgba(".concat(a.vars.palette[s.color].mainChannel," / 0.5)"):"1px solid ".concat(Object(l.a)(a.palette[s.color].main,.5))},"contained"===s.variant&&{color:a.vars?a.vars.palette.text.primary:null==(n=(o=a.palette).getContrastText)?void 0:n.call(o,a.palette.grey[300]),backgroundColor:(a.vars||a).palette.grey[300],boxShadow:(a.vars||a).shadows[2]},"contained"===s.variant&&"inherit"!==s.color&&{color:(a.vars||a).palette[s.color].contrastText,backgroundColor:(a.vars||a).palette[s.color].main},"inherit"===s.color&&{color:"inherit",borderColor:"currentColor"},"small"===s.size&&"text"===s.variant&&{padding:"4px 5px",fontSize:a.typography.pxToRem(13)},"large"===s.size&&"text"===s.variant&&{padding:"8px 11px",fontSize:a.typography.pxToRem(15)},"small"===s.size&&"outlined"===s.variant&&{padding:"3px 9px",fontSize:a.typography.pxToRem(13)},"large"===s.size&&"outlined"===s.variant&&{padding:"7px 21px",fontSize:a.typography.pxToRem(15)},"small"===s.size&&"contained"===s.variant&&{padding:"4px 10px",fontSize:a.typography.pxToRem(13)},"large"===s.size&&"contained"===s.variant&&{padding:"8px 22px",fontSize:a.typography.pxToRem(15)},s.fullWidth&&{width:"100%"})},function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},Object(r.a)(t,"&.".concat(y.focusVisible),{boxShadow:"none"}),Object(r.a)(t,"&:active",{boxShadow:"none"}),Object(r.a)(t,"&.".concat(y.disabled),{boxShadow:"none"}),t)}),C=Object(f.a)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(Object(h.a)(n.size))]]}})(function(e){var t=e.ownerState;return Object(i.a)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},E(t))}),k=Object(f.a)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(Object(h.a)(n.size))]]}})(function(e){var t=e.ownerState;return Object(i.a)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},E(t))}),R=a.forwardRef(function(e,t){var n=a.useContext(b),r=Object(u.a)(n,e),l=Object(d.a)({props:r,name:"MuiButton"}),f=l.children,p=l.color,v=void 0===p?"primary":p,m=l.component,y=void 0===m?"button":m,E=l.className,R=l.disabled,j=void 0!==R&&R,P=l.disableElevation,T=void 0!==P&&P,_=l.disableFocusRipple,I=void 0!==_&&_,A=l.endIcon,N=l.focusVisibleClassName,M=l.fullWidth,D=void 0!==M&&M,L=l.size,F=void 0===L?"medium":L,B=l.startIcon,V=l.type,U=l.variant,W=void 0===U?"text":U,z=Object(o.a)(l,x),H=Object(i.a)({},l,{color:v,component:y,disabled:j,disableElevation:T,disableFocusRipple:I,fullWidth:D,size:F,type:V,variant:W}),q=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,o=e.size,a=e.variant,s=e.classes,u={root:["root",a,"".concat(a).concat(Object(h.a)(t)),"size".concat(Object(h.a)(o)),"".concat(a,"Size").concat(Object(h.a)(o)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(Object(h.a)(o))],endIcon:["endIcon","iconSize".concat(Object(h.a)(o))]},l=Object(c.a)(u,g,s);return Object(i.a)({},s,l)}(H),G=q.root,K=Object(o.a)(q,O),$=B&&Object(w.jsx)(C,{className:K.startIcon,ownerState:H,children:B}),X=A&&Object(w.jsx)(k,{className:K.endIcon,ownerState:H,children:A});return Object(w.jsxs)(S,Object(i.a)({ownerState:H,className:Object(s.a)(n.className,G,E),component:y,disabled:j,focusRipple:!I,focusVisibleClassName:Object(s.a)(K.focusVisible,N),ref:t,type:V},z,{classes:K,children:[$,f,X]}))});t.a=R},function(e,t,n){"use strict";var r=n(7),o=n(0),i=n(114);var a=n(73),s=n(88),u=0;function c(){var e=u;return u++,e}var l=function(e){var t=e.children,n=e.initial,r=e.isPresent,i=e.onExitComplete,u=e.custom,l=e.presenceAffectsLayout,d=Object(s.a)(f),p=Object(s.a)(c),h=Object(o.useMemo)(function(){return{id:p,initial:n,isPresent:r,custom:u,onExitComplete:function(e){d.set(e,!0);var t=!0;d.forEach(function(e){e||(t=!1)}),t&&(null===i||void 0===i||i())},register:function(e){return d.set(e,!1),function(){return d.delete(e)}}}},l?void 0:[r]);return Object(o.useMemo)(function(){d.forEach(function(e,t){return d.set(t,!1)})},[r]),o.useEffect(function(){!r&&!d.size&&(null===i||void 0===i||i())},[r]),o.createElement(a.a.Provider,{value:h},t)};function f(){return new Map}var d=n(70);function p(e){return e.key||""}n.d(t,"a",function(){return h});var h=function(e){var t=e.children,n=e.custom,a=e.initial,s=void 0===a||a,u=e.onExitComplete,c=e.exitBeforeEnter,f=e.presenceAffectsLayout,h=void 0===f||f,v=function(){var e=Object(o.useRef)(!1),t=Object(r.c)(Object(o.useState)(0),2),n=t[0],a=t[1];return Object(i.a)(function(){return e.current=!0}),Object(o.useCallback)(function(){!e.current&&a(n+1)},[n])}(),m=Object(o.useContext)(d.b);Object(d.c)(m)&&(v=m.forceUpdate);var g=Object(o.useRef)(!0),y=function(e){var t=[];return o.Children.forEach(e,function(e){Object(o.isValidElement)(e)&&t.push(e)}),t}(t),b=Object(o.useRef)(y),w=Object(o.useRef)(new Map).current,x=Object(o.useRef)(new Set).current;if(function(e,t){e.forEach(function(e){var n=p(e);t.set(n,e)})}(y,w),g.current)return g.current=!1,o.createElement(o.Fragment,null,y.map(function(e){return o.createElement(l,{key:p(e),isPresent:!0,initial:!!s&&void 0,presenceAffectsLayout:h},e)}));for(var O=Object(r.e)([],Object(r.c)(y)),E=b.current.map(p),S=y.map(p),C=E.length,k=0;k<C;k++){var R=E[k];-1===S.indexOf(R)?x.add(R):x.delete(R)}return c&&x.size&&(O=[]),x.forEach(function(e){if(-1===S.indexOf(e)){var t=w.get(e);if(t){var r=E.indexOf(e);O.splice(r,0,o.createElement(l,{key:p(t),isPresent:!1,onExitComplete:function(){w.delete(e),x.delete(e);var t=b.current.findIndex(function(t){return t.key===e});b.current.splice(t,1),x.size||(b.current=y,v(),u&&u())},custom:n,presenceAffectsLayout:h},t))}}}),O=O.map(function(e){var t=e.key;return x.has(t)?e:o.createElement(l,{key:p(e),isPresent:!0,presenceAffectsLayout:h},e)}),b.current=O,o.createElement(o.Fragment,null,x.size?O:O.map(function(e){return Object(o.cloneElement)(e)}))}},function(e,t,n){"use strict";var r=n(8),o=n(1),i=n(0),a=n(11),s=n(472),u=n(9),c=n(14),l=n(12),f=n(505),d=n(267),p=n(426);function h(e){return Object(d.a)("MuiAppBar",e)}Object(p.a)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);var v=n(4),m=["className","color","enableColorOnDark","position"],g=function(e,t){return"".concat(null==e?void 0:e.replace(")",""),", ").concat(t,")")},y=Object(u.a)(f.a,{name:"MuiAppBar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["position".concat(Object(l.a)(n.position))],t["color".concat(Object(l.a)(n.color))]]}})(function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return Object(o.a)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},!t.vars&&Object(o.a)({},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&Object(o.a)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&Object(o.a)({},"default"===n.color&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette.AppBar.defaultBg:g(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":n.enableColorOnDark?t.vars.palette.text.primary:g(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},n.color&&!n.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette[n.color].main:g(t.vars.palette.AppBar.darkBg,t.vars.palette[n.color].main),"--AppBar-color":n.enableColorOnDark?t.vars.palette[n.color].contrastText:g(t.vars.palette.AppBar.darkColor,t.vars.palette[n.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:"inherit"===n.color?"inherit":"var(--AppBar-color)"},"transparent"===n.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),b=i.forwardRef(function(e,t){var n=Object(c.a)({props:e,name:"MuiAppBar"}),i=n.className,u=n.color,f=void 0===u?"primary":u,d=n.enableColorOnDark,p=void 0!==d&&d,g=n.position,b=void 0===g?"fixed":g,w=Object(r.a)(n,m),x=Object(o.a)({},n,{color:f,position:b,enableColorOnDark:p}),O=function(e){var t=e.color,n=e.position,r=e.classes,o={root:["root","color".concat(Object(l.a)(t)),"position".concat(Object(l.a)(n))]};return Object(s.a)(o,h,r)}(x);return Object(v.jsx)(y,Object(o.a)({square:!0,component:"header",ownerState:x,elevation:4,className:Object(a.a)(O.root,i,"fixed"===b&&"mui-fixed"),ref:t},w))});t.a=b},function(e,t,n){"use strict";var r=n(6),o=n(8),i=n(1),a=n(0),s=n(11),u=n(472),c=n(474),l=n(9),f=n(14),d=n(484),p=n(12),h=n(267),v=n(426);function m(e){return Object(h.a)("MuiIconButton",e)}var g=Object(v.a)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),y=n(4),b=["edge","children","className","color","disabled","disableFocusRipple","size"],w=Object(l.a)(d.a,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat(Object(p.a)(n.color))],n.edge&&t["edge".concat(Object(p.a)(n.edge))],t["size".concat(Object(p.a)(n.size))]]}})(function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.active," / ").concat(t.vars.palette.action.hoverOpacity,")"):Object(c.a)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})},function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&Object(i.a)({color:(t.vars||t).palette[n.color].main},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Object(c.a)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},Object(r.a)({},"&.".concat(g.disabled),{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}))}),x=a.forwardRef(function(e,t){var n=Object(f.a)({props:e,name:"MuiIconButton"}),r=n.edge,a=void 0!==r&&r,c=n.children,l=n.className,d=n.color,h=void 0===d?"default":d,v=n.disabled,g=void 0!==v&&v,x=n.disableFocusRipple,O=void 0!==x&&x,E=n.size,S=void 0===E?"medium":E,C=Object(o.a)(n,b),k=Object(i.a)({},n,{edge:a,color:h,disabled:g,disableFocusRipple:O,size:S}),R=function(e){var t=e.classes,n=e.disabled,r=e.color,o=e.edge,i=e.size,a={root:["root",n&&"disabled","default"!==r&&"color".concat(Object(p.a)(r)),o&&"edge".concat(Object(p.a)(o)),"size".concat(Object(p.a)(i))]};return Object(u.a)(a,m,t)}(k);return Object(y.jsx)(w,Object(i.a)({className:Object(s.a)(R.root,l),centerRipple:!0,focusRipple:!O,disabled:g,ref:t,ownerState:k},C,{children:c}))});t.a=x},function(e,t,n){"use strict";var r=n(6),o=n(8),i=n(1),a=n(0),s=n(11),u=n(472),c=n(484),l=n(12),f=n(14),d=n(267),p=n(426);function h(e){return Object(d.a)("MuiFab",e)}var v=Object(p.a)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),m=n(9),g=n(4),y=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],b=Object(m.a)(c.a,{name:"MuiFab",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["size".concat(Object(l.a)(n.size))],"inherit"===n.color&&t.colorInherit,t[Object(l.a)(n.size)],t[n.color]]}})(function(e){var t,n,o,a=e.theme,s=e.ownerState;return Object(i.a)({},a.typography.button,(t={minHeight:36,transition:a.transitions.create(["background-color","box-shadow","border-color"],{duration:a.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(a.vars||a).zIndex.fab,boxShadow:(a.vars||a).shadows[6],"&:active":{boxShadow:(a.vars||a).shadows[12]},color:a.vars?a.vars.palette.text.primary:null==(n=(o=a.palette).getContrastText)?void 0:n.call(o,a.palette.grey[300]),backgroundColor:(a.vars||a).palette.grey[300],"&:hover":{backgroundColor:(a.vars||a).palette.grey.A100,"@media (hover: none)":{backgroundColor:(a.vars||a).palette.grey[300]},textDecoration:"none"}},Object(r.a)(t,"&.".concat(v.focusVisible),{boxShadow:(a.vars||a).shadows[6]}),Object(r.a)(t,"&.".concat(v.disabled),{color:(a.vars||a).palette.action.disabled,boxShadow:(a.vars||a).shadows[0],backgroundColor:(a.vars||a).palette.action.disabledBackground}),t),"small"===s.size&&{width:40,height:40},"medium"===s.size&&{width:48,height:48},"extended"===s.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===s.variant&&"small"===s.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===s.variant&&"medium"===s.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===s.color&&{color:"inherit"})},function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({},"inherit"!==n.color&&"default"!==n.color&&null!=(t.vars||t).palette[n.color]&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}})}),w=a.forwardRef(function(e,t){var n=Object(f.a)({props:e,name:"MuiFab"}),r=n.children,a=n.className,c=n.color,d=void 0===c?"default":c,p=n.component,v=void 0===p?"button":p,m=n.disabled,w=void 0!==m&&m,x=n.disableFocusRipple,O=void 0!==x&&x,E=n.focusVisibleClassName,S=n.size,C=void 0===S?"large":S,k=n.variant,R=void 0===k?"circular":k,j=Object(o.a)(n,y),P=Object(i.a)({},n,{color:d,component:v,disabled:w,disableFocusRipple:O,size:C,variant:R}),T=function(e){var t=e.color,n=e.variant,r=e.classes,o=e.size,i={root:["root",n,"size".concat(Object(l.a)(o)),"inherit"===t?"colorInherit":t]};return Object(u.a)(i,h,r)}(P);return Object(g.jsx)(b,Object(i.a)({className:Object(s.a)(T.root,a),component:v,disabled:w,focusRipple:!O,focusVisibleClassName:Object(s.a)(T.focusVisible,E),ownerState:P,ref:t},j,{children:r}))});t.a=w},function(e,t,n){"use strict";var r=n(6),o=n(25),i=n(8),a=n(1),s=n(0),u=n(187),c=n(472),l=n(50),f=n(9),d=n(14),p=n(267),h=n(426),v=n(136);function m(e){return Object(p.a)("MuiFilledInput",e)}var g=Object(a.a)({},v.a,Object(h.a)("MuiFilledInput",["root","underline","input"])),y=n(4),b=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],w=Object(f.a)(l.b,{shouldForwardProp:function(e){return Object(f.b)(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(Object(o.a)(Object(l.e)(e,t)),[!n.disableUnderline&&t.underline])}})(function(e){var t,n,o,i=e.theme,s=e.ownerState,u="light"===i.palette.mode,c=u?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",l=u?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",f=u?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",d=u?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return Object(a.a)((t={position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:l,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:f,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:l}}},Object(r.a)(t,"&.".concat(g.focused),{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:l}),Object(r.a)(t,"&.".concat(g.disabled),{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:d}),t),!s.disableUnderline&&(n={"&:after":{borderBottom:"2px solid ".concat(null==(o=(i.vars||i).palette[s.color||"primary"])?void 0:o.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"}},Object(r.a)(n,"&.".concat(g.focused,":after"),{transform:"scaleX(1) translateX(0)"}),Object(r.a)(n,"&.".concat(g.error,":after"),{borderBottomColor:(i.vars||i).palette.error.main,transform:"scaleX(1)"}),Object(r.a)(n,"&:before",{borderBottom:"1px solid ".concat(i.vars?"rgba(".concat(i.vars.palette.common.onBackgroundChannel," / ").concat(i.vars.opacity.inputUnderline,")"):c),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"}),Object(r.a)(n,"&:hover:not(.".concat(g.disabled,"):before"),{borderBottom:"1px solid ".concat((i.vars||i).palette.text.primary)}),Object(r.a)(n,"&.".concat(g.disabled,":before"),{borderBottomStyle:"dotted"}),n),s.startAdornment&&{paddingLeft:12},s.endAdornment&&{paddingRight:12},s.multiline&&Object(a.a)({padding:"25px 12px 8px"},"small"===s.size&&{paddingTop:21,paddingBottom:4},s.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),x=Object(f.a)(l.a,{name:"MuiFilledInput",slot:"Input",overridesResolver:l.d})(function(e){var t=e.theme,n=e.ownerState;return Object(a.a)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&Object(r.a)({"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})}),O=s.forwardRef(function(e,t){var n=Object(d.a)({props:e,name:"MuiFilledInput"}),r=n.components,o=void 0===r?{}:r,s=n.componentsProps,f=n.fullWidth,p=void 0!==f&&f,h=n.inputComponent,v=void 0===h?"input":h,g=n.multiline,O=void 0!==g&&g,E=n.type,S=void 0===E?"text":E,C=Object(i.a)(n,b),k=Object(a.a)({},n,{fullWidth:p,inputComponent:v,multiline:O,type:S}),R=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},r=Object(c.a)(n,m,t);return Object(a.a)({},t,r)}(n),j={root:{ownerState:k},input:{ownerState:k}},P=s?Object(u.a)(s,j):j;return Object(y.jsx)(l.c,Object(a.a)({components:Object(a.a)({Root:w,Input:x},o),componentsProps:P,fullWidth:p,inputComponent:v,multiline:O,ref:t,type:S},C,{classes:R}))});O.muiName="Input";t.a=O},function(e,t,n){"use strict";var r=n(6),o=n(25),i=n(8),a=n(1),s=n(0),u=n(472),c=n(187),l=n(50),f=n(9),d=n(14),p=n(267),h=n(426),v=n(136);function m(e){return Object(p.a)("MuiInput",e)}var g=Object(a.a)({},v.a,Object(h.a)("MuiInput",["root","underline","input"])),y=n(4),b=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],w=Object(f.a)(l.b,{shouldForwardProp:function(e){return Object(f.b)(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(Object(o.a)(Object(l.e)(e,t)),[!n.disableUnderline&&t.underline])}})(function(e){var t,n=e.theme,o=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(i="rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputUnderline,")")),Object(a.a)({position:"relative"},o.formControl&&{"label + &":{marginTop:16}},!o.disableUnderline&&(t={"&:after":{borderBottom:"2px solid ".concat((n.vars||n).palette[o.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},Object(r.a)(t,"&.".concat(g.focused,":after"),{transform:"scaleX(1) translateX(0)"}),Object(r.a)(t,"&.".concat(g.error,":after"),{borderBottomColor:(n.vars||n).palette.error.main,transform:"scaleX(1)"}),Object(r.a)(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),Object(r.a)(t,"&:hover:not(.".concat(g.disabled,"):before"),{borderBottom:"2px solid ".concat((n.vars||n).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),Object(r.a)(t,"&.".concat(g.disabled,":before"),{borderBottomStyle:"dotted"}),t))}),x=Object(f.a)(l.a,{name:"MuiInput",slot:"Input",overridesResolver:l.d})({}),O=s.forwardRef(function(e,t){var n=Object(d.a)({props:e,name:"MuiInput"}),r=n.disableUnderline,o=n.components,s=void 0===o?{}:o,f=n.componentsProps,p=n.fullWidth,h=void 0!==p&&p,v=n.inputComponent,g=void 0===v?"input":v,O=n.multiline,E=void 0!==O&&O,S=n.type,C=void 0===S?"text":S,k=Object(i.a)(n,b),R=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},r=Object(u.a)(n,m,t);return Object(a.a)({},t,r)}(n),j={root:{ownerState:{disableUnderline:r}}},P=f?Object(c.a)(f,j):j;return Object(y.jsx)(l.c,Object(a.a)({components:Object(a.a)({Root:w,Input:x},s),componentsProps:P,fullWidth:h,inputComponent:g,multiline:E,ref:t,type:C},k,{classes:R}))});O.muiName="Input";t.a=O},function(e,t,n){"use strict";var r=n(8),o=n(1),i=n(0),a=n(11),s=n(472),u=n(474),c=n(9),l=n(14),f=n(267),d=n(426);function p(e){return Object(f.a)("MuiPaper",e)}Object(d.a)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var h=n(4),v=["className","component","elevation","square","variant"],m=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},g=Object(c.a)("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})(function(e){var t,n=e.theme,r=e.ownerState;return Object(o.a)({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!r.square&&{borderRadius:n.shape.borderRadius},"outlined"===r.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===r.variant&&Object(o.a)({boxShadow:(n.vars||n).shadows[r.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat(Object(u.a)("#fff",m(r.elevation)),", ").concat(Object(u.a)("#fff",m(r.elevation)),")")},n.vars&&{backgroundImage:null==(t=n.vars.overlays)?void 0:t[r.elevation]}))}),y=i.forwardRef(function(e,t){var n=Object(l.a)({props:e,name:"MuiPaper"}),i=n.className,u=n.component,c=void 0===u?"div":u,f=n.elevation,d=void 0===f?1:f,m=n.square,y=void 0!==m&&m,b=n.variant,w=void 0===b?"elevation":b,x=Object(r.a)(n,v),O=Object(o.a)({},n,{component:c,elevation:d,square:y,variant:w}),E=function(e){var t=e.square,n=e.elevation,r=e.variant,o=e.classes,i={root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]};return Object(s.a)(i,p,o)}(O);return Object(h.jsx)(g,Object(o.a)({as:c,ownerState:O,className:Object(a.a)(E.root,i),ref:t},x))});t.a=y},function(e,t,n){"use strict";var r=n(6),o=n(8),i=n(1),a=n(0),s=n(11),u=n(472),c=n(14),l=n(9),f=n(267),d=n(426);function p(e){return Object(f.a)("MuiToolbar",e)}Object(d.a)("MuiToolbar",["root","gutters","regular","dense"]);var h=n(4),v=["className","component","disableGutters","variant"],m=Object(l.a)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(function(e){var t=e.theme,n=e.ownerState;return Object(i.a)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&Object(r.a)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}),"dense"===n.variant&&{minHeight:48})},function(e){var t=e.theme;return"regular"===e.ownerState.variant&&t.mixins.toolbar}),g=a.forwardRef(function(e,t){var n=Object(c.a)({props:e,name:"MuiToolbar"}),r=n.className,a=n.component,l=void 0===a?"div":a,f=n.disableGutters,d=void 0!==f&&f,g=n.variant,y=void 0===g?"regular":g,b=Object(o.a)(n,v),w=Object(i.a)({},n,{component:l,disableGutters:d,variant:y}),x=function(e){var t=e.classes,n={root:["root",!e.disableGutters&&"gutters",e.variant]};return Object(u.a)(n,p,t)}(w);return Object(h.jsx)(m,Object(i.a)({as:l,className:Object(s.a)(x.root,r),ref:t,ownerState:w},b))});t.a=g},function(e,t,n){"use strict";var r=n(5),o=n(6),i=n(8),a=n(1),s=n(0),u=n(11),c=n(472),l=n(474),f=n(9),d=n(14),p=n(502),h=n(482),v=n(12),m=n(267),g=n(426);function y(e){return Object(m.a)("MuiSpeedDialAction",e)}var b=Object(g.a)("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]),w=n(4),x=["className","delay","FabProps","icon","id","open","TooltipClasses","tooltipOpen","tooltipPlacement","tooltipTitle"],O=Object(f.a)(p.a,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:function(e,t){var n=e.ownerState;return[t.fab,!n.open&&t.fabClosed]}})(function(e){var t=e.theme,n=e.ownerState;return Object(a.a)({margin:8,color:(t.vars||t).palette.text.secondary,backgroundColor:(t.vars||t).palette.background.paper,"&:hover":{backgroundColor:t.vars?t.vars.palette.SpeedDialAction.fabHoverBg:Object(l.c)(t.palette.background.paper,.15)},transition:"".concat(t.transitions.create("transform",{duration:t.transitions.duration.shorter}),", opacity 0.8s"),opacity:1},!n.open&&{opacity:0,transform:"scale(0)"})}),E=Object(f.a)("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:function(e,t){var n=e.ownerState;return[t.staticTooltip,!n.open&&t.staticTooltipClosed,t["tooltipPlacement".concat(Object(v.a)(n.tooltipPlacement))]]}})(function(e){var t=e.theme,n=e.ownerState;return Object(o.a)({position:"relative",display:"flex",alignItems:"center"},"& .".concat(b.staticTooltipLabel),Object(a.a)({transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.shorter}),opacity:1},!n.open&&{opacity:0,transform:"scale(0.5)"},"left"===n.tooltipPlacement&&{transformOrigin:"100% 50%",right:"100%",marginRight:8},"right"===n.tooltipPlacement&&{transformOrigin:"0% 50%",left:"100%",marginLeft:8}))}),S=Object(f.a)("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:function(e,t){return t.staticTooltipLabel}})(function(e){var t=e.theme;return Object(a.a)({position:"absolute"},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.paper,borderRadius:(t.vars||t).shape.borderRadius,boxShadow:(t.vars||t).shadows[1],color:(t.vars||t).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"})}),C=s.forwardRef(function(e,t){var n=Object(d.a)({props:e,name:"MuiSpeedDialAction"}),o=n.className,l=n.delay,f=void 0===l?0:l,p=n.FabProps,m=void 0===p?{}:p,g=n.icon,b=n.id,C=n.open,k=n.TooltipClasses,R=n.tooltipOpen,j=void 0!==R&&R,P=n.tooltipPlacement,T=void 0===P?"left":P,_=n.tooltipTitle,I=Object(i.a)(n,x),A=Object(a.a)({},n,{tooltipPlacement:T}),N=function(e){var t=e.open,n=e.tooltipPlacement,r=e.classes,o={fab:["fab",!t&&"fabClosed"],staticTooltip:["staticTooltip","tooltipPlacement".concat(Object(v.a)(n)),!t&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return Object(c.a)(o,y,r)}(A),M=s.useState(j),D=Object(r.a)(M,2),L=D[0],F=D[1],B={transitionDelay:"".concat(f,"ms")},V=Object(w.jsx)(O,Object(a.a)({size:"small",className:Object(u.a)(N.fab,o),tabIndex:-1,role:"menuitem",ownerState:A},m,{style:Object(a.a)({},B,m.style),children:g}));return j?Object(w.jsxs)(E,Object(a.a)({id:b,ref:t,className:N.staticTooltip,ownerState:A},I,{children:[Object(w.jsx)(S,{style:B,id:"".concat(b,"-label"),className:N.staticTooltipLabel,ownerState:A,children:_}),s.cloneElement(V,{"aria-labelledby":"".concat(b,"-label")})]})):(!C&&L&&F(!1),Object(w.jsx)(h.a,Object(a.a)({id:b,ref:t,title:_,placement:T,onClose:function(){F(!1)},onOpen:function(){F(!0)},open:C&&L,classes:k},I,{children:V})))});t.a=C},function(e,t,n){"use strict";var r=n(6),o=n(8),i=n(1),a=n(0),s=n(11),u=n(472),c=n(47),l=n(510),f=n(12),d=n(9),p=n(14),h=n(267),v=n(426);function m(e){return Object(h.a)("MuiFormControlLabel",e)}var g=Object(v.a)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error"]),y=n(48),b=n(4),w=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","value"],x=Object(d.a)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[Object(r.a)({},"& .".concat(g.label),t.label),t.root,t["labelPlacement".concat(Object(f.a)(n.labelPlacement))]]}})(function(e){var t=e.theme,n=e.ownerState;return Object(i.a)(Object(r.a)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16},"&.".concat(g.disabled),{cursor:"default"}),"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},Object(r.a)({},"& .".concat(g.label),Object(r.a)({},"&.".concat(g.disabled),{color:(t.vars||t).palette.text.disabled})))}),O=a.forwardRef(function(e,t){var n=Object(p.a)({props:e,name:"MuiFormControlLabel"}),r=n.className,d=n.componentsProps,h=void 0===d?{}:d,v=n.control,g=n.disabled,O=n.disableTypography,E=n.label,S=n.labelPlacement,C=void 0===S?"end":S,k=Object(o.a)(n,w),R=Object(c.a)(),j=g;"undefined"===typeof j&&"undefined"!==typeof v.props.disabled&&(j=v.props.disabled),"undefined"===typeof j&&R&&(j=R.disabled);var P={disabled:j};["checked","name","onChange","value","inputRef"].forEach(function(e){"undefined"===typeof v.props[e]&&"undefined"!==typeof n[e]&&(P[e]=n[e])});var T=Object(y.a)({props:n,muiFormControl:R,states:["error"]}),_=Object(i.a)({},n,{disabled:j,labelPlacement:C,error:T.error}),I=function(e){var t=e.classes,n=e.disabled,r=e.labelPlacement,o=e.error,i={root:["root",n&&"disabled","labelPlacement".concat(Object(f.a)(r)),o&&"error"],label:["label",n&&"disabled"]};return Object(u.a)(i,m,t)}(_),A=E;return null==A||A.type===l.a||O||(A=Object(b.jsx)(l.a,Object(i.a)({component:"span",className:I.label},h.typography,{children:A}))),Object(b.jsxs)(x,Object(i.a)({className:Object(s.a)(I.root,r),ownerState:_,ref:t},k,{children:[a.cloneElement(v,P),A]}))});t.a=O},function(e,t,n){"use strict";var r=n(1),o=n(8),i=n(0),a=n(11),s=n(132),u=n(473),c=n(479),l=n(128),f=n(4),d=["className","component"];var p=n(425),h=n(264),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=e.defaultClassName,p=void 0===n?"MuiBox-root":n,h=e.generateClassName,v=e.styleFunctionSx,m=void 0===v?u.a:v,g=Object(s.a)("div",{shouldForwardProp:function(e){return"theme"!==e&&"sx"!==e&&"as"!==e}})(m);return i.forwardRef(function(e,n){var i=Object(l.a)(t),s=Object(c.a)(e),u=s.className,v=s.component,m=void 0===v?"div":v,y=Object(o.a)(s,d);return Object(f.jsx)(g,Object(r.a)({as:m,ref:n,className:Object(a.a)(u,h?h(p):p),theme:i},y))})}({defaultTheme:Object(h.a)(),defaultClassName:"MuiBox-root",generateClassName:p.a.generate});t.a=v},function(e,t,n){"use strict";var r=n(8),o=n(1),i=n(0),a=n(11),s=n(479),u=n(472),c=n(9),l=n(14),f=n(12),d=n(267),p=n(426);function h(e){return Object(d.a)("MuiTypography",e)}Object(p.a)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var v=n(4),m=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],g=Object(c.a)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(Object(f.a)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(function(e){var t=e.theme,n=e.ownerState;return Object(o.a)({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})}),y={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},b={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},w=i.forwardRef(function(e,t){var n=Object(l.a)({props:e,name:"MuiTypography"}),i=function(e){return b[e]||e}(n.color),c=Object(s.a)(Object(o.a)({},n,{color:i})),d=c.align,p=void 0===d?"inherit":d,w=c.className,x=c.component,O=c.gutterBottom,E=void 0!==O&&O,S=c.noWrap,C=void 0!==S&&S,k=c.paragraph,R=void 0!==k&&k,j=c.variant,P=void 0===j?"body1":j,T=c.variantMapping,_=void 0===T?y:T,I=Object(r.a)(c,m),A=Object(o.a)({},c,{align:p,color:i,className:w,component:x,gutterBottom:E,noWrap:C,paragraph:R,variant:P,variantMapping:_}),N=x||(R?"p":_[P]||y[P])||"span",M=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,o=e.paragraph,i=e.variant,a=e.classes,s={root:["root",i,"inherit"!==e.align&&"align".concat(Object(f.a)(t)),n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]};return Object(u.a)(s,h,a)}(A);return Object(v.jsx)(g,Object(o.a)({as:N,ref:t,ownerState:A,className:Object(a.a)(M.root,w)},I))});t.a=w},function(e,t,n){"use strict";var r=n(5),o=n(8),i=n(1),a=n(0),s=n(11),u=n(472),c=n(14),l=n(9),f=n(102),d=n(12),p=n(98),h=n(116),v=n(267),m=n(426);function g(e){return Object(v.a)("MuiFormControl",e)}Object(m.a)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var y=n(4),b=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],w=Object(l.a)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return Object(i.a)({},t.root,t["margin".concat(Object(d.a)(n.margin))],n.fullWidth&&t.fullWidth)}})(function(e){var t=e.ownerState;return Object(i.a)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})}),x=a.forwardRef(function(e,t){var n=Object(c.a)({props:e,name:"MuiFormControl"}),l=n.children,v=n.className,m=n.color,x=void 0===m?"primary":m,O=n.component,E=void 0===O?"div":O,S=n.disabled,C=void 0!==S&&S,k=n.error,R=void 0!==k&&k,j=n.focused,P=n.fullWidth,T=void 0!==P&&P,_=n.hiddenLabel,I=void 0!==_&&_,A=n.margin,N=void 0===A?"none":A,M=n.required,D=void 0!==M&&M,L=n.size,F=void 0===L?"medium":L,B=n.variant,V=void 0===B?"outlined":B,U=Object(o.a)(n,b),W=Object(i.a)({},n,{color:x,component:E,disabled:C,error:R,fullWidth:T,hiddenLabel:I,margin:N,required:D,size:F,variant:V}),z=function(e){var t=e.classes,n=e.margin,r=e.fullWidth,o={root:["root","none"!==n&&"margin".concat(Object(d.a)(n)),r&&"fullWidth"]};return Object(u.a)(o,g,t)}(W),H=a.useState(function(){var e=!1;return l&&a.Children.forEach(l,function(t){if(Object(p.a)(t,["Input","Select"])){var n=Object(p.a)(t,["Select"])?t.props.input:t;n&&Object(f.a)(n.props)&&(e=!0)}}),e}),q=Object(r.a)(H,2),G=q[0],K=q[1],$=a.useState(function(){var e=!1;return l&&a.Children.forEach(l,function(t){Object(p.a)(t,["Input","Select"])&&Object(f.b)(t.props,!0)&&(e=!0)}),e}),X=Object(r.a)($,2),Y=X[0],J=X[1],Q=a.useState(!1),Z=Object(r.a)(Q,2),ee=Z[0],te=Z[1];C&&ee&&te(!1);var ne=void 0===j||C?ee:j,re=a.useCallback(function(){J(!0)},[]),oe={adornedStart:G,setAdornedStart:K,color:x,disabled:C,error:R,filled:Y,focused:ne,fullWidth:T,hiddenLabel:I,size:F,onBlur:function(){te(!1)},onEmpty:a.useCallback(function(){J(!1)},[]),onFilled:re,onFocus:function(){te(!0)},registerEffect:void 0,required:D,variant:V};return Object(y.jsx)(h.a.Provider,{value:oe,children:Object(y.jsx)(w,Object(i.a)({as:E,ownerState:W,className:Object(s.a)(z.root,v),ref:t},U,{children:l}))})});t.a=x}]]);
//# sourceMappingURL=2.e839491c.chunk.js.map